var mQ=Object.defineProperty;var V5=t=>{throw TypeError(t)};var pQ=(t,e,r)=>e in t?mQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>pQ(t,typeof e!="symbol"?e+"":e,r),hN=(t,e,r)=>e.has(t)||V5("Cannot "+r);var de=(t,e,r)=>(hN(t,e,"read from private field"),r?r.call(t):e.get(t)),er=(t,e,r)=>e.has(t)?V5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),kt=(t,e,r,n)=>(hN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Wr=(t,e,r)=>(hN(t,e,"access private method"),r);var Ev=(t,e,r,n)=>({set _(s){kt(t,e,s,r)},get _(){return de(t,e,n)}});function gQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mN={exports:{}},N0={},pN={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5;function xQ(){if(W5)return rn;W5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b($,U,ie){this.props=$,this.context=U,this.refs=w,this.updater=ie||v}b.prototype.isReactComponent={},b.prototype.setState=function($,U){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,U,"setState")},b.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=b.prototype;function T($,U,ie){this.props=$,this.context=U,this.refs=w,this.updater=ie||v}var E=T.prototype=new _;E.constructor=T,j(E,b.prototype),E.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R($,U,ie){var ce,he={},we=null,re=null;if(U!=null)for(ce in U.ref!==void 0&&(re=U.ref),U.key!==void 0&&(we=""+U.key),U)C.call(U,ce)&&!A.hasOwnProperty(ce)&&(he[ce]=U[ce]);var pe=arguments.length-2;if(pe===1)he.children=ie;else if(1<pe){for(var ue=Array(pe),Ie=0;Ie<pe;Ie++)ue[Ie]=arguments[Ie+2];he.children=ue}if($&&$.defaultProps)for(ce in pe=$.defaultProps,pe)he[ce]===void 0&&(he[ce]=pe[ce]);return{$$typeof:t,type:$,key:we,ref:re,props:he,_owner:S.current}}function D($,U){return{$$typeof:t,type:$.type,key:U,ref:$.ref,props:$.props,_owner:$._owner}}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var U={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ie){return U[ie]})}var z=/\/+/g;function X($,U){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):U.toString(36)}function V($,U,ie,ce,he){var we=typeof $;(we==="undefined"||we==="boolean")&&($=null);var re=!1;if($===null)re=!0;else switch(we){case"string":case"number":re=!0;break;case"object":switch($.$$typeof){case t:case e:re=!0}}if(re)return re=$,he=he(re),$=ce===""?"."+X(re,0):ce,k(he)?(ie="",$!=null&&(ie=$.replace(z,"$&/")+"/"),V(he,U,ie,"",function(Ie){return Ie})):he!=null&&(B(he)&&(he=D(he,ie+(!he.key||re&&re.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+$)),U.push(he)),1;if(re=0,ce=ce===""?".":ce+":",k($))for(var pe=0;pe<$.length;pe++){we=$[pe];var ue=ce+X(we,pe);re+=V(we,U,ie,ue,he)}else if(ue=g($),typeof ue=="function")for($=ue.call($),pe=0;!(we=$.next()).done;)we=we.value,ue=ce+X(we,pe++),re+=V(we,U,ie,ue,he);else if(we==="object")throw U=String($),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return re}function Z($,U,ie){if($==null)return $;var ce=[],he=0;return V($,ce,"","",function(we){return U.call(ie,we,he++)}),ce}function ee($){if($._status===-1){var U=$._result;U=U(),U.then(function(ie){($._status===0||$._status===-1)&&($._status=1,$._result=ie)},function(ie){($._status===0||$._status===-1)&&($._status=2,$._result=ie)}),$._status===-1&&($._status=0,$._result=U)}if($._status===1)return $._result.default;throw $._result}var W={current:null},K={transition:null},G={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:K,ReactCurrentOwner:S};function Q(){throw Error("act(...) is not supported in production builds of React.")}return rn.Children={map:Z,forEach:function($,U,ie){Z($,function(){U.apply(this,arguments)},ie)},count:function($){var U=0;return Z($,function(){U++}),U},toArray:function($){return Z($,function(U){return U})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}},rn.Component=b,rn.Fragment=r,rn.Profiler=s,rn.PureComponent=T,rn.StrictMode=n,rn.Suspense=u,rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,rn.act=Q,rn.cloneElement=function($,U,ie){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ce=j({},$.props),he=$.key,we=$.ref,re=$._owner;if(U!=null){if(U.ref!==void 0&&(we=U.ref,re=S.current),U.key!==void 0&&(he=""+U.key),$.type&&$.type.defaultProps)var pe=$.type.defaultProps;for(ue in U)C.call(U,ue)&&!A.hasOwnProperty(ue)&&(ce[ue]=U[ue]===void 0&&pe!==void 0?pe[ue]:U[ue])}var ue=arguments.length-2;if(ue===1)ce.children=ie;else if(1<ue){pe=Array(ue);for(var Ie=0;Ie<ue;Ie++)pe[Ie]=arguments[Ie+2];ce.children=pe}return{$$typeof:t,type:$.type,key:he,ref:we,props:ce,_owner:re}},rn.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},rn.createElement=R,rn.createFactory=function($){var U=R.bind(null,$);return U.type=$,U},rn.createRef=function(){return{current:null}},rn.forwardRef=function($){return{$$typeof:c,render:$}},rn.isValidElement=B,rn.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:ee}},rn.memo=function($,U){return{$$typeof:f,type:$,compare:U===void 0?null:U}},rn.startTransition=function($){var U=K.transition;K.transition={};try{$()}finally{K.transition=U}},rn.unstable_act=Q,rn.useCallback=function($,U){return W.current.useCallback($,U)},rn.useContext=function($){return W.current.useContext($)},rn.useDebugValue=function(){},rn.useDeferredValue=function($){return W.current.useDeferredValue($)},rn.useEffect=function($,U){return W.current.useEffect($,U)},rn.useId=function(){return W.current.useId()},rn.useImperativeHandle=function($,U,ie){return W.current.useImperativeHandle($,U,ie)},rn.useInsertionEffect=function($,U){return W.current.useInsertionEffect($,U)},rn.useLayoutEffect=function($,U){return W.current.useLayoutEffect($,U)},rn.useMemo=function($,U){return W.current.useMemo($,U)},rn.useReducer=function($,U,ie){return W.current.useReducer($,U,ie)},rn.useRef=function($){return W.current.useRef($)},rn.useState=function($){return W.current.useState($)},rn.useSyncExternalStore=function($,U,ie){return W.current.useSyncExternalStore($,U,ie)},rn.useTransition=function(){return W.current.useTransition()},rn.version="18.3.1",rn}var H5;function nw(){return H5||(H5=1,pN.exports=xQ()),pN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function yQ(){if(K5)return N0;K5=1;var t=nw(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,f){var h,m={},g=null,v=null;f!==void 0&&(g=""+f),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)n.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:c,key:g,ref:v,props:m,_owner:s.current}}return N0.Fragment=r,N0.jsx=o,N0.jsxs=o,N0}var G5;function vQ(){return G5||(G5=1,mN.exports=yQ()),mN.exports}var a=vQ(),Iv={},gN={exports:{}},Mi={},xN={exports:{}},yN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5;function bQ(){return Y5||(Y5=1,(function(t){function e(K,G){var Q=K.length;K.push(G);e:for(;0<Q;){var $=Q-1>>>1,U=K[$];if(0<s(U,G))K[$]=G,K[Q]=U,Q=$;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var G=K[0],Q=K.pop();if(Q!==G){K[0]=Q;e:for(var $=0,U=K.length,ie=U>>>1;$<ie;){var ce=2*($+1)-1,he=K[ce],we=ce+1,re=K[we];if(0>s(he,Q))we<U&&0>s(re,he)?(K[$]=re,K[we]=Q,$=we):(K[$]=he,K[ce]=Q,$=ce);else if(we<U&&0>s(re,Q))K[$]=re,K[we]=Q,$=we;else break e}}return G}function s(K,G){var Q=K.sortIndex-G.sortIndex;return Q!==0?Q:K.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],f=[],h=1,m=null,g=3,v=!1,j=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(K){for(var G=r(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=K)n(f),G.sortIndex=G.expirationTime,e(u,G);else break;G=r(f)}}function k(K){if(w=!1,E(K),!j)if(r(u)!==null)j=!0,ee(C);else{var G=r(f);G!==null&&W(k,G.startTime-K)}}function C(K,G){j=!1,w&&(w=!1,_(R),R=-1),v=!0;var Q=g;try{for(E(G),m=r(u);m!==null&&(!(m.expirationTime>G)||K&&!F());){var $=m.callback;if(typeof $=="function"){m.callback=null,g=m.priorityLevel;var U=$(m.expirationTime<=G);G=t.unstable_now(),typeof U=="function"?m.callback=U:m===r(u)&&n(u),E(G)}else n(u);m=r(u)}if(m!==null)var ie=!0;else{var ce=r(f);ce!==null&&W(k,ce.startTime-G),ie=!1}return ie}finally{m=null,g=Q,v=!1}}var S=!1,A=null,R=-1,D=5,B=-1;function F(){return!(t.unstable_now()-B<D)}function z(){if(A!==null){var K=t.unstable_now();B=K;var G=!0;try{G=A(!0,K)}finally{G?X():(S=!1,A=null)}}else S=!1}var X;if(typeof T=="function")X=function(){T(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=z,X=function(){Z.postMessage(null)}}else X=function(){b(z,0)};function ee(K){A=K,S||(S=!0,X())}function W(K,G){R=b(function(){K(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){j||v||(j=!0,ee(C))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var Q=g;g=G;try{return K()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,G){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=g;g=K;try{return G()}finally{g=Q}},t.unstable_scheduleCallback=function(K,G,Q){var $=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?$+Q:$):Q=$,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,K={id:h++,callback:G,priorityLevel:K,startTime:Q,expirationTime:U,sortIndex:-1},Q>$?(K.sortIndex=Q,e(f,K),r(u)===null&&K===r(f)&&(w?(_(R),R=-1):w=!0,W(k,Q-$))):(K.sortIndex=U,e(u,K),j||v||(j=!0,ee(C))),K},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(K){var G=g;return function(){var Q=g;g=G;try{return K.apply(this,arguments)}finally{g=Q}}}})(yN)),yN}var X5;function wQ(){return X5||(X5=1,xN.exports=bQ()),xN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q5;function NQ(){if(Q5)return Mi;Q5=1;var t=nw(),e=wQ();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(s[l]=d,l=0;l<d.length;l++)n.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(l){return u.call(m,l)?!0:u.call(h,l)?!1:f.test(l)?m[l]=!0:(h[l]=!0,!1)}function v(l,d,p,y){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function j(l,d,p,y){if(d===null||typeof d>"u"||v(l,d,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function w(l,d,p,y,P,O,q){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=y,this.attributeNamespace=P,this.mustUseProperty=p,this.propertyName=l,this.type=d,this.sanitizeURL=O,this.removeEmptyString=q}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];b[d]=new w(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(_,T);b[d]=new w(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(_,T);b[d]=new w(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(_,T);b[d]=new w(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,d,p,y){var P=b.hasOwnProperty(d)?b[d]:null;(P!==null?P.type!==0:y||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(j(d,p,P,y)&&(p=null),y||P===null?g(d)&&(p===null?l.removeAttribute(d):l.setAttribute(d,""+p)):P.mustUseProperty?l[P.propertyName]=p===null?P.type===3?!1:"":p:(d=P.attributeName,y=P.attributeNamespace,p===null?l.removeAttribute(d):(P=P.type,p=P===3||P===4&&p===!0?"":""+p,y?l.setAttributeNS(y,d,p):l.setAttribute(d,p))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),K=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=K&&l[K]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Object.assign,$;function U(l){if($===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);$=d&&d[1]||""}return`
`+$+l}var ie=!1;function ce(l,d){if(!l||ie)return"";ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var y=Ee}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ee){y=Ee}l.call(d.prototype)}else{try{throw Error()}catch(Ee){y=Ee}l()}}catch(Ee){if(Ee&&y&&typeof Ee.stack=="string"){for(var P=Ee.stack.split(`
`),O=y.stack.split(`
`),q=P.length-1,se=O.length-1;1<=q&&0<=se&&P[q]!==O[se];)se--;for(;1<=q&&0<=se;q--,se--)if(P[q]!==O[se]){if(q!==1||se!==1)do if(q--,se--,0>se||P[q]!==O[se]){var me=`
`+P[q].replace(" at new "," at ");return l.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",l.displayName)),me}while(1<=q&&0<=se);break}}}finally{ie=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?U(l):""}function he(l){switch(l.tag){case 5:return U(l.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return l=ce(l.type,!1),l;case 11:return l=ce(l.type.render,!1),l;case 1:return l=ce(l.type,!0),l;default:return""}}function we(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case S:return"Portal";case D:return"Profiler";case R:return"StrictMode";case X:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case B:return(l._context.displayName||"Context")+".Provider";case z:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return d=l.displayName||null,d!==null?d:we(l.type)||"Memo";case ee:d=l._payload,l=l._init;try{return we(l(d))}catch{}}return null}function re(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(d);case 8:return d===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function pe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ue(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ie(l){var d=ue(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),y=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var P=p.get,O=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return P.call(this)},set:function(q){y=""+q,O.call(this,q)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(q){y=""+q},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function qe(l){l._valueTracker||(l._valueTracker=Ie(l))}function Ne(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return l&&(y=ue(l)?l.checked?"true":"false":l.value),l=y,l!==p?(d.setValue(l),!0):!1}function rt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function _e(l,d){var p=d.checked;return Q({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function Ct(l,d){var p=d.defaultValue==null?"":d.defaultValue,y=d.checked!=null?d.checked:d.defaultChecked;p=pe(d.value!=null?d.value:p),l._wrapperState={initialChecked:y,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Qt(l,d){d=d.checked,d!=null&&E(l,"checked",d,!1)}function Ar(l,d){Qt(l,d);var p=pe(d.value),y=d.type;if(p!=null)y==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Sn(l,d.type,p):d.hasOwnProperty("defaultValue")&&Sn(l,d.type,pe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Ln(l,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var y=d.type;if(!(y!=="submit"&&y!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,p||d===l.value||(l.value=d),l.defaultValue=d}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Sn(l,d,p){(d!=="number"||rt(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var oe=Array.isArray;function le(l,d,p,y){if(l=l.options,d){d={};for(var P=0;P<p.length;P++)d["$"+p[P]]=!0;for(p=0;p<l.length;p++)P=d.hasOwnProperty("$"+l[p].value),l[p].selected!==P&&(l[p].selected=P),P&&y&&(l[p].defaultSelected=!0)}else{for(p=""+pe(p),d=null,P=0;P<l.length;P++){if(l[P].value===p){l[P].selected=!0,y&&(l[P].defaultSelected=!0);return}d!==null||l[P].disabled||(d=l[P])}d!==null&&(d.selected=!0)}}function ge(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Se(l,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(r(92));if(oe(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),p=d}l._wrapperState={initialValue:pe(p)}}function He(l,d){var p=pe(d.value),y=pe(d.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),d.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),y!=null&&(l.defaultValue=""+y)}function ze(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function nt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fr(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?nt(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Mr,pa=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,y,P){MSApp.execUnsafeLocalFunction(function(){return l(d,p,y,P)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Mr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Fs(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wi=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(l){Wi.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Fa[d]=Fa[l]})});function ri(l,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||Fa.hasOwnProperty(l)&&Fa[l]?(""+d).trim():d+"px"}function Bs(l,d){l=l.style;for(var p in d)if(d.hasOwnProperty(p)){var y=p.indexOf("--")===0,P=ri(p,d[p],y);p==="float"&&(p="cssFloat"),y?l.setProperty(p,P):l[p]=P}}var Vo=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bs(l,d){if(d){if(Vo[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ci(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Oe(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ht=null,at=null,ct=null;function Le(l){if(l=Ac(l)){if(typeof ht!="function")throw Error(r(280));var d=l.stateNode;d&&(d=xf(d),ht(l.stateNode,l.type,d))}}function tr(l){at?ct?ct.push(l):ct=[l]:at=l}function Y(){if(at){var l=at,d=ct;if(ct=at=null,Le(l),d)for(l=0;l<d.length;l++)Le(d[l])}}function Pt(l,d){return l(d)}function Dt(){}var _r=!1;function Me(l,d,p){if(_r)return l(d,p);_r=!0;try{return Pt(l,d,p)}finally{_r=!1,(at!==null||ct!==null)&&(Dt(),Y())}}function Yr(l,d){var p=l.stateNode;if(p===null)return null;var y=xf(p);if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var en=!1;if(c)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){en=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{en=!1}function Wt(l,d,p,y,P,O,q,se,me){var Ee=Array.prototype.slice.call(arguments,3);try{d.apply(p,Ee)}catch(Ye){this.onError(Ye)}}var sr=!1,Jt=null,dt=!1,wr=null,nr={onError:function(l){sr=!0,Jt=l}};function jt(l,d,p,y,P,O,q,se,me){sr=!1,Jt=null,Wt.apply(nr,arguments)}function nn(l,d,p,y,P,O,q,se,me){if(jt.apply(this,arguments),sr){if(sr){var Ee=Jt;sr=!1,Jt=null}else throw Error(r(198));dt||(dt=!0,wr=Ee)}}function Nr(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function _n(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Vr(l){if(Nr(l)!==l)throw Error(r(188))}function pn(l){var d=l.alternate;if(!d){if(d=Nr(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,y=d;;){var P=p.return;if(P===null)break;var O=P.alternate;if(O===null){if(y=P.return,y!==null){p=y;continue}break}if(P.child===O.child){for(O=P.child;O;){if(O===p)return Vr(P),l;if(O===y)return Vr(P),d;O=O.sibling}throw Error(r(188))}if(p.return!==y.return)p=P,y=O;else{for(var q=!1,se=P.child;se;){if(se===p){q=!0,p=P,y=O;break}if(se===y){q=!0,y=P,p=O;break}se=se.sibling}if(!q){for(se=O.child;se;){if(se===p){q=!0,p=O,y=P;break}if(se===y){q=!0,y=O,p=P;break}se=se.sibling}if(!q)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function Tr(l){return l=pn(l),l!==null?fr(l):null}function fr(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=fr(l);if(d!==null)return d;l=l.sibling}return null}var Ve=e.unstable_scheduleCallback,et=e.unstable_cancelCallback,Re=e.unstable_shouldYield,ut=e.unstable_requestPaint,Qe=e.unstable_now,Ht=e.unstable_getCurrentPriorityLevel,cr=e.unstable_ImmediatePriority,Lt=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,Br=e.unstable_LowPriority,jr=e.unstable_IdlePriority,Pr=null,br=null;function Ea(l){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Pr,l,void 0,(l.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Xa,qn=Math.log,Aa=Math.LN2;function Xa(l){return l>>>=0,l===0?32:31-(qn(l)/Aa|0)|0}var Qa=64,ni=4194304;function ua(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ol(l,d){var p=l.pendingLanes;if(p===0)return 0;var y=0,P=l.suspendedLanes,O=l.pingedLanes,q=p&268435455;if(q!==0){var se=q&~P;se!==0?y=ua(se):(O&=q,O!==0&&(y=ua(O)))}else q=p&~P,q!==0?y=ua(q):O!==0&&(y=ua(O));if(y===0)return 0;if(d!==0&&d!==y&&(d&P)===0&&(P=y&-y,O=d&-d,P>=O||P===16&&(O&4194240)!==0))return d;if((y&4)!==0&&(y|=p&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=y;0<d;)p=31-zn(d),P=1<<p,y|=l[p],d&=~P;return y}function $n(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(l,d){for(var p=l.suspendedLanes,y=l.pingedLanes,P=l.expirationTimes,O=l.pendingLanes;0<O;){var q=31-zn(O),se=1<<q,me=P[q];me===-1?((se&p)===0||(se&y)!==0)&&(P[q]=$n(se,d)):me<=d&&(l.expiredLanes|=se),O&=~se}}function ar(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function fa(){var l=Qa;return Qa<<=1,(Qa&4194240)===0&&(Qa=64),l}function Cd(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function Wo(l,d,p){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-zn(d),l[d]=p}function qh(l,d){var p=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<p;){var P=31-zn(p),O=1<<P;d[P]=0,y[P]=-1,l[P]=-1,p&=~O}}function fo(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var y=31-zn(p),P=1<<y;P&d|l[y]&d&&(l[y]|=d),p&=~P}}var Cr=0;function Ho(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var tf,rf,Tg,nf,Xy,Cn=!1,Ml=[],Xr=null,ai=null,wn=null,ho=new Map,mo=new Map,Ti=[],Sr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ws(l,d){switch(l){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":ho.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(d.pointerId)}}function Ko(l,d,p,y,P,O){return l===null||l.nativeEvent!==O?(l={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:O,targetContainers:[P]},d!==null&&(d=Ac(d),d!==null&&rf(d)),l):(l.eventSystemFlags|=y,d=l.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),l)}function Vh(l,d,p,y,P){switch(d){case"focusin":return Xr=Ko(Xr,l,d,p,y,P),!0;case"dragenter":return ai=Ko(ai,l,d,p,y,P),!0;case"mouseover":return wn=Ko(wn,l,d,p,y,P),!0;case"pointerover":var O=P.pointerId;return ho.set(O,Ko(ho.get(O)||null,l,d,p,y,P)),!0;case"gotpointercapture":return O=P.pointerId,mo.set(O,Ko(mo.get(O)||null,l,d,p,y,P)),!0}return!1}function wc(l){var d=el(l.target);if(d!==null){var p=Nr(d);if(p!==null){if(d=p.tag,d===13){if(d=_n(p),d!==null){l.blockedOn=d,Xy(l.priority,function(){Tg(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function na(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=sf(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);ve=y,p.target.dispatchEvent(y),ve=null}else return d=Ac(p),d!==null&&rf(d),l.blockedOn=p,!1;d.shift()}return!0}function Td(l,d,p){na(l)&&p.delete(d)}function ja(){Cn=!1,Xr!==null&&na(Xr)&&(Xr=null),ai!==null&&na(ai)&&(ai=null),wn!==null&&na(wn)&&(wn=null),ho.forEach(Td),mo.forEach(Td)}function Rl(l,d){l.blockedOn===d&&(l.blockedOn=null,Cn||(Cn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ja)))}function Ki(l){function d(P){return Rl(P,l)}if(0<Ml.length){Rl(Ml[0],l);for(var p=1;p<Ml.length;p++){var y=Ml[p];y.blockedOn===l&&(y.blockedOn=null)}}for(Xr!==null&&Rl(Xr,l),ai!==null&&Rl(ai,l),wn!==null&&Rl(wn,l),ho.forEach(d),mo.forEach(d),p=0;p<Ti.length;p++)y=Ti[p],y.blockedOn===l&&(y.blockedOn=null);for(;0<Ti.length&&(p=Ti[0],p.blockedOn===null);)wc(p),p.blockedOn===null&&Ti.shift()}var Go=k.ReactCurrentBatchConfig,Dl=!0;function Nc(l,d,p,y){var P=Cr,O=Go.transition;Go.transition=null;try{Cr=1,af(l,d,p,y)}finally{Cr=P,Go.transition=O}}function Pg(l,d,p,y){var P=Cr,O=Go.transition;Go.transition=null;try{Cr=4,af(l,d,p,y)}finally{Cr=P,Go.transition=O}}function af(l,d,p,y){if(Dl){var P=sf(l,d,p,y);if(P===null)mf(l,d,y,Pd,p),ws(l,y);else if(Vh(P,l,d,p,y))y.stopPropagation();else if(ws(l,y),d&4&&-1<Sr.indexOf(l)){for(;P!==null;){var O=Ac(P);if(O!==null&&tf(O),O=sf(l,d,p,y),O===null&&mf(l,d,y,Pd,p),O===P)break;P=O}P!==null&&y.stopPropagation()}else mf(l,d,y,null,p)}}var Pd=null;function sf(l,d,p,y){if(Pd=null,l=Oe(y),l=el(l),l!==null)if(d=Nr(l),d===null)l=null;else if(p=d.tag,p===13){if(l=_n(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Pd=l,null}function Wh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ht()){case cr:return 1;case Lt:return 4;case ir:case Br:return 16;case jr:return 536870912;default:return 16}default:return 16}}var po=null,of=null,jc=null;function Hh(){if(jc)return jc;var l,d=of,p=d.length,y,P="value"in po?po.value:po.textContent,O=P.length;for(l=0;l<p&&d[l]===P[l];l++);var q=p-l;for(y=1;y<=q&&d[p-y]===P[O-y];y++);return jc=P.slice(l,1<y?1-y:void 0)}function Yo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Xo(){return!0}function Kh(){return!1}function cs(l){function d(p,y,P,O,q){this._reactName=p,this._targetInst=P,this.type=y,this.nativeEvent=O,this.target=q,this.currentTarget=null;for(var se in l)l.hasOwnProperty(se)&&(p=l[se],this[se]=p?p(O):O[se]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Xo:Kh,this.isPropagationStopped=Kh,this}return Q(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),d}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=cs(Ll),Ns=Q({},Ll,{view:0,detail:0}),Sc=cs(Ns),$l,cf,si,Fl=Q({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==si&&(si&&l.type==="mousemove"?($l=l.screenX-si.screenX,cf=l.screenY-si.screenY):cf=$l=0,si=l),$l)},movementY:function(l){return"movementY"in l?l.movementY:cf}}),J=cs(Fl),ye=Q({},Fl,{dataTransfer:0}),Ce=cs(ye),De=Q({},Ns,{relatedTarget:0}),Be=cs(De),Ae=Q({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Ue=cs(Ae),vt=Q({},Ll,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),it=cs(vt),ot=Q({},Ll,{data:0}),mt=cs(ot),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ft[l])?!!d[l]:!1}function rr(){return gn}var Er=Q({},Ns,{key:function(l){if(l.key){var d=xr[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Yo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?dr[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(l){return l.type==="keypress"?Yo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Yo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ds=cs(Er),Yt=Q({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xn=cs(Yt),tn=Q({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),At=cs(tn),lt=Q({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),on=cs(lt),kn=Q({},Fl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=cs(kn),Rr=[9,13,27,32],Kt=c&&"CompositionEvent"in window,un=null;c&&"documentMode"in document&&(un=document.documentMode);var An=c&&"TextEvent"in window&&!un,Ba=c&&(!Kt||un&&8<un&&11>=un),Ja=" ",In=!1;function Qn(l,d){switch(l){case"keyup":return Rr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ii(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Pi=!1;function kc(l,d){switch(l){case"compositionend":return ii(d);case"keypress":return d.which!==32?null:(In=!0,Ja);case"textInput":return l=d.data,l===Ja&&In?null:l;default:return null}}function Eg(l,d){if(Pi)return l==="compositionend"||!Kt&&Qn(l,d)?(l=Hh(),jc=of=po=null,Pi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ba&&d.locale!=="ko"?null:d.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Qy[l.type]:d==="textarea"}function Gh(l,d,p,y){tr(y),d=Pc(d,"onChange"),0<d.length&&(p=new lf("onChange","change",null,p,y),l.push({event:p,listeners:d}))}var _c=null,Cc=null;function Ia(l){qg(l,0)}function df(l){var d=Ic(l);if(Ne(d))return l}function Qo(l,d){if(l==="change")return d}var Jy=!1;if(c){var Us;if(c){var Yh="oninput"in document;if(!Yh){var S2=document.createElement("div");S2.setAttribute("oninput","return;"),Yh=typeof S2.oninput=="function"}Us=Yh}else Us=!1;Jy=Us&&(!document.documentMode||9<document.documentMode)}function Ig(){_c&&(_c.detachEvent("onpropertychange",Xh),Cc=_c=null)}function Xh(l){if(l.propertyName==="value"&&df(Cc)){var d=[];Gh(d,Cc,l,Oe(l)),Me(Ia,d)}}function Og(l,d,p){l==="focusin"?(Ig(),_c=d,Cc=p,_c.attachEvent("onpropertychange",Xh)):l==="focusout"&&Ig()}function Mg(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return df(Cc)}function Ed(l,d){if(l==="click")return df(d)}function k2(l,d){if(l==="input"||l==="change")return df(d)}function _2(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var js=typeof Object.is=="function"?Object.is:_2;function Bl(l,d){if(js(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var P=p[y];if(!u.call(d,P)||!js(l[P],d[P]))return!1}return!0}function C2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function T2(l,d){var p=C2(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=d&&y>=d)return{node:p,offset:d-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=C2(p)}}function Qh(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Qh(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Jh(){for(var l=window,d=rt();d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=rt(l.document)}return d}function Zh(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function em(l){var d=Jh(),p=l.focusedElem,y=l.selectionRange;if(d!==p&&p&&p.ownerDocument&&Qh(p.ownerDocument.documentElement,p)){if(y!==null&&Zh(p)){if(d=y.start,l=y.end,l===void 0&&(l=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(l,p.value.length);else if(l=(d=p.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var P=p.textContent.length,O=Math.min(y.start,P);y=y.end===void 0?O:Math.min(y.end,P),!l.extend&&O>y&&(P=y,y=O,O=P),P=T2(p,O);var q=T2(p,y);P&&q&&(l.rangeCount!==1||l.anchorNode!==P.node||l.anchorOffset!==P.offset||l.focusNode!==q.node||l.focusOffset!==q.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),l.removeAllRanges(),O>y?(l.addRange(d),l.extend(q.node,q.offset)):(d.setEnd(q.node,q.offset),l.addRange(d)))}}for(d=[],l=p;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)l=d[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Ss=c&&"documentMode"in document&&11>=document.documentMode,Gi=null,Jo=null,Ul=null,Rg=!1;function Dg(l,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Rg||Gi==null||Gi!==rt(y)||(y=Gi,"selectionStart"in y&&Zh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ul&&Bl(Ul,y)||(Ul=y,y=Pc(Jo,"onSelect"),0<y.length&&(d=new lf("onSelect","select",null,d,p),l.push({event:d,listeners:y}),d.target=Gi)))}function Lg(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var uf={animationend:Lg("Animation","AnimationEnd"),animationiteration:Lg("Animation","AnimationIteration"),animationstart:Lg("Animation","AnimationStart"),transitionend:Lg("Transition","TransitionEnd")},Vn={},tm={};c&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete uf.animationend.animation,delete uf.animationiteration.animation,delete uf.animationstart.animation),"TransitionEvent"in window||delete uf.transitionend.transition);function rm(l){if(Vn[l])return Vn[l];if(!uf[l])return l;var d=uf[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in tm)return Vn[l]=d[p];return l}var $g=rm("animationend"),go=rm("animationiteration"),Fg=rm("animationstart"),Bg=rm("transitionend"),Zy=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(l,d){Zy.set(l,d),i(d,[l])}for(var ff=0;ff<Ug.length;ff++){var xo=Ug[ff],P2=xo.toLowerCase(),nm=xo[0].toUpperCase()+xo.slice(1);zl(P2,"on"+nm)}zl($g,"onAnimationEnd"),zl(go,"onAnimationIteration"),zl(Fg,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(Bg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tc));function zg(l,d,p){var y=l.type||"unknown-event";l.currentTarget=p,nn(y,d,void 0,l),l.currentTarget=null}function qg(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],P=y.event;y=y.listeners;e:{var O=void 0;if(d)for(var q=y.length-1;0<=q;q--){var se=y[q],me=se.instance,Ee=se.currentTarget;if(se=se.listener,me!==O&&P.isPropagationStopped())break e;zg(P,se,Ee),O=me}else for(q=0;q<y.length;q++){if(se=y[q],me=se.instance,Ee=se.currentTarget,se=se.listener,me!==O&&P.isPropagationStopped())break e;zg(P,se,Ee),O=me}}}if(dt)throw l=wr,dt=!1,wr=null,l}function Fn(l,d){var p=d[Qg];p===void 0&&(p=d[Qg]=new Set);var y=l+"__bubble";p.has(y)||(sm(d,l,2,!1),p.add(y))}function Vg(l,d,p){var y=0;d&&(y|=4),sm(p,l,y,d)}var am="_reactListening"+Math.random().toString(36).slice(2);function hf(l){if(!l[am]){l[am]=!0,n.forEach(function(p){p!=="selectionchange"&&(E2.has(p)||Vg(p,!1,l),Vg(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[am]||(d[am]=!0,Vg("selectionchange",!1,d))}}function sm(l,d,p,y){switch(Wh(d)){case 1:var P=Nc;break;case 4:P=Pg;break;default:P=af}p=P.bind(null,d,p,l),P=void 0,!en||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),y?P!==void 0?l.addEventListener(d,p,{capture:!0,passive:P}):l.addEventListener(d,p,!0):P!==void 0?l.addEventListener(d,p,{passive:P}):l.addEventListener(d,p,!1)}function mf(l,d,p,y,P){var O=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var q=y.tag;if(q===3||q===4){var se=y.stateNode.containerInfo;if(se===P||se.nodeType===8&&se.parentNode===P)break;if(q===4)for(q=y.return;q!==null;){var me=q.tag;if((me===3||me===4)&&(me=q.stateNode.containerInfo,me===P||me.nodeType===8&&me.parentNode===P))return;q=q.return}for(;se!==null;){if(q=el(se),q===null)return;if(me=q.tag,me===5||me===6){y=O=q;continue e}se=se.parentNode}}y=y.return}Me(function(){var Ee=O,Ye=Oe(p),Je=[];e:{var Ke=Zy.get(l);if(Ke!==void 0){var Tt=lf,$t=l;switch(l){case"keypress":if(Yo(p)===0)break e;case"keydown":case"keyup":Tt=ds;break;case"focusin":$t="focus",Tt=Be;break;case"focusout":$t="blur",Tt=Be;break;case"beforeblur":case"afterblur":Tt=Be;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=J;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Ce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=At;break;case $g:case go:case Fg:Tt=Ue;break;case Bg:Tt=on;break;case"scroll":Tt=Sc;break;case"wheel":Tt=aa;break;case"copy":case"cut":case"paste":Tt=it;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Xn}var zt=(d&4)!==0,Ra=!zt&&l==="scroll",je=zt?Ke!==null?Ke+"Capture":null:Ke;zt=[];for(var xe=Ee,ke;xe!==null;){ke=xe;var st=ke.stateNode;if(ke.tag===5&&st!==null&&(ke=st,je!==null&&(st=Yr(xe,je),st!=null&&zt.push(Ad(xe,st,ke)))),Ra)break;xe=xe.return}0<zt.length&&(Ke=new Tt(Ke,$t,null,p,Ye),Je.push({event:Ke,listeners:zt}))}}if((d&7)===0){e:{if(Ke=l==="mouseover"||l==="pointerover",Tt=l==="mouseout"||l==="pointerout",Ke&&p!==ve&&($t=p.relatedTarget||p.fromElement)&&(el($t)||$t[Fe]))break e;if((Tt||Ke)&&(Ke=Ye.window===Ye?Ye:(Ke=Ye.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Tt?($t=p.relatedTarget||p.toElement,Tt=Ee,$t=$t?el($t):null,$t!==null&&(Ra=Nr($t),$t!==Ra||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Tt=null,$t=Ee),Tt!==$t)){if(zt=J,st="onMouseLeave",je="onMouseEnter",xe="mouse",(l==="pointerout"||l==="pointerover")&&(zt=Xn,st="onPointerLeave",je="onPointerEnter",xe="pointer"),Ra=Tt==null?Ke:Ic(Tt),ke=$t==null?Ke:Ic($t),Ke=new zt(st,xe+"leave",Tt,p,Ye),Ke.target=Ra,Ke.relatedTarget=ke,st=null,el(Ye)===Ee&&(zt=new zt(je,xe+"enter",$t,p,Ye),zt.target=ke,zt.relatedTarget=Ra,st=zt),Ra=st,Tt&&$t)t:{for(zt=Tt,je=$t,xe=0,ke=zt;ke;ke=yo(ke))xe++;for(ke=0,st=je;st;st=yo(st))ke++;for(;0<xe-ke;)zt=yo(zt),xe--;for(;0<ke-xe;)je=yo(je),ke--;for(;xe--;){if(zt===je||je!==null&&zt===je.alternate)break t;zt=yo(zt),je=yo(je)}zt=null}else zt=null;Tt!==null&&Id(Je,Ke,Tt,zt,!1),$t!==null&&Ra!==null&&Id(Je,Ra,$t,zt,!0)}}e:{if(Ke=Ee?Ic(Ee):window,Tt=Ke.nodeName&&Ke.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&Ke.type==="file")var qt=Qo;else if(Ag(Ke))if(Jy)qt=k2;else{qt=Mg;var or=Og}else(Tt=Ke.nodeName)&&Tt.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(qt=Ed);if(qt&&(qt=qt(l,Ee))){Gh(Je,qt,p,Ye);break e}or&&or(l,Ke,Ee),l==="focusout"&&(or=Ke._wrapperState)&&or.controlled&&Ke.type==="number"&&Sn(Ke,"number",Ke.value)}switch(or=Ee?Ic(Ee):window,l){case"focusin":(Ag(or)||or.contentEditable==="true")&&(Gi=or,Jo=Ee,Ul=null);break;case"focusout":Ul=Jo=Gi=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,Dg(Je,p,Ye);break;case"selectionchange":if(Ss)break;case"keydown":case"keyup":Dg(Je,p,Ye)}var lr;if(Kt)e:{switch(l){case"compositionstart":var kr="onCompositionStart";break e;case"compositionend":kr="onCompositionEnd";break e;case"compositionupdate":kr="onCompositionUpdate";break e}kr=void 0}else Pi?Qn(l,p)&&(kr="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(kr="onCompositionStart");kr&&(Ba&&p.locale!=="ko"&&(Pi||kr!=="onCompositionStart"?kr==="onCompositionEnd"&&Pi&&(lr=Hh()):(po=Ye,of="value"in po?po.value:po.textContent,Pi=!0)),or=Pc(Ee,kr),0<or.length&&(kr=new mt(kr,l,null,p,Ye),Je.push({event:kr,listeners:or}),lr?kr.data=lr:(lr=ii(p),lr!==null&&(kr.data=lr)))),(lr=An?kc(l,p):Eg(l,p))&&(Ee=Pc(Ee,"onBeforeInput"),0<Ee.length&&(Ye=new mt("onBeforeInput","beforeinput",null,p,Ye),Je.push({event:Ye,listeners:Ee}),Ye.data=lr))}qg(Je,d)})}function Ad(l,d,p){return{instance:l,listener:d,currentTarget:p}}function Pc(l,d){for(var p=d+"Capture",y=[];l!==null;){var P=l,O=P.stateNode;P.tag===5&&O!==null&&(P=O,O=Yr(l,p),O!=null&&y.unshift(Ad(l,O,P)),O=Yr(l,d),O!=null&&y.push(Ad(l,O,P))),l=l.return}return y}function yo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Id(l,d,p,y,P){for(var O=d._reactName,q=[];p!==null&&p!==y;){var se=p,me=se.alternate,Ee=se.stateNode;if(me!==null&&me===y)break;se.tag===5&&Ee!==null&&(se=Ee,P?(me=Yr(p,O),me!=null&&q.unshift(Ad(p,me,se))):P||(me=Yr(p,O),me!=null&&q.push(Ad(p,me,se)))),p=p.return}q.length!==0&&l.push({event:d,listeners:q})}var A2=/\r\n?/g,ev=/\u0000|\uFFFD/g;function ql(l){return(typeof l=="string"?l:""+l).replace(A2,`
`).replace(ev,"")}function pf(l,d,p){if(d=ql(d),ql(l)!==d&&p)throw Error(r(425))}function Wg(){}var Ec=null,Hg=null;function Kg(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(l){return Xg.resolve(null).then(l).catch(rv)}:Gg;function rv(l){setTimeout(function(){throw l})}function gf(l,d){var p=d,y=0;do{var P=p.nextSibling;if(l.removeChild(p),P&&P.nodeType===8)if(p=P.data,p==="/$"){if(y===0){l.removeChild(P),Ki(d);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=P}while(p);Ki(d)}function oi(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function ks(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}var Od=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Od,Zo="__reactProps$"+Od,Fe="__reactContainer$"+Od,Qg="__reactEvents$"+Od,I2="__reactListeners$"+Od,nv="__reactHandles$"+Od;function el(l){var d=l[Qr];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Fe]||p[Qr]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=ks(l);l!==null;){if(p=l[Qr])return p;l=ks(l)}return d}l=p,p=l.parentNode}return null}function Ac(l){return l=l[Qr]||l[Fe],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ic(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function xf(l){return l[Zo]||null}var Md=[],Rd=-1;function Vl(l){return{current:l}}function On(l){0>Rd||(l.current=Md[Rd],Md[Rd]=null,Rd--)}function fn(l,d){Rd++,Md[Rd]=l.current,l.current=d}var Oc={},Oa=Vl(Oc),us=Vl(!1),Mc=Oc;function Yi(l,d){var p=l.type.contextTypes;if(!p)return Oc;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===d)return y.__reactInternalMemoizedMaskedChildContext;var P={},O;for(O in p)P[O]=d[O];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=P),P}function zs(l){return l=l.childContextTypes,l!=null}function yf(){On(us),On(Oa)}function Jg(l,d,p){if(Oa.current!==Oc)throw Error(r(168));fn(Oa,d),fn(us,p)}function Zg(l,d,p){var y=l.stateNode;if(d=d.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var P in y)if(!(P in d))throw Error(r(108,re(l)||"Unknown",P));return Q({},p,y)}function vf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Oc,Mc=Oa.current,fn(Oa,l),fn(us,us.current),!0}function e0(l,d,p){var y=l.stateNode;if(!y)throw Error(r(169));p?(l=Zg(l,d,Mc),y.__reactInternalMemoizedMergedChildContext=l,On(us),On(Oa),fn(Oa,l)):On(us),fn(us,p)}var vo=null,bf=!1,im=!1;function t0(l){vo===null?vo=[l]:vo.push(l)}function av(l){bf=!0,t0(l)}function tl(){if(!im&&vo!==null){im=!0;var l=0,d=Cr;try{var p=vo;for(Cr=1;l<p.length;l++){var y=p[l];do y=y(!0);while(y!==null)}vo=null,bf=!1}catch(P){throw vo!==null&&(vo=vo.slice(l+1)),Ve(cr,tl),P}finally{Cr=d,im=!1}}return null}var Rc=[],Dc=0,wf=null,Nf=0,li=[],ci=0,Wl=null,bo=1,wo="";function Hl(l,d){Rc[Dc++]=Nf,Rc[Dc++]=wf,wf=l,Nf=d}function r0(l,d,p){li[ci++]=bo,li[ci++]=wo,li[ci++]=Wl,Wl=l;var y=bo;l=wo;var P=32-zn(y)-1;y&=~(1<<P),p+=1;var O=32-zn(d)+P;if(30<O){var q=P-P%5;O=(y&(1<<q)-1).toString(32),y>>=q,P-=q,bo=1<<32-zn(d)+P|p<<P|y,wo=O+l}else bo=1<<O|p<<P|y,wo=l}function om(l){l.return!==null&&(Hl(l,1),r0(l,1,0))}function lm(l){for(;l===wf;)wf=Rc[--Dc],Rc[Dc]=null,Nf=Rc[--Dc],Rc[Dc]=null;for(;l===Wl;)Wl=li[--ci],li[ci]=null,wo=li[--ci],li[ci]=null,bo=li[--ci],li[ci]=null}var qs=null,Vs=null,Wn=!1,Ei=null;function n0(l,d){var p=_o(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=l,d=l.deletions,d===null?(l.deletions=[p],l.flags|=16):d.push(p)}function a0(l,d){switch(l.tag){case 5:var p=l.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,qs=l,Vs=oi(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,qs=l,Vs=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Wl!==null?{id:bo,overflow:wo}:null,l.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=_o(18,null,null,0),p.stateNode=d,p.return=l,l.child=p,qs=l,Vs=null,!0):!1;default:return!1}}function cm(l){return(l.mode&1)!==0&&(l.flags&128)===0}function dm(l){if(Wn){var d=Vs;if(d){var p=d;if(!a0(l,d)){if(cm(l))throw Error(r(418));d=oi(p.nextSibling);var y=qs;d&&a0(l,d)?n0(y,p):(l.flags=l.flags&-4097|2,Wn=!1,qs=l)}}else{if(cm(l))throw Error(r(418));l.flags=l.flags&-4097|2,Wn=!1,qs=l}}}function s0(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;qs=l}function jf(l){if(l!==qs)return!1;if(!Wn)return s0(l),Wn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Kg(l.type,l.memoizedProps)),d&&(d=Vs)){if(cm(l))throw i0(),Error(r(418));for(;d;)n0(l,d),d=oi(d.nextSibling)}if(s0(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(d===0){Vs=oi(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}l=l.nextSibling}Vs=null}}else Vs=qs?oi(l.stateNode.nextSibling):null;return!0}function i0(){for(var l=Vs;l;)l=oi(l.nextSibling)}function Lc(){Vs=qs=null,Wn=!1}function um(l){Ei===null?Ei=[l]:Ei.push(l)}var sv=k.ReactCurrentBatchConfig;function Dd(l,d,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var y=p.stateNode}if(!y)throw Error(r(147,l));var P=y,O=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(q){var se=P.refs;q===null?delete se[O]:se[O]=q},d._stringRef=O,d)}if(typeof l!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,l))}return l}function Sf(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function o0(l){var d=l._init;return d(l._payload)}function l0(l){function d(je,xe){if(l){var ke=je.deletions;ke===null?(je.deletions=[xe],je.flags|=16):ke.push(xe)}}function p(je,xe){if(!l)return null;for(;xe!==null;)d(je,xe),xe=xe.sibling;return null}function y(je,xe){for(je=new Map;xe!==null;)xe.key!==null?je.set(xe.key,xe):je.set(xe.index,xe),xe=xe.sibling;return je}function P(je,xe){return je=Gd(je,xe),je.index=0,je.sibling=null,je}function O(je,xe,ke){return je.index=ke,l?(ke=je.alternate,ke!==null?(ke=ke.index,ke<xe?(je.flags|=2,xe):ke):(je.flags|=2,xe)):(je.flags|=1048576,xe)}function q(je){return l&&je.alternate===null&&(je.flags|=2),je}function se(je,xe,ke,st){return xe===null||xe.tag!==6?(xe=oN(ke,je.mode,st),xe.return=je,xe):(xe=P(xe,ke),xe.return=je,xe)}function me(je,xe,ke,st){var qt=ke.type;return qt===A?Ye(je,xe,ke.props.children,st,ke.key):xe!==null&&(xe.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===ee&&o0(qt)===xe.type)?(st=P(xe,ke.props),st.ref=Dd(je,xe,ke),st.return=je,st):(st=Nv(ke.type,ke.key,ke.props,null,je.mode,st),st.ref=Dd(je,xe,ke),st.return=je,st)}function Ee(je,xe,ke,st){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==ke.containerInfo||xe.stateNode.implementation!==ke.implementation?(xe=lN(ke,je.mode,st),xe.return=je,xe):(xe=P(xe,ke.children||[]),xe.return=je,xe)}function Ye(je,xe,ke,st,qt){return xe===null||xe.tag!==7?(xe=Ff(ke,je.mode,st,qt),xe.return=je,xe):(xe=P(xe,ke),xe.return=je,xe)}function Je(je,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=oN(""+xe,je.mode,ke),xe.return=je,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case C:return ke=Nv(xe.type,xe.key,xe.props,null,je.mode,ke),ke.ref=Dd(je,null,xe),ke.return=je,ke;case S:return xe=lN(xe,je.mode,ke),xe.return=je,xe;case ee:var st=xe._init;return Je(je,st(xe._payload),ke)}if(oe(xe)||G(xe))return xe=Ff(xe,je.mode,ke,null),xe.return=je,xe;Sf(je,xe)}return null}function Ke(je,xe,ke,st){var qt=xe!==null?xe.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return qt!==null?null:se(je,xe,""+ke,st);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case C:return ke.key===qt?me(je,xe,ke,st):null;case S:return ke.key===qt?Ee(je,xe,ke,st):null;case ee:return qt=ke._init,Ke(je,xe,qt(ke._payload),st)}if(oe(ke)||G(ke))return qt!==null?null:Ye(je,xe,ke,st,null);Sf(je,ke)}return null}function Tt(je,xe,ke,st,qt){if(typeof st=="string"&&st!==""||typeof st=="number")return je=je.get(ke)||null,se(xe,je,""+st,qt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case C:return je=je.get(st.key===null?ke:st.key)||null,me(xe,je,st,qt);case S:return je=je.get(st.key===null?ke:st.key)||null,Ee(xe,je,st,qt);case ee:var or=st._init;return Tt(je,xe,ke,or(st._payload),qt)}if(oe(st)||G(st))return je=je.get(ke)||null,Ye(xe,je,st,qt,null);Sf(xe,st)}return null}function $t(je,xe,ke,st){for(var qt=null,or=null,lr=xe,kr=xe=0,hs=null;lr!==null&&kr<ke.length;kr++){lr.index>kr?(hs=lr,lr=null):hs=lr.sibling;var Nn=Ke(je,lr,ke[kr],st);if(Nn===null){lr===null&&(lr=hs);break}l&&lr&&Nn.alternate===null&&d(je,lr),xe=O(Nn,xe,kr),or===null?qt=Nn:or.sibling=Nn,or=Nn,lr=hs}if(kr===ke.length)return p(je,lr),Wn&&Hl(je,kr),qt;if(lr===null){for(;kr<ke.length;kr++)lr=Je(je,ke[kr],st),lr!==null&&(xe=O(lr,xe,kr),or===null?qt=lr:or.sibling=lr,or=lr);return Wn&&Hl(je,kr),qt}for(lr=y(je,lr);kr<ke.length;kr++)hs=Tt(lr,je,kr,ke[kr],st),hs!==null&&(l&&hs.alternate!==null&&lr.delete(hs.key===null?kr:hs.key),xe=O(hs,xe,kr),or===null?qt=hs:or.sibling=hs,or=hs);return l&&lr.forEach(function(Yd){return d(je,Yd)}),Wn&&Hl(je,kr),qt}function zt(je,xe,ke,st){var qt=G(ke);if(typeof qt!="function")throw Error(r(150));if(ke=qt.call(ke),ke==null)throw Error(r(151));for(var or=qt=null,lr=xe,kr=xe=0,hs=null,Nn=ke.next();lr!==null&&!Nn.done;kr++,Nn=ke.next()){lr.index>kr?(hs=lr,lr=null):hs=lr.sibling;var Yd=Ke(je,lr,Nn.value,st);if(Yd===null){lr===null&&(lr=hs);break}l&&lr&&Yd.alternate===null&&d(je,lr),xe=O(Yd,xe,kr),or===null?qt=Yd:or.sibling=Yd,or=Yd,lr=hs}if(Nn.done)return p(je,lr),Wn&&Hl(je,kr),qt;if(lr===null){for(;!Nn.done;kr++,Nn=ke.next())Nn=Je(je,Nn.value,st),Nn!==null&&(xe=O(Nn,xe,kr),or===null?qt=Nn:or.sibling=Nn,or=Nn);return Wn&&Hl(je,kr),qt}for(lr=y(je,lr);!Nn.done;kr++,Nn=ke.next())Nn=Tt(lr,je,kr,Nn.value,st),Nn!==null&&(l&&Nn.alternate!==null&&lr.delete(Nn.key===null?kr:Nn.key),xe=O(Nn,xe,kr),or===null?qt=Nn:or.sibling=Nn,or=Nn);return l&&lr.forEach(function(hQ){return d(je,hQ)}),Wn&&Hl(je,kr),qt}function Ra(je,xe,ke,st){if(typeof ke=="object"&&ke!==null&&ke.type===A&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case C:e:{for(var qt=ke.key,or=xe;or!==null;){if(or.key===qt){if(qt=ke.type,qt===A){if(or.tag===7){p(je,or.sibling),xe=P(or,ke.props.children),xe.return=je,je=xe;break e}}else if(or.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===ee&&o0(qt)===or.type){p(je,or.sibling),xe=P(or,ke.props),xe.ref=Dd(je,or,ke),xe.return=je,je=xe;break e}p(je,or);break}else d(je,or);or=or.sibling}ke.type===A?(xe=Ff(ke.props.children,je.mode,st,ke.key),xe.return=je,je=xe):(st=Nv(ke.type,ke.key,ke.props,null,je.mode,st),st.ref=Dd(je,xe,ke),st.return=je,je=st)}return q(je);case S:e:{for(or=ke.key;xe!==null;){if(xe.key===or)if(xe.tag===4&&xe.stateNode.containerInfo===ke.containerInfo&&xe.stateNode.implementation===ke.implementation){p(je,xe.sibling),xe=P(xe,ke.children||[]),xe.return=je,je=xe;break e}else{p(je,xe);break}else d(je,xe);xe=xe.sibling}xe=lN(ke,je.mode,st),xe.return=je,je=xe}return q(je);case ee:return or=ke._init,Ra(je,xe,or(ke._payload),st)}if(oe(ke))return $t(je,xe,ke,st);if(G(ke))return zt(je,xe,ke,st);Sf(je,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,xe!==null&&xe.tag===6?(p(je,xe.sibling),xe=P(xe,ke),xe.return=je,je=xe):(p(je,xe),xe=oN(ke,je.mode,st),xe.return=je,je=xe),q(je)):p(je,xe)}return Ra}var $c=l0(!0),c0=l0(!1),kf=Vl(null),_f=null,Fc=null,fm=null;function hm(){fm=Fc=_f=null}function mm(l){var d=kf.current;On(kf),l._currentValue=d}function pm(l,d,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),l===p)break;l=l.return}}function Bc(l,d){_f=l,fm=Fc=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Ai=!0),l.firstContext=null)}function di(l){var d=l._currentValue;if(fm!==l)if(l={context:l,memoizedValue:d,next:null},Fc===null){if(_f===null)throw Error(r(308));Fc=l,_f.dependencies={lanes:0,firstContext:l}}else Fc=Fc.next=l;return d}var Kl=null;function gm(l){Kl===null?Kl=[l]:Kl.push(l)}function d0(l,d,p,y){var P=d.interleaved;return P===null?(p.next=p,gm(d)):(p.next=P.next,P.next=p),d.interleaved=p,No(l,y)}function No(l,d){l.lanes|=d;var p=l.alternate;for(p!==null&&(p.lanes|=d),p=l,l=l.return;l!==null;)l.childLanes|=d,p=l.alternate,p!==null&&(p.childLanes|=d),p=l,l=l.return;return p.tag===3?p.stateNode:null}var rl=!1;function xm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function jo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function nl(l,d,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(yn&2)!==0){var P=y.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),y.pending=d,No(l,p)}return P=y.interleaved,P===null?(d.next=d,gm(y)):(d.next=P.next,P.next=d),y.interleaved=d,No(l,p)}function Cf(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var y=d.lanes;y&=l.pendingLanes,p|=y,d.lanes=p,fo(l,p)}}function f0(l,d){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var P=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?P=O=q:O=O.next=q,p=p.next}while(p!==null);O===null?P=O=d:O=O.next=d}else P=O=d;p={baseState:y.baseState,firstBaseUpdate:P,lastBaseUpdate:O,shared:y.shared,effects:y.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}function Tf(l,d,p,y){var P=l.updateQueue;rl=!1;var O=P.firstBaseUpdate,q=P.lastBaseUpdate,se=P.shared.pending;if(se!==null){P.shared.pending=null;var me=se,Ee=me.next;me.next=null,q===null?O=Ee:q.next=Ee,q=me;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,se=Ye.lastBaseUpdate,se!==q&&(se===null?Ye.firstBaseUpdate=Ee:se.next=Ee,Ye.lastBaseUpdate=me))}if(O!==null){var Je=P.baseState;q=0,Ye=Ee=me=null,se=O;do{var Ke=se.lane,Tt=se.eventTime;if((y&Ke)===Ke){Ye!==null&&(Ye=Ye.next={eventTime:Tt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var $t=l,zt=se;switch(Ke=d,Tt=p,zt.tag){case 1:if($t=zt.payload,typeof $t=="function"){Je=$t.call(Tt,Je,Ke);break e}Je=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=zt.payload,Ke=typeof $t=="function"?$t.call(Tt,Je,Ke):$t,Ke==null)break e;Je=Q({},Je,Ke);break e;case 2:rl=!0}}se.callback!==null&&se.lane!==0&&(l.flags|=64,Ke=P.effects,Ke===null?P.effects=[se]:Ke.push(se))}else Tt={eventTime:Tt,lane:Ke,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Ye===null?(Ee=Ye=Tt,me=Je):Ye=Ye.next=Tt,q|=Ke;if(se=se.next,se===null){if(se=P.shared.pending,se===null)break;Ke=se,se=Ke.next,Ke.next=null,P.lastBaseUpdate=Ke,P.shared.pending=null}}while(!0);if(Ye===null&&(me=Je),P.baseState=me,P.firstBaseUpdate=Ee,P.lastBaseUpdate=Ye,d=P.shared.interleaved,d!==null){P=d;do q|=P.lane,P=P.next;while(P!==d)}else O===null&&(P.shared.lanes=0);Rf|=q,l.lanes=q,l.memoizedState=Je}}function h0(l,d,p){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var y=l[d],P=y.callback;if(P!==null){if(y.callback=null,y=p,typeof P!="function")throw Error(r(191,P));P.call(y)}}}var Ld={},Xi=Vl(Ld),$d=Vl(Ld),Fd=Vl(Ld);function Gl(l){if(l===Ld)throw Error(r(174));return l}function ym(l,d){switch(fn(Fd,d),fn($d,l),fn(Xi,Ld),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Fr(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Fr(d,l)}On(Xi),fn(Xi,d)}function Uc(){On(Xi),On($d),On(Fd)}function m0(l){Gl(Fd.current);var d=Gl(Xi.current),p=Fr(d,l.type);d!==p&&(fn($d,l),fn(Xi,p))}function vm(l){$d.current===l&&(On(Xi),On($d))}var Jn=Vl(0);function Pf(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var bm=[];function wm(){for(var l=0;l<bm.length;l++)bm[l]._workInProgressVersionPrimary=null;bm.length=0}var Ef=k.ReactCurrentDispatcher,Nm=k.ReactCurrentBatchConfig,Yl=0,Zn=null,Sa=null,Ma=null,Af=!1,Bd=!1,Ud=0,iv=0;function Za(){throw Error(r(321))}function jm(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!js(l[p],d[p]))return!1;return!0}function Sm(l,d,p,y,P,O){if(Yl=O,Zn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ef.current=l===null||l.memoizedState===null?lv:Ji,l=p(y,P),Bd){O=0;do{if(Bd=!1,Ud=0,25<=O)throw Error(r(301));O+=1,Ma=Sa=null,d.updateQueue=null,Ef.current=zd,l=p(y,P)}while(Bd)}if(Ef.current=Qi,d=Sa!==null&&Sa.next!==null,Yl=0,Ma=Sa=Zn=null,Af=!1,d)throw Error(r(300));return l}function km(){var l=Ud!==0;return Ud=0,l}function N(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ma===null?Zn.memoizedState=Ma=l:Ma=Ma.next=l,Ma}function M(){if(Sa===null){var l=Zn.alternate;l=l!==null?l.memoizedState:null}else l=Sa.next;var d=Ma===null?Zn.memoizedState:Ma.next;if(d!==null)Ma=d,Sa=l;else{if(l===null)throw Error(r(310));Sa=l,l={memoizedState:Sa.memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null},Ma===null?Zn.memoizedState=Ma=l:Ma=Ma.next=l}return Ma}function I(l,d){return typeof d=="function"?d(l):d}function L(l){var d=M(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=Sa,P=y.baseQueue,O=p.pending;if(O!==null){if(P!==null){var q=P.next;P.next=O.next,O.next=q}y.baseQueue=P=O,p.pending=null}if(P!==null){O=P.next,y=y.baseState;var se=q=null,me=null,Ee=O;do{var Ye=Ee.lane;if((Yl&Ye)===Ye)me!==null&&(me=me.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),y=Ee.hasEagerState?Ee.eagerState:l(y,Ee.action);else{var Je={lane:Ye,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};me===null?(se=me=Je,q=y):me=me.next=Je,Zn.lanes|=Ye,Rf|=Ye}Ee=Ee.next}while(Ee!==null&&Ee!==O);me===null?q=y:me.next=se,js(y,d.memoizedState)||(Ai=!0),d.memoizedState=y,d.baseState=q,d.baseQueue=me,p.lastRenderedState=y}if(l=p.interleaved,l!==null){P=l;do O=P.lane,Zn.lanes|=O,Rf|=O,P=P.next;while(P!==l)}else P===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function te(l){var d=M(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=p.dispatch,P=p.pending,O=d.memoizedState;if(P!==null){p.pending=null;var q=P=P.next;do O=l(O,q.action),q=q.next;while(q!==P);js(O,d.memoizedState)||(Ai=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),p.lastRenderedState=O}return[O,y]}function ae(){}function ne(l,d){var p=Zn,y=M(),P=d(),O=!js(y.memoizedState,P);if(O&&(y.memoizedState=P,Ai=!0),y=y.queue,hr(We.bind(null,p,y,l),[l]),y.getSnapshot!==d||O||Ma!==null&&Ma.memoizedState.tag&1){if(p.flags|=2048,Gt(9,Pe.bind(null,p,y,P,d),void 0,null),fs===null)throw Error(r(349));(Yl&30)!==0||Te(p,d,P)}return P}function Te(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=Zn.updateQueue,d===null?(d={lastEffect:null,stores:null},Zn.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function Pe(l,d,p,y){d.value=p,d.getSnapshot=y,_t(d)&&It(l)}function We(l,d,p){return p(function(){_t(d)&&It(l)})}function _t(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!js(l,p)}catch{return!0}}function It(l){var d=No(l,1);d!==null&&il(d,l,1,-1)}function ur(l){var d=N();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:l},d.queue=l,l=l.dispatch=_m.bind(null,Zn,l),[d.memoizedState,l]}function Gt(l,d,p,y){return l={tag:l,create:d,destroy:p,deps:y,next:null},d=Zn.updateQueue,d===null?(d={lastEffect:null,stores:null},Zn.updateQueue=d,d.lastEffect=l.next=l):(p=d.lastEffect,p===null?d.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,d.lastEffect=l)),l}function St(){return M().memoizedState}function Ot(l,d,p,y){var P=N();Zn.flags|=l,P.memoizedState=Gt(1|d,p,void 0,y===void 0?null:y)}function xn(l,d,p,y){var P=M();y=y===void 0?null:y;var O=void 0;if(Sa!==null){var q=Sa.memoizedState;if(O=q.destroy,y!==null&&jm(y,q.deps)){P.memoizedState=Gt(d,p,O,y);return}}Zn.flags|=l,P.memoizedState=Gt(1|d,p,O,y)}function Xe(l,d){return Ot(8390656,8,l,d)}function hr(l,d){return xn(2048,8,l,d)}function Ur(l,d){return xn(4,2,l,d)}function Ut(l,d){return xn(4,4,l,d)}function Xt(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function sa(l,d,p){return p=p!=null?p.concat([l]):null,xn(4,4,Xt.bind(null,d,l),p)}function So(){}function If(l,d){var p=M();d=d===void 0?null:d;var y=p.memoizedState;return y!==null&&d!==null&&jm(d,y[1])?y[0]:(p.memoizedState=[l,d],l)}function Of(l,d){var p=M();d=d===void 0?null:d;var y=p.memoizedState;return y!==null&&d!==null&&jm(d,y[1])?y[0]:(l=l(),p.memoizedState=[l,d],l)}function ov(l,d,p){return(Yl&21)===0?(l.baseState&&(l.baseState=!1,Ai=!0),l.memoizedState=p):(js(p,d)||(p=fa(),Zn.lanes|=p,Rf|=p,l.baseState=!0),d)}function YP(l,d){var p=Cr;Cr=p!==0&&4>p?p:4,l(!0);var y=Nm.transition;Nm.transition={};try{l(!1),d()}finally{Cr=p,Nm.transition=y}}function O2(){return M().memoizedState}function M2(l,d,p){var y=Hd(l);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},p0(l))Cm(d,p);else if(p=d0(l,d,p,y),p!==null){var P=hi();il(p,l,y,P),Mf(p,d,y)}}function _m(l,d,p){var y=Hd(l),P={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(p0(l))Cm(d,P);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var q=d.lastRenderedState,se=O(q,p);if(P.hasEagerState=!0,P.eagerState=se,js(se,q)){var me=d.interleaved;me===null?(P.next=P,gm(d)):(P.next=me.next,me.next=P),d.interleaved=P;return}}catch{}finally{}p=d0(l,d,P,y),p!==null&&(P=hi(),il(p,l,y,P),Mf(p,d,y))}}function p0(l){var d=l.alternate;return l===Zn||d!==null&&d===Zn}function Cm(l,d){Bd=Af=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function Mf(l,d,p){if((p&4194240)!==0){var y=d.lanes;y&=l.pendingLanes,p|=y,d.lanes=p,fo(l,p)}}var Qi={readContext:di,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useInsertionEffect:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useMutableSource:Za,useSyncExternalStore:Za,useId:Za,unstable_isNewReconciler:!1},lv={readContext:di,useCallback:function(l,d){return N().memoizedState=[l,d===void 0?null:d],l},useContext:di,useEffect:Xe,useImperativeHandle:function(l,d,p){return p=p!=null?p.concat([l]):null,Ot(4194308,4,Xt.bind(null,d,l),p)},useLayoutEffect:function(l,d){return Ot(4194308,4,l,d)},useInsertionEffect:function(l,d){return Ot(4,2,l,d)},useMemo:function(l,d){var p=N();return d=d===void 0?null:d,l=l(),p.memoizedState=[l,d],l},useReducer:function(l,d,p){var y=N();return d=p!==void 0?p(d):d,y.memoizedState=y.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},y.queue=l,l=l.dispatch=M2.bind(null,Zn,l),[y.memoizedState,l]},useRef:function(l){var d=N();return l={current:l},d.memoizedState=l},useState:ur,useDebugValue:So,useDeferredValue:function(l){return N().memoizedState=l},useTransition:function(){var l=ur(!1),d=l[0];return l=YP.bind(null,l[1]),N().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,p){var y=Zn,P=N();if(Wn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),fs===null)throw Error(r(349));(Yl&30)!==0||Te(y,d,p)}P.memoizedState=p;var O={value:p,getSnapshot:d};return P.queue=O,Xe(We.bind(null,y,O,l),[l]),y.flags|=2048,Gt(9,Pe.bind(null,y,O,p,d),void 0,null),p},useId:function(){var l=N(),d=fs.identifierPrefix;if(Wn){var p=wo,y=bo;p=(y&~(1<<32-zn(y)-1)).toString(32)+p,d=":"+d+"R"+p,p=Ud++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=iv++,d=":"+d+"r"+p.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},Ji={readContext:di,useCallback:If,useContext:di,useEffect:hr,useImperativeHandle:sa,useInsertionEffect:Ur,useLayoutEffect:Ut,useMemo:Of,useReducer:L,useRef:St,useState:function(){return L(I)},useDebugValue:So,useDeferredValue:function(l){var d=M();return ov(d,Sa.memoizedState,l)},useTransition:function(){var l=L(I)[0],d=M().memoizedState;return[l,d]},useMutableSource:ae,useSyncExternalStore:ne,useId:O2,unstable_isNewReconciler:!1},zd={readContext:di,useCallback:If,useContext:di,useEffect:hr,useImperativeHandle:sa,useInsertionEffect:Ur,useLayoutEffect:Ut,useMemo:Of,useReducer:te,useRef:St,useState:function(){return te(I)},useDebugValue:So,useDeferredValue:function(l){var d=M();return Sa===null?d.memoizedState=l:ov(d,Sa.memoizedState,l)},useTransition:function(){var l=te(I)[0],d=M().memoizedState;return[l,d]},useMutableSource:ae,useSyncExternalStore:ne,useId:O2,unstable_isNewReconciler:!1};function ui(l,d){if(l&&l.defaultProps){d=Q({},d),l=l.defaultProps;for(var p in l)d[p]===void 0&&(d[p]=l[p]);return d}return d}function R2(l,d,p,y){d=l.memoizedState,p=p(y,d),p=p==null?d:Q({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var cv={isMounted:function(l){return(l=l._reactInternals)?Nr(l)===l:!1},enqueueSetState:function(l,d,p){l=l._reactInternals;var y=hi(),P=Hd(l),O=jo(y,P);O.payload=d,p!=null&&(O.callback=p),d=nl(l,O,P),d!==null&&(il(d,l,P,y),Cf(d,l,P))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var y=hi(),P=Hd(l),O=jo(y,P);O.tag=1,O.payload=d,p!=null&&(O.callback=p),d=nl(l,O,P),d!==null&&(il(d,l,P,y),Cf(d,l,P))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=hi(),y=Hd(l),P=jo(p,y);P.tag=2,d!=null&&(P.callback=d),d=nl(l,P,y),d!==null&&(il(d,l,y,p),Cf(d,l,y))}};function XP(l,d,p,y,P,O,q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,O,q):d.prototype&&d.prototype.isPureReactComponent?!Bl(p,y)||!Bl(P,O):!0}function QP(l,d,p){var y=!1,P=Oc,O=d.contextType;return typeof O=="object"&&O!==null?O=di(O):(P=zs(d)?Mc:Oa.current,y=d.contextTypes,O=(y=y!=null)?Yi(l,P):Oc),d=new d(p,O),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cv,l.stateNode=d,d._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=P,l.__reactInternalMemoizedMaskedChildContext=O),d}function JP(l,d,p,y){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==l&&cv.enqueueReplaceState(d,d.state,null)}function D2(l,d,p,y){var P=l.stateNode;P.props=p,P.state=l.memoizedState,P.refs={},xm(l);var O=d.contextType;typeof O=="object"&&O!==null?P.context=di(O):(O=zs(d)?Mc:Oa.current,P.context=Yi(l,O)),P.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(R2(l,d,O,p),P.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&cv.enqueueReplaceState(P,P.state,null),Tf(l,p,P,y),P.state=l.memoizedState),typeof P.componentDidMount=="function"&&(l.flags|=4194308)}function Tm(l,d){try{var p="",y=d;do p+=he(y),y=y.return;while(y);var P=p}catch(O){P=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:d,stack:P,digest:null}}function L2(l,d,p){return{value:l,source:null,stack:p??null,digest:d??null}}function $2(l,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var zX=typeof WeakMap=="function"?WeakMap:Map;function ZP(l,d,p){p=jo(-1,p),p.tag=3,p.payload={element:null};var y=d.value;return p.callback=function(){gv||(gv=!0,Z2=y),$2(l,d)},p}function e5(l,d,p){p=jo(-1,p),p.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var P=d.value;p.payload=function(){return y(P)},p.callback=function(){$2(l,d)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){$2(l,d),typeof y!="function"&&(Vd===null?Vd=new Set([this]):Vd.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})}),p}function t5(l,d,p){var y=l.pingCache;if(y===null){y=l.pingCache=new zX;var P=new Set;y.set(d,P)}else P=y.get(d),P===void 0&&(P=new Set,y.set(d,P));P.has(p)||(P.add(p),l=rQ.bind(null,l,d,p),d.then(l,l))}function r5(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function n5(l,d,p,y,P){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=jo(-1,1),d.tag=2,nl(p,d,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=P,l)}var qX=k.ReactCurrentOwner,Ai=!1;function fi(l,d,p,y){d.child=l===null?c0(d,null,p,y):$c(d,l.child,p,y)}function a5(l,d,p,y,P){p=p.render;var O=d.ref;return Bc(d,P),y=Sm(l,d,p,y,O,P),p=km(),l!==null&&!Ai?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~P,zc(l,d,P)):(Wn&&p&&om(d),d.flags|=1,fi(l,d,y,P),d.child)}function s5(l,d,p,y,P){if(l===null){var O=p.type;return typeof O=="function"&&!iN(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=O,i5(l,d,O,y,P)):(l=Nv(p.type,null,y,d,d.mode,P),l.ref=d.ref,l.return=d,d.child=l)}if(O=l.child,(l.lanes&P)===0){var q=O.memoizedProps;if(p=p.compare,p=p!==null?p:Bl,p(q,y)&&l.ref===d.ref)return zc(l,d,P)}return d.flags|=1,l=Gd(O,y),l.ref=d.ref,l.return=d,d.child=l}function i5(l,d,p,y,P){if(l!==null){var O=l.memoizedProps;if(Bl(O,y)&&l.ref===d.ref)if(Ai=!1,d.pendingProps=y=O,(l.lanes&P)!==0)(l.flags&131072)!==0&&(Ai=!0);else return d.lanes=l.lanes,zc(l,d,P)}return F2(l,d,p,y,P)}function o5(l,d,p){var y=d.pendingProps,P=y.children,O=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(Em,Zi),Zi|=p;else{if((p&1073741824)===0)return l=O!==null?O.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,fn(Em,Zi),Zi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=O!==null?O.baseLanes:p,fn(Em,Zi),Zi|=y}else O!==null?(y=O.baseLanes|p,d.memoizedState=null):y=p,fn(Em,Zi),Zi|=y;return fi(l,d,P,p),d.child}function l5(l,d){var p=d.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function F2(l,d,p,y,P){var O=zs(p)?Mc:Oa.current;return O=Yi(d,O),Bc(d,P),p=Sm(l,d,p,y,O,P),y=km(),l!==null&&!Ai?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~P,zc(l,d,P)):(Wn&&y&&om(d),d.flags|=1,fi(l,d,p,P),d.child)}function c5(l,d,p,y,P){if(zs(p)){var O=!0;vf(d)}else O=!1;if(Bc(d,P),d.stateNode===null)uv(l,d),QP(d,p,y),D2(d,p,y,P),y=!0;else if(l===null){var q=d.stateNode,se=d.memoizedProps;q.props=se;var me=q.context,Ee=p.contextType;typeof Ee=="object"&&Ee!==null?Ee=di(Ee):(Ee=zs(p)?Mc:Oa.current,Ee=Yi(d,Ee));var Ye=p.getDerivedStateFromProps,Je=typeof Ye=="function"||typeof q.getSnapshotBeforeUpdate=="function";Je||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(se!==y||me!==Ee)&&JP(d,q,y,Ee),rl=!1;var Ke=d.memoizedState;q.state=Ke,Tf(d,y,q,P),me=d.memoizedState,se!==y||Ke!==me||us.current||rl?(typeof Ye=="function"&&(R2(d,p,Ye,y),me=d.memoizedState),(se=rl||XP(d,p,se,y,Ke,me,Ee))?(Je||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(d.flags|=4194308)):(typeof q.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=me),q.props=y,q.state=me,q.context=Ee,y=se):(typeof q.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{q=d.stateNode,u0(l,d),se=d.memoizedProps,Ee=d.type===d.elementType?se:ui(d.type,se),q.props=Ee,Je=d.pendingProps,Ke=q.context,me=p.contextType,typeof me=="object"&&me!==null?me=di(me):(me=zs(p)?Mc:Oa.current,me=Yi(d,me));var Tt=p.getDerivedStateFromProps;(Ye=typeof Tt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(se!==Je||Ke!==me)&&JP(d,q,y,me),rl=!1,Ke=d.memoizedState,q.state=Ke,Tf(d,y,q,P);var $t=d.memoizedState;se!==Je||Ke!==$t||us.current||rl?(typeof Tt=="function"&&(R2(d,p,Tt,y),$t=d.memoizedState),(Ee=rl||XP(d,p,Ee,y,Ke,$t,me)||!1)?(Ye||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(y,$t,me),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(y,$t,me)),typeof q.componentDidUpdate=="function"&&(d.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof q.componentDidUpdate!="function"||se===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||se===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=$t),q.props=y,q.state=$t,q.context=me,y=Ee):(typeof q.componentDidUpdate!="function"||se===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||se===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=1024),y=!1)}return B2(l,d,p,y,O,P)}function B2(l,d,p,y,P,O){l5(l,d);var q=(d.flags&128)!==0;if(!y&&!q)return P&&e0(d,p,!1),zc(l,d,O);y=d.stateNode,qX.current=d;var se=q&&typeof p.getDerivedStateFromError!="function"?null:y.render();return d.flags|=1,l!==null&&q?(d.child=$c(d,l.child,null,O),d.child=$c(d,null,se,O)):fi(l,d,se,O),d.memoizedState=y.state,P&&e0(d,p,!0),d.child}function d5(l){var d=l.stateNode;d.pendingContext?Jg(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Jg(l,d.context,!1),ym(l,d.containerInfo)}function u5(l,d,p,y,P){return Lc(),um(P),d.flags|=256,fi(l,d,p,y),d.child}var U2={dehydrated:null,treeContext:null,retryLane:0};function z2(l){return{baseLanes:l,cachePool:null,transitions:null}}function f5(l,d,p){var y=d.pendingProps,P=Jn.current,O=!1,q=(d.flags&128)!==0,se;if((se=q)||(se=l!==null&&l.memoizedState===null?!1:(P&2)!==0),se?(O=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(P|=1),fn(Jn,P&1),l===null)return dm(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(q=y.children,l=y.fallback,O?(y=d.mode,O=d.child,q={mode:"hidden",children:q},(y&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=q):O=jv(q,y,0,null),l=Ff(l,y,p,null),O.return=d,l.return=d,O.sibling=l,d.child=O,d.child.memoizedState=z2(p),d.memoizedState=U2,l):q2(d,q));if(P=l.memoizedState,P!==null&&(se=P.dehydrated,se!==null))return VX(l,d,q,y,se,P,p);if(O){O=y.fallback,q=d.mode,P=l.child,se=P.sibling;var me={mode:"hidden",children:y.children};return(q&1)===0&&d.child!==P?(y=d.child,y.childLanes=0,y.pendingProps=me,d.deletions=null):(y=Gd(P,me),y.subtreeFlags=P.subtreeFlags&14680064),se!==null?O=Gd(se,O):(O=Ff(O,q,p,null),O.flags|=2),O.return=d,y.return=d,y.sibling=O,d.child=y,y=O,O=d.child,q=l.child.memoizedState,q=q===null?z2(p):{baseLanes:q.baseLanes|p,cachePool:null,transitions:q.transitions},O.memoizedState=q,O.childLanes=l.childLanes&~p,d.memoizedState=U2,y}return O=l.child,l=O.sibling,y=Gd(O,{mode:"visible",children:y.children}),(d.mode&1)===0&&(y.lanes=p),y.return=d,y.sibling=null,l!==null&&(p=d.deletions,p===null?(d.deletions=[l],d.flags|=16):p.push(l)),d.child=y,d.memoizedState=null,y}function q2(l,d){return d=jv({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function dv(l,d,p,y){return y!==null&&um(y),$c(d,l.child,null,p),l=q2(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function VX(l,d,p,y,P,O,q){if(p)return d.flags&256?(d.flags&=-257,y=L2(Error(r(422))),dv(l,d,q,y)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(O=y.fallback,P=d.mode,y=jv({mode:"visible",children:y.children},P,0,null),O=Ff(O,P,q,null),O.flags|=2,y.return=d,O.return=d,y.sibling=O,d.child=y,(d.mode&1)!==0&&$c(d,l.child,null,q),d.child.memoizedState=z2(q),d.memoizedState=U2,O);if((d.mode&1)===0)return dv(l,d,q,null);if(P.data==="$!"){if(y=P.nextSibling&&P.nextSibling.dataset,y)var se=y.dgst;return y=se,O=Error(r(419)),y=L2(O,y,void 0),dv(l,d,q,y)}if(se=(q&l.childLanes)!==0,Ai||se){if(y=fs,y!==null){switch(q&-q){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(y.suspendedLanes|q))!==0?0:P,P!==0&&P!==O.retryLane&&(O.retryLane=P,No(l,P),il(y,l,P,-1))}return sN(),y=L2(Error(r(421))),dv(l,d,q,y)}return P.data==="$?"?(d.flags|=128,d.child=l.child,d=nQ.bind(null,l),P._reactRetry=d,null):(l=O.treeContext,Vs=oi(P.nextSibling),qs=d,Wn=!0,Ei=null,l!==null&&(li[ci++]=bo,li[ci++]=wo,li[ci++]=Wl,bo=l.id,wo=l.overflow,Wl=d),d=q2(d,y.children),d.flags|=4096,d)}function h5(l,d,p){l.lanes|=d;var y=l.alternate;y!==null&&(y.lanes|=d),pm(l.return,d,p)}function V2(l,d,p,y,P){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:P}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=p,O.tailMode=P)}function m5(l,d,p){var y=d.pendingProps,P=y.revealOrder,O=y.tail;if(fi(l,d,y.children,p),y=Jn.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&h5(l,p,d);else if(l.tag===19)h5(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(fn(Jn,y),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(p=d.child,P=null;p!==null;)l=p.alternate,l!==null&&Pf(l)===null&&(P=p),p=p.sibling;p=P,p===null?(P=d.child,d.child=null):(P=p.sibling,p.sibling=null),V2(d,!1,P,p,O);break;case"backwards":for(p=null,P=d.child,d.child=null;P!==null;){if(l=P.alternate,l!==null&&Pf(l)===null){d.child=P;break}l=P.sibling,P.sibling=p,p=P,P=l}V2(d,!0,p,null,O);break;case"together":V2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function uv(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function zc(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),Rf|=d.lanes,(p&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=Gd(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Gd(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function WX(l,d,p){switch(d.tag){case 3:d5(d),Lc();break;case 5:m0(d);break;case 1:zs(d.type)&&vf(d);break;case 4:ym(d,d.stateNode.containerInfo);break;case 10:var y=d.type._context,P=d.memoizedProps.value;fn(kf,y._currentValue),y._currentValue=P;break;case 13:if(y=d.memoizedState,y!==null)return y.dehydrated!==null?(fn(Jn,Jn.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?f5(l,d,p):(fn(Jn,Jn.current&1),l=zc(l,d,p),l!==null?l.sibling:null);fn(Jn,Jn.current&1);break;case 19:if(y=(p&d.childLanes)!==0,(l.flags&128)!==0){if(y)return m5(l,d,p);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),fn(Jn,Jn.current),y)break;return null;case 22:case 23:return d.lanes=0,o5(l,d,p)}return zc(l,d,p)}var p5,W2,g5,x5;p5=function(l,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},W2=function(){},g5=function(l,d,p,y){var P=l.memoizedProps;if(P!==y){l=d.stateNode,Gl(Xi.current);var O=null;switch(p){case"input":P=_e(l,P),y=_e(l,y),O=[];break;case"select":P=Q({},P,{value:void 0}),y=Q({},y,{value:void 0}),O=[];break;case"textarea":P=ge(l,P),y=ge(l,y),O=[];break;default:typeof P.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=Wg)}bs(p,y);var q;p=null;for(Ee in P)if(!y.hasOwnProperty(Ee)&&P.hasOwnProperty(Ee)&&P[Ee]!=null)if(Ee==="style"){var se=P[Ee];for(q in se)se.hasOwnProperty(q)&&(p||(p={}),p[q]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(s.hasOwnProperty(Ee)?O||(O=[]):(O=O||[]).push(Ee,null));for(Ee in y){var me=y[Ee];if(se=P!=null?P[Ee]:void 0,y.hasOwnProperty(Ee)&&me!==se&&(me!=null||se!=null))if(Ee==="style")if(se){for(q in se)!se.hasOwnProperty(q)||me&&me.hasOwnProperty(q)||(p||(p={}),p[q]="");for(q in me)me.hasOwnProperty(q)&&se[q]!==me[q]&&(p||(p={}),p[q]=me[q])}else p||(O||(O=[]),O.push(Ee,p)),p=me;else Ee==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,se=se?se.__html:void 0,me!=null&&se!==me&&(O=O||[]).push(Ee,me)):Ee==="children"?typeof me!="string"&&typeof me!="number"||(O=O||[]).push(Ee,""+me):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ee)?(me!=null&&Ee==="onScroll"&&Fn("scroll",l),O||se===me||(O=[])):(O=O||[]).push(Ee,me))}p&&(O=O||[]).push("style",p);var Ee=O;(d.updateQueue=Ee)&&(d.flags|=4)}},x5=function(l,d,p,y){p!==y&&(d.flags|=4)};function g0(l,d){if(!Wn)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Ws(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(d)for(var P=l.child;P!==null;)p|=P.lanes|P.childLanes,y|=P.subtreeFlags&14680064,y|=P.flags&14680064,P.return=l,P=P.sibling;else for(P=l.child;P!==null;)p|=P.lanes|P.childLanes,y|=P.subtreeFlags,y|=P.flags,P.return=l,P=P.sibling;return l.subtreeFlags|=y,l.childLanes=p,d}function HX(l,d,p){var y=d.pendingProps;switch(lm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(d),null;case 1:return zs(d.type)&&yf(),Ws(d),null;case 3:return y=d.stateNode,Uc(),On(us),On(Oa),wm(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(jf(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ei!==null&&(rN(Ei),Ei=null))),W2(l,d),Ws(d),null;case 5:vm(d);var P=Gl(Fd.current);if(p=d.type,l!==null&&d.stateNode!=null)g5(l,d,p,y,P),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!y){if(d.stateNode===null)throw Error(r(166));return Ws(d),null}if(l=Gl(Xi.current),jf(d)){y=d.stateNode,p=d.type;var O=d.memoizedProps;switch(y[Qr]=d,y[Zo]=O,l=(d.mode&1)!==0,p){case"dialog":Fn("cancel",y),Fn("close",y);break;case"iframe":case"object":case"embed":Fn("load",y);break;case"video":case"audio":for(P=0;P<Tc.length;P++)Fn(Tc[P],y);break;case"source":Fn("error",y);break;case"img":case"image":case"link":Fn("error",y),Fn("load",y);break;case"details":Fn("toggle",y);break;case"input":Ct(y,O),Fn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!O.multiple},Fn("invalid",y);break;case"textarea":Se(y,O),Fn("invalid",y)}bs(p,O),P=null;for(var q in O)if(O.hasOwnProperty(q)){var se=O[q];q==="children"?typeof se=="string"?y.textContent!==se&&(O.suppressHydrationWarning!==!0&&pf(y.textContent,se,l),P=["children",se]):typeof se=="number"&&y.textContent!==""+se&&(O.suppressHydrationWarning!==!0&&pf(y.textContent,se,l),P=["children",""+se]):s.hasOwnProperty(q)&&se!=null&&q==="onScroll"&&Fn("scroll",y)}switch(p){case"input":qe(y),Ln(y,O,!0);break;case"textarea":qe(y),ze(y);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(y.onclick=Wg)}y=P,d.updateQueue=y,y!==null&&(d.flags|=4)}else{q=P.nodeType===9?P:P.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=nt(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=q.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=q.createElement(p,{is:y.is}):(l=q.createElement(p),p==="select"&&(q=l,y.multiple?q.multiple=!0:y.size&&(q.size=y.size))):l=q.createElementNS(l,p),l[Qr]=d,l[Zo]=y,p5(l,d,!1,!1),d.stateNode=l;e:{switch(q=Ci(p,y),p){case"dialog":Fn("cancel",l),Fn("close",l),P=y;break;case"iframe":case"object":case"embed":Fn("load",l),P=y;break;case"video":case"audio":for(P=0;P<Tc.length;P++)Fn(Tc[P],l);P=y;break;case"source":Fn("error",l),P=y;break;case"img":case"image":case"link":Fn("error",l),Fn("load",l),P=y;break;case"details":Fn("toggle",l),P=y;break;case"input":Ct(l,y),P=_e(l,y),Fn("invalid",l);break;case"option":P=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},P=Q({},y,{value:void 0}),Fn("invalid",l);break;case"textarea":Se(l,y),P=ge(l,y),Fn("invalid",l);break;default:P=y}bs(p,P),se=P;for(O in se)if(se.hasOwnProperty(O)){var me=se[O];O==="style"?Bs(l,me):O==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&pa(l,me)):O==="children"?typeof me=="string"?(p!=="textarea"||me!=="")&&Fs(l,me):typeof me=="number"&&Fs(l,""+me):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?me!=null&&O==="onScroll"&&Fn("scroll",l):me!=null&&E(l,O,me,q))}switch(p){case"input":qe(l),Ln(l,y,!1);break;case"textarea":qe(l),ze(l);break;case"option":y.value!=null&&l.setAttribute("value",""+pe(y.value));break;case"select":l.multiple=!!y.multiple,O=y.value,O!=null?le(l,!!y.multiple,O,!1):y.defaultValue!=null&&le(l,!!y.multiple,y.defaultValue,!0);break;default:typeof P.onClick=="function"&&(l.onclick=Wg)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ws(d),null;case 6:if(l&&d.stateNode!=null)x5(l,d,l.memoizedProps,y);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(p=Gl(Fd.current),Gl(Xi.current),jf(d)){if(y=d.stateNode,p=d.memoizedProps,y[Qr]=d,(O=y.nodeValue!==p)&&(l=qs,l!==null))switch(l.tag){case 3:pf(y.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&pf(y.nodeValue,p,(l.mode&1)!==0)}O&&(d.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Qr]=d,d.stateNode=y}return Ws(d),null;case 13:if(On(Jn),y=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Wn&&Vs!==null&&(d.mode&1)!==0&&(d.flags&128)===0)i0(),Lc(),d.flags|=98560,O=!1;else if(O=jf(d),y!==null&&y.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Qr]=d}else Lc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ws(d),O=!1}else Ei!==null&&(rN(Ei),Ei=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Jn.current&1)!==0?es===0&&(es=3):sN())),d.updateQueue!==null&&(d.flags|=4),Ws(d),null);case 4:return Uc(),W2(l,d),l===null&&hf(d.stateNode.containerInfo),Ws(d),null;case 10:return mm(d.type._context),Ws(d),null;case 17:return zs(d.type)&&yf(),Ws(d),null;case 19:if(On(Jn),O=d.memoizedState,O===null)return Ws(d),null;if(y=(d.flags&128)!==0,q=O.rendering,q===null)if(y)g0(O,!1);else{if(es!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(q=Pf(l),q!==null){for(d.flags|=128,g0(O,!1),y=q.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),d.subtreeFlags=0,y=p,p=d.child;p!==null;)O=p,l=y,O.flags&=14680066,q=O.alternate,q===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=q.childLanes,O.lanes=q.lanes,O.child=q.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=q.memoizedProps,O.memoizedState=q.memoizedState,O.updateQueue=q.updateQueue,O.type=q.type,l=q.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return fn(Jn,Jn.current&1|2),d.child}l=l.sibling}O.tail!==null&&Qe()>Am&&(d.flags|=128,y=!0,g0(O,!1),d.lanes=4194304)}else{if(!y)if(l=Pf(q),l!==null){if(d.flags|=128,y=!0,p=l.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),g0(O,!0),O.tail===null&&O.tailMode==="hidden"&&!q.alternate&&!Wn)return Ws(d),null}else 2*Qe()-O.renderingStartTime>Am&&p!==1073741824&&(d.flags|=128,y=!0,g0(O,!1),d.lanes=4194304);O.isBackwards?(q.sibling=d.child,d.child=q):(p=O.last,p!==null?p.sibling=q:d.child=q,O.last=q)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Qe(),d.sibling=null,p=Jn.current,fn(Jn,y?p&1|2:p&1),d):(Ws(d),null);case 22:case 23:return aN(),y=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(d.flags|=8192),y&&(d.mode&1)!==0?(Zi&1073741824)!==0&&(Ws(d),d.subtreeFlags&6&&(d.flags|=8192)):Ws(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function KX(l,d){switch(lm(d),d.tag){case 1:return zs(d.type)&&yf(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Uc(),On(us),On(Oa),wm(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return vm(d),null;case 13:if(On(Jn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Lc()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return On(Jn),null;case 4:return Uc(),null;case 10:return mm(d.type._context),null;case 22:case 23:return aN(),null;case 24:return null;default:return null}}var fv=!1,Hs=!1,GX=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Pm(l,d){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){ka(l,d,y)}else p.current=null}function H2(l,d,p){try{p()}catch(y){ka(l,d,y)}}var y5=!1;function YX(l,d){if(Ec=Dl,l=Jh(),Zh(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var P=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var q=0,se=-1,me=-1,Ee=0,Ye=0,Je=l,Ke=null;t:for(;;){for(var Tt;Je!==p||P!==0&&Je.nodeType!==3||(se=q+P),Je!==O||y!==0&&Je.nodeType!==3||(me=q+y),Je.nodeType===3&&(q+=Je.nodeValue.length),(Tt=Je.firstChild)!==null;)Ke=Je,Je=Tt;for(;;){if(Je===l)break t;if(Ke===p&&++Ee===P&&(se=q),Ke===O&&++Ye===y&&(me=q),(Tt=Je.nextSibling)!==null)break;Je=Ke,Ke=Je.parentNode}Je=Tt}p=se===-1||me===-1?null:{start:se,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(Hg={focusedElem:l,selectionRange:p},Dl=!1,Mt=d;Mt!==null;)if(d=Mt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Mt=l;else for(;Mt!==null;){d=Mt;try{var $t=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var zt=$t.memoizedProps,Ra=$t.memoizedState,je=d.stateNode,xe=je.getSnapshotBeforeUpdate(d.elementType===d.type?zt:ui(d.type,zt),Ra);je.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var ke=d.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(st){ka(d,d.return,st)}if(l=d.sibling,l!==null){l.return=d.return,Mt=l;break}Mt=d.return}return $t=y5,y5=!1,$t}function x0(l,d,p){var y=d.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var P=y=y.next;do{if((P.tag&l)===l){var O=P.destroy;P.destroy=void 0,O!==void 0&&H2(d,p,O)}P=P.next}while(P!==y)}}function hv(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&l)===l){var y=p.create;p.destroy=y()}p=p.next}while(p!==d)}}function K2(l){var d=l.ref;if(d!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof d=="function"?d(l):d.current=l}}function v5(l){var d=l.alternate;d!==null&&(l.alternate=null,v5(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Qr],delete d[Zo],delete d[Qg],delete d[I2],delete d[nv])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function b5(l){return l.tag===5||l.tag===3||l.tag===4}function w5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||b5(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function G2(l,d,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(l,d):p.insertBefore(l,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(l,p)):(d=p,d.appendChild(l)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Wg));else if(y!==4&&(l=l.child,l!==null))for(G2(l,d,p),l=l.sibling;l!==null;)G2(l,d,p),l=l.sibling}function Y2(l,d,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Y2(l,d,p),l=l.sibling;l!==null;)Y2(l,d,p),l=l.sibling}var _s=null,al=!1;function qd(l,d,p){for(p=p.child;p!==null;)N5(l,d,p),p=p.sibling}function N5(l,d,p){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Pr,p)}catch{}switch(p.tag){case 5:Hs||Pm(p,d);case 6:var y=_s,P=al;_s=null,qd(l,d,p),_s=y,al=P,_s!==null&&(al?(l=_s,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):_s.removeChild(p.stateNode));break;case 18:_s!==null&&(al?(l=_s,p=p.stateNode,l.nodeType===8?gf(l.parentNode,p):l.nodeType===1&&gf(l,p),Ki(l)):gf(_s,p.stateNode));break;case 4:y=_s,P=al,_s=p.stateNode.containerInfo,al=!0,qd(l,d,p),_s=y,al=P;break;case 0:case 11:case 14:case 15:if(!Hs&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){P=y=y.next;do{var O=P,q=O.destroy;O=O.tag,q!==void 0&&((O&2)!==0||(O&4)!==0)&&H2(p,d,q),P=P.next}while(P!==y)}qd(l,d,p);break;case 1:if(!Hs&&(Pm(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(se){ka(p,d,se)}qd(l,d,p);break;case 21:qd(l,d,p);break;case 22:p.mode&1?(Hs=(y=Hs)||p.memoizedState!==null,qd(l,d,p),Hs=y):qd(l,d,p);break;default:qd(l,d,p)}}function j5(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new GX),d.forEach(function(y){var P=aQ.bind(null,l,y);p.has(y)||(p.add(y),y.then(P,P))})}}function sl(l,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var P=p[y];try{var O=l,q=d,se=q;e:for(;se!==null;){switch(se.tag){case 5:_s=se.stateNode,al=!1;break e;case 3:_s=se.stateNode.containerInfo,al=!0;break e;case 4:_s=se.stateNode.containerInfo,al=!0;break e}se=se.return}if(_s===null)throw Error(r(160));N5(O,q,P),_s=null,al=!1;var me=P.alternate;me!==null&&(me.return=null),P.return=null}catch(Ee){ka(P,d,Ee)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)S5(d,l),d=d.sibling}function S5(l,d){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(sl(d,l),Xl(l),y&4){try{x0(3,l,l.return),hv(3,l)}catch(zt){ka(l,l.return,zt)}try{x0(5,l,l.return)}catch(zt){ka(l,l.return,zt)}}break;case 1:sl(d,l),Xl(l),y&512&&p!==null&&Pm(p,p.return);break;case 5:if(sl(d,l),Xl(l),y&512&&p!==null&&Pm(p,p.return),l.flags&32){var P=l.stateNode;try{Fs(P,"")}catch(zt){ka(l,l.return,zt)}}if(y&4&&(P=l.stateNode,P!=null)){var O=l.memoizedProps,q=p!==null?p.memoizedProps:O,se=l.type,me=l.updateQueue;if(l.updateQueue=null,me!==null)try{se==="input"&&O.type==="radio"&&O.name!=null&&Qt(P,O),Ci(se,q);var Ee=Ci(se,O);for(q=0;q<me.length;q+=2){var Ye=me[q],Je=me[q+1];Ye==="style"?Bs(P,Je):Ye==="dangerouslySetInnerHTML"?pa(P,Je):Ye==="children"?Fs(P,Je):E(P,Ye,Je,Ee)}switch(se){case"input":Ar(P,O);break;case"textarea":He(P,O);break;case"select":var Ke=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!O.multiple;var Tt=O.value;Tt!=null?le(P,!!O.multiple,Tt,!1):Ke!==!!O.multiple&&(O.defaultValue!=null?le(P,!!O.multiple,O.defaultValue,!0):le(P,!!O.multiple,O.multiple?[]:"",!1))}P[Zo]=O}catch(zt){ka(l,l.return,zt)}}break;case 6:if(sl(d,l),Xl(l),y&4){if(l.stateNode===null)throw Error(r(162));P=l.stateNode,O=l.memoizedProps;try{P.nodeValue=O}catch(zt){ka(l,l.return,zt)}}break;case 3:if(sl(d,l),Xl(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Ki(d.containerInfo)}catch(zt){ka(l,l.return,zt)}break;case 4:sl(d,l),Xl(l);break;case 13:sl(d,l),Xl(l),P=l.child,P.flags&8192&&(O=P.memoizedState!==null,P.stateNode.isHidden=O,!O||P.alternate!==null&&P.alternate.memoizedState!==null||(J2=Qe())),y&4&&j5(l);break;case 22:if(Ye=p!==null&&p.memoizedState!==null,l.mode&1?(Hs=(Ee=Hs)||Ye,sl(d,l),Hs=Ee):sl(d,l),Xl(l),y&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Ye&&(l.mode&1)!==0)for(Mt=l,Ye=l.child;Ye!==null;){for(Je=Mt=Ye;Mt!==null;){switch(Ke=Mt,Tt=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:x0(4,Ke,Ke.return);break;case 1:Pm(Ke,Ke.return);var $t=Ke.stateNode;if(typeof $t.componentWillUnmount=="function"){y=Ke,p=Ke.return;try{d=y,$t.props=d.memoizedProps,$t.state=d.memoizedState,$t.componentWillUnmount()}catch(zt){ka(y,p,zt)}}break;case 5:Pm(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){C5(Je);continue}}Tt!==null?(Tt.return=Ke,Mt=Tt):C5(Je)}Ye=Ye.sibling}e:for(Ye=null,Je=l;;){if(Je.tag===5){if(Ye===null){Ye=Je;try{P=Je.stateNode,Ee?(O=P.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(se=Je.stateNode,me=Je.memoizedProps.style,q=me!=null&&me.hasOwnProperty("display")?me.display:null,se.style.display=ri("display",q))}catch(zt){ka(l,l.return,zt)}}}else if(Je.tag===6){if(Ye===null)try{Je.stateNode.nodeValue=Ee?"":Je.memoizedProps}catch(zt){ka(l,l.return,zt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===l)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===l)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===l)break e;Ye===Je&&(Ye=null),Je=Je.return}Ye===Je&&(Ye=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:sl(d,l),Xl(l),y&4&&j5(l);break;case 21:break;default:sl(d,l),Xl(l)}}function Xl(l){var d=l.flags;if(d&2){try{e:{for(var p=l.return;p!==null;){if(b5(p)){var y=p;break e}p=p.return}throw Error(r(160))}switch(y.tag){case 5:var P=y.stateNode;y.flags&32&&(Fs(P,""),y.flags&=-33);var O=w5(l);Y2(l,O,P);break;case 3:case 4:var q=y.stateNode.containerInfo,se=w5(l);G2(l,se,q);break;default:throw Error(r(161))}}catch(me){ka(l,l.return,me)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function XX(l,d,p){Mt=l,k5(l)}function k5(l,d,p){for(var y=(l.mode&1)!==0;Mt!==null;){var P=Mt,O=P.child;if(P.tag===22&&y){var q=P.memoizedState!==null||fv;if(!q){var se=P.alternate,me=se!==null&&se.memoizedState!==null||Hs;se=fv;var Ee=Hs;if(fv=q,(Hs=me)&&!Ee)for(Mt=P;Mt!==null;)q=Mt,me=q.child,q.tag===22&&q.memoizedState!==null?T5(P):me!==null?(me.return=q,Mt=me):T5(P);for(;O!==null;)Mt=O,k5(O),O=O.sibling;Mt=P,fv=se,Hs=Ee}_5(l)}else(P.subtreeFlags&8772)!==0&&O!==null?(O.return=P,Mt=O):_5(l)}}function _5(l){for(;Mt!==null;){var d=Mt;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Hs||hv(5,d);break;case 1:var y=d.stateNode;if(d.flags&4&&!Hs)if(p===null)y.componentDidMount();else{var P=d.elementType===d.type?p.memoizedProps:ui(d.type,p.memoizedProps);y.componentDidUpdate(P,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&h0(d,O,y);break;case 3:var q=d.updateQueue;if(q!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}h0(d,q,p)}break;case 5:var se=d.stateNode;if(p===null&&d.flags&4){p=se;var me=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&p.focus();break;case"img":me.src&&(p.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ee=d.alternate;if(Ee!==null){var Ye=Ee.memoizedState;if(Ye!==null){var Je=Ye.dehydrated;Je!==null&&Ki(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hs||d.flags&512&&K2(d)}catch(Ke){ka(d,d.return,Ke)}}if(d===l){Mt=null;break}if(p=d.sibling,p!==null){p.return=d.return,Mt=p;break}Mt=d.return}}function C5(l){for(;Mt!==null;){var d=Mt;if(d===l){Mt=null;break}var p=d.sibling;if(p!==null){p.return=d.return,Mt=p;break}Mt=d.return}}function T5(l){for(;Mt!==null;){var d=Mt;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{hv(4,d)}catch(me){ka(d,p,me)}break;case 1:var y=d.stateNode;if(typeof y.componentDidMount=="function"){var P=d.return;try{y.componentDidMount()}catch(me){ka(d,P,me)}}var O=d.return;try{K2(d)}catch(me){ka(d,O,me)}break;case 5:var q=d.return;try{K2(d)}catch(me){ka(d,q,me)}}}catch(me){ka(d,d.return,me)}if(d===l){Mt=null;break}var se=d.sibling;if(se!==null){se.return=d.return,Mt=se;break}Mt=d.return}}var QX=Math.ceil,mv=k.ReactCurrentDispatcher,X2=k.ReactCurrentOwner,ko=k.ReactCurrentBatchConfig,yn=0,fs=null,Ua=null,Cs=0,Zi=0,Em=Vl(0),es=0,y0=null,Rf=0,pv=0,Q2=0,v0=null,Ii=null,J2=0,Am=1/0,qc=null,gv=!1,Z2=null,Vd=null,xv=!1,Wd=null,yv=0,b0=0,eN=null,vv=-1,bv=0;function hi(){return(yn&6)!==0?Qe():vv!==-1?vv:vv=Qe()}function Hd(l){return(l.mode&1)===0?1:(yn&2)!==0&&Cs!==0?Cs&-Cs:sv.transition!==null?(bv===0&&(bv=fa()),bv):(l=Cr,l!==0||(l=window.event,l=l===void 0?16:Wh(l.type)),l)}function il(l,d,p,y){if(50<b0)throw b0=0,eN=null,Error(r(185));Wo(l,p,y),((yn&2)===0||l!==fs)&&(l===fs&&((yn&2)===0&&(pv|=p),es===4&&Kd(l,Cs)),Oi(l,y),p===1&&yn===0&&(d.mode&1)===0&&(Am=Qe()+500,bf&&tl()))}function Oi(l,d){var p=l.callbackNode;Hi(l,d);var y=Ol(l,l===fs?Cs:0);if(y===0)p!==null&&et(p),l.callbackNode=null,l.callbackPriority=0;else if(d=y&-y,l.callbackPriority!==d){if(p!=null&&et(p),d===1)l.tag===0?av(E5.bind(null,l)):t0(E5.bind(null,l)),tv(function(){(yn&6)===0&&tl()}),p=null;else{switch(Ho(y)){case 1:p=cr;break;case 4:p=Lt;break;case 16:p=ir;break;case 536870912:p=jr;break;default:p=ir}p=$5(p,P5.bind(null,l))}l.callbackPriority=d,l.callbackNode=p}}function P5(l,d){if(vv=-1,bv=0,(yn&6)!==0)throw Error(r(327));var p=l.callbackNode;if(Im()&&l.callbackNode!==p)return null;var y=Ol(l,l===fs?Cs:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||d)d=wv(l,y);else{d=y;var P=yn;yn|=2;var O=I5();(fs!==l||Cs!==d)&&(qc=null,Am=Qe()+500,Lf(l,d));do try{eQ();break}catch(se){A5(l,se)}while(!0);hm(),mv.current=O,yn=P,Ua!==null?d=0:(fs=null,Cs=0,d=es)}if(d!==0){if(d===2&&(P=ar(l),P!==0&&(y=P,d=tN(l,P))),d===1)throw p=y0,Lf(l,0),Kd(l,y),Oi(l,Qe()),p;if(d===6)Kd(l,y);else{if(P=l.current.alternate,(y&30)===0&&!JX(P)&&(d=wv(l,y),d===2&&(O=ar(l),O!==0&&(y=O,d=tN(l,O))),d===1))throw p=y0,Lf(l,0),Kd(l,y),Oi(l,Qe()),p;switch(l.finishedWork=P,l.finishedLanes=y,d){case 0:case 1:throw Error(r(345));case 2:$f(l,Ii,qc);break;case 3:if(Kd(l,y),(y&130023424)===y&&(d=J2+500-Qe(),10<d)){if(Ol(l,0)!==0)break;if(P=l.suspendedLanes,(P&y)!==y){hi(),l.pingedLanes|=l.suspendedLanes&P;break}l.timeoutHandle=Gg($f.bind(null,l,Ii,qc),d);break}$f(l,Ii,qc);break;case 4:if(Kd(l,y),(y&4194240)===y)break;for(d=l.eventTimes,P=-1;0<y;){var q=31-zn(y);O=1<<q,q=d[q],q>P&&(P=q),y&=~O}if(y=P,y=Qe()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*QX(y/1960))-y,10<y){l.timeoutHandle=Gg($f.bind(null,l,Ii,qc),y);break}$f(l,Ii,qc);break;case 5:$f(l,Ii,qc);break;default:throw Error(r(329))}}}return Oi(l,Qe()),l.callbackNode===p?P5.bind(null,l):null}function tN(l,d){var p=v0;return l.current.memoizedState.isDehydrated&&(Lf(l,d).flags|=256),l=wv(l,d),l!==2&&(d=Ii,Ii=p,d!==null&&rN(d)),l}function rN(l){Ii===null?Ii=l:Ii.push.apply(Ii,l)}function JX(l){for(var d=l;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var P=p[y],O=P.getSnapshot;P=P.value;try{if(!js(O(),P))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Kd(l,d){for(d&=~Q2,d&=~pv,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var p=31-zn(d),y=1<<p;l[p]=-1,d&=~y}}function E5(l){if((yn&6)!==0)throw Error(r(327));Im();var d=Ol(l,0);if((d&1)===0)return Oi(l,Qe()),null;var p=wv(l,d);if(l.tag!==0&&p===2){var y=ar(l);y!==0&&(d=y,p=tN(l,y))}if(p===1)throw p=y0,Lf(l,0),Kd(l,d),Oi(l,Qe()),p;if(p===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,$f(l,Ii,qc),Oi(l,Qe()),null}function nN(l,d){var p=yn;yn|=1;try{return l(d)}finally{yn=p,yn===0&&(Am=Qe()+500,bf&&tl())}}function Df(l){Wd!==null&&Wd.tag===0&&(yn&6)===0&&Im();var d=yn;yn|=1;var p=ko.transition,y=Cr;try{if(ko.transition=null,Cr=1,l)return l()}finally{Cr=y,ko.transition=p,yn=d,(yn&6)===0&&tl()}}function aN(){Zi=Em.current,On(Em)}function Lf(l,d){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,Yg(p)),Ua!==null)for(p=Ua.return;p!==null;){var y=p;switch(lm(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&yf();break;case 3:Uc(),On(us),On(Oa),wm();break;case 5:vm(y);break;case 4:Uc();break;case 13:On(Jn);break;case 19:On(Jn);break;case 10:mm(y.type._context);break;case 22:case 23:aN()}p=p.return}if(fs=l,Ua=l=Gd(l.current,null),Cs=Zi=d,es=0,y0=null,Q2=pv=Rf=0,Ii=v0=null,Kl!==null){for(d=0;d<Kl.length;d++)if(p=Kl[d],y=p.interleaved,y!==null){p.interleaved=null;var P=y.next,O=p.pending;if(O!==null){var q=O.next;O.next=P,y.next=q}p.pending=y}Kl=null}return l}function A5(l,d){do{var p=Ua;try{if(hm(),Ef.current=Qi,Af){for(var y=Zn.memoizedState;y!==null;){var P=y.queue;P!==null&&(P.pending=null),y=y.next}Af=!1}if(Yl=0,Ma=Sa=Zn=null,Bd=!1,Ud=0,X2.current=null,p===null||p.return===null){es=1,y0=d,Ua=null;break}e:{var O=l,q=p.return,se=p,me=d;if(d=Cs,se.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ee=me,Ye=se,Je=Ye.tag;if((Ye.mode&1)===0&&(Je===0||Je===11||Je===15)){var Ke=Ye.alternate;Ke?(Ye.updateQueue=Ke.updateQueue,Ye.memoizedState=Ke.memoizedState,Ye.lanes=Ke.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var Tt=r5(q);if(Tt!==null){Tt.flags&=-257,n5(Tt,q,se,O,d),Tt.mode&1&&t5(O,Ee,d),d=Tt,me=Ee;var $t=d.updateQueue;if($t===null){var zt=new Set;zt.add(me),d.updateQueue=zt}else $t.add(me);break e}else{if((d&1)===0){t5(O,Ee,d),sN();break e}me=Error(r(426))}}else if(Wn&&se.mode&1){var Ra=r5(q);if(Ra!==null){(Ra.flags&65536)===0&&(Ra.flags|=256),n5(Ra,q,se,O,d),um(Tm(me,se));break e}}O=me=Tm(me,se),es!==4&&(es=2),v0===null?v0=[O]:v0.push(O),O=q;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var je=ZP(O,me,d);f0(O,je);break e;case 1:se=me;var xe=O.type,ke=O.stateNode;if((O.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(Vd===null||!Vd.has(ke)))){O.flags|=65536,d&=-d,O.lanes|=d;var st=e5(O,se,d);f0(O,st);break e}}O=O.return}while(O!==null)}M5(p)}catch(qt){d=qt,Ua===p&&p!==null&&(Ua=p=p.return);continue}break}while(!0)}function I5(){var l=mv.current;return mv.current=Qi,l===null?Qi:l}function sN(){(es===0||es===3||es===2)&&(es=4),fs===null||(Rf&268435455)===0&&(pv&268435455)===0||Kd(fs,Cs)}function wv(l,d){var p=yn;yn|=2;var y=I5();(fs!==l||Cs!==d)&&(qc=null,Lf(l,d));do try{ZX();break}catch(P){A5(l,P)}while(!0);if(hm(),yn=p,mv.current=y,Ua!==null)throw Error(r(261));return fs=null,Cs=0,es}function ZX(){for(;Ua!==null;)O5(Ua)}function eQ(){for(;Ua!==null&&!Re();)O5(Ua)}function O5(l){var d=L5(l.alternate,l,Zi);l.memoizedProps=l.pendingProps,d===null?M5(l):Ua=d,X2.current=null}function M5(l){var d=l;do{var p=d.alternate;if(l=d.return,(d.flags&32768)===0){if(p=HX(p,d,Zi),p!==null){Ua=p;return}}else{if(p=KX(p,d),p!==null){p.flags&=32767,Ua=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{es=6,Ua=null;return}}if(d=d.sibling,d!==null){Ua=d;return}Ua=d=l}while(d!==null);es===0&&(es=5)}function $f(l,d,p){var y=Cr,P=ko.transition;try{ko.transition=null,Cr=1,tQ(l,d,p,y)}finally{ko.transition=P,Cr=y}return null}function tQ(l,d,p,y){do Im();while(Wd!==null);if((yn&6)!==0)throw Error(r(327));p=l.finishedWork;var P=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var O=p.lanes|p.childLanes;if(qh(l,O),l===fs&&(Ua=fs=null,Cs=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||xv||(xv=!0,$5(ir,function(){return Im(),null})),O=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||O){O=ko.transition,ko.transition=null;var q=Cr;Cr=1;var se=yn;yn|=4,X2.current=null,YX(l,p),S5(p,l),em(Hg),Dl=!!Ec,Hg=Ec=null,l.current=p,XX(p),ut(),yn=se,Cr=q,ko.transition=O}else l.current=p;if(xv&&(xv=!1,Wd=l,yv=P),O=l.pendingLanes,O===0&&(Vd=null),Ea(p.stateNode),Oi(l,Qe()),d!==null)for(y=l.onRecoverableError,p=0;p<d.length;p++)P=d[p],y(P.value,{componentStack:P.stack,digest:P.digest});if(gv)throw gv=!1,l=Z2,Z2=null,l;return(yv&1)!==0&&l.tag!==0&&Im(),O=l.pendingLanes,(O&1)!==0?l===eN?b0++:(b0=0,eN=l):b0=0,tl(),null}function Im(){if(Wd!==null){var l=Ho(yv),d=ko.transition,p=Cr;try{if(ko.transition=null,Cr=16>l?16:l,Wd===null)var y=!1;else{if(l=Wd,Wd=null,yv=0,(yn&6)!==0)throw Error(r(331));var P=yn;for(yn|=4,Mt=l.current;Mt!==null;){var O=Mt,q=O.child;if((Mt.flags&16)!==0){var se=O.deletions;if(se!==null){for(var me=0;me<se.length;me++){var Ee=se[me];for(Mt=Ee;Mt!==null;){var Ye=Mt;switch(Ye.tag){case 0:case 11:case 15:x0(8,Ye,O)}var Je=Ye.child;if(Je!==null)Je.return=Ye,Mt=Je;else for(;Mt!==null;){Ye=Mt;var Ke=Ye.sibling,Tt=Ye.return;if(v5(Ye),Ye===Ee){Mt=null;break}if(Ke!==null){Ke.return=Tt,Mt=Ke;break}Mt=Tt}}}var $t=O.alternate;if($t!==null){var zt=$t.child;if(zt!==null){$t.child=null;do{var Ra=zt.sibling;zt.sibling=null,zt=Ra}while(zt!==null)}}Mt=O}}if((O.subtreeFlags&2064)!==0&&q!==null)q.return=O,Mt=q;else e:for(;Mt!==null;){if(O=Mt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:x0(9,O,O.return)}var je=O.sibling;if(je!==null){je.return=O.return,Mt=je;break e}Mt=O.return}}var xe=l.current;for(Mt=xe;Mt!==null;){q=Mt;var ke=q.child;if((q.subtreeFlags&2064)!==0&&ke!==null)ke.return=q,Mt=ke;else e:for(q=xe;Mt!==null;){if(se=Mt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:hv(9,se)}}catch(qt){ka(se,se.return,qt)}if(se===q){Mt=null;break e}var st=se.sibling;if(st!==null){st.return=se.return,Mt=st;break e}Mt=se.return}}if(yn=P,tl(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Pr,l)}catch{}y=!0}return y}finally{Cr=p,ko.transition=d}}return!1}function R5(l,d,p){d=Tm(p,d),d=ZP(l,d,1),l=nl(l,d,1),d=hi(),l!==null&&(Wo(l,1,d),Oi(l,d))}function ka(l,d,p){if(l.tag===3)R5(l,l,p);else for(;d!==null;){if(d.tag===3){R5(d,l,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Vd===null||!Vd.has(y))){l=Tm(p,l),l=e5(d,l,1),d=nl(d,l,1),l=hi(),d!==null&&(Wo(d,1,l),Oi(d,l));break}}d=d.return}}function rQ(l,d,p){var y=l.pingCache;y!==null&&y.delete(d),d=hi(),l.pingedLanes|=l.suspendedLanes&p,fs===l&&(Cs&p)===p&&(es===4||es===3&&(Cs&130023424)===Cs&&500>Qe()-J2?Lf(l,0):Q2|=p),Oi(l,d)}function D5(l,d){d===0&&((l.mode&1)===0?d=1:(d=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var p=hi();l=No(l,d),l!==null&&(Wo(l,d,p),Oi(l,p))}function nQ(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),D5(l,p)}function aQ(l,d){var p=0;switch(l.tag){case 13:var y=l.stateNode,P=l.memoizedState;P!==null&&(p=P.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(d),D5(l,p)}var L5;L5=function(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps||us.current)Ai=!0;else{if((l.lanes&p)===0&&(d.flags&128)===0)return Ai=!1,WX(l,d,p);Ai=(l.flags&131072)!==0}else Ai=!1,Wn&&(d.flags&1048576)!==0&&r0(d,Nf,d.index);switch(d.lanes=0,d.tag){case 2:var y=d.type;uv(l,d),l=d.pendingProps;var P=Yi(d,Oa.current);Bc(d,p),P=Sm(null,d,y,l,P,p);var O=km();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,zs(y)?(O=!0,vf(d)):O=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,xm(d),P.updater=cv,d.stateNode=P,P._reactInternals=d,D2(d,y,l,p),d=B2(null,d,y,!0,O,p)):(d.tag=0,Wn&&O&&om(d),fi(null,d,P,p),d=d.child),d;case 16:y=d.elementType;e:{switch(uv(l,d),l=d.pendingProps,P=y._init,y=P(y._payload),d.type=y,P=d.tag=iQ(y),l=ui(y,l),P){case 0:d=F2(null,d,y,l,p);break e;case 1:d=c5(null,d,y,l,p);break e;case 11:d=a5(null,d,y,l,p);break e;case 14:d=s5(null,d,y,ui(y.type,l),p);break e}throw Error(r(306,y,""))}return d;case 0:return y=d.type,P=d.pendingProps,P=d.elementType===y?P:ui(y,P),F2(l,d,y,P,p);case 1:return y=d.type,P=d.pendingProps,P=d.elementType===y?P:ui(y,P),c5(l,d,y,P,p);case 3:e:{if(d5(d),l===null)throw Error(r(387));y=d.pendingProps,O=d.memoizedState,P=O.element,u0(l,d),Tf(d,y,null,p);var q=d.memoizedState;if(y=q.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){P=Tm(Error(r(423)),d),d=u5(l,d,y,p,P);break e}else if(y!==P){P=Tm(Error(r(424)),d),d=u5(l,d,y,p,P);break e}else for(Vs=oi(d.stateNode.containerInfo.firstChild),qs=d,Wn=!0,Ei=null,p=c0(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Lc(),y===P){d=zc(l,d,p);break e}fi(l,d,y,p)}d=d.child}return d;case 5:return m0(d),l===null&&dm(d),y=d.type,P=d.pendingProps,O=l!==null?l.memoizedProps:null,q=P.children,Kg(y,P)?q=null:O!==null&&Kg(y,O)&&(d.flags|=32),l5(l,d),fi(l,d,q,p),d.child;case 6:return l===null&&dm(d),null;case 13:return f5(l,d,p);case 4:return ym(d,d.stateNode.containerInfo),y=d.pendingProps,l===null?d.child=$c(d,null,y,p):fi(l,d,y,p),d.child;case 11:return y=d.type,P=d.pendingProps,P=d.elementType===y?P:ui(y,P),a5(l,d,y,P,p);case 7:return fi(l,d,d.pendingProps,p),d.child;case 8:return fi(l,d,d.pendingProps.children,p),d.child;case 12:return fi(l,d,d.pendingProps.children,p),d.child;case 10:e:{if(y=d.type._context,P=d.pendingProps,O=d.memoizedProps,q=P.value,fn(kf,y._currentValue),y._currentValue=q,O!==null)if(js(O.value,q)){if(O.children===P.children&&!us.current){d=zc(l,d,p);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var se=O.dependencies;if(se!==null){q=O.child;for(var me=se.firstContext;me!==null;){if(me.context===y){if(O.tag===1){me=jo(-1,p&-p),me.tag=2;var Ee=O.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ye=Ee.pending;Ye===null?me.next=me:(me.next=Ye.next,Ye.next=me),Ee.pending=me}}O.lanes|=p,me=O.alternate,me!==null&&(me.lanes|=p),pm(O.return,p,d),se.lanes|=p;break}me=me.next}}else if(O.tag===10)q=O.type===d.type?null:O.child;else if(O.tag===18){if(q=O.return,q===null)throw Error(r(341));q.lanes|=p,se=q.alternate,se!==null&&(se.lanes|=p),pm(q,p,d),q=O.sibling}else q=O.child;if(q!==null)q.return=O;else for(q=O;q!==null;){if(q===d){q=null;break}if(O=q.sibling,O!==null){O.return=q.return,q=O;break}q=q.return}O=q}fi(l,d,P.children,p),d=d.child}return d;case 9:return P=d.type,y=d.pendingProps.children,Bc(d,p),P=di(P),y=y(P),d.flags|=1,fi(l,d,y,p),d.child;case 14:return y=d.type,P=ui(y,d.pendingProps),P=ui(y.type,P),s5(l,d,y,P,p);case 15:return i5(l,d,d.type,d.pendingProps,p);case 17:return y=d.type,P=d.pendingProps,P=d.elementType===y?P:ui(y,P),uv(l,d),d.tag=1,zs(y)?(l=!0,vf(d)):l=!1,Bc(d,p),QP(d,y,P),D2(d,y,P,p),B2(null,d,y,!0,l,p);case 19:return m5(l,d,p);case 22:return o5(l,d,p)}throw Error(r(156,d.tag))};function $5(l,d){return Ve(l,d)}function sQ(l,d,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(l,d,p,y){return new sQ(l,d,p,y)}function iN(l){return l=l.prototype,!(!l||!l.isReactComponent)}function iQ(l){if(typeof l=="function")return iN(l)?1:0;if(l!=null){if(l=l.$$typeof,l===z)return 11;if(l===Z)return 14}return 2}function Gd(l,d){var p=l.alternate;return p===null?(p=_o(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Nv(l,d,p,y,P,O){var q=2;if(y=l,typeof l=="function")iN(l)&&(q=1);else if(typeof l=="string")q=5;else e:switch(l){case A:return Ff(p.children,P,O,d);case R:q=8,P|=8;break;case D:return l=_o(12,p,d,P|2),l.elementType=D,l.lanes=O,l;case X:return l=_o(13,p,d,P),l.elementType=X,l.lanes=O,l;case V:return l=_o(19,p,d,P),l.elementType=V,l.lanes=O,l;case W:return jv(p,P,O,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case B:q=10;break e;case F:q=9;break e;case z:q=11;break e;case Z:q=14;break e;case ee:q=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=_o(q,p,d,P),d.elementType=l,d.type=y,d.lanes=O,d}function Ff(l,d,p,y){return l=_o(7,l,y,d),l.lanes=p,l}function jv(l,d,p,y){return l=_o(22,l,y,d),l.elementType=W,l.lanes=p,l.stateNode={isHidden:!1},l}function oN(l,d,p){return l=_o(6,l,null,d),l.lanes=p,l}function lN(l,d,p){return d=_o(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function oQ(l,d,p,y,P){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=y,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function cN(l,d,p,y,P,O,q,se,me){return l=new oQ(l,d,p,se,me),d===1?(d=1,O===!0&&(d|=8)):d=0,O=_o(3,null,null,d),l.current=O,O.stateNode=l,O.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(O),l}function lQ(l,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:y==null?null:""+y,children:l,containerInfo:d,implementation:p}}function F5(l){if(!l)return Oc;l=l._reactInternals;e:{if(Nr(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(zs(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var p=l.type;if(zs(p))return Zg(l,p,d)}return d}function B5(l,d,p,y,P,O,q,se,me){return l=cN(p,y,!0,l,P,O,q,se,me),l.context=F5(null),p=l.current,y=hi(),P=Hd(p),O=jo(y,P),O.callback=d??null,nl(p,O,P),l.current.lanes=P,Wo(l,P,y),Oi(l,y),l}function Sv(l,d,p,y){var P=d.current,O=hi(),q=Hd(P);return p=F5(p),d.context===null?d.context=p:d.pendingContext=p,d=jo(O,q),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=nl(P,d,q),l!==null&&(il(l,P,q,O),Cf(l,P,q)),q}function kv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function U5(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function dN(l,d){U5(l,d),(l=l.alternate)&&U5(l,d)}function cQ(){return null}var z5=typeof reportError=="function"?reportError:function(l){console.error(l)};function uN(l){this._internalRoot=l}_v.prototype.render=uN.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));Sv(l,d,null,null)},_v.prototype.unmount=uN.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Df(function(){Sv(null,l,null,null)}),d[Fe]=null}};function _v(l){this._internalRoot=l}_v.prototype.unstable_scheduleHydration=function(l){if(l){var d=nf();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Ti.length&&d!==0&&d<Ti[p].priority;p++);Ti.splice(p,0,l),p===0&&wc(l)}};function fN(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Cv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function q5(){}function dQ(l,d,p,y,P){if(P){if(typeof y=="function"){var O=y;y=function(){var Ee=kv(q);O.call(Ee)}}var q=B5(d,y,l,0,null,!1,!1,"",q5);return l._reactRootContainer=q,l[Fe]=q.current,hf(l.nodeType===8?l.parentNode:l),Df(),q}for(;P=l.lastChild;)l.removeChild(P);if(typeof y=="function"){var se=y;y=function(){var Ee=kv(me);se.call(Ee)}}var me=cN(l,0,!1,null,null,!1,!1,"",q5);return l._reactRootContainer=me,l[Fe]=me.current,hf(l.nodeType===8?l.parentNode:l),Df(function(){Sv(d,me,p,y)}),me}function Tv(l,d,p,y,P){var O=p._reactRootContainer;if(O){var q=O;if(typeof P=="function"){var se=P;P=function(){var me=kv(q);se.call(me)}}Sv(d,q,l,P)}else q=dQ(p,d,l,P,y);return kv(q)}tf=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var p=ua(d.pendingLanes);p!==0&&(fo(d,p|1),Oi(d,Qe()),(yn&6)===0&&(Am=Qe()+500,tl()))}break;case 13:Df(function(){var y=No(l,1);if(y!==null){var P=hi();il(y,l,1,P)}}),dN(l,1)}},rf=function(l){if(l.tag===13){var d=No(l,134217728);if(d!==null){var p=hi();il(d,l,134217728,p)}dN(l,134217728)}},Tg=function(l){if(l.tag===13){var d=Hd(l),p=No(l,d);if(p!==null){var y=hi();il(p,l,d,y)}dN(l,d)}},nf=function(){return Cr},Xy=function(l,d){var p=Cr;try{return Cr=l,d()}finally{Cr=p}},ht=function(l,d,p){switch(d){case"input":if(Ar(l,p),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==l&&y.form===l.form){var P=xf(y);if(!P)throw Error(r(90));Ne(y),Ar(y,P)}}}break;case"textarea":He(l,p);break;case"select":d=p.value,d!=null&&le(l,!!p.multiple,d,!1)}},Pt=nN,Dt=Df;var uQ={usingClientEntryPoint:!1,Events:[Ac,Ic,xf,tr,Y,nN]},w0={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fQ={bundleType:w0.bundleType,version:w0.version,rendererPackageName:w0.rendererPackageName,rendererConfig:w0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Tr(l),l===null?null:l.stateNode},findFiberByHostInstance:w0.findFiberByHostInstance||cQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{Pr=Pv.inject(fQ),br=Pv}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uQ,Mi.createPortal=function(l,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fN(d))throw Error(r(200));return lQ(l,d,null,p)},Mi.createRoot=function(l,d){if(!fN(l))throw Error(r(299));var p=!1,y="",P=z5;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=cN(l,1,!1,null,null,p,!1,y,P),l[Fe]=d.current,hf(l.nodeType===8?l.parentNode:l),new uN(d)},Mi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Tr(d),l=l===null?null:l.stateNode,l},Mi.flushSync=function(l){return Df(l)},Mi.hydrate=function(l,d,p){if(!Cv(d))throw Error(r(200));return Tv(null,l,d,!0,p)},Mi.hydrateRoot=function(l,d,p){if(!fN(l))throw Error(r(405));var y=p!=null&&p.hydratedSources||null,P=!1,O="",q=z5;if(p!=null&&(p.unstable_strictMode===!0&&(P=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(q=p.onRecoverableError)),d=B5(d,null,l,1,p??null,P,!1,O,q),l[Fe]=d.current,hf(l),y)for(l=0;l<y.length;l++)p=y[l],P=p._getVersion,P=P(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,P]:d.mutableSourceEagerHydrationData.push(p,P);return new _v(d)},Mi.render=function(l,d,p){if(!Cv(d))throw Error(r(200));return Tv(null,l,d,!1,p)},Mi.unmountComponentAtNode=function(l){if(!Cv(l))throw Error(r(40));return l._reactRootContainer?(Df(function(){Tv(null,null,l,!1,function(){l._reactRootContainer=null,l[Fe]=null})}),!0):!1},Mi.unstable_batchedUpdates=nN,Mi.unstable_renderSubtreeIntoContainer=function(l,d,p,y){if(!Cv(p))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Tv(l,d,p,!1,y)},Mi.version="18.3.1-next-f1338f8080-20240426",Mi}var J5;function Y$(){if(J5)return gN.exports;J5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gN.exports=NQ(),gN.exports}var Z5;function jQ(){if(Z5)return Iv;Z5=1;var t=Y$();return Iv.createRoot=t.createRoot,Iv.hydrateRoot=t.hydrateRoot,Iv}var SQ=jQ(),x=nw();const fe=Yn(x),MC=gQ({__proto__:null,default:fe},[x]);function kQ(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],c="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)r=s[0],r==="*"?(o.push(r),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),c+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~n?"?":"")+"\\"+s.substring(i))):c+="/"+s;return{keys:o,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var vN={exports:{}},bN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function _Q(){if(eE)return bN;eE=1;var t=nw();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(m,g){var v=g(),j=n({inst:{value:v,getSnapshot:g}}),w=j[0].inst,b=j[1];return i(function(){w.value=v,w.getSnapshot=g,u(w)&&b({inst:w})},[m,v,g]),s(function(){return u(w)&&b({inst:w}),m(function(){u(w)&&b({inst:w})})},[m]),o(v),v}function u(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!r(m,v)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return bN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,bN}var tE;function CQ(){return tE||(tE=1,vN.exports=_Q()),vN.exports}var X$=CQ();const TQ=MC.useInsertionEffect,PQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EQ=PQ?x.useLayoutEffect:x.useEffect,AQ=TQ||EQ,Q$=t=>{const e=x.useRef([t,(...r)=>e[0](...r)]).current;return AQ(()=>{e[0]=t}),e[1]},IQ="popstate",RC="pushState",DC="replaceState",OQ="hashchange",rE=[IQ,RC,DC,OQ],MQ=t=>{for(const e of rE)addEventListener(e,t);return()=>{for(const e of rE)removeEventListener(e,t)}},J$=(t,e)=>X$.useSyncExternalStore(MQ,t,e),RQ=()=>location.search,DQ=({ssrSearch:t=""}={})=>J$(RQ,()=>t),nE=()=>location.pathname,LQ=({ssrPath:t}={})=>J$(nE,t?()=>t:nE),$Q=(t,{replace:e=!1,state:r=null}={})=>history[e?DC:RC](r,"",t),FQ=(t={})=>[LQ(t),$Q],aE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[aE]>"u"){for(const t of[RC,DC]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,aE,{value:!0})}const BQ=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Z$=(t="")=>t==="/"?"":t,UQ=(t,e)=>t[0]==="~"?t.slice(1):Z$(e)+t,zQ=(t="",e)=>BQ(sE(Z$(t)),sE(e)),sE=t=>{try{return decodeURI(t)}catch{return t}},eF={hook:FQ,searchHook:DQ,parser:kQ,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},tF=x.createContext(eF),by=()=>x.useContext(tF),rF={},nF=x.createContext(rF),qQ=()=>x.useContext(nF),aw=t=>{const[e,r]=t.hook(t);return[zQ(t.base,e),Q$((n,s)=>r(UQ(n,t.base),s))]},aF=()=>aw(by()),sF=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[c,...u]=o;return c!==void 0?[!0,(()=>{const f=i!==!1?Object.fromEntries(i.map((m,g)=>[m,u[g]])):o.groups;let h={...u};return f&&Object.assign(h,f),h})(),...n?[c]:[]]:[!1,null]},VQ=({children:t,...e})=>{var h,m;const r=by(),n=e.hook?eF:r;let s=n;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((m=e.hook)==null?void 0:m.hrefs);let c=x.useRef({}),u=c.current,f=u;for(let g in n){const v=g==="base"?n[g]+(e[g]||""):e[g]||n[g];u===f&&v!==f[g]&&(c.current=f={...f}),f[g]=v,(v!==n[g]||v!==s[g])&&(s=f)}return x.createElement(tF.Provider,{value:s,children:t})},iE=({children:t,component:e},r)=>e?x.createElement(e,{params:r}):typeof t=="function"?t(r):t,WQ=t=>{let e=x.useRef(rF);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,s])=>s!==r[n])?t:r},Vc=({path:t,nest:e,match:r,...n})=>{const s=by(),[i]=aw(s),[o,c,u]=r??sF(s.parser,t,i,e),f=WQ({...qQ(),...c});if(!o)return null;const h=u?x.createElement(VQ,{base:u},iE(n,f)):iE(n,f);return x.createElement(nF.Provider,{value:f,children:h})};x.forwardRef((t,e)=>{const r=by(),[n,s]=aw(r),{to:i="",href:o=i,onClick:c,asChild:u,children:f,className:h,replace:m,state:g,...v}=t,j=Q$(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(c==null||c(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return u&&x.isValidElement(f)?x.cloneElement(f,{onClick:j,href:w}):x.createElement("a",{...v,onClick:j,href:w,className:h!=null&&h.call?h(n===o):h,children:f,ref:e})});const iF=t=>Array.isArray(t)?t.flatMap(e=>iF(e&&e.type===x.Fragment?e.props.children:e)):[t],HQ=({children:t,location:e})=>{const r=by(),[n]=aw(r);for(const s of iF(t)){let i=0;if(x.isValidElement(s)&&(i=sF(r.parser,s.props.path,e||n,s.props.nest))[0])return x.cloneElement(s,{match:i})}return null};var dg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},KQ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},hu,OC,rD,GQ=(rD=class{constructor(){er(this,hu,KQ);er(this,OC,!1)}setTimeoutProvider(t){kt(this,hu,t)}setTimeout(t,e){return de(this,hu).setTimeout(t,e)}clearTimeout(t){de(this,hu).clearTimeout(t)}setInterval(t,e){return de(this,hu).setInterval(t,e)}clearInterval(t){de(this,hu).clearInterval(t)}},hu=new WeakMap,OC=new WeakMap,rD),Gf=new GQ;function YQ(t){setTimeout(t,0)}var yh=typeof window>"u"||"Deno"in globalThis;function gi(){}function XQ(t,e){return typeof t=="function"?t(e):t}function o3(t){return typeof t=="number"&&t>=0&&t!==1/0}function oF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Su(t,e){return typeof t=="function"?t(e):t}function Oo(t,e){return typeof t=="function"?t(e):t}function oE(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:c}=t;if(o){if(n){if(e.queryHash!==LC(o,e.options))return!1}else if(!dx(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function lE(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(vh(e.options.mutationKey)!==vh(i))return!1}else if(!dx(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function LC(t,e){return((e==null?void 0:e.queryKeyHashFn)||vh)(t)}function vh(t){return JSON.stringify(t,(e,r)=>l3(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function dx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>dx(t[r],e[r])):!1}var QQ=Object.prototype.hasOwnProperty;function lF(t,e){if(t===e)return t;const r=cE(t)&&cE(e);if(!r&&!(l3(t)&&l3(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),o=i.length,c=r?new Array(o):{};let u=0;for(let f=0;f<o;f++){const h=r?f:i[f],m=t[h],g=e[h];if(m===g){c[h]=m,(r?f<s:QQ.call(t,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){c[h]=g;continue}const v=lF(m,g);c[h]=v,v===m&&u++}return s===o&&u===s?t:c}function wb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function cE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function l3(t){if(!dE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dE(t){return Object.prototype.toString.call(t)==="[object Object]"}function JQ(t){return new Promise(e=>{Gf.setTimeout(e,t)})}function c3(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?lF(t,e):e}function ZQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function eJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var $C=Symbol();function cF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$C?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dF(t,e){return typeof t=="function"?t(...e):!!t}var rh,mu,yp,nD,tJ=(nD=class extends dg{constructor(){super();er(this,rh);er(this,mu);er(this,yp);kt(this,yp,e=>{if(!yh&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){de(this,mu)||this.setEventListener(de(this,yp))}onUnsubscribe(){var e;this.hasListeners()||((e=de(this,mu))==null||e.call(this),kt(this,mu,void 0))}setEventListener(e){var r;kt(this,yp,e),(r=de(this,mu))==null||r.call(this),kt(this,mu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){de(this,rh)!==e&&(kt(this,rh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof de(this,rh)=="boolean"?de(this,rh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rh=new WeakMap,mu=new WeakMap,yp=new WeakMap,nD),FC=new tJ;function d3(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var rJ=YQ;function nJ(){let t=[],e=0,r=c=>{c()},n=c=>{c()},s=rJ;const i=c=>{e?t.push(c):s(()=>{r(c)})},o=()=>{const c=t;t=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var ns=nJ(),vp,pu,bp,aD,aJ=(aD=class extends dg{constructor(){super();er(this,vp,!0);er(this,pu);er(this,bp);kt(this,bp,e=>{if(!yh&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){de(this,pu)||this.setEventListener(de(this,bp))}onUnsubscribe(){var e;this.hasListeners()||((e=de(this,pu))==null||e.call(this),kt(this,pu,void 0))}setEventListener(e){var r;kt(this,bp,e),(r=de(this,pu))==null||r.call(this),kt(this,pu,e(this.setOnline.bind(this)))}setOnline(e){de(this,vp)!==e&&(kt(this,vp,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return de(this,vp)}},vp=new WeakMap,pu=new WeakMap,bp=new WeakMap,aD),Nb=new aJ;function sJ(t){return Math.min(1e3*2**t,3e4)}function uF(t){return(t??"online")==="online"?Nb.isOnline():!0}var u3=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fF(t){let e=!1,r=0,n;const s=d3(),i=()=>s.status!=="pending",o=w=>{var b;if(!i()){const _=new u3(w);g(_),(b=t.onCancel)==null||b.call(t,_)}},c=()=>{e=!0},u=()=>{e=!1},f=()=>FC.isFocused()&&(t.networkMode==="always"||Nb.isOnline())&&t.canRun(),h=()=>uF(t.networkMode)&&t.canRun(),m=w=>{i()||(n==null||n(),s.resolve(w))},g=w=>{i()||(n==null||n(),s.reject(w))},v=()=>new Promise(w=>{var b;n=_=>{(i()||f())&&w(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var w;n=void 0,i()||(w=t.onContinue)==null||w.call(t)}),j=()=>{if(i())return;let w;const b=r===0?t.initialPromise:void 0;try{w=b??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(m).catch(_=>{var S;if(i())return;const T=t.retry??(yh?0:3),E=t.retryDelay??sJ,k=typeof E=="function"?E(r,_):E,C=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,_);if(e||!C){g(_);return}r++,(S=t.onFail)==null||S.call(t,r,_),JQ(k).then(()=>f()?void 0:v()).then(()=>{e?g(_):j()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?j():v().then(j),s)}}var nh,sD,hF=(sD=class{constructor(){er(this,nh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),o3(this.gcTime)&&kt(this,nh,Gf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yh?1/0:300*1e3))}clearGcTimeout(){de(this,nh)&&(Gf.clearTimeout(de(this,nh)),kt(this,nh,void 0))}},nh=new WeakMap,sD),ah,wp,Ao,sh,ps,py,ih,dl,Gc,iD,iJ=(iD=class extends hF{constructor(e){super();er(this,dl);er(this,ah);er(this,wp);er(this,Ao);er(this,sh);er(this,ps);er(this,py);er(this,ih);kt(this,ih,!1),kt(this,py,e.defaultOptions),this.setOptions(e.options),this.observers=[],kt(this,sh,e.client),kt(this,Ao,de(this,sh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,kt(this,ah,uE(this.options)),this.state=e.state??de(this,ah),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=de(this,ps))==null?void 0:e.promise}setOptions(e){if(this.options={...de(this,py),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=uE(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),kt(this,ah,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,Ao).remove(this)}setData(e,r){const n=c3(this.state.data,e,this.options);return Wr(this,dl,Gc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Wr(this,dl,Gc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=de(this,ps))==null?void 0:n.promise;return(s=de(this,ps))==null||s.cancel(e),r?r.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,ah))}isActive(){return this.observers.some(e=>Oo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$C||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Su(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oF(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=de(this,ps))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=de(this,ps))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),de(this,Ao).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(de(this,ps)&&(de(this,ih)?de(this,ps).cancel({revert:!0}):de(this,ps).cancelRetry()),this.scheduleGc()),de(this,Ao).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wr(this,dl,Gc).call(this,{type:"invalidate"})}async fetch(e,r){var u,f,h,m,g,v,j,w,b,_,T,E;if(this.state.fetchStatus!=="idle"&&((u=de(this,ps))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(de(this,ps))return de(this,ps).continueRetry(),de(this,ps).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(C=>C.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(kt(this,ih,!0),n.signal)})},i=()=>{const k=cF(this.options,r),S=(()=>{const A={client:de(this,sh),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return kt(this,ih,!1),this.options.persister?this.options.persister(k,S,this):k(S)},c=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:de(this,sh),state:this.state,fetchFn:i};return s(k),k})();(f=this.options.behavior)==null||f.onFetch(c,this),kt(this,wp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&Wr(this,dl,Gc).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),kt(this,ps,fF({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:k=>{k instanceof u3&&k.revert&&this.setState({...de(this,wp),fetchStatus:"idle"}),n.abort()},onFail:(k,C)=>{Wr(this,dl,Gc).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{Wr(this,dl,Gc).call(this,{type:"pause"})},onContinue:()=>{Wr(this,dl,Gc).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const k=await de(this,ps).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(v=(g=de(this,Ao).config).onSuccess)==null||v.call(g,k,this),(w=(j=de(this,Ao).config).onSettled)==null||w.call(j,k,this.state.error,this),k}catch(k){if(k instanceof u3){if(k.silent)return de(this,ps).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Wr(this,dl,Gc).call(this,{type:"error",error:k}),(_=(b=de(this,Ao).config).onError)==null||_.call(b,k,this),(E=(T=de(this,Ao).config).onSettled)==null||E.call(T,this.state.data,k,this),k}finally{this.scheduleGc()}}},ah=new WeakMap,wp=new WeakMap,Ao=new WeakMap,sh=new WeakMap,ps=new WeakMap,py=new WeakMap,ih=new WeakMap,dl=new WeakSet,Gc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mF(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return kt(this,wp,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ns.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),de(this,Ao).notify({query:this,type:"updated",action:e})})},iD);function mF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ri,ln,gy,mi,oh,Np,Qc,gu,xy,jp,Sp,lh,ch,xu,kp,En,B0,f3,h3,m3,p3,g3,x3,y3,pF,oD,oJ=(oD=class extends dg{constructor(e,r){super();er(this,En);er(this,Ri);er(this,ln);er(this,gy);er(this,mi);er(this,oh);er(this,Np);er(this,Qc);er(this,gu);er(this,xy);er(this,jp);er(this,Sp);er(this,lh);er(this,ch);er(this,xu);er(this,kp,new Set);this.options=r,kt(this,Ri,e),kt(this,gu,null),kt(this,Qc,d3()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(de(this,ln).addObserver(this),fE(de(this,ln),this.options)?Wr(this,En,B0).call(this):this.updateResult(),Wr(this,En,p3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return v3(de(this,ln),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return v3(de(this,ln),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wr(this,En,g3).call(this),Wr(this,En,x3).call(this),de(this,ln).removeObserver(this)}setOptions(e){const r=this.options,n=de(this,ln);if(this.options=de(this,Ri).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oo(this.options.enabled,de(this,ln))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Wr(this,En,y3).call(this),de(this,ln).setOptions(this.options),r._defaulted&&!wb(this.options,r)&&de(this,Ri).getQueryCache().notify({type:"observerOptionsUpdated",query:de(this,ln),observer:this});const s=this.hasListeners();s&&hE(de(this,ln),n,this.options,r)&&Wr(this,En,B0).call(this),this.updateResult(),s&&(de(this,ln)!==n||Oo(this.options.enabled,de(this,ln))!==Oo(r.enabled,de(this,ln))||Su(this.options.staleTime,de(this,ln))!==Su(r.staleTime,de(this,ln)))&&Wr(this,En,f3).call(this);const i=Wr(this,En,h3).call(this);s&&(de(this,ln)!==n||Oo(this.options.enabled,de(this,ln))!==Oo(r.enabled,de(this,ln))||i!==de(this,xu))&&Wr(this,En,m3).call(this,i)}getOptimisticResult(e){const r=de(this,Ri).getQueryCache().build(de(this,Ri),e),n=this.createResult(r,e);return cJ(this,n)&&(kt(this,mi,n),kt(this,Np,this.options),kt(this,oh,de(this,ln).state)),n}getCurrentResult(){return de(this,mi)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&de(this,Qc).status==="pending"&&de(this,Qc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){de(this,kp).add(e)}getCurrentQuery(){return de(this,ln)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=de(this,Ri).defaultQueryOptions(e),n=de(this,Ri).getQueryCache().build(de(this,Ri),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Wr(this,En,B0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),de(this,mi)))}createResult(e,r){var D;const n=de(this,ln),s=this.options,i=de(this,mi),o=de(this,oh),c=de(this,Np),f=e!==n?e.state:de(this,gy),{state:h}=e;let m={...h},g=!1,v;if(r._optimisticResults){const B=this.hasListeners(),F=!B&&fE(e,r),z=B&&hE(e,n,r,s);(F||z)&&(m={...m,...mF(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:b}=m;v=m.data;let _=!1;if(r.placeholderData!==void 0&&v===void 0&&b==="pending"){let B;i!=null&&i.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(B=i.data,_=!0):B=typeof r.placeholderData=="function"?r.placeholderData((D=de(this,Sp))==null?void 0:D.state.data,de(this,Sp)):r.placeholderData,B!==void 0&&(b="success",v=c3(i==null?void 0:i.data,B,r),g=!0)}if(r.select&&v!==void 0&&!_)if(i&&v===(o==null?void 0:o.data)&&r.select===de(this,xy))v=de(this,jp);else try{kt(this,xy,r.select),v=r.select(v),v=c3(i==null?void 0:i.data,v,r),kt(this,jp,v),kt(this,gu,null)}catch(B){kt(this,gu,B)}de(this,gu)&&(j=de(this,gu),v=de(this,jp),w=Date.now(),b="error");const T=m.fetchStatus==="fetching",E=b==="pending",k=b==="error",C=E&&T,S=v!==void 0,R={status:b,fetchStatus:m.fetchStatus,isPending:E,isSuccess:b==="success",isError:k,isInitialLoading:C,isLoading:C,data:v,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:k&&!S,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&S,isStale:BC(e,r),refetch:this.refetch,promise:de(this,Qc),isEnabled:Oo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=X=>{R.status==="error"?X.reject(R.error):R.data!==void 0&&X.resolve(R.data)},F=()=>{const X=kt(this,Qc,R.promise=d3());B(X)},z=de(this,Qc);switch(z.status){case"pending":e.queryHash===n.queryHash&&B(z);break;case"fulfilled":(R.status==="error"||R.data!==z.value)&&F();break;case"rejected":(R.status!=="error"||R.error!==z.reason)&&F();break}}return R}updateResult(){const e=de(this,mi),r=this.createResult(de(this,ln),this.options);if(kt(this,oh,de(this,ln).state),kt(this,Np,this.options),de(this,oh).data!==void 0&&kt(this,Sp,de(this,ln)),wb(r,e))return;kt(this,mi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!de(this,kp).size)return!0;const o=new Set(i??de(this,kp));return this.options.throwOnError&&o.add("error"),Object.keys(de(this,mi)).some(c=>{const u=c;return de(this,mi)[u]!==e[u]&&o.has(u)})};Wr(this,En,pF).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wr(this,En,p3).call(this)}},Ri=new WeakMap,ln=new WeakMap,gy=new WeakMap,mi=new WeakMap,oh=new WeakMap,Np=new WeakMap,Qc=new WeakMap,gu=new WeakMap,xy=new WeakMap,jp=new WeakMap,Sp=new WeakMap,lh=new WeakMap,ch=new WeakMap,xu=new WeakMap,kp=new WeakMap,En=new WeakSet,B0=function(e){Wr(this,En,y3).call(this);let r=de(this,ln).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(gi)),r},f3=function(){Wr(this,En,g3).call(this);const e=Su(this.options.staleTime,de(this,ln));if(yh||de(this,mi).isStale||!o3(e))return;const n=oF(de(this,mi).dataUpdatedAt,e)+1;kt(this,lh,Gf.setTimeout(()=>{de(this,mi).isStale||this.updateResult()},n))},h3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(de(this,ln)):this.options.refetchInterval)??!1},m3=function(e){Wr(this,En,x3).call(this),kt(this,xu,e),!(yh||Oo(this.options.enabled,de(this,ln))===!1||!o3(de(this,xu))||de(this,xu)===0)&&kt(this,ch,Gf.setInterval(()=>{(this.options.refetchIntervalInBackground||FC.isFocused())&&Wr(this,En,B0).call(this)},de(this,xu)))},p3=function(){Wr(this,En,f3).call(this),Wr(this,En,m3).call(this,Wr(this,En,h3).call(this))},g3=function(){de(this,lh)&&(Gf.clearTimeout(de(this,lh)),kt(this,lh,void 0))},x3=function(){de(this,ch)&&(Gf.clearInterval(de(this,ch)),kt(this,ch,void 0))},y3=function(){const e=de(this,Ri).getQueryCache().build(de(this,Ri),this.options);if(e===de(this,ln))return;const r=de(this,ln);kt(this,ln,e),kt(this,gy,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},pF=function(e){ns.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(de(this,mi))}),de(this,Ri).getQueryCache().notify({query:de(this,ln),type:"observerResultsUpdated"})})},oD);function lJ(t,e){return Oo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fE(t,e){return lJ(t,e)||t.state.data!==void 0&&v3(t,e,e.refetchOnMount)}function v3(t,e,r){if(Oo(e.enabled,t)!==!1&&Su(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&BC(t,e)}return!1}function hE(t,e,r,n){return(t!==e||Oo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&BC(t,r)}function BC(t,e){return Oo(e.enabled,t)!==!1&&t.isStaleByTime(Su(e.staleTime,t))}function cJ(t,e){return!wb(t.getCurrentResult(),e)}function mE(t){return{onFetch:(e,r)=>{var h,m,g,v,j;const n=e.options,s=(g=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((j=e.state.data)==null?void 0:j.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let w=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=cF(e.options,e.fetchOptions),T=async(E,k,C)=>{if(w)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const A=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:k,direction:C?"backward":"forward",meta:e.options.meta};return b(F),F})(),R=await _(A),{maxPages:D}=e.options,B=C?eJ:ZQ;return{pages:B(E.pages,R,D),pageParams:B(E.pageParams,k,D)}};if(s&&i.length){const E=s==="backward",k=E?dJ:pE,C={pages:i,pageParams:o},S=k(n,C);c=await T(C,S,E)}else{const E=t??i.length;do{const k=u===0?o[0]??n.initialPageParam:pE(n,c);if(u>0&&k==null)break;c=await T(c,k),u++}while(u<E)}return c};e.options.persister?e.fetchFn=()=>{var w,b;return(b=(w=e.options).persister)==null?void 0:b.call(w,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=f}}}function pE(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function dJ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var yy,Zl,pi,dh,ec,eu,lD,uJ=(lD=class extends hF{constructor(e){super();er(this,ec);er(this,yy);er(this,Zl);er(this,pi);er(this,dh);kt(this,yy,e.client),this.mutationId=e.mutationId,kt(this,pi,e.mutationCache),kt(this,Zl,[]),this.state=e.state||gF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){de(this,Zl).includes(e)||(de(this,Zl).push(e),this.clearGcTimeout(),de(this,pi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){kt(this,Zl,de(this,Zl).filter(r=>r!==e)),this.scheduleGc(),de(this,pi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){de(this,Zl).length||(this.state.status==="pending"?this.scheduleGc():de(this,pi).remove(this))}continue(){var e;return((e=de(this,dh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,u,f,h,m,g,v,j,w,b,_,T,E,k,C,S,A,R,D;const r=()=>{Wr(this,ec,eu).call(this,{type:"continue"})},n={client:de(this,yy),meta:this.options.meta,mutationKey:this.options.mutationKey};kt(this,dh,fF({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(B,F)=>{Wr(this,ec,eu).call(this,{type:"failed",failureCount:B,error:F})},onPause:()=>{Wr(this,ec,eu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,pi).canRun(this)}));const s=this.state.status==="pending",i=!de(this,dh).canStart();try{if(s)r();else{Wr(this,ec,eu).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(o=de(this,pi).config).onMutate)==null?void 0:c.call(o,e,this,n));const F=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,e,n));F!==this.state.context&&Wr(this,ec,eu).call(this,{type:"pending",context:F,variables:e,isPaused:i})}const B=await de(this,dh).start();return await((m=(h=de(this,pi).config).onSuccess)==null?void 0:m.call(h,B,e,this.state.context,this,n)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,B,e,this.state.context,n)),await((w=(j=de(this,pi).config).onSettled)==null?void 0:w.call(j,B,null,this.state.variables,this.state.context,this,n)),await((_=(b=this.options).onSettled)==null?void 0:_.call(b,B,null,e,this.state.context,n)),Wr(this,ec,eu).call(this,{type:"success",data:B}),B}catch(B){try{throw await((E=(T=de(this,pi).config).onError)==null?void 0:E.call(T,B,e,this.state.context,this,n)),await((C=(k=this.options).onError)==null?void 0:C.call(k,B,e,this.state.context,n)),await((A=(S=de(this,pi).config).onSettled)==null?void 0:A.call(S,void 0,B,this.state.variables,this.state.context,this,n)),await((D=(R=this.options).onSettled)==null?void 0:D.call(R,void 0,B,e,this.state.context,n)),B}finally{Wr(this,ec,eu).call(this,{type:"error",error:B})}}finally{de(this,pi).runNext(this)}}},yy=new WeakMap,Zl=new WeakMap,pi=new WeakMap,dh=new WeakMap,ec=new WeakSet,eu=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ns.batch(()=>{de(this,Zl).forEach(n=>{n.onMutationUpdate(e)}),de(this,pi).notify({mutation:this,type:"updated",action:e})})},lD);function gF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jc,ul,vy,cD,fJ=(cD=class extends dg{constructor(e={}){super();er(this,Jc);er(this,ul);er(this,vy);this.config=e,kt(this,Jc,new Set),kt(this,ul,new Map),kt(this,vy,0)}build(e,r,n){const s=new uJ({client:e,mutationCache:this,mutationId:++Ev(this,vy)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){de(this,Jc).add(e);const r=Ov(e);if(typeof r=="string"){const n=de(this,ul).get(r);n?n.push(e):de(this,ul).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(de(this,Jc).delete(e)){const r=Ov(e);if(typeof r=="string"){const n=de(this,ul).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&de(this,ul).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ov(e);if(typeof r=="string"){const n=de(this,ul).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ov(e);if(typeof r=="string"){const s=(n=de(this,ul).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ns.batch(()=>{de(this,Jc).forEach(e=>{this.notify({type:"removed",mutation:e})}),de(this,Jc).clear(),de(this,ul).clear()})}getAll(){return Array.from(de(this,Jc))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lE(r,n))}findAll(e={}){return this.getAll().filter(r=>lE(e,r))}notify(e){ns.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ns.batch(()=>Promise.all(e.map(r=>r.continue().catch(gi))))}},Jc=new WeakMap,ul=new WeakMap,vy=new WeakMap,cD);function Ov(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Zc,yu,Di,ed,fd,lb,b3,dD,hJ=(dD=class extends dg{constructor(r,n){super();er(this,fd);er(this,Zc);er(this,yu);er(this,Di);er(this,ed);kt(this,Zc,r),this.setOptions(n),this.bindMethods(),Wr(this,fd,lb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=de(this,Zc).defaultMutationOptions(r),wb(this.options,n)||de(this,Zc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:de(this,Di),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&vh(n.mutationKey)!==vh(this.options.mutationKey)?this.reset():((s=de(this,Di))==null?void 0:s.state.status)==="pending"&&de(this,Di).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=de(this,Di))==null||r.removeObserver(this)}onMutationUpdate(r){Wr(this,fd,lb).call(this),Wr(this,fd,b3).call(this,r)}getCurrentResult(){return de(this,yu)}reset(){var r;(r=de(this,Di))==null||r.removeObserver(this),kt(this,Di,void 0),Wr(this,fd,lb).call(this),Wr(this,fd,b3).call(this)}mutate(r,n){var s;return kt(this,ed,n),(s=de(this,Di))==null||s.removeObserver(this),kt(this,Di,de(this,Zc).getMutationCache().build(de(this,Zc),this.options)),de(this,Di).addObserver(this),de(this,Di).execute(r)}},Zc=new WeakMap,yu=new WeakMap,Di=new WeakMap,ed=new WeakMap,fd=new WeakSet,lb=function(){var n;const r=((n=de(this,Di))==null?void 0:n.state)??gF();kt(this,yu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},b3=function(r){ns.batch(()=>{var n,s,i,o,c,u,f,h;if(de(this,ed)&&this.hasListeners()){const m=de(this,yu).variables,g=de(this,yu).context,v={client:de(this,Zc),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=de(this,ed)).onSuccess)==null||s.call(n,r.data,m,g,v),(o=(i=de(this,ed)).onSettled)==null||o.call(i,r.data,null,m,g,v)):(r==null?void 0:r.type)==="error"&&((u=(c=de(this,ed)).onError)==null||u.call(c,r.error,m,g,v),(h=(f=de(this,ed)).onSettled)==null||h.call(f,void 0,r.error,m,g,v))}this.listeners.forEach(m=>{m(de(this,yu))})})},dD),tc,uD,mJ=(uD=class extends dg{constructor(e={}){super();er(this,tc);this.config=e,kt(this,tc,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??LC(s,r);let o=this.get(i);return o||(o=new iJ({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){de(this,tc).has(e.queryHash)||(de(this,tc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=de(this,tc).get(e.queryHash);r&&(e.destroy(),r===e&&de(this,tc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ns.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return de(this,tc).get(e)}getAll(){return[...de(this,tc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>oE(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>oE(e,n)):r}notify(e){ns.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ns.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ns.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tc=new WeakMap,uD),_a,vu,bu,_p,Cp,wu,Tp,Pp,fD,pJ=(fD=class{constructor(t={}){er(this,_a);er(this,vu);er(this,bu);er(this,_p);er(this,Cp);er(this,wu);er(this,Tp);er(this,Pp);kt(this,_a,t.queryCache||new mJ),kt(this,vu,t.mutationCache||new fJ),kt(this,bu,t.defaultOptions||{}),kt(this,_p,new Map),kt(this,Cp,new Map),kt(this,wu,0)}mount(){Ev(this,wu)._++,de(this,wu)===1&&(kt(this,Tp,FC.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,_a).onFocus())})),kt(this,Pp,Nb.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,_a).onOnline())})))}unmount(){var t,e;Ev(this,wu)._--,de(this,wu)===0&&((t=de(this,Tp))==null||t.call(this),kt(this,Tp,void 0),(e=de(this,Pp))==null||e.call(this),kt(this,Pp,void 0))}isFetching(t){return de(this,_a).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return de(this,vu).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=de(this,_a).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=de(this,_a).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Su(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return de(this,_a).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=de(this,_a).get(n.queryHash),i=s==null?void 0:s.state.data,o=XQ(e,i);if(o!==void 0)return de(this,_a).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ns.batch(()=>de(this,_a).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=de(this,_a).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=de(this,_a);ns.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=de(this,_a);return ns.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ns.batch(()=>de(this,_a).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(gi).catch(gi)}invalidateQueries(t,e={}){return ns.batch(()=>(de(this,_a).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ns.batch(()=>de(this,_a).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(gi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=de(this,_a).build(this,e);return r.isStaleByTime(Su(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gi).catch(gi)}fetchInfiniteQuery(t){return t.behavior=mE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gi).catch(gi)}ensureInfiniteQueryData(t){return t.behavior=mE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nb.isOnline()?de(this,vu).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,_a)}getMutationCache(){return de(this,vu)}getDefaultOptions(){return de(this,bu)}setDefaultOptions(t){kt(this,bu,t)}setQueryDefaults(t,e){de(this,_p).set(vh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...de(this,_p).values()],r={};return e.forEach(n=>{dx(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){de(this,Cp).set(vh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...de(this,Cp).values()],r={};return e.forEach(n=>{dx(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...de(this,bu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$C&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...de(this,bu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){de(this,_a).clear(),de(this,vu).clear()}},_a=new WeakMap,vu=new WeakMap,bu=new WeakMap,_p=new WeakMap,Cp=new WeakMap,wu=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,fD),xF=x.createContext(void 0),ug=t=>{const e=x.useContext(xF);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gJ=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(xF.Provider,{value:t,children:e})),yF=x.createContext(!1),xJ=()=>x.useContext(yF);yF.Provider;function yJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vJ=x.createContext(yJ()),bJ=()=>x.useContext(vJ),wJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},NJ=t=>{x.useEffect(()=>{t.clearReset()},[t])},jJ=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||dF(r,[t.error,n])),SJ=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},kJ=(t,e)=>t.isLoading&&t.isFetching&&!e,_J=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,gE=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function CJ(t,e,r){var m,g,v,j,w;const n=xJ(),s=bJ(),i=ug(),o=i.defaultQueryOptions(t);(g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||g.call(m,o),o._optimisticResults=n?"isRestoring":"optimistic",SJ(o),wJ(o,s),NJ(s);const c=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new e(i,o)),f=u.getOptimisticResult(o),h=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const _=h?u.subscribe(ns.batchCalls(b)):gi;return u.updateResult(),_},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),_J(o,f))throw gE(o,u,s);if(jJ({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;if((j=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||j.call(v,o,f),o.experimental_prefetchInRender&&!yh&&kJ(f,n)){const b=c?gE(o,u,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;b==null||b.catch(gi).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?f:u.trackResult(f)}function Na(t,e){return CJ(t,oJ)}function bi(t,e){const r=ug(),[n]=x.useState(()=>new hJ(r,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(ns.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,c)=>{n.mutate(o,c).catch(gi)},[n]);if(s.error&&dF(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const vF="https://perala-808950990883.asia-south1.run.app";async function bF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function td(t,e,r){let n,s,i;if(typeof t=="object"&&t.url)n=t.url,s=t.method,i=t.body;else if(typeof t=="string"&&e)s=t,n=e,i=r;else throw new Error("Invalid apiRequest parameters");const o=n.startsWith("http")?n:`${vF}${n}`,c=await fetch(o,{method:s,headers:i?{"Content-Type":"application/json"}:{},body:i?JSON.stringify(i):void 0,credentials:"include"});return await bF(c),await c.json()}const TJ=({on401:t})=>async({queryKey:e})=>{const r=e.join("/"),n=r.startsWith("http")?r:`${vF}${r}`,s=await fetch(n,{credentials:"include"});return await bF(s),await s.json()},Wa=new pJ({defaultOptions:{queries:{queryFn:TJ({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),PJ=1,EJ=1e6;let wN=0;function AJ(){return wN=(wN+1)%Number.MAX_SAFE_INTEGER,wN.toString()}const NN=new Map,xE=t=>{if(NN.has(t))return;const e=setTimeout(()=>{NN.delete(t),X0({type:"REMOVE_TOAST",toastId:t})},EJ);NN.set(t,e)},IJ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,PJ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?xE(r):t.toasts.forEach(n=>{xE(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},cb=[];let db={toasts:[]};function X0(t){db=IJ(db,t),cb.forEach(e=>{e(db)})}function OJ({...t}){const e=AJ(),r=s=>X0({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>X0({type:"DISMISS_TOAST",toastId:e});return X0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function $s(){const[t,e]=x.useState(db);return x.useEffect(()=>(cb.push(e),()=>{const r=cb.indexOf(e);r>-1&&cb.splice(r,1)}),[t]),{...t,toast:OJ,dismiss:r=>X0({type:"DISMISS_TOAST",toastId:r})}}var fg=Y$();const MJ=Yn(fg);function pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function yE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hd(...t){return e=>{let r=!1;const n=t.map(s=>{const i=yE(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():yE(t[s],null)}}}}function dn(...t){return x.useCallback(hd(...t),t)}function RJ(t,e){const r=x.createContext(e),n=i=>{const{children:o,...c}=i,u=x.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function zi(t,e=[]){let r=[];function n(i,o){const c=x.createContext(o),u=r.length;r=[...r,o];const f=m=>{var _;const{scope:g,children:v,...j}=m,w=((_=g==null?void 0:g[t])==null?void 0:_[u])||c,b=x.useMemo(()=>j,Object.values(j));return a.jsx(w.Provider,{value:b,children:v})};f.displayName=i+"Provider";function h(m,g){var w;const v=((w=g==null?void 0:g[t])==null?void 0:w[u])||c,j=x.useContext(v);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(c){const u=(c==null?void 0:c[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,DJ(s,...e)]}function DJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:u,scopeName:f})=>{const m=u(i)[`__scope${f}`];return{...c,...m}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Ou(t){const e=$J(t),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,c=x.Children.toArray(i),u=c.find(BJ);if(u){const f=u.props.children,h=c.map(m=>m===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:m);return a.jsx(e,{...o,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var LJ=Ou("Slot");function $J(t){const e=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=zJ(s),c=UJ(i,s.props);return s.type!==x.Fragment&&(c.ref=n?hd(n,o):o),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wF=Symbol("radix.slottable");function FJ(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=wF,e}function BJ(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wF}function UJ(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function zJ(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sw(t){const e=t+"CollectionProvider",[r,n]=zi(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:b,children:_}=w,T=fe.useRef(null),E=fe.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:E,collectionRef:T,children:_})};o.displayName=e;const c=t+"CollectionSlot",u=Ou(c),f=fe.forwardRef((w,b)=>{const{scope:_,children:T}=w,E=i(c,_),k=dn(b,E.collectionRef);return a.jsx(u,{ref:k,children:T})});f.displayName=c;const h=t+"CollectionItemSlot",m="data-radix-collection-item",g=Ou(h),v=fe.forwardRef((w,b)=>{const{scope:_,children:T,...E}=w,k=fe.useRef(null),C=dn(b,k),S=i(h,_);return fe.useEffect(()=>(S.itemMap.set(k,{ref:k,...E}),()=>void S.itemMap.delete(k))),a.jsx(g,{[m]:"",ref:C,children:T})});v.displayName=h;function j(w){const b=i(t+"CollectionConsumer",w);return fe.useCallback(()=>{const T=b.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(b.itemMap.values()).sort((S,A)=>E.indexOf(S.ref.current)-E.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:f,ItemSlot:v},j,n]}var qJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=qJ.reduce((t,e)=>{const r=Ou(`Primitive.${e}`),n=x.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function UC(t,e){t&&fg.flushSync(()=>t.dispatchEvent(e))}function Ni(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function VJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ni(t);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var WJ="DismissableLayer",w3="dismissableLayer.update",HJ="dismissableLayer.pointerDownOutside",KJ="dismissableLayer.focusOutside",vE,NF=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rh=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...u}=t,f=x.useContext(NF),[h,m]=x.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=x.useState({}),j=dn(e,A=>m(A)),w=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(b),T=h?w.indexOf(h):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,k=T>=_,C=YJ(A=>{const R=A.target,D=[...f.branches].some(B=>B.contains(R));!k||D||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},g),S=XJ(A=>{const R=A.target;[...f.branches].some(B=>B.contains(R))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},g);return VJ(A=>{T===f.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),x.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(vE=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),bE(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=vE)}},[h,g,r,f]),x.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),bE())},[h,f]),x.useEffect(()=>{const A=()=>v({});return document.addEventListener(w3,A),()=>document.removeEventListener(w3,A)},[]),a.jsx(Bt.div,{...u,ref:j,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,C.onPointerDownCapture)})});Rh.displayName=WJ;var GJ="DismissableLayerBranch",jF=x.forwardRef((t,e)=>{const r=x.useContext(NF),n=x.useRef(null),s=dn(e,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Bt.div,{...t,ref:s})});jF.displayName=GJ;function YJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ni(t),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let u=function(){SF(HJ,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function XJ(t,e=globalThis==null?void 0:globalThis.document){const r=Ni(t),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&SF(KJ,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bE(){const t=new CustomEvent(w3);document.dispatchEvent(t)}function SF(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?UC(s,i):s.dispatchEvent(i)}var QJ=Rh,JJ=jF,Ya=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},ZJ="Portal",hg=x.forwardRef((t,e)=>{var c;const{container:r,...n}=t,[s,i]=x.useState(!1);Ya(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?MJ.createPortal(a.jsx(Bt.div,{...n,ref:e}),o):null});hg.displayName=ZJ;function eZ(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var uo=t=>{const{present:e,children:r}=t,n=tZ(e),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dn(n.ref,rZ(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};uo.displayName="Presence";function tZ(t){const[e,r]=x.useState(),n=x.useRef(null),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[c,u]=eZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Mv(n.current);i.current=c==="mounted"?f:"none"},[c]),Ya(()=>{const f=n.current,h=s.current;if(h!==t){const g=i.current,v=Mv(f);t?u("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Ya(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,m=v=>{const w=Mv(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&w&&(u("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=v=>{v.target===e&&(i.current=Mv(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Mv(t){return(t==null?void 0:t.animationName)||"none"}function rZ(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var nZ=MC[" useInsertionEffect ".trim().toString()]||Ya;function md({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=aZ({defaultProp:e,onChange:r}),c=t!==void 0,u=c?t:s;{const h=x.useRef(t!==void 0);x.useEffect(()=>{const m=h.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,n])}const f=x.useCallback(h=>{var m;if(c){const g=sZ(h)?h(t):h;g!==t&&((m=o.current)==null||m.call(o,g))}else i(h)},[c,t,i,o]);return[u,f]}function aZ({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),s=x.useRef(r),i=x.useRef(e);return nZ(()=>{i.current=e},[e]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function sZ(t){return typeof t=="function"}var kF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iZ="VisuallyHidden",iw=x.forwardRef((t,e)=>a.jsx(Bt.span,{...t,ref:e,style:{...kF,...t.style}}));iw.displayName=iZ;var oZ=iw,zC="ToastProvider",[qC,lZ,cZ]=sw("Toast"),[_F]=zi("Toast",[cZ]),[dZ,ow]=_F(zC),CF=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[c,u]=x.useState(null),[f,h]=x.useState(0),m=x.useRef(!1),g=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zC}\`. Expected non-empty \`string\`.`),a.jsx(qC.Provider,{scope:e,children:a.jsx(dZ,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:f,viewport:c,onViewportChange:u,onToastAdd:x.useCallback(()=>h(v=>v+1),[]),onToastRemove:x.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:o})})};CF.displayName=zC;var TF="ToastViewport",uZ=["F8"],N3="toast.viewportPause",j3="toast.viewportResume",PF=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=uZ,label:s="Notifications ({hotkey})",...i}=t,o=ow(TF,r),c=lZ(r),u=x.useRef(null),f=x.useRef(null),h=x.useRef(null),m=x.useRef(null),g=dn(e,m,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;x.useEffect(()=>{const b=_=>{var E;n.length!==0&&n.every(k=>_[k]||_.code===k)&&((E=m.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),x.useEffect(()=>{const b=u.current,_=m.current;if(j&&b&&_){const T=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(N3);_.dispatchEvent(S),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(j3);_.dispatchEvent(S),o.isClosePausedRef.current=!1}},k=S=>{!b.contains(S.relatedTarget)&&E()},C=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",T),b.addEventListener("focusout",k),b.addEventListener("pointermove",T),b.addEventListener("pointerleave",C),window.addEventListener("blur",T),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",T),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",T),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",T),window.removeEventListener("focus",E)}}},[j,o.isClosePausedRef]);const w=x.useCallback(({tabbingDirection:b})=>{const T=c().map(E=>{const k=E.ref.current,C=[k,...SZ(k)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?T.reverse():T).flat()},[c]);return x.useEffect(()=>{const b=m.current;if(b){const _=T=>{var C,S,A;const E=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!E){const R=document.activeElement,D=T.shiftKey;if(T.target===b&&D){(C=f.current)==null||C.focus();return}const z=w({tabbingDirection:D?"backwards":"forwards"}),X=z.findIndex(V=>V===R);jN(z.slice(X+1))?T.preventDefault():D?(S=f.current)==null||S.focus():(A=h.current)==null||A.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[c,w]),a.jsxs(JJ,{ref:u,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&a.jsx(S3,{ref:f,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});jN(b)}}),a.jsx(qC.Slot,{scope:r,children:a.jsx(Bt.ol,{tabIndex:-1,...i,ref:g})}),j&&a.jsx(S3,{ref:h,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});jN(b)}})]})});PF.displayName=TF;var EF="ToastFocusProxy",S3=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=ow(EF,r);return a.jsx(iw,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var f;const c=o.relatedTarget;!((f=i.viewport)!=null&&f.contains(c))&&n()}})});S3.displayName=EF;var wy="Toast",fZ="toast.swipeStart",hZ="toast.swipeMove",mZ="toast.swipeCancel",pZ="toast.swipeEnd",AF=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[c,u]=md({prop:n,defaultProp:s??!0,onChange:i,caller:wy});return a.jsx(uo,{present:r||c,children:a.jsx(yZ,{open:c,...o,ref:e,onClose:()=>u(!1),onPause:Ni(t.onPause),onResume:Ni(t.onResume),onSwipeStart:pt(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pt(t.onSwipeMove,f=>{const{x:h,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:pt(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pt(t.onSwipeEnd,f=>{const{x:h,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});AF.displayName=wy;var[gZ,xZ]=_F(wy,{onClose(){}}),yZ=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:f,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:v,...j}=t,w=ow(wy,r),[b,_]=x.useState(null),T=dn(e,V=>_(V)),E=x.useRef(null),k=x.useRef(null),C=s||w.duration,S=x.useRef(0),A=x.useRef(C),R=x.useRef(0),{onToastAdd:D,onToastRemove:B}=w,F=Ni(()=>{var Z;(b==null?void 0:b.contains(document.activeElement))&&((Z=w.viewport)==null||Z.focus()),o()}),z=x.useCallback(V=>{!V||V===1/0||(window.clearTimeout(R.current),S.current=new Date().getTime(),R.current=window.setTimeout(F,V))},[F]);x.useEffect(()=>{const V=w.viewport;if(V){const Z=()=>{z(A.current),f==null||f()},ee=()=>{const W=new Date().getTime()-S.current;A.current=A.current-W,window.clearTimeout(R.current),u==null||u()};return V.addEventListener(N3,ee),V.addEventListener(j3,Z),()=>{V.removeEventListener(N3,ee),V.removeEventListener(j3,Z)}}},[w.viewport,C,u,f,z]),x.useEffect(()=>{i&&!w.isClosePausedRef.current&&z(C)},[i,C,w.isClosePausedRef,z]),x.useEffect(()=>(D(),()=>B()),[D,B]);const X=x.useMemo(()=>b?$F(b):null,[b]);return w.viewport?a.jsxs(a.Fragment,{children:[X&&a.jsx(vZ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:X}),a.jsx(gZ,{scope:r,onClose:F,children:fg.createPortal(a.jsx(qC.ItemSlot,{scope:r,children:a.jsx(QJ,{asChild:!0,onEscapeKeyDown:pt(c,()=>{w.isFocusedToastEscapeKeyDownRef.current||F(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Bt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pt(t.onKeyDown,V=>{V.key==="Escape"&&(c==null||c(V.nativeEvent),V.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:pt(t.onPointerDown,V=>{V.button===0&&(E.current={x:V.clientX,y:V.clientY})}),onPointerMove:pt(t.onPointerMove,V=>{if(!E.current)return;const Z=V.clientX-E.current.x,ee=V.clientY-E.current.y,W=!!k.current,K=["left","right"].includes(w.swipeDirection),G=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Q=K?G(0,Z):0,$=K?0:G(0,ee),U=V.pointerType==="touch"?10:2,ie={x:Q,y:$},ce={originalEvent:V,delta:ie};W?(k.current=ie,Rv(hZ,m,ce,{discrete:!1})):wE(ie,w.swipeDirection,U)?(k.current=ie,Rv(fZ,h,ce,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Z)>U||Math.abs(ee)>U)&&(E.current=null)}),onPointerUp:pt(t.onPointerUp,V=>{const Z=k.current,ee=V.target;if(ee.hasPointerCapture(V.pointerId)&&ee.releasePointerCapture(V.pointerId),k.current=null,E.current=null,Z){const W=V.currentTarget,K={originalEvent:V,delta:Z};wE(Z,w.swipeDirection,w.swipeThreshold)?Rv(pZ,v,K,{discrete:!0}):Rv(mZ,g,K,{discrete:!0}),W.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),vZ=t=>{const{__scopeToast:e,children:r,...n}=t,s=ow(wy,e),[i,o]=x.useState(!1),[c,u]=x.useState(!1);return NZ(()=>o(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:a.jsx(hg,{asChild:!0,children:a.jsx(iw,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},bZ="ToastTitle",IF=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Bt.div,{...n,ref:e})});IF.displayName=bZ;var wZ="ToastDescription",OF=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Bt.div,{...n,ref:e})});OF.displayName=wZ;var MF="ToastAction",RF=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(LF,{altText:r,asChild:!0,children:a.jsx(VC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MF}\`. Expected non-empty \`string\`.`),null)});RF.displayName=MF;var DF="ToastClose",VC=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=xZ(DF,r);return a.jsx(LF,{asChild:!0,children:a.jsx(Bt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,s.onClose)})})});VC.displayName=DF;var LF=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function $F(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),jZ(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$F(n))}}),e}function Rv(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?UC(s,i):s.dispatchEvent(i)}var wE=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function NZ(t=()=>{}){const e=Ni(t);Ya(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function jZ(t){return t.nodeType===t.ELEMENT_NODE}function SZ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function jN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var kZ=CF,FF=PF,BF=AF,UF=IF,zF=OF,qF=RF,VF=VC;function WF(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=WF(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function an(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=WF(t))&&(n&&(n+=" "),n+=e);return n}const NE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jE=an,lw=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return jE(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(f=>{const h=r==null?void 0:r[f],m=i==null?void 0:i[f];if(h===null)return null;const g=NE(h)||NE(m);return s[f][g]}),c=r&&Object.entries(r).reduce((f,h)=>{let[m,g]=h;return g===void 0||(f[m]=g),f},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:m,className:g,...v}=h;return Object.entries(v).every(j=>{let[w,b]=j;return Array.isArray(b)?b.includes({...i,...c}[w]):{...i,...c}[w]===b})?[...f,m,g]:f},[]);return jE(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HF=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...c},u)=>x.createElement("svg",{ref:u,...CZ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:HF("lucide",s),...c},[...o.map(([f,h])=>x.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(TZ,{ref:i,iconNode:e,className:HF(`lucide-${_Z(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=tt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=tt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=tt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=tt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=tt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=tt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=tt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=tt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=tt("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=tt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=tt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=tt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=tt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=tt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=tt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=tt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=tt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=tt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=tt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=tt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=tt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=tt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=tt("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=tt("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=tt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=tt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=tt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=tt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=tt("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=tt("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=tt("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=tt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=tt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=tt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=tt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=tt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=tt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=tt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=tt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=tt("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),YC="-",XZ=t=>{const e=JZ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const c=o.split(YC);return c[0]===""&&c.length!==1&&c.shift(),aB(c,e)||QZ(o)},getConflictingClassGroupIds:(o,c)=>{const u=r[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},aB=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?aB(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(YC);return(o=e.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},TE=/^\[(.+)\]$/,QZ=t=>{if(TE.test(t)){const e=TE.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},JZ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return eee(Object.entries(t.classGroups),r).forEach(([i,o])=>{E3(o,n,i,e)}),n},E3=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:PE(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(ZZ(s)){E3(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{E3(o,PE(e,i),r,n)})})},PE=(t,e)=>{let r=t;return e.split(YC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ZZ=t=>t.isThemeGetter,eee=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[e+o,c])):i);return[r,s]}):t,tee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},sB="!",ree=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=c=>{const u=[];let f=0,h=0,m;for(let b=0;b<c.length;b++){let _=c[b];if(f===0){if(_===s&&(n||c.slice(b,b+i)===e)){u.push(c.slice(h,b)),h=b+i;continue}if(_==="/"){m=b;continue}}_==="["?f++:_==="]"&&f--}const g=u.length===0?c:c.substring(h),v=g.startsWith(sB),j=v?g.substring(1):g,w=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:w}};return r?c=>r({className:c,parseClassName:o}):o},nee=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},aee=t=>({cache:tee(t.cacheSize),parseClassName:ree(t),...XZ(t)}),see=/\s+/,iee=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(see);let c="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:h,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}=r(f);let j=!!v,w=n(j?g.substring(0,v):g);if(!w){if(!j){c=f+(c.length>0?" "+c:c);continue}if(w=n(g),!w){c=f+(c.length>0?" "+c:c);continue}j=!1}const b=nee(h).join(":"),_=m?b+sB:b,T=_+w;if(i.includes(T))continue;i.push(T);const E=s(w,j);for(let k=0;k<E.length;++k){const C=E[k];i.push(_+C)}c=f+(c.length>0?" "+c:c)}return c};function oee(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=iB(e))&&(n&&(n+=" "),n+=r);return n}const iB=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=iB(t[n]))&&(r&&(r+=" "),r+=e);return r};function lee(t,...e){let r,n,s,i=o;function o(u){const f=e.reduce((h,m)=>m(h),t());return r=aee(f),n=r.cache.get,s=r.cache.set,i=c,c(u)}function c(u){const f=n(u);if(f)return f;const h=iee(u,r);return s(u,h),h}return function(){return i(oee.apply(null,arguments))}}const ia=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},oB=/^\[(?:([a-z-]+):)?(.+)\]$/i,cee=/^\d+\/\d+$/,dee=new Set(["px","full","screen"]),uee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wc=t=>np(t)||dee.has(t)||cee.test(t),Xd=t=>mg(t,"length",jee),np=t=>!!t&&!Number.isNaN(Number(t)),PN=t=>mg(t,"number",np),j0=t=>!!t&&Number.isInteger(Number(t)),gee=t=>t.endsWith("%")&&np(t.slice(0,-1)),zr=t=>oB.test(t),Qd=t=>uee.test(t),xee=new Set(["length","size","percentage"]),yee=t=>mg(t,xee,lB),vee=t=>mg(t,"position",lB),bee=new Set(["image","url"]),wee=t=>mg(t,bee,kee),Nee=t=>mg(t,"",See),S0=()=>!0,mg=(t,e,r)=>{const n=oB.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},jee=t=>fee.test(t)&&!hee.test(t),lB=()=>!1,See=t=>mee.test(t),kee=t=>pee.test(t),_ee=()=>{const t=ia("colors"),e=ia("spacing"),r=ia("blur"),n=ia("brightness"),s=ia("borderColor"),i=ia("borderRadius"),o=ia("borderSpacing"),c=ia("borderWidth"),u=ia("contrast"),f=ia("grayscale"),h=ia("hueRotate"),m=ia("invert"),g=ia("gap"),v=ia("gradientColorStops"),j=ia("gradientColorStopPositions"),w=ia("inset"),b=ia("margin"),_=ia("opacity"),T=ia("padding"),E=ia("saturate"),k=ia("scale"),C=ia("sepia"),S=ia("skew"),A=ia("space"),R=ia("translate"),D=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",zr,e],z=()=>[zr,e],X=()=>["",Wc,Xd],V=()=>["auto",np,zr],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",zr],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[np,zr];return{cacheSize:500,separator:":",theme:{colors:[S0],spacing:[Wc,Xd],blur:["none","",Qd,zr],brightness:$(),borderColor:[t],borderRadius:["none","","full",Qd,zr],borderSpacing:z(),borderWidth:X(),contrast:$(),grayscale:G(),hueRotate:$(),invert:G(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[gee,Xd],inset:F(),margin:F(),opacity:$(),padding:z(),saturate:$(),scale:$(),sepia:G(),skew:$(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",zr]}],container:["container"],columns:[{columns:[Qd]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),zr]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",j0,zr]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",j0,zr]}],"grid-cols":[{"grid-cols":[S0]}],"col-start-end":[{col:["auto",{span:["full",j0,zr]},zr]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[S0]}],"row-start-end":[{row:["auto",{span:[j0,zr]},zr]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zr]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zr,e]}],"min-w":[{"min-w":[zr,e,"min","max","fit"]}],"max-w":[{"max-w":[zr,e,"none","full","min","max","fit","prose",{screen:[Qd]},Qd]}],h:[{h:[zr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qd,Xd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PN]}],"font-family":[{font:[S0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zr]}],"line-clamp":[{"line-clamp":["none",np,PN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wc,zr]}],"list-image":[{"list-image":["none",zr]}],"list-style-type":[{list:["none","disc","decimal",zr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wc,Xd]}],"underline-offset":[{"underline-offset":["auto",Wc,zr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),vee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wee]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Wc,zr]}],"outline-w":[{outline:[Wc,Xd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Wc,Xd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qd,Nee]}],"shadow-color":[{shadow:[S0]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Qd,zr]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zr]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",zr]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",zr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[j0,zr]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wc,Xd,PN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cee=lee(_ee);function Nt(...t){return Cee(an(t))}const Tee=kZ,cB=x.forwardRef(({className:t,...e},r)=>a.jsx(FF,{ref:r,className:Nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cB.displayName=FF.displayName;const Pee=lw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dB=x.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(BF,{ref:n,className:Nt(Pee({variant:e}),t),...r}));dB.displayName=BF.displayName;const Eee=x.forwardRef(({className:t,...e},r)=>a.jsx(qF,{ref:r,className:Nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Eee.displayName=qF.displayName;const uB=x.forwardRef(({className:t,...e},r)=>a.jsx(VF,{ref:r,className:Nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(La,{className:"h-4 w-4"})}));uB.displayName=VF.displayName;const fB=x.forwardRef(({className:t,...e},r)=>a.jsx(UF,{ref:r,className:Nt("text-sm font-semibold",t),...e}));fB.displayName=UF.displayName;const hB=x.forwardRef(({className:t,...e},r)=>a.jsx(zF,{ref:r,className:Nt("text-sm opacity-90",t),...e}));hB.displayName=zF.displayName;function Aee(){const{toasts:t}=$s();return a.jsxs(Tee,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return a.jsxs(dB,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(fB,{children:r}),n&&a.jsx(hB,{children:n})]}),s,a.jsx(uB,{})]},e)}),a.jsx(cB,{})]})}var Iee=MC[" useId ".trim().toString()]||(()=>{}),Oee=0;function Ds(t){const[e,r]=x.useState(Iee());return Ya(()=>{r(n=>n??String(Oee++))},[t]),e?`radix-${e}`:""}const Mee=["top","right","bottom","left"],Mu=Math.min,ao=Math.max,Cb=Math.round,Bv=Math.floor,lc=t=>({x:t,y:t}),Ree={left:"right",right:"left",bottom:"top",top:"bottom"},Dee={start:"end",end:"start"};function A3(t,e,r){return ao(t,Mu(e,r))}function gd(t,e){return typeof t=="function"?t(e):t}function xd(t){return t.split("-")[0]}function pg(t){return t.split("-")[1]}function XC(t){return t==="x"?"y":"x"}function QC(t){return t==="y"?"height":"width"}const Lee=new Set(["top","bottom"]);function ac(t){return Lee.has(xd(t))?"y":"x"}function JC(t){return XC(ac(t))}function $ee(t,e,r){r===void 0&&(r=!1);const n=pg(t),s=JC(t),i=QC(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Tb(o)),[o,Tb(o)]}function Fee(t){const e=Tb(t);return[I3(t),e,I3(e)]}function I3(t){return t.replace(/start|end/g,e=>Dee[e])}const EE=["left","right"],AE=["right","left"],Bee=["top","bottom"],Uee=["bottom","top"];function zee(t,e,r){switch(t){case"top":case"bottom":return r?e?AE:EE:e?EE:AE;case"left":case"right":return e?Bee:Uee;default:return[]}}function qee(t,e,r,n){const s=pg(t);let i=zee(xd(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(I3)))),i}function Tb(t){return t.replace(/left|right|bottom|top/g,e=>Ree[e])}function Vee(t){return{top:0,right:0,bottom:0,left:0,...t}}function mB(t){return typeof t!="number"?Vee(t):{top:t,right:t,bottom:t,left:t}}function Pb(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function IE(t,e,r){let{reference:n,floating:s}=t;const i=ac(e),o=JC(e),c=QC(o),u=xd(e),f=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,g=n[c]/2-s[c]/2;let v;switch(u){case"top":v={x:h,y:n.y-s.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-s.width,y:m};break;default:v={x:n.x,y:n.y}}switch(pg(e)){case"start":v[o]-=g*(r&&f?-1:1);break;case"end":v[o]+=g*(r&&f?-1:1);break}return v}const Wee=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=IE(f,n,u),g=n,v={},j=0;for(let w=0;w<c.length;w++){const{name:b,fn:_}=c[w],{x:T,y:E,data:k,reset:C}=await _({x:h,y:m,initialPlacement:n,placement:g,strategy:s,middlewareData:v,rects:f,platform:o,elements:{reference:t,floating:e}});h=T??h,m=E??m,v={...v,[b]:{...v[b],...k}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(f=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:h,y:m}=IE(f,g,u)),w=-1)}return{x:h,y:m,placement:g,strategy:s,middlewareData:v}};async function ux(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=gd(e,t),j=mB(v),b=c[g?m==="floating"?"reference":"floating":m],_=Pb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:u})),T=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},C=Pb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:E,strategy:u}):T);return{top:(_.top-C.top+j.top)/k.y,bottom:(C.bottom-_.bottom+j.bottom)/k.y,left:(_.left-C.left+j.left)/k.x,right:(C.right-_.right+j.right)/k.x}}const Hee=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:c,middlewareData:u}=e,{element:f,padding:h=0}=gd(t,e)||{};if(f==null)return{};const m=mB(h),g={x:r,y:n},v=JC(s),j=QC(v),w=await o.getDimensions(f),b=v==="y",_=b?"top":"left",T=b?"bottom":"right",E=b?"clientHeight":"clientWidth",k=i.reference[j]+i.reference[v]-g[v]-i.floating[j],C=g[v]-i.reference[v],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let A=S?S[E]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=c.floating[E]||i.floating[j]);const R=k/2-C/2,D=A/2-w[j]/2-1,B=Mu(m[_],D),F=Mu(m[T],D),z=B,X=A-w[j]-F,V=A/2-w[j]/2+R,Z=A3(z,V,X),ee=!u.arrow&&pg(s)!=null&&V!==Z&&i.reference[j]/2-(V<z?B:F)-w[j]/2<0,W=ee?V<z?V-z:V-X:0;return{[v]:g[v]+W,data:{[v]:Z,centerOffset:V-Z-W,...ee&&{alignmentOffset:W}},reset:ee}}}),Kee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,...b}=gd(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=xd(s),T=ac(c),E=xd(c)===c,k=await(u.isRTL==null?void 0:u.isRTL(f.floating)),C=g||(E||!w?[Tb(c)]:Fee(c)),S=j!=="none";!g&&S&&C.push(...qee(c,w,j,k));const A=[c,...C],R=await ux(e,b),D=[];let B=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&D.push(R[_]),m){const V=$ee(s,o,k);D.push(R[V[0]],R[V[1]])}if(B=[...B,{placement:s,overflows:D}],!D.every(V=>V<=0)){var F,z;const V=(((F=i.flip)==null?void 0:F.index)||0)+1,Z=A[V];if(Z&&(!(m==="alignment"?T!==ac(Z):!1)||B.every(K=>ac(K.placement)===T?K.overflows[0]>0:!0)))return{data:{index:V,overflows:B},reset:{placement:Z}};let ee=(z=B.filter(W=>W.overflows[0]<=0).sort((W,K)=>W.overflows[1]-K.overflows[1])[0])==null?void 0:z.placement;if(!ee)switch(v){case"bestFit":{var X;const W=(X=B.filter(K=>{if(S){const G=ac(K.placement);return G===T||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,Q)=>G+Q,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:X[0];W&&(ee=W);break}case"initialPlacement":ee=c;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function OE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ME(t){return Mee.some(e=>t[e]>=0)}const Gee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=gd(t,e);switch(n){case"referenceHidden":{const i=await ux(e,{...s,elementContext:"reference"}),o=OE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ME(o)}}}case"escaped":{const i=await ux(e,{...s,altBoundary:!0}),o=OE(i,r.floating);return{data:{escapedOffsets:o,escaped:ME(o)}}}default:return{}}}}},pB=new Set(["left","top"]);async function Yee(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=xd(r),c=pg(r),u=ac(r)==="y",f=pB.has(o)?-1:1,h=i&&u?-1:1,m=gd(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof j=="number"&&(v=c==="end"?j*-1:j),u?{x:v*h,y:g*f}:{x:g*f,y:v*h}}const Xee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:c}=e,u=await Yee(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Qee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:b=>{let{x:_,y:T}=b;return{x:_,y:T}}},...u}=gd(t,e),f={x:r,y:n},h=await ux(e,u),m=ac(xd(s)),g=XC(m);let v=f[g],j=f[m];if(i){const b=g==="y"?"top":"left",_=g==="y"?"bottom":"right",T=v+h[b],E=v-h[_];v=A3(T,v,E)}if(o){const b=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=j+h[b],E=j-h[_];j=A3(T,j,E)}const w=c.fn({...e,[g]:v,[m]:j});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:i,[m]:o}}}}}},Jee=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=gd(t,e),h={x:r,y:n},m=ac(s),g=XC(m);let v=h[g],j=h[m];const w=gd(c,e),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const E=g==="y"?"height":"width",k=i.reference[g]-i.floating[E]+b.mainAxis,C=i.reference[g]+i.reference[E]-b.mainAxis;v<k?v=k:v>C&&(v=C)}if(f){var _,T;const E=g==="y"?"width":"height",k=pB.has(xd(s)),C=i.reference[m]-i.floating[E]+(k&&((_=o.offset)==null?void 0:_[m])||0)+(k?0:b.crossAxis),S=i.reference[m]+i.reference[E]+(k?0:((T=o.offset)==null?void 0:T[m])||0)-(k?b.crossAxis:0);j<C?j=C:j>S&&(j=S)}return{[g]:v,[m]:j}}}},Zee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:c}=e,{apply:u=()=>{},...f}=gd(t,e),h=await ux(e,f),m=xd(s),g=pg(s),v=ac(s)==="y",{width:j,height:w}=i.floating;let b,_;m==="top"||m==="bottom"?(b=m,_=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=m,b=g==="end"?"top":"bottom");const T=w-h.top-h.bottom,E=j-h.left-h.right,k=Mu(w-h[b],T),C=Mu(j-h[_],E),S=!e.middlewareData.shift;let A=k,R=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=T),S&&!g){const B=ao(h.left,0),F=ao(h.right,0),z=ao(h.top,0),X=ao(h.bottom,0);v?R=j-2*(B!==0||F!==0?B+F:ao(h.left,h.right)):A=w-2*(z!==0||X!==0?z+X:ao(h.top,h.bottom))}await u({...e,availableWidth:R,availableHeight:A});const D=await o.getDimensions(c.floating);return j!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function uw(){return typeof window<"u"}function gg(t){return gB(t)?(t.nodeName||"").toLowerCase():"#document"}function lo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yc(t){var e;return(e=(gB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gB(t){return uw()?t instanceof Node||t instanceof lo(t).Node:!1}function Cl(t){return uw()?t instanceof Element||t instanceof lo(t).Element:!1}function hc(t){return uw()?t instanceof HTMLElement||t instanceof lo(t).HTMLElement:!1}function RE(t){return!uw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lo(t).ShadowRoot}const ete=new Set(["inline","contents"]);function Ny(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Tl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!ete.has(s)}const tte=new Set(["table","td","th"]);function rte(t){return tte.has(gg(t))}const nte=[":popover-open",":modal"];function fw(t){return nte.some(e=>{try{return t.matches(e)}catch{return!1}})}const ate=["transform","translate","scale","rotate","perspective"],ste=["transform","translate","scale","rotate","perspective","filter"],ite=["paint","layout","strict","content"];function ZC(t){const e=eT(),r=Cl(t)?Tl(t):t;return ate.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||ste.some(n=>(r.willChange||"").includes(n))||ite.some(n=>(r.contain||"").includes(n))}function ote(t){let e=Ru(t);for(;hc(e)&&!Ap(e);){if(ZC(e))return e;if(fw(e))return null;e=Ru(e)}return null}function eT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lte=new Set(["html","body","#document"]);function Ap(t){return lte.has(gg(t))}function Tl(t){return lo(t).getComputedStyle(t)}function hw(t){return Cl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ru(t){if(gg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RE(t)&&t.host||yc(t);return RE(e)?e.host:e}function xB(t){const e=Ru(t);return Ap(e)?t.ownerDocument?t.ownerDocument.body:t.body:hc(e)&&Ny(e)?e:xB(e)}function fx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=xB(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=lo(s);if(i){const c=O3(o);return e.concat(o,o.visualViewport||[],Ny(s)?s:[],c&&r?fx(c):[])}return e.concat(s,fx(s,[],r))}function O3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yB(t){const e=Tl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=hc(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,c=Cb(r)!==i||Cb(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function tT(t){return Cl(t)?t:t.contextElement}function ap(t){const e=tT(t);if(!hc(e))return lc(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=yB(e);let o=(i?Cb(r.width):r.width)/n,c=(i?Cb(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const cte=lc(0);function vB(t){const e=lo(t);return!eT()||!e.visualViewport?cte:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dte(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==lo(t)?!1:e}function bh(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=tT(t);let o=lc(1);e&&(n?Cl(n)&&(o=ap(n)):o=ap(t));const c=dte(i,r,n)?vB(i):lc(0);let u=(s.left+c.x)/o.x,f=(s.top+c.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const g=lo(i),v=n&&Cl(n)?lo(n):n;let j=g,w=O3(j);for(;w&&n&&v!==j;){const b=ap(w),_=w.getBoundingClientRect(),T=Tl(w),E=_.left+(w.clientLeft+parseFloat(T.paddingLeft))*b.x,k=_.top+(w.clientTop+parseFloat(T.paddingTop))*b.y;u*=b.x,f*=b.y,h*=b.x,m*=b.y,u+=E,f+=k,j=lo(w),w=O3(j)}}return Pb({width:h,height:m,x:u,y:f})}function mw(t,e){const r=hw(t).scrollLeft;return e?e.left+r:bh(yc(t)).left+r}function bB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-mw(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function ute(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=yc(n),c=e?fw(e.floating):!1;if(n===o||c&&i)return r;let u={scrollLeft:0,scrollTop:0},f=lc(1);const h=lc(0),m=hc(n);if((m||!m&&!i)&&((gg(n)!=="body"||Ny(o))&&(u=hw(n)),hc(n))){const v=bh(n);f=ap(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const g=o&&!m&&!i?bB(o,u):lc(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+h.x+g.x,y:r.y*f.y-u.scrollTop*f.y+h.y+g.y}}function fte(t){return Array.from(t.getClientRects())}function hte(t){const e=yc(t),r=hw(t),n=t.ownerDocument.body,s=ao(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=ao(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+mw(t);const c=-r.scrollTop;return Tl(n).direction==="rtl"&&(o+=ao(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:c}}const DE=25;function mte(t,e){const r=lo(t),n=yc(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;const h=eT();(!h||h&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const f=mw(n);if(f<=0){const h=n.ownerDocument,m=h.body,g=getComputedStyle(m),v=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,j=Math.abs(n.clientWidth-m.clientWidth-v);j<=DE&&(i-=j)}else f<=DE&&(i+=f);return{width:i,height:o,x:c,y:u}}const pte=new Set(["absolute","fixed"]);function gte(t,e){const r=bh(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=hc(t)?ap(t):lc(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,f=n*i.y;return{width:o,height:c,x:u,y:f}}function LE(t,e,r){let n;if(e==="viewport")n=mte(t,r);else if(e==="document")n=hte(yc(t));else if(Cl(e))n=gte(e,r);else{const s=vB(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Pb(n)}function wB(t,e){const r=Ru(t);return r===e||!Cl(r)||Ap(r)?!1:Tl(r).position==="fixed"||wB(r,e)}function xte(t,e){const r=e.get(t);if(r)return r;let n=fx(t,[],!1).filter(c=>Cl(c)&&gg(c)!=="body"),s=null;const i=Tl(t).position==="fixed";let o=i?Ru(t):t;for(;Cl(o)&&!Ap(o);){const c=Tl(o),u=ZC(o);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&pte.has(s.position)||Ny(o)&&!u&&wB(t,o))?n=n.filter(h=>h!==o):s=c,o=Ru(o)}return e.set(t,n),n}function yte(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?fw(e)?[]:xte(e,this._c):[].concat(r),n],c=o[0],u=o.reduce((f,h)=>{const m=LE(e,h,s);return f.top=ao(m.top,f.top),f.right=Mu(m.right,f.right),f.bottom=Mu(m.bottom,f.bottom),f.left=ao(m.left,f.left),f},LE(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function vte(t){const{width:e,height:r}=yB(t);return{width:e,height:r}}function bte(t,e,r){const n=hc(e),s=yc(e),i=r==="fixed",o=bh(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=lc(0);function f(){u.x=mw(s)}if(n||!n&&!i)if((gg(e)!=="body"||Ny(s))&&(c=hw(e)),n){const v=bh(e,!0,i,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else s&&f();i&&!n&&s&&f();const h=s&&!n&&!i?bB(s,c):lc(0),m=o.left+c.scrollLeft-u.x-h.x,g=o.top+c.scrollTop-u.y-h.y;return{x:m,y:g,width:o.width,height:o.height}}function EN(t){return Tl(t).position==="static"}function $E(t,e){if(!hc(t)||Tl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return yc(t)===r&&(r=r.ownerDocument.body),r}function NB(t,e){const r=lo(t);if(fw(t))return r;if(!hc(t)){let s=Ru(t);for(;s&&!Ap(s);){if(Cl(s)&&!EN(s))return s;s=Ru(s)}return r}let n=$E(t,e);for(;n&&rte(n)&&EN(n);)n=$E(n,e);return n&&Ap(n)&&EN(n)&&!ZC(n)?r:n||ote(t)||r}const wte=async function(t){const e=this.getOffsetParent||NB,r=this.getDimensions,n=await r(t.floating);return{reference:bte(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nte(t){return Tl(t).direction==="rtl"}const jte={convertOffsetParentRelativeRectToViewportRelativeRect:ute,getDocumentElement:yc,getClippingRect:yte,getOffsetParent:NB,getElementRects:wte,getClientRects:fte,getDimensions:vte,getScale:ap,isElement:Cl,isRTL:Nte};function jB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ste(t,e){let r=null,n;const s=yc(t);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const f=t.getBoundingClientRect(),{left:h,top:m,width:g,height:v}=f;if(c||e(),!g||!v)return;const j=Bv(m),w=Bv(s.clientWidth-(h+g)),b=Bv(s.clientHeight-(m+v)),_=Bv(h),E={rootMargin:-j+"px "+-w+"px "+-b+"px "+-_+"px",threshold:ao(0,Mu(1,u))||1};let k=!0;function C(S){const A=S[0].intersectionRatio;if(A!==u){if(!k)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!jB(f,t.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(C,{...E,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,E)}r.observe(t)}return o(!0),i}function kte(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=tT(t),h=s||i?[...f?fx(f):[],...fx(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const m=f&&c?Ste(f,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),r()}),f&&!u&&v.observe(f),v.observe(e));let j,w=u?bh(t):null;u&&b();function b(){const _=bh(t);w&&!jB(w,_)&&r(),w=_,j=requestAnimationFrame(b)}return r(),()=>{var _;h.forEach(T=>{s&&T.removeEventListener("scroll",r),i&&T.removeEventListener("resize",r)}),m==null||m(),(_=v)==null||_.disconnect(),v=null,u&&cancelAnimationFrame(j)}}const _te=Xee,Cte=Qee,Tte=Kee,Pte=Zee,Ete=Gee,FE=Hee,Ate=Jee,Ite=(t,e,r)=>{const n=new Map,s={platform:jte,...r},i={...s.platform,_c:n};return Wee(t,e,{...s,platform:i})};var Ote=typeof document<"u",Mte=function(){},hb=Ote?x.useLayoutEffect:Mte;function Eb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Eb(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Eb(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function SB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BE(t,e){const r=SB(t);return Math.round(e*r)/r}function AN(t){const e=x.useRef(t);return hb(()=>{e.current=t}),e}function Rte(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:u,open:f}=t,[h,m]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=x.useState(n);Eb(g,n)||v(n);const[j,w]=x.useState(null),[b,_]=x.useState(null),T=x.useCallback(K=>{K!==S.current&&(S.current=K,w(K))},[]),E=x.useCallback(K=>{K!==A.current&&(A.current=K,_(K))},[]),k=i||j,C=o||b,S=x.useRef(null),A=x.useRef(null),R=x.useRef(h),D=u!=null,B=AN(u),F=AN(s),z=AN(f),X=x.useCallback(()=>{if(!S.current||!A.current)return;const K={placement:e,strategy:r,middleware:g};F.current&&(K.platform=F.current),Ite(S.current,A.current,K).then(G=>{const Q={...G,isPositioned:z.current!==!1};V.current&&!Eb(R.current,Q)&&(R.current=Q,fg.flushSync(()=>{m(Q)}))})},[g,e,r,F,z]);hb(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[f]);const V=x.useRef(!1);hb(()=>(V.current=!0,()=>{V.current=!1}),[]),hb(()=>{if(k&&(S.current=k),C&&(A.current=C),k&&C){if(B.current)return B.current(k,C,X);X()}},[k,C,X,B,D]);const Z=x.useMemo(()=>({reference:S,floating:A,setReference:T,setFloating:E}),[T,E]),ee=x.useMemo(()=>({reference:k,floating:C}),[k,C]),W=x.useMemo(()=>{const K={position:r,left:0,top:0};if(!ee.floating)return K;const G=BE(ee.floating,h.x),Q=BE(ee.floating,h.y);return c?{...K,transform:"translate("+G+"px, "+Q+"px)",...SB(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:Q}},[r,c,ee.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:X,refs:Z,elements:ee,floatingStyles:W}),[h,X,Z,ee,W])}const Dte=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?FE({element:n.current,padding:s}).fn(r):{}:n?FE({element:n,padding:s}).fn(r):{}}}},Lte=(t,e)=>({..._te(t),options:[t,e]}),$te=(t,e)=>({...Cte(t),options:[t,e]}),Fte=(t,e)=>({...Ate(t),options:[t,e]}),Bte=(t,e)=>({...Tte(t),options:[t,e]}),Ute=(t,e)=>({...Pte(t),options:[t,e]}),zte=(t,e)=>({...Ete(t),options:[t,e]}),qte=(t,e)=>({...Dte(t),options:[t,e]});var Vte="Arrow",kB=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(Bt.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});kB.displayName=Vte;var Wte=kB;function _B(t){const[e,r]=x.useState(void 0);return Ya(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,c=f.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var rT="Popper",[CB,zu]=zi(rT),[Hte,TB]=CB(rT),PB=t=>{const{__scopePopper:e,children:r}=t,[n,s]=x.useState(null);return a.jsx(Hte,{scope:e,anchor:n,onAnchorChange:s,children:r})};PB.displayName=rT;var EB="PopperAnchor",AB=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=TB(EB,r),o=x.useRef(null),c=dn(e,o),u=x.useRef(null);return x.useEffect(()=>{const f=u.current;u.current=(n==null?void 0:n.current)||o.current,f!==u.current&&i.onAnchorChange(u.current)}),n?null:a.jsx(Bt.div,{...s,ref:c})});AB.displayName=EB;var nT="PopperContent",[Kte,Gte]=CB(nT),IB=x.forwardRef((t,e)=>{var re,pe,ue,Ie,qe,Ne;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:j,...w}=t,b=TB(nT,r),[_,T]=x.useState(null),E=dn(e,rt=>T(rt)),[k,C]=x.useState(null),S=_B(k),A=(S==null?void 0:S.width)??0,R=(S==null?void 0:S.height)??0,D=n+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},F=Array.isArray(f)?f:[f],z=F.length>0,X={padding:B,boundary:F.filter(Xte),altBoundary:z},{refs:V,floatingStyles:Z,placement:ee,isPositioned:W,middlewareData:K}=Rte({strategy:"fixed",placement:D,whileElementsMounted:(...rt)=>kte(...rt,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[Lte({mainAxis:s+R,alignmentAxis:o}),u&&$te({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Fte():void 0,...X}),u&&Bte({...X}),Ute({...X,apply:({elements:rt,rects:_e,availableWidth:Ct,availableHeight:Qt})=>{const{width:Ar,height:Ln}=_e.reference,Sn=rt.floating.style;Sn.setProperty("--radix-popper-available-width",`${Ct}px`),Sn.setProperty("--radix-popper-available-height",`${Qt}px`),Sn.setProperty("--radix-popper-anchor-width",`${Ar}px`),Sn.setProperty("--radix-popper-anchor-height",`${Ln}px`)}}),k&&qte({element:k,padding:c}),Qte({arrowWidth:A,arrowHeight:R}),g&&zte({strategy:"referenceHidden",...X})]}),[G,Q]=RB(ee),$=Ni(j);Ya(()=>{W&&($==null||$())},[W,$]);const U=(re=K.arrow)==null?void 0:re.x,ie=(pe=K.arrow)==null?void 0:pe.y,ce=((ue=K.arrow)==null?void 0:ue.centerOffset)!==0,[he,we]=x.useState();return Ya(()=>{_&&we(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:W?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ie=K.transformOrigin)==null?void 0:Ie.x,(qe=K.transformOrigin)==null?void 0:qe.y].join(" "),...((Ne=K.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Kte,{scope:r,placedSide:G,onArrowChange:C,arrowX:U,arrowY:ie,shouldHideArrow:ce,children:a.jsx(Bt.div,{"data-side":G,"data-align":Q,...w,ref:E,style:{...w.style,animation:W?void 0:"none"}})})})});IB.displayName=nT;var OB="PopperArrow",Yte={top:"bottom",right:"left",bottom:"top",left:"right"},MB=x.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=Gte(OB,n),o=Yte[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Wte,{...s,ref:r,style:{...s.style,display:"block"}})})});MB.displayName=OB;function Xte(t){return t!==null}var Qte=t=>({name:"transformOrigin",options:t,fn(e){var b,_,T;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,h]=RB(r),m={start:"0%",center:"50%",end:"100%"}[h],g=(((_=s.arrow)==null?void 0:_.x)??0)+c/2,v=(((T=s.arrow)==null?void 0:T.y)??0)+u/2;let j="",w="";return f==="bottom"?(j=o?m:`${g}px`,w=`${-u}px`):f==="top"?(j=o?m:`${g}px`,w=`${n.floating.height+u}px`):f==="right"?(j=`${-u}px`,w=o?m:`${v}px`):f==="left"&&(j=`${n.floating.width+u}px`,w=o?m:`${v}px`),{data:{x:j,y:w}}}});function RB(t){const[e,r="center"]=t.split("-");return[e,r]}var aT=PB,jy=AB,pw=IB,gw=MB,[xw]=zi("Tooltip",[zu]),sT=zu(),DB="TooltipProvider",Jte=700,UE="tooltip.open",[Zte,LB]=xw(DB),$B=t=>{const{__scopeTooltip:e,delayDuration:r=Jte,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=x.useRef(!0),c=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),a.jsx(Zte,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:i})};$B.displayName=DB;var FB="Tooltip",[TCe,yw]=xw(FB),M3="TooltipTrigger",ere=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=yw(M3,r),i=LB(M3,r),o=sT(r),c=x.useRef(null),u=dn(e,c,s.onTriggerChange),f=x.useRef(!1),h=x.useRef(!1),m=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(jy,{asChild:!0,...o,children:a.jsx(Bt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:pt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:pt(t.onFocus,()=>{f.current||s.onOpen()}),onBlur:pt(t.onBlur,s.onClose),onClick:pt(t.onClick,s.onClose)})})});ere.displayName=M3;var tre="TooltipPortal",[PCe,rre]=xw(tre,{forceMount:void 0}),Ip="TooltipContent",BB=x.forwardRef((t,e)=>{const r=rre(Ip,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=yw(Ip,t.__scopeTooltip);return a.jsx(uo,{present:n||o.open,children:o.disableHoverableContent?a.jsx(UB,{side:s,...i,ref:e}):a.jsx(nre,{side:s,...i,ref:e})})}),nre=x.forwardRef((t,e)=>{const r=yw(Ip,t.__scopeTooltip),n=LB(Ip,t.__scopeTooltip),s=x.useRef(null),i=dn(e,s),[o,c]=x.useState(null),{trigger:u,onClose:f}=r,h=s.current,{onPointerInTransitChange:m}=n,g=x.useCallback(()=>{c(null),m(!1)},[m]),v=x.useCallback((j,w)=>{const b=j.currentTarget,_={x:j.clientX,y:j.clientY},T=lre(_,b.getBoundingClientRect()),E=cre(_,T),k=dre(w.getBoundingClientRect()),C=fre([...E,...k]);c(C),m(!0)},[m]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(u&&h){const j=b=>v(b,h),w=b=>v(b,u);return u.addEventListener("pointerleave",j),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",w)}}},[u,h,v,g]),x.useEffect(()=>{if(o){const j=w=>{const b=w.target,_={x:w.clientX,y:w.clientY},T=(u==null?void 0:u.contains(b))||(h==null?void 0:h.contains(b)),E=!ure(_,o);T?g():E&&(g(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[u,h,o,f,g]),a.jsx(UB,{...t,ref:i})}),[are,sre]=xw(FB,{isInside:!1}),ire=FJ("TooltipContent"),UB=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=t,u=yw(Ip,r),f=sT(r),{onClose:h}=u;return x.useEffect(()=>(document.addEventListener(UE,h),()=>document.removeEventListener(UE,h)),[h]),x.useEffect(()=>{if(u.trigger){const m=g=>{const v=g.target;v!=null&&v.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),a.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(pw,{"data-state":u.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ire,{children:n}),a.jsx(are,{scope:r,isInside:!0,children:a.jsx(oZ,{id:u.contentId,role:"tooltip",children:s||n})})]})})});BB.displayName=Ip;var zB="TooltipArrow",ore=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=sT(r);return sre(zB,r).isInside?null:a.jsx(gw,{...s,...n,ref:e})});ore.displayName=zB;function lre(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cre(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dre(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function ure(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],u=e[o],f=c.x,h=c.y,m=u.x,g=u.y;h>n!=g>n&&r<(m-f)*(n-h)/(g-h)+f&&(s=!s)}return s}function fre(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hre(e)}function hre(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mre=$B,qB=BB;const pre=mre,gre=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(qB,{ref:n,sideOffset:e,className:Nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));gre.displayName=qB.displayName;const VB=x.createContext(void 0);function xre({children:t}){const[e,r]=x.useState("light");x.useEffect(()=>{const i=localStorage.getItem("theme");i&&r(i)},[]),x.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),e==="dark"&&i.classList.add("dark"),localStorage.setItem("theme",e)},[e]);const s={theme:e,setTheme:r,toggleTheme:()=>{r(i=>i==="dark"?"light":"dark")}};return a.jsx(VB.Provider,{value:s,children:t})}const WB=()=>{const t=x.useContext(VB);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},yre=lw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?LJ:"button";return a.jsx(o,{className:Nt(yre({variant:e,size:r,className:t})),ref:i,...s})});H.displayName="Button";var IN="focusScope.autoFocusOnMount",ON="focusScope.autoFocusOnUnmount",zE={bubbles:!1,cancelable:!0},vre="FocusScope",Sy=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[c,u]=x.useState(null),f=Ni(s),h=Ni(i),m=x.useRef(null),g=dn(e,w=>u(w)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(E){if(v.paused||!c)return;const k=E.target;c.contains(k)?m.current=k:tu(m.current,{select:!0})},b=function(E){if(v.paused||!c)return;const k=E.relatedTarget;k!==null&&(c.contains(k)||tu(m.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&tu(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const T=new MutationObserver(_);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),T.disconnect()}}},[n,c,v.paused]),x.useEffect(()=>{if(c){VE.add(v);const w=document.activeElement;if(!c.contains(w)){const _=new CustomEvent(IN,zE);c.addEventListener(IN,f),c.dispatchEvent(_),_.defaultPrevented||(bre(kre(HB(c)),{select:!0}),document.activeElement===w&&tu(c))}return()=>{c.removeEventListener(IN,f),setTimeout(()=>{const _=new CustomEvent(ON,zE);c.addEventListener(ON,h),c.dispatchEvent(_),_.defaultPrevented||tu(w??document.body,{select:!0}),c.removeEventListener(ON,h),VE.remove(v)},0)}}},[c,f,h,v]);const j=x.useCallback(w=>{if(!r&&!n||v.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(b&&_){const T=w.currentTarget,[E,k]=wre(T);E&&k?!w.shiftKey&&_===k?(w.preventDefault(),r&&tu(E,{select:!0})):w.shiftKey&&_===E&&(w.preventDefault(),r&&tu(k,{select:!0})):_===T&&w.preventDefault()}},[r,n,v.paused]);return a.jsx(Bt.div,{tabIndex:-1,...o,ref:g,onKeyDown:j})});Sy.displayName=vre;function bre(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(tu(n,{select:e}),document.activeElement!==r)return}function wre(t){const e=HB(t),r=qE(e,t),n=qE(e.reverse(),t);return[r,n]}function HB(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function qE(t,e){for(const r of t)if(!Nre(r,{upTo:e}))return r}function Nre(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jre(t){return t instanceof HTMLInputElement&&"select"in t}function tu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&jre(t)&&e&&t.select()}}var VE=Sre();function Sre(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=WE(t,e),t.unshift(e)},remove(e){var r;t=WE(t,e),(r=t[0])==null||r.resume()}}}function WE(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function kre(t){return t.filter(e=>e.tagName!=="A")}var MN=0;function vw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??HE()),document.body.insertAdjacentElement("beforeend",t[1]??HE()),MN++,()=>{MN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),MN--}},[])}function HE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nc=function(){return nc=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},nc.apply(this,arguments)};function KB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function _re(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var mb="right-scroll-bar-position",pb="width-before-scroll-bar",Cre="with-scroll-bars-hidden",Tre="--removed-body-scroll-bar-size";function RN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Pre(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Ere=typeof window<"u"?x.useLayoutEffect:x.useEffect,KE=new WeakMap;function Are(t,e){var r=Pre(null,function(n){return t.forEach(function(s){return RN(s,n)})});return Ere(function(){var n=KE.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(c){i.has(c)||RN(c,null)}),i.forEach(function(c){s.has(c)||RN(c,o)})}KE.set(r,t)},[t]),r}function Ire(t){return t}function Ore(t,e){e===void 0&&(e=Ire);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var u=function(){var h=o;o=[],h.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(h){o.push(h),f()},filter:function(h){return o=o.filter(h),r}}}};return s}function Mre(t){t===void 0&&(t={});var e=Ore(null);return e.options=nc({async:!0,ssr:!1},t),e}var GB=function(t){var e=t.sideCar,r=KB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,nc({},r))};GB.isSideCarExport=!0;function Rre(t,e){return t.useMedium(e),GB}var YB=Mre(),DN=function(){},bw=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:DN,onWheelCapture:DN,onTouchMoveCapture:DN}),s=n[0],i=n[1],o=t.forwardProps,c=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,v=t.noRelative,j=t.noIsolation,w=t.inert,b=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,E=t.gapMode,k=KB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,S=Are([r,e]),A=nc(nc({},k),s);return x.createElement(x.Fragment,null,h&&x.createElement(C,{sideCar:YB,removeScrollBar:f,shards:m,noRelative:v,noIsolation:j,inert:w,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:E}),o?x.cloneElement(x.Children.only(c),nc(nc({},A),{ref:S})):x.createElement(T,nc({},A,{className:u,ref:S}),c))});bw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bw.classNames={fullWidth:pb,zeroRight:mb};var Dre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Dre();return e&&t.setAttribute("nonce",e),t}function $re(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Fre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bre=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Lre())&&($re(e,r),Fre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ure=function(){var t=Bre();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},XB=function(){var t=Ure(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},zre={left:0,top:0,right:0,gap:0},LN=function(t){return parseInt(t||"",10)||0},qre=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[LN(r),LN(n),LN(s)]},Vre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zre;var e=qre(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Wre=XB(),sp="data-scroll-locked",Hre=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(sp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mb,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(pb,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(mb," .").concat(mb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pb," .").concat(pb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sp,`] {
    `).concat(Tre,": ").concat(c,`px;
  }
`)},GE=function(){var t=parseInt(document.body.getAttribute(sp)||"0",10);return isFinite(t)?t:0},Kre=function(){x.useEffect(function(){return document.body.setAttribute(sp,(GE()+1).toString()),function(){var t=GE()-1;t<=0?document.body.removeAttribute(sp):document.body.setAttribute(sp,t.toString())}},[])},Gre=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Kre();var i=x.useMemo(function(){return Vre(s)},[s]);return x.createElement(Wre,{styles:Hre(i,!e,s,r?"":"!important")})},R3=!1;if(typeof window<"u")try{var Uv=Object.defineProperty({},"passive",{get:function(){return R3=!0,!0}});window.addEventListener("test",Uv,Uv),window.removeEventListener("test",Uv,Uv)}catch{R3=!1}var Om=R3?{passive:!1}:!1,Yre=function(t){return t.tagName==="TEXTAREA"},QB=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yre(t)&&r[e]==="visible")},Xre=function(t){return QB(t,"overflowY")},Qre=function(t){return QB(t,"overflowX")},YE=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=JB(t,n);if(s){var i=ZB(t,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Jre=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Zre=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},JB=function(t,e){return t==="v"?Xre(e):Qre(e)},ZB=function(t,e){return t==="v"?Jre(e):Zre(e)},ene=function(t,e){return t==="h"&&e==="rtl"?-1:1},tne=function(t,e,r,n,s){var i=ene(t,window.getComputedStyle(e).direction),o=i*n,c=r.target,u=e.contains(c),f=!1,h=o>0,m=0,g=0;do{if(!c)break;var v=ZB(t,c),j=v[0],w=v[1],b=v[2],_=w-b-i*j;(j||_)&&JB(t,c)&&(m+=_,g+=j);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(f=!0),f},zv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XE=function(t){return[t.deltaX,t.deltaY]},QE=function(t){return t&&"current"in t?t.current:t},rne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ane=0,Mm=[];function sne(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(ane++)[0],i=x.useState(XB)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=_re([t.lockRef.current],(t.shards||[]).map(QE),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=zv(w),T=r.current,E="deltaX"in w?w.deltaX:T[0]-_[0],k="deltaY"in w?w.deltaY:T[1]-_[1],C,S=w.target,A=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in w&&A==="h"&&S.type==="range")return!1;var R=YE(A,S);if(!R)return!0;if(R?C=A:(C=A==="v"?"h":"v",R=YE(A,S)),!R)return!1;if(!n.current&&"changedTouches"in w&&(E||k)&&(n.current=C),!C)return!0;var D=n.current||C;return tne(D,b,w,D==="h"?E:k)},[]),u=x.useCallback(function(w){var b=w;if(!(!Mm.length||Mm[Mm.length-1]!==i)){var _="deltaY"in b?XE(b):zv(b),T=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&rne(C.delta,_)})[0];if(T&&T.should){b.cancelable&&b.preventDefault();return}if(!T){var E=(o.current.shards||[]).map(QE).filter(Boolean).filter(function(C){return C.contains(b.target)}),k=E.length>0?c(b,E[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),f=x.useCallback(function(w,b,_,T){var E={name:w,delta:b,target:_,should:T,shadowParent:ine(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),h=x.useCallback(function(w){r.current=zv(w),n.current=void 0},[]),m=x.useCallback(function(w){f(w.type,XE(w),w.target,c(w,t.lockRef.current))},[]),g=x.useCallback(function(w){f(w.type,zv(w),w.target,c(w,t.lockRef.current))},[]);x.useEffect(function(){return Mm.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Om),document.addEventListener("touchmove",u,Om),document.addEventListener("touchstart",h,Om),function(){Mm=Mm.filter(function(w){return w!==i}),document.removeEventListener("wheel",u,Om),document.removeEventListener("touchmove",u,Om),document.removeEventListener("touchstart",h,Om)}},[]);var v=t.removeScrollBar,j=t.inert;return x.createElement(x.Fragment,null,j?x.createElement(i,{styles:nne(s)}):null,v?x.createElement(Gre,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ine(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const one=Rre(YB,sne);var ky=x.forwardRef(function(t,e){return x.createElement(bw,nc({},t,{ref:e,sideCar:one}))});ky.classNames=bw.classNames;var lne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Rm=new WeakMap,qv=new WeakMap,Vv={},$N=0,eU=function(t){return t&&(t.host||eU(t.parentNode))},cne=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=eU(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},dne=function(t,e,r,n){var s=cne(e,Array.isArray(t)?t:[t]);Vv[r]||(Vv[r]=new WeakMap);var i=Vv[r],o=[],c=new Set,u=new Set(s),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};s.forEach(f);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))h(g);else try{var v=g.getAttribute(n),j=v!==null&&v!=="false",w=(Rm.get(g)||0)+1,b=(i.get(g)||0)+1;Rm.set(g,w),i.set(g,b),o.push(g),w===1&&j&&qv.set(g,!0),b===1&&g.setAttribute(r,"true"),j||g.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return h(e),c.clear(),$N++,function(){o.forEach(function(m){var g=Rm.get(m)-1,v=i.get(m)-1;Rm.set(m,g),i.set(m,v),g||(qv.has(m)||m.removeAttribute(n),qv.delete(m)),v||m.removeAttribute(r)}),$N--,$N||(Rm=new WeakMap,Rm=new WeakMap,qv=new WeakMap,Vv={})}},ww=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=lne(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),dne(n,s,r,"aria-hidden")):function(){return null}},Nw="Dialog",[tU]=zi(Nw),[une,El]=tU(Nw),rU=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,c=x.useRef(null),u=x.useRef(null),[f,h]=md({prop:n,defaultProp:s??!1,onChange:i,caller:Nw});return a.jsx(une,{scope:e,triggerRef:c,contentRef:u,contentId:Ds(),titleId:Ds(),descriptionId:Ds(),open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};rU.displayName=Nw;var nU="DialogTrigger",fne=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=El(nU,r),i=dn(e,s.triggerRef);return a.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lT(s.open),...n,ref:i,onClick:pt(t.onClick,s.onOpenToggle)})});fne.displayName=nU;var iT="DialogPortal",[hne,aU]=tU(iT,{forceMount:void 0}),sU=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=El(iT,e);return a.jsx(hne,{scope:e,forceMount:r,children:x.Children.map(n,o=>a.jsx(uo,{present:r||i.open,children:a.jsx(hg,{asChild:!0,container:s,children:o})}))})};sU.displayName=iT;var Ab="DialogOverlay",iU=x.forwardRef((t,e)=>{const r=aU(Ab,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=El(Ab,t.__scopeDialog);return i.modal?a.jsx(uo,{present:n||i.open,children:a.jsx(pne,{...s,ref:e})}):null});iU.displayName=Ab;var mne=Ou("DialogOverlay.RemoveScroll"),pne=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=El(Ab,r);return a.jsx(ky,{as:mne,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Bt.div,{"data-state":lT(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),wh="DialogContent",oU=x.forwardRef((t,e)=>{const r=aU(wh,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=El(wh,t.__scopeDialog);return a.jsx(uo,{present:n||i.open,children:i.modal?a.jsx(gne,{...s,ref:e}):a.jsx(xne,{...s,ref:e})})});oU.displayName=wh;var gne=x.forwardRef((t,e)=>{const r=El(wh,t.__scopeDialog),n=x.useRef(null),s=dn(e,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return ww(i)},[]),a.jsx(lU,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),xne=x.forwardRef((t,e)=>{const r=El(wh,t.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(lU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),lU=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,c=El(wh,r),u=x.useRef(null),f=dn(e,u);return vw(),a.jsxs(a.Fragment,{children:[a.jsx(Sy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Rh,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":lT(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yne,{titleId:c.titleId}),a.jsx(bne,{contentRef:u,descriptionId:c.descriptionId})]})]})}),oT="DialogTitle",cU=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=El(oT,r);return a.jsx(Bt.h2,{id:s.titleId,...n,ref:e})});cU.displayName=oT;var dU="DialogDescription",uU=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=El(dU,r);return a.jsx(Bt.p,{id:s.descriptionId,...n,ref:e})});uU.displayName=dU;var fU="DialogClose",hU=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=El(fU,r);return a.jsx(Bt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});hU.displayName=fU;function lT(t){return t?"open":"closed"}var mU="DialogTitleWarning",[ECe,pU]=RJ(mU,{contentName:wh,titleName:oT,docsSlug:"dialog"}),yne=({titleId:t})=>{const e=pU(mU),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},vne="DialogDescriptionWarning",bne=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pU(vne).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},gU=rU,xU=sU,cT=iU,dT=oU,yU=cU,vU=uU,bU=hU;const ha=gU,wne=xU,Nne=bU,wU=x.forwardRef(({className:t,...e},r)=>a.jsx(cT,{ref:r,className:Nt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wU.displayName=cT.displayName;const ca=x.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(wne,{children:[a.jsx(wU,{}),a.jsxs(dT,{ref:n,className:Nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(bU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(La,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ca.displayName=dT.displayName;const ba=({className:t,...e})=>a.jsx("div",{className:Nt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ba.displayName="DialogHeader";const wa=x.forwardRef(({className:t,...e},r)=>a.jsx(yU,{ref:r,className:Nt("text-lg font-semibold leading-none tracking-tight",t),...e}));wa.displayName=yU.displayName;const uT=x.forwardRef(({className:t,...e},r)=>a.jsx(vU,{ref:r,className:Nt("text-sm text-muted-foreground",t),...e}));uT.displayName=vU.displayName;const qr=x.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));qr.displayName="Input";const jne=lw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dr({className:t,variant:e,...r}){return a.jsx("div",{className:Nt(jne({variant:e}),t),...r})}var Sne="Label",NU=x.forwardRef((t,e)=>a.jsx(Bt.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NU.displayName=Sne;var jU=NU;const kne=lw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Hr=x.forwardRef(({className:t,...e},r)=>a.jsx(jU,{ref:r,className:Nt(kne(),t),...e}));Hr.displayName=jU.displayName;function _ne(){const{toast:t}=$s(),[e,r]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(!0),[c,u]=x.useState(!1),{data:f}=Na({queryKey:["/api/status"],refetchInterval:5e3}),{data:h}=Na({queryKey:["/api/auth/token/firebase/count"],refetchInterval:1e4}),m=bi({mutationFn:async()=>await td("DELETE","/api/auth/token/firebase"),onSuccess:k=>{Wa.invalidateQueries({queryKey:["/api/auth/token/firebase/count"]}),Wa.invalidateQueries({queryKey:["/api/status"]}),Wa.invalidateQueries({queryKey:["/api/market-data"]}),t({title:"Firebase Tokens Deleted",description:`Successfully deleted ${k.count} token(s) from Firebase. You can now add a new token.`})},onError:k=>{const C=(k==null?void 0:k.message)||"Failed to delete Firebase tokens.";t({title:"Delete Failed",description:C,variant:"destructive"})}}),g=bi({mutationFn:async k=>await td("POST","/api/auth/token",{accessToken:k}),onSuccess:k=>{Wa.invalidateQueries({queryKey:["/api/status"]}),Wa.invalidateQueries({queryKey:["/api/market-data"]}),Wa.invalidateQueries({queryKey:["/api/activity-logs"]}),Wa.invalidateQueries({queryKey:["/api/auth/token/firebase/count"]}),o(!1),u(!1),t({title:"Token Saved Successfully!",description:"Your token has been saved. Connection verification is running in the background."}),r("")},onError:k=>{const C=(k==null?void 0:k.message)||"Invalid access token. Please check and try again.";t({title:"Authentication Failed",description:C,variant:"destructive"})}}),v=bi({mutationFn:async k=>await td("POST","/api/auth/exchange",{authCode:k}),onSuccess:()=>{Wa.invalidateQueries({queryKey:["/api/status"]}),Wa.invalidateQueries({queryKey:["/api/market-data"]}),Wa.invalidateQueries({queryKey:["/api/activity-logs"]}),o(!1),u(!1),t({title:"Authentication Successful",description:"Connected to Fyers API using authorization code."}),s("")},onError:k=>{t({title:"Authentication Failed",description:"Invalid authorization code. Please check and try again.",variant:"destructive"})}}),j=bi({mutationFn:async()=>(await td("GET","/api/auth/url")).authUrl,onSuccess:k=>{window.open(k,"_blank","width=600,height=700"),t({title:"Authentication Started",description:"Please complete authentication in the popup window."})},onError:k=>{t({title:"Authentication Failed",description:"Failed to start authentication process.",variant:"destructive"})}}),w=k=>{k.preventDefault(),e.trim()&&g.mutate(e.trim())},b=k=>{k.preventDefault(),n.trim()&&v.mutate(n.trim())},_=(f==null?void 0:f.accessToken)&&(f==null?void 0:f.accessToken)!==null,T=f==null?void 0:f.authenticated,E=f==null?void 0:f.connected;return _&&T&&!E&&!i?a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(Lv,{className:"text-yellow-600 h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-900",children:"Token Saved - Verification Pending"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Your token is saved. Connection verification is in progress or temporarily rate-limited. The dashboard will update automatically."})]})]}),a.jsx(H,{onClick:()=>{o(!0),u(!1)},variant:"outline",size:"sm",className:"border-yellow-600 text-yellow-600 hover:bg-yellow-50",children:"Update Token"})]})}):_&&T&&E&&!i?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Lv,{className:"text-green-600 h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-green-900",children:"Fyers API Connected"}),a.jsx("p",{className:"text-xs text-green-700",children:"Authentication successful. All services are operational."})]})]}),a.jsx(H,{onClick:async()=>{try{await td("POST","/api/auth/disconnect"),o(!0),u(!1),r(""),s(""),Wa.invalidateQueries({queryKey:["/api/status"]}),Wa.invalidateQueries({queryKey:["/api/market-data"]}),t({title:"Disconnected",description:"Authentication cleared. Enter your access token below."})}catch{t({title:"Error",description:"Failed to disconnect. Please try again.",variant:"destructive"})}},variant:"outline",size:"sm",className:"border-green-600 text-green-600 hover:bg-green-50",children:"Disconnect"})]})}):a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Fyers API Authentication Required"}),a.jsxs(H,{onClick:()=>m.mutate(),disabled:m.isPending||h&&h.count===0,variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-50","data-testid":"button-delete-firebase-token",children:[a.jsx(gs,{className:"mr-2 h-3 w-3"}),m.isPending?"Deleting...":`Delete Firebase Token (${(h==null?void 0:h.count)||0})`]})]}),a.jsx("p",{className:"text-xs text-blue-700",children:"Enter your Fyers access token from your Python code or authenticate through Fyers."}),h&&h.count>0&&a.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[" Found ",h.count," old token(s) in Firebase. Delete them to add a new token."]})]}),a.jsxs("div",{className:"space-y-4",children:[i&&a.jsx("form",{onSubmit:w,children:a.jsxs("div",{className:"flex items-end space-x-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Hr,{htmlFor:"accessToken",className:"text-xs text-blue-900",children:"Access Token (from your Python code)"}),a.jsx(qr,{id:"accessToken",type:"password",placeholder:"Enter your Fyers access token...",value:e,onChange:k=>r(k.target.value),className:"mt-1 text-sm"})]}),a.jsxs(H,{type:"submit",disabled:g.isPending||!e.trim(),className:"bg-[hsl(122,39%,49%)] hover:bg-[hsl(122,39%,39%)] text-white",size:"sm",children:[a.jsx(Lv,{className:"mr-2 h-4 w-4"}),g.isPending?"Connecting...":"Connect"]})]})}),c&&a.jsx("form",{onSubmit:b,children:a.jsxs("div",{className:"flex items-end space-x-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Hr,{htmlFor:"authCode",className:"text-xs text-blue-900",children:"Authorization Code (from Google redirect URL)"}),a.jsx(qr,{id:"authCode",type:"text",placeholder:"Enter the authorization code from redirect URL...",value:n,onChange:k=>s(k.target.value),className:"mt-1 text-sm"})]}),a.jsxs(H,{type:"submit",disabled:v.isPending||!n.trim(),className:"bg-[hsl(122,39%,49%)] hover:bg-[hsl(122,39%,39%)] text-white",size:"sm",children:[a.jsx(Lv,{className:"mr-2 h-4 w-4"}),v.isPending?"Connecting...":"Exchange"]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-blue-200",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(H,{onClick:()=>{o(!i),u(!1)},variant:"ghost",size:"sm",className:`text-xs ${i?"bg-blue-100 text-blue-900":"text-blue-600"}`,children:"Access Token"}),a.jsx(H,{onClick:()=>{u(!c),o(!1)},variant:"ghost",size:"sm",className:`text-xs ${c?"bg-blue-100 text-blue-900":"text-blue-600"}`,children:"Auth Code"})]}),a.jsxs(H,{onClick:()=>j.mutate(),disabled:j.isPending,variant:"outline",className:"border-[hsl(207,90%,54%)] text-[hsl(207,90%,54%)] hover:bg-[hsl(207,90%,54%)]/10",size:"sm",children:[a.jsx(QF,{className:"mr-2 h-4 w-4"}),j.isPending?"Opening...":"OAuth Login",a.jsx(HC,{className:"ml-2 h-3 w-3"})]})]})]})}const xt=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xt.displayName="Card";const Bi=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("flex flex-col space-y-1.5 p-6",t),...e}));Bi.displayName="CardHeader";const Ro=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ro.displayName="CardTitle";const sc=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("text-sm text-muted-foreground",t),...e}));sc.displayName="CardDescription";const bt=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("p-6 pt-0",t),...e}));bt.displayName="CardContent";const Cne=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Nt("flex items-center p-6 pt-0",t),...e}));Cne.displayName="CardFooter";function Tne(){var s,i;const{toast:t}=$s(),{data:e}=Na({queryKey:["/api/status"],refetchInterval:5e3}),r=bi({mutationFn:()=>td("POST","/api/status/refresh"),onSuccess:()=>{Wa.invalidateQueries({queryKey:["/api/status"]}),t({title:"Connection Refreshed",description:"API status has been updated successfully."})},onError:o=>{t({title:"Refresh Failed",description:"Failed to refresh API connection status.",variant:"destructive"})}}),n=o=>{const c=new Date,u=new Date(o),f=Math.floor((c.getTime()-u.getTime())/1e3);return f<60?`${f} seconds ago`:f<3600?`${Math.floor(f/60)} minutes ago`:`${Math.floor(f/3600)} hours ago`};return a.jsx("div",{className:"mb-8",children:a.jsx(xt,{children:a.jsxs(bt,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Fyers API Connection"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[(!(e!=null&&e.authenticated)||!(e!=null&&e.connected))&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded",children:"Authentication Required"}),a.jsxs(H,{onClick:()=>r.mutate(),disabled:r.isPending,className:"bg-[hsl(207,90%,54%)] hover:bg-[hsl(207,90%,44%)]",children:[a.jsx(xi,{className:`mr-2 h-4 w-4 ${r.isPending?"animate-spin":""}`}),"Refresh Connection"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e!=null&&e.connected?"bg-[hsl(122,39%,49%)]/10":"bg-gray-100"}`,children:a.jsx(pd,{className:`${e!=null&&e.connected?"text-[hsl(122,39%,49%)]":"text-gray-400"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.connected?"Connected":"Disconnected"}),a.jsx("p",{className:"text-xs text-gray-600",children:"API Status"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e!=null&&e.authenticated?"bg-[hsl(122,39%,49%)]/10":"bg-gray-100"}`,children:a.jsx(fb,{className:`${e!=null&&e.authenticated?"text-[hsl(122,39%,49%)]":"text-gray-400"}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.authenticated?"Authenticated":"Not Authenticated"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Auth Status"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:a.jsx(_u,{className:"text-[hsl(207,90%,54%)]"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.lastUpdate?n(e.lastUpdate):"Never"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Last Update"})]})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"API Version"}),a.jsx("p",{className:"font-medium",children:(e==null?void 0:e.version)||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Daily Limit"}),a.jsx("p",{className:"font-medium",children:((s=e==null?void 0:e.dailyLimit)==null?void 0:s.toLocaleString())||"0"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Requests Used"}),a.jsx("p",{className:"font-medium",children:((i=e==null?void 0:e.requestsUsed)==null?void 0:i.toLocaleString())||"0"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"WebSocket"}),a.jsx("p",{className:`font-medium ${e!=null&&e.websocketActive?"text-[hsl(122,39%,49%)]":"text-gray-400"}`,children:e!=null&&e.websocketActive?"Active":"Inactive"})]})]})})]})})})}var fT="Progress",hT=100,[Pne]=zi(fT),[Ene,Ane]=Pne(fT),SU=x.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Ine,...o}=t;(s||s===0)&&!JE(s)&&console.error(One(`${s}`,"Progress"));const c=JE(s)?s:hT;n!==null&&!ZE(n,c)&&console.error(Mne(`${n}`,"Progress"));const u=ZE(n,c)?n:null,f=Ib(u)?i(u,c):void 0;return a.jsx(Ene,{scope:r,value:u,max:c,children:a.jsx(Bt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Ib(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":CU(u,c),"data-value":u??void 0,"data-max":c,...o,ref:e})})});SU.displayName=fT;var kU="ProgressIndicator",_U=x.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=Ane(kU,r);return a.jsx(Bt.div,{"data-state":CU(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});_U.displayName=kU;function Ine(t,e){return`${Math.round(t/e*100)}%`}function CU(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ib(t){return typeof t=="number"}function JE(t){return Ib(t)&&!isNaN(t)&&t>0}function ZE(t,e){return Ib(t)&&!isNaN(t)&&t<=e&&t>=0}function One(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hT}\`.`}function Mne(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TU=SU,Rne=_U;const z0=x.forwardRef(({className:t,value:e,...r},n)=>a.jsx(TU,{ref:n,className:Nt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Rne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));z0.displayName=TU.displayName;function eA(t,[e,r]){return Math.min(r,Math.max(e,t))}var Dne=x.createContext(void 0);function jw(t){const e=x.useContext(Dne);return t||e||"ltr"}function PU(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Lne=[" ","Enter","ArrowUp","ArrowDown"],$ne=[" ","Enter"],Nh="Select",[Sw,kw,Fne]=sw(Nh),[xg]=zi(Nh,[Fne,zu]),_w=zu(),[Bne,qu]=xg(Nh),[Une,zne]=xg(Nh),EU=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:f,name:h,autoComplete:m,disabled:g,required:v,form:j}=t,w=_w(e),[b,_]=x.useState(null),[T,E]=x.useState(null),[k,C]=x.useState(!1),S=jw(f),[A,R]=md({prop:n,defaultProp:s??!1,onChange:i,caller:Nh}),[D,B]=md({prop:o,defaultProp:c,onChange:u,caller:Nh}),F=x.useRef(null),z=b?j||!!b.closest("form"):!0,[X,V]=x.useState(new Set),Z=Array.from(X).map(ee=>ee.props.value).join(";");return a.jsx(aT,{...w,children:a.jsxs(Bne,{required:v,scope:e,trigger:b,onTriggerChange:_,valueNode:T,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:Ds(),value:D,onValueChange:B,open:A,onOpenChange:R,dir:S,triggerPointerDownPosRef:F,disabled:g,children:[a.jsx(Sw.Provider,{scope:e,children:a.jsx(Une,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(ee=>{V(W=>new Set(W).add(ee))},[]),onNativeOptionRemove:x.useCallback(ee=>{V(W=>{const K=new Set(W);return K.delete(ee),K})},[]),children:r})}),z?a.jsxs(ez,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:m,value:D,onChange:ee=>B(ee.target.value),disabled:g,form:j,children:[D===void 0?a.jsx("option",{value:""}):null,Array.from(X)]},Z):null]})})};EU.displayName=Nh;var AU="SelectTrigger",IU=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=_w(r),o=qu(AU,r),c=o.disabled||n,u=dn(e,o.onTriggerChange),f=kw(r),h=x.useRef("touch"),[m,g,v]=rz(w=>{const b=f().filter(E=>!E.disabled),_=b.find(E=>E.value===o.value),T=nz(b,w,_);T!==void 0&&o.onValueChange(T.value)}),j=w=>{c||(o.onOpenChange(!0),v()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return a.jsx(jy,{asChild:!0,...i,children:a.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":tz(o.value)?"":void 0,...s,ref:u,onClick:pt(s.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&j(w)}),onPointerDown:pt(s.onPointerDown,w=>{h.current=w.pointerType;const b=w.target;b.hasPointerCapture(w.pointerId)&&b.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:pt(s.onKeyDown,w=>{const b=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(b&&w.key===" ")&&Lne.includes(w.key)&&(j(),w.preventDefault())})})})});IU.displayName=AU;var OU="SelectValue",MU=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...c}=t,u=qu(OU,r),{onValueNodeHasChildrenChange:f}=u,h=i!==void 0,m=dn(e,u.onValueNodeChange);return Ya(()=>{f(h)},[f,h]),a.jsx(Bt.span,{...c,ref:m,style:{pointerEvents:"none"},children:tz(u.value)?a.jsx(a.Fragment,{children:o}):i})});MU.displayName=OU;var qne="SelectIcon",RU=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(Bt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});RU.displayName=qne;var Vne="SelectPortal",DU=t=>a.jsx(hg,{asChild:!0,...t});DU.displayName=Vne;var jh="SelectContent",LU=x.forwardRef((t,e)=>{const r=qu(jh,t.__scopeSelect),[n,s]=x.useState();if(Ya(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?fg.createPortal(a.jsx($U,{scope:t.__scopeSelect,children:a.jsx(Sw.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(FU,{...t,ref:e})});LU.displayName=jh;var cl=10,[$U,Vu]=xg(jh),Wne="SelectContentImpl",Hne=Ou("SelectContent.RemoveScroll"),FU=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:u,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:b,..._}=t,T=qu(jh,r),[E,k]=x.useState(null),[C,S]=x.useState(null),A=dn(e,re=>k(re)),[R,D]=x.useState(null),[B,F]=x.useState(null),z=kw(r),[X,V]=x.useState(!1),Z=x.useRef(!1);x.useEffect(()=>{if(E)return ww(E)},[E]),vw();const ee=x.useCallback(re=>{const[pe,...ue]=z().map(Ne=>Ne.ref.current),[Ie]=ue.slice(-1),qe=document.activeElement;for(const Ne of re)if(Ne===qe||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===pe&&C&&(C.scrollTop=0),Ne===Ie&&C&&(C.scrollTop=C.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==qe))return},[z,C]),W=x.useCallback(()=>ee([R,E]),[ee,R,E]);x.useEffect(()=>{X&&W()},[X,W]);const{onOpenChange:K,triggerPointerDownPosRef:G}=T;x.useEffect(()=>{if(E){let re={x:0,y:0};const pe=Ie=>{var qe,Ne;re={x:Math.abs(Math.round(Ie.pageX)-(((qe=G.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Ne=G.current)==null?void 0:Ne.y)??0))}},ue=Ie=>{re.x<=10&&re.y<=10?Ie.preventDefault():E.contains(Ie.target)||K(!1),document.removeEventListener("pointermove",pe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ue,{capture:!0})}}},[E,K,G]),x.useEffect(()=>{const re=()=>K(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[K]);const[Q,$]=rz(re=>{const pe=z().filter(qe=>!qe.disabled),ue=pe.find(qe=>qe.ref.current===document.activeElement),Ie=nz(pe,re,ue);Ie&&setTimeout(()=>Ie.ref.current.focus())}),U=x.useCallback((re,pe,ue)=>{const Ie=!Z.current&&!ue;(T.value!==void 0&&T.value===pe||Ie)&&(D(re),Ie&&(Z.current=!0))},[T.value]),ie=x.useCallback(()=>E==null?void 0:E.focus(),[E]),ce=x.useCallback((re,pe,ue)=>{const Ie=!Z.current&&!ue;(T.value!==void 0&&T.value===pe||Ie)&&F(re)},[T.value]),he=n==="popper"?D3:BU,we=he===D3?{side:c,sideOffset:u,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:b}:{};return a.jsx($U,{scope:r,content:E,viewport:C,onViewportChange:S,itemRefCallback:U,selectedItem:R,onItemLeave:ie,itemTextRefCallback:ce,focusSelectedItem:W,selectedItemText:B,position:n,isPositioned:X,searchRef:Q,children:a.jsx(ky,{as:Hne,allowPinchZoom:!0,children:a.jsx(Sy,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:pt(s,re=>{var pe;(pe=T.trigger)==null||pe.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(he,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),..._,...we,onPlaced:()=>V(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:pt(_.onKeyDown,re=>{const pe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!pe&&re.key.length===1&&$(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ie=z().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const qe=re.target,Ne=Ie.indexOf(qe);Ie=Ie.slice(Ne+1)}setTimeout(()=>ee(Ie)),re.preventDefault()}})})})})})})});FU.displayName=Wne;var Kne="SelectItemAlignedPosition",BU=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=qu(jh,r),o=Vu(jh,r),[c,u]=x.useState(null),[f,h]=x.useState(null),m=dn(e,A=>h(A)),g=kw(r),v=x.useRef(!1),j=x.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:_,focusSelectedItem:T}=o,E=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&w&&b&&_){const A=i.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),B=_.getBoundingClientRect();if(i.dir!=="rtl"){const qe=B.left-R.left,Ne=D.left-qe,rt=A.left-Ne,_e=A.width+rt,Ct=Math.max(_e,R.width),Qt=window.innerWidth-cl,Ar=eA(Ne,[cl,Math.max(cl,Qt-Ct)]);c.style.minWidth=_e+"px",c.style.left=Ar+"px"}else{const qe=R.right-B.right,Ne=window.innerWidth-D.right-qe,rt=window.innerWidth-A.right-Ne,_e=A.width+rt,Ct=Math.max(_e,R.width),Qt=window.innerWidth-cl,Ar=eA(Ne,[cl,Math.max(cl,Qt-Ct)]);c.style.minWidth=_e+"px",c.style.right=Ar+"px"}const F=g(),z=window.innerHeight-cl*2,X=w.scrollHeight,V=window.getComputedStyle(f),Z=parseInt(V.borderTopWidth,10),ee=parseInt(V.paddingTop,10),W=parseInt(V.borderBottomWidth,10),K=parseInt(V.paddingBottom,10),G=Z+ee+X+K+W,Q=Math.min(b.offsetHeight*5,G),$=window.getComputedStyle(w),U=parseInt($.paddingTop,10),ie=parseInt($.paddingBottom,10),ce=A.top+A.height/2-cl,he=z-ce,we=b.offsetHeight/2,re=b.offsetTop+we,pe=Z+ee+re,ue=G-pe;if(pe<=ce){const qe=F.length>0&&b===F[F.length-1].ref.current;c.style.bottom="0px";const Ne=f.clientHeight-w.offsetTop-w.offsetHeight,rt=Math.max(he,we+(qe?ie:0)+Ne+W),_e=pe+rt;c.style.height=_e+"px"}else{const qe=F.length>0&&b===F[0].ref.current;c.style.top="0px";const rt=Math.max(ce,Z+w.offsetTop+(qe?U:0)+we)+ue;c.style.height=rt+"px",w.scrollTop=pe-ce+w.offsetTop}c.style.margin=`${cl}px 0`,c.style.minHeight=Q+"px",c.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,c,f,w,b,_,i.dir,n]);Ya(()=>E(),[E]);const[k,C]=x.useState();Ya(()=>{f&&C(window.getComputedStyle(f).zIndex)},[f]);const S=x.useCallback(A=>{A&&j.current===!0&&(E(),T==null||T(),j.current=!1)},[E,T]);return a.jsx(Yne,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:S,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(Bt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BU.displayName=Kne;var Gne="SelectPopperPosition",D3=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=cl,...i}=t,o=_w(r);return a.jsx(pw,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D3.displayName=Gne;var[Yne,mT]=xg(jh,{}),L3="SelectViewport",UU=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Vu(L3,r),o=mT(L3,r),c=dn(e,i.onViewportChange),u=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Sw.Slot,{scope:r,children:a.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pt(s.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const v=Math.abs(u.current-h.scrollTop);if(v>0){const j=window.innerHeight-cl*2,w=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),_=Math.max(w,b);if(_<j){const T=_+v,E=Math.min(j,T),k=T-E;m.style.height=E+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});UU.displayName=L3;var zU="SelectGroup",[Xne,Qne]=xg(zU),Jne=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ds();return a.jsx(Xne,{scope:r,id:s,children:a.jsx(Bt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Jne.displayName=zU;var qU="SelectLabel",VU=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Qne(qU,r);return a.jsx(Bt.div,{id:s.id,...n,ref:e})});VU.displayName=qU;var Ob="SelectItem",[Zne,WU]=xg(Ob),HU=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,c=qu(Ob,r),u=Vu(Ob,r),f=c.value===n,[h,m]=x.useState(i??""),[g,v]=x.useState(!1),j=dn(e,T=>{var E;return(E=u.itemRefCallback)==null?void 0:E.call(u,T,n,s)}),w=Ds(),b=x.useRef("touch"),_=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Zne,{scope:r,value:n,disabled:s,textId:w,isSelected:f,onItemTextChange:x.useCallback(T=>{m(E=>E||((T==null?void 0:T.textContent)??"").trim())},[]),children:a.jsx(Sw.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:a.jsx(Bt.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:j,onFocus:pt(o.onFocus,()=>v(!0)),onBlur:pt(o.onBlur,()=>v(!1)),onClick:pt(o.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:pt(o.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:pt(o.onPointerDown,T=>{b.current=T.pointerType}),onPointerMove:pt(o.onPointerMove,T=>{var E;b.current=T.pointerType,s?(E=u.onItemLeave)==null||E.call(u):b.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(o.onPointerLeave,T=>{var E;T.currentTarget===document.activeElement&&((E=u.onItemLeave)==null||E.call(u))}),onKeyDown:pt(o.onKeyDown,T=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&T.key===" "||($ne.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});HU.displayName=Ob;var q0="SelectItemText",KU=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=qu(q0,r),c=Vu(q0,r),u=WU(q0,r),f=zne(q0,r),[h,m]=x.useState(null),g=dn(e,_=>m(_),u.onItemTextChange,_=>{var T;return(T=c.itemTextRefCallback)==null?void 0:T.call(c,_,u.value,u.disabled)}),v=h==null?void 0:h.textContent,j=x.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=f;return Ya(()=>(w(j),()=>b(j)),[w,b,j]),a.jsxs(a.Fragment,{children:[a.jsx(Bt.span,{id:u.textId,...i,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fg.createPortal(i.children,o.valueNode):null]})});KU.displayName=q0;var GU="SelectItemIndicator",YU=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return WU(GU,r).isSelected?a.jsx(Bt.span,{"aria-hidden":!0,...n,ref:e}):null});YU.displayName=GU;var $3="SelectScrollUpButton",XU=x.forwardRef((t,e)=>{const r=Vu($3,t.__scopeSelect),n=mT($3,t.__scopeSelect),[s,i]=x.useState(!1),o=dn(e,n.onScrollButtonChange);return Ya(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=u.scrollTop>0;i(f)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(JU,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});XU.displayName=$3;var F3="SelectScrollDownButton",QU=x.forwardRef((t,e)=>{const r=Vu(F3,t.__scopeSelect),n=mT(F3,t.__scopeSelect),[s,i]=x.useState(!1),o=dn(e,n.onScrollButtonChange);return Ya(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<f;i(h)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(JU,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});QU.displayName=F3;var JU=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Vu("SelectScrollButton",r),o=x.useRef(null),c=kw(r),u=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),Ya(()=>{var h;const f=c().find(m=>m.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),a.jsx(Bt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pt(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pt(s.onPointerLeave,()=>{u()})})}),eae="SelectSeparator",ZU=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Bt.div,{"aria-hidden":!0,...n,ref:e})});ZU.displayName=eae;var B3="SelectArrow",tae=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=_w(r),i=qu(B3,r),o=Vu(B3,r);return i.open&&o.position==="popper"?a.jsx(gw,{...s,...n,ref:e}):null});tae.displayName=B3;var rae="SelectBubbleInput",ez=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=x.useRef(null),i=dn(n,s),o=PU(e);return x.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(c,e),c.dispatchEvent(m)}},[o,e]),a.jsx(Bt.select,{...r,style:{...kF,...r.style},ref:i,defaultValue:e})});ez.displayName=rae;function tz(t){return t===""||t===void 0}function rz(t){const e=Ni(t),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const c=r.current+o;e(c),(function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function nz(t,e,r){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=nae(t,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function nae(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var aae=EU,az=IU,sae=MU,iae=RU,oae=DU,sz=LU,lae=UU,iz=VU,oz=HU,cae=KU,dae=YU,lz=XU,cz=QU,dz=ZU;const Xs=aae,Qs=sae,Is=x.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(az,{ref:n,className:Nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(iae,{asChild:!0,children:a.jsx(Ep,{className:"h-4 w-4 opacity-50"})})]}));Is.displayName=az.displayName;const uz=x.forwardRef(({className:t,...e},r)=>a.jsx(lz,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Sb,{className:"h-4 w-4"})}));uz.displayName=lz.displayName;const fz=x.forwardRef(({className:t,...e},r)=>a.jsx(cz,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ep,{className:"h-4 w-4"})}));fz.displayName=cz.displayName;const Os=x.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(oae,{children:a.jsxs(sz,{ref:s,className:Nt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(uz,{}),a.jsx(lae,{className:Nt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(fz,{})]})}));Os.displayName=sz.displayName;const uae=x.forwardRef(({className:t,...e},r)=>a.jsx(iz,{ref:r,className:Nt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));uae.displayName=iz.displayName;const Ir=x.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(oz,{ref:n,className:Nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dae,{children:a.jsx($i,{className:"h-4 w-4"})})}),a.jsx(cae,{children:e})]}));Ir.displayName=oz.displayName;const fae=x.forwardRef(({className:t,...e},r)=>a.jsx(dz,{ref:r,className:Nt("-mx-1 my-1 h-px bg-muted",t),...e}));fae.displayName=dz.displayName;function hae(){var v;const[t,e]=x.useState(2),{data:r,isLoading:n,error:s,isFetching:i}=Na({queryKey:["/api/backup/status"],refetchInterval:8e3,staleTime:4e3,retry:1}),o=r?{success:!0,totalSymbols:50,completedSymbols:Array.from({length:Math.min(Math.floor((r.totalRecords||0)/7500),50)},(j,w)=>`STOCK${w+1}`),missingSymbols:Array.from({length:Math.max(50-Math.floor((r.totalRecords||0)/7500),0)},(j,w)=>`STOCK${w+Math.floor((r.totalRecords||0)/7500)+1}`),totalMonths:t,completedMonths:Array.from({length:Math.min(Math.floor((r.totalRecords||0)/375e3),t)},(j,w)=>`2025-${String(9-w).padStart(2,"0")}`),missingMonths:Array.from({length:Math.max(t-Math.floor((r.totalRecords||0)/375e3),0)},(j,w)=>`2025-${String(9-Math.floor((r.totalRecords||0)/375e3)-w-1).padStart(2,"0")}`),completionPercentage:Math.min((r.totalRecords||0)/(t*375e3)*100,100),symbolProgress:{}}:null,c=()=>{Wa.invalidateQueries({queryKey:["/api/backup/status"]}),Wa.invalidateQueries({queryKey:["/api/backup/completion-status"]})},u=(r==null?void 0:r.totalRecords)||0,f=50,h=375,m=Math.floor(u%(f*h)/h);r!=null&&r.currentStock||m+1;const g=async()=>{var j,w;try{console.log(` Starting selective fetch for ${t} months...`);const _=await(await fetch("/api/backup/fetch-missing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({months:t})})).json();_.success?(console.log(" Selective fetch started:",_.message),console.log("Missing symbols:",((j=_.missingSymbols)==null?void 0:j.length)||0),console.log("Missing months:",((w=_.missingMonths)==null?void 0:w.length)||0),c(),Wa.invalidateQueries({queryKey:["/api/backup/completion-status"]})):console.error(" Failed to start selective fetch:",_.error)}catch(b){console.error(" Error starting selective fetch:",b)}};return(v=r==null?void 0:r.completedMonths)!=null&&v.length,r!=null&&r.completedStocks,n?a.jsxs(xt,{children:[a.jsxs(Bi,{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(oo,{className:"h-5 w-5"}),"Monthly Progress Tracking"]}),a.jsx(sc,{children:"Historical Data Collection Status"})]}),a.jsx(bt,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Loading progress data..."})]})})]}):s?a.jsxs(xt,{children:[a.jsxs(Bi,{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(oo,{className:"h-5 w-5"}),"Monthly Progress Tracking"]}),a.jsx(sc,{children:"Historical Data Collection Status"})]}),a.jsx(bt,{children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(_u,{className:"h-8 w-8 mx-auto text-orange-500"}),a.jsx("p",{className:"text-sm text-orange-600",children:"Reconnecting to data source..."}),a.jsxs(H,{variant:"outline",size:"sm",onClick:c,disabled:i,className:"flex items-center gap-2",children:[a.jsx(xi,{className:Nt("h-4 w-4",i&&"animate-spin")}),"Retry"]})]})})]}):a.jsxs(xt,{children:[a.jsx(Bi,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(oo,{className:"h-5 w-5"}),"Monthly Progress Tracking (",t," ",t===1?"Month":"Months",")"]}),a.jsx(sc,{children:" OHLC 50 Stocks Historical Data Collection"})]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:c,disabled:i,className:"flex items-center gap-2",children:[a.jsx(xi,{className:Nt("h-4 w-4",i&&"animate-spin")}),"Refresh"]})]})}),a.jsxs(bt,{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-lg p-3 bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fetch Data For:"}),a.jsxs(Xs,{value:t.toString(),onValueChange:j=>e(parseInt(j)),children:[a.jsx(Is,{className:"w-24",children:a.jsx(Qs,{})}),a.jsx(Os,{children:Array.from({length:12},(j,w)=>w+1).map(j=>a.jsx(Ir,{value:j.toString(),children:j},j))})]}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t===1?"month":"months"})]}),a.jsxs(H,{onClick:g,size:"sm",className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700",children:[a.jsx(Ca,{className:"h-4 w-4"}),"Start Fetching"]})]})}),o&&a.jsxs(xt,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950 dark:border-blue-800",children:[a.jsxs(Bi,{className:"pb-3",children:[a.jsxs(Ro,{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[a.jsx(ya,{className:"h-5 w-5"}),a.jsx("span",{children:"Data Collection Status"})]}),a.jsxs(sc,{className:"text-blue-600 dark:text-blue-400",children:["Progress based on ",((r==null?void 0:r.totalRecords)||0).toLocaleString()," records in Google Cloud"]})]}),a.jsxs(bt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pd,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Completed Symbols"})]}),a.jsxs("span",{className:"text-lg font-bold text-green-700",children:[o.completedSymbols.length," / ",o.totalSymbols]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ym,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Total Records"})]}),a.jsx("span",{className:"text-lg font-bold text-blue-700",children:((r==null?void 0:r.totalRecords)||0).toLocaleString()})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Overall Progress"}),a.jsxs("span",{children:[Math.round(o.completionPercentage),"%"]})]}),a.jsx(z0,{value:o.completionPercentage,className:"h-2"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[a.jsx("strong",{children:" Active Collection:"})," ",((r==null?void 0:r.totalRecords)||0).toLocaleString()," OHLC data points collected across ",o.completedSymbols.length," NIFTY stocks with ",o.completedMonths.length," complete months"]})]})]}),a.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-950 dark:to-green-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ym,{className:"h-5 w-5 text-blue-600"}),a.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Google Cloud Storage Progress"}),a.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-600 text-white rounded-full",children:[((r==null?void 0:r.totalRecords)||0).toLocaleString()," records"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oo,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Historical Months Available"})]}),a.jsxs("span",{className:"text-sm text-green-700 font-bold",children:[Math.min(Math.floor(((r==null?void 0:r.totalRecords)||0)/375e3),t),"/",t," months"]})]}),a.jsx(z0,{value:Math.min(((r==null?void 0:r.totalRecords)||0)/(t*375e3)*100,100),className:"h-3 bg-gray-200"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsxs("span",{children:[" ",((r==null?void 0:r.totalRecords)||0).toLocaleString()," / ",(t*375e3).toLocaleString()," records"]}),a.jsxs("span",{children:[Math.round(Math.min(((r==null?void 0:r.totalRecords)||0)/(t*375e3)*100,100)),"%"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium",children:"NIFTY 50 Stocks Coverage"})]}),a.jsxs("span",{className:"text-sm text-blue-700 font-bold",children:[Math.min(Math.floor(((r==null?void 0:r.totalRecords)||0)/7500),50),"/50 stocks"]})]}),a.jsx(z0,{value:Math.min(((r==null?void 0:r.totalRecords)||0)/(50*7500)*100,100),className:"h-3 bg-gray-200"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsxs("span",{children:[" ~",Math.floor(((r==null?void 0:r.totalRecords)||0)/7500)," symbols with data"]}),a.jsxs("span",{children:[Math.round(Math.min(((r==null?void 0:r.totalRecords)||0)/(50*7500)*100,100)),"%"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Trading Days Dataset"})]}),a.jsxs("span",{className:"text-sm text-purple-700 font-bold",children:[Math.min(Math.floor(((r==null?void 0:r.totalRecords)||0)/18750),t*20),"/",t*20," days"]})]}),a.jsx(z0,{value:Math.min(((r==null?void 0:r.totalRecords)||0)/(t*18750)*100,100),className:"h-3 bg-gray-200"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[a.jsxs("span",{children:[" ~",Math.floor(((r==null?void 0:r.totalRecords)||0)/18750)," days of market data"]}),a.jsxs("span",{children:[Math.round(Math.min(((r==null?void 0:r.totalRecords)||0)/(t*18750)*100,100)),"%"]})]})]}),a.jsxs("div",{className:"pt-3 border-t border-amber-200 dark:border-amber-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ym,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Local PostgreSQL Storage"})]}),a.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 rounded",children:"Firebase Disabled"})]}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" Historical data stored locally to reduce cloud costs | Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ym,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:(r==null?void 0:r.totalRecords)||0}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Records"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-semibold",children:[Math.floor(((r==null?void 0:r.totalRecords)||0)/50)," days"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Trading Days"})]})]})]}),a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("div",{className:"flex items-center gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(_u,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm text-orange-600",children:"Loading local database..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"text-sm text-green-600",children:["Local Storage Active | Last: ",r!=null&&r.lastUpdated?new Date(r.lastUpdated).toLocaleTimeString():"Now"]})]})}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:" Local PostgreSQL Database | Firebase backup disabled to reduce storage costs"})]})]})]})}function mae(){const{data:t,isLoading:e,error:r,isFetching:n}=Na({queryKey:["/api/signin-data-all"],queryFn:async()=>{try{const i=new AbortController,o=setTimeout(()=>i.abort(),5e3),c=await fetch("/api/signin-data-all",{signal:i.signal,headers:{Accept:"application/json"}});if(clearTimeout(o),!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);return await c.json()}catch(i){return console.log(" Signin data not available:",i.message),{success:!0,recordsFound:3,source:"frontend_fallback_data",data:[{userId:"demo.user.1",email:"demo1@example.com",signupDate:"2025-09-07",lastUpdated:new Date().toISOString()},{userId:"demo.user.2",email:"demo2@example.com",signupDate:"2025-09-07",lastUpdated:new Date().toISOString()},{userId:"demo.user.3",email:"demo3@example.com",signupDate:"2025-09-07",lastUpdated:new Date().toISOString()}]}}},refetchInterval:3e4,staleTime:2e4,retry:0}),s=()=>{Wa.invalidateQueries({queryKey:["/api/signin-data-all"]})};return e?a.jsxs(xt,{children:[a.jsxs(Bi,{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(nu,{className:"h-5 w-5"}),"Sign In Data"]}),a.jsx(sc,{children:"Google Cloud User Database"})]}),a.jsx(bt,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Loading user data..."})]})})]}):r||!(t!=null&&t.success)?a.jsxs(xt,{children:[a.jsxs(Bi,{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(nu,{className:"h-5 w-5"}),"Sign In Data"]}),a.jsx(sc,{children:"Google Cloud User Database"})]}),a.jsx(bt,{children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(_u,{className:"h-8 w-8 mx-auto text-orange-500"}),a.jsx("p",{className:"text-sm text-orange-600",children:"Connecting to Google Cloud..."}),a.jsxs(H,{variant:"outline",size:"sm",onClick:s,disabled:n,className:"flex items-center gap-2",children:[a.jsx(xi,{className:Nt("h-4 w-4",n&&"animate-spin")}),"Retry"]})]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(xt,{children:[a.jsx(Bi,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(nu,{className:"h-5 w-5"}),"Sign In Data"]}),a.jsx(sc,{children:" Google Cloud User Database Records"})]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:s,disabled:n,className:"flex items-center gap-2","data-testid":"button-refresh-signin-data",children:[a.jsx(xi,{className:Nt("h-4 w-4",n&&"animate-spin")}),"Refresh"]})]})}),a.jsxs(bt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ym,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:t.recordsFound}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Users"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nu,{className:"h-4 w-4 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:t.source}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Data Source"})]})]})]}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.data&&t.data.length>0?t.data.map((i,o)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg bg-white dark:bg-gray-800",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(nu,{className:"h-3 w-3 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:i.userId})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($Z,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:i.email})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground text-right flex-shrink-0 ml-2",children:new Date(i.signupDate).toLocaleDateString()})]},`${i.userId}-${o}`)):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(nu,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No user data found"})]})}),a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("div",{className:"flex items-center gap-2",children:t.success?a.jsxs(a.Fragment,{children:[a.jsx(Ym,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm text-green-600",children:"Connected to Google Cloud Database"})]}):a.jsxs(a.Fragment,{children:[a.jsx(_u,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-sm text-orange-600",children:"Connecting to Google Cloud..."})]})}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:" Separate signin database | Real-time user data"})]})]})]}),a.jsx(pae,{})]})}function pae(){const[t,e]=x.useState(""),{toast:r}=$s(),{data:n}=Na({queryKey:["/api/livestream-settings"],refetchInterval:1e4}),s=bi({mutationFn:async c=>await td("/api/livestream-settings","POST",{youtubeUrl:c}),onSuccess:()=>{Wa.invalidateQueries({queryKey:["/api/livestream-settings"]})}});x.useEffect(()=>{n!=null&&n.youtubeUrl&&e(n.youtubeUrl)},[n]);const i=async()=>{var u,f;if(!t.trim()){r({title:"Error",description:"Please enter a valid YouTube link",variant:"destructive"});return}let c=t;t.includes("youtube.com/watch?v=")?c=`https://www.youtube.com/embed/${(u=t.split("v=")[1])==null?void 0:u.split("&")[0]}?enablejsapi=1`:t.includes("youtu.be/")?c=`https://www.youtube.com/embed/${(f=t.split("youtu.be/")[1])==null?void 0:f.split("?")[0]}?enablejsapi=1`:t.includes("/embed/")||(c=`${t}${t.includes("?")?"&":"?"}enablejsapi=1`);try{await s.mutateAsync(c),window.dispatchEvent(new CustomEvent("livestream-url-updated",{detail:{url:c}})),r({title:"Success",description:"Banner updated! Check the Social Feed tab to see your new video."})}catch{r({title:"Error",description:"Failed to update banner. Please try again.",variant:"destructive"})}},o=async()=>{try{await s.mutateAsync(null),e(""),window.dispatchEvent(new CustomEvent("livestream-url-updated",{detail:{url:""}})),r({title:"Cleared",description:"Banner reset to default"})}catch{r({title:"Error",description:"Failed to clear banner. Please try again.",variant:"destructive"})}};return a.jsxs(xt,{children:[a.jsxs(Bi,{children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-base",children:[a.jsx(Qm,{className:"h-5 w-5"}),"Livestream Ads"]}),a.jsx(sc,{children:"Insert YouTube link to display on Social Feed banner"})]}),a.jsxs(bt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"YouTube Link"}),a.jsx(qr,{type:"text",placeholder:"https://youtube.com/watch?v=... or https://youtu.be/...",value:t,onChange:c=>e(c.target.value),"data-testid":"input-stream-link"}),a.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-800",children:[a.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium mb-1",children:" Important: Not all YouTube videos can be embedded"}),a.jsxs("ul",{className:"text-xs text-yellow-600 dark:text-yellow-500 space-y-1",children:[a.jsx("li",{children:' Videos must have "Allow embedding" enabled by creator'}),a.jsx("li",{children:" Age-restricted or private videos won't work"}),a.jsx("li",{children:' If you see "refused to connect", try a different video'})]})]}),a.jsxs("details",{className:"text-xs",children:[a.jsx("summary",{className:"cursor-pointer text-blue-600 dark:text-blue-400 hover:underline mb-2",children:" Test with embeddable videos (click to expand)"}),a.jsxs("div",{className:"space-y-1 pl-4 text-muted-foreground",children:[a.jsx("p",{className:"font-medium",children:"Try these working examples:"}),a.jsx("button",{onClick:()=>e("https://www.youtube.com/watch?v=jNQXAC9IVRw"),className:"text-left hover:text-blue-600 dark:hover:text-blue-400 block w-full",children:' "Me at the zoo" (First YouTube video ever)'}),a.jsx("button",{onClick:()=>e("https://www.youtube.com/watch?v=dQw4w9WgXcQ"),className:"text-left hover:text-blue-600 dark:hover:text-blue-400 block w-full",children:" Popular music video (embedding enabled)"}),a.jsx("button",{onClick:()=>e("https://www.youtube.com/watch?v=9bZkp7q19f0"),className:"text-left hover:text-blue-600 dark:hover:text-blue-400 block w-full",children:" PSY - Gangnam Style"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste any YouTube URL (watch, embed, or short link)"})]}),(n==null?void 0:n.youtubeUrl)&&a.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:" Active Banner URL"}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-500 truncate mt-1",children:n.youtubeUrl})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(H,{className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:i,disabled:s.isPending,"data-testid":"button-connect-stream",children:s.isPending?"Connecting...":"Connect"}),(n==null?void 0:n.youtubeUrl)&&a.jsx(H,{variant:"outline",onClick:o,disabled:s.isPending,"data-testid":"button-clear-stream",children:"Clear"})]})]})]})}function gae(){var i,o;const{data:t}=Na({queryKey:["/api/status"],refetchInterval:5e3}),e=Math.min(((t==null?void 0:t.responseTime)||0)/100*100,100),r=(t==null?void 0:t.successRate)||0,n=parseFloat(((i=t==null?void 0:t.throughput)==null?void 0:i.split(" ")[0])||"0"),s=Math.min(n/5*100,100);return a.jsxs(xt,{children:[a.jsxs(Bi,{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Statistics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time API performance metrics"})]}),a.jsxs(bt,{className:"pt-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Response Time"}),a.jsxs("span",{className:"text-sm text-gray-900",children:[(t==null?void 0:t.responseTime)||0,"ms"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[hsl(122,39%,49%)] h-2 rounded-full transition-all duration-300",style:{width:`${Math.max(e,5)}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Success Rate"}),a.jsxs("span",{className:"text-sm text-gray-900",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[hsl(122,39%,49%)] h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Throughput"}),a.jsx("span",{className:"text-sm text-gray-900",children:(t==null?void 0:t.throughput)||"0 MB/s"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[hsl(207,90%,54%)] h-2 rounded-full transition-all duration-300",style:{width:`${Math.max(s,5)}%`}})})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.activeSymbols)||0}),a.jsx("p",{className:"text-xs text-gray-600",children:"Active Symbols"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((o=t==null?void 0:t.updatesPerSec)==null?void 0:o.toLocaleString())||0}),a.jsx("p",{className:"text-xs text-gray-600",children:"Updates/sec"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t==null?void 0:t.uptime)||0,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Uptime"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t==null?void 0:t.latency)||0,"ms"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Latency"})]})]})]})]})}function xae(){const{data:t}=Na({queryKey:["/api/activity-logs"],refetchInterval:1e4}),{data:e}=Na({queryKey:["/api/status"],refetchInterval:5e3}),r=i=>{try{const o=new Date(i);return isNaN(o.getTime())?"Invalid time":o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"})}catch{return"Invalid time"}},n=i=>{switch(i){case"success":return"bg-[hsl(122,39%,49%)]";case"info":return"bg-[hsl(207,90%,54%)]";case"warning":return"bg-[hsl(45,93%,47%)]";case"error":return"bg-[hsl(0,84%,60%)]";default:return"bg-gray-400"}},s=i=>{try{const o=new Date,c=new Date(i);if(isNaN(c.getTime()))return"unknown";const u=Math.floor((o.getTime()-c.getTime())/6e4);return u<1?"just now":u<60?`${u} min ago`:`${Math.floor(u/60)} hr ago`}catch{return"unknown"}};return a.jsx("div",{className:"mt-8",children:a.jsxs(xt,{children:[a.jsxs(Bi,{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"System Status"}),a.jsx("p",{className:"text-sm text-green-300 mt-1",children:"Error handling and system notifications"})]}),a.jsxs(bt,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-[hsl(122,39%,49%)]/5 border border-[hsl(122,39%,49%)]/20 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-[hsl(122,39%,49%)]/10 rounded-full flex items-center justify-center",children:a.jsx(pd,{className:"text-[hsl(122,39%,49%)] text-sm",size:16})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.connected?"All Systems Operational":"Connection Issues Detected"}),a.jsx("p",{className:"text-xs text-gray-600",children:e!=null&&e.connected?"API connection stable, no errors detected":"Unable to connect to Fyers API, please check credentials"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:e!=null&&e.lastUpdate?s(e.lastUpdate):"Unknown"})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-green-400 mb-3",children:"Recent Activity"}),a.jsx("div",{className:"space-y-2",children:(t==null?void 0:t.slice(0,5).map(i=>a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${n(i.type)}`}),a.jsx("span",{className:"text-gray-600",children:r(i.timestamp)}),a.jsx("span",{className:"text-gray-900",children:i.message})]},i.id)))||a.jsx("div",{className:"text-sm text-gray-500",children:"No recent activity"})})]})]})]})})}function hz({height:t=320,ohlcData:e=[],symbol:r="NIFTY 50",isInteractiveMode:n=!1,onCandleClick:s,selectionLineIndex:i=null,mockStartIndex:o=null,timeRange:c=null,indicators:u={},chartType:f="line",onSelectedPointsChange:h,onChartReset:m,onChartExpand:g,externalSelectedPoints:v,enablePointSelection:j=!1,parentDrawingMode:w=null,isExpanded:b=!1,resetToken:_=0,onSelectActivated:T,tradeMarkers:E=[],hideControls:k=!1}){const C=x.useRef(null),S=x.useRef(null),[A,R]=x.useState({x:0,y:0,visible:!1}),[D,B]=x.useState(!1),F=x.useRef(D),[z,X]=x.useState(v||[]),V=(ve,Oe)=>ve.length!==Oe.length?!1:ve.every((ht,at)=>{const ct=Oe[at];return ht.candleIndex===ct.candleIndex&&ht.pointNumber===ct.pointNumber&&ht.label===ct.label}),Z=(ve,Oe)=>{var bn;const ht=((bn=ve==null?void 0:ve.points)==null?void 0:bn.length)||4,at=Oe||ht,ct=at*15;if(!re||re.length<ct||!ve){console.log(` Insufficient OHLC data window or no pattern selected for ${at}-candle analysis`),console.log(` Need: ${ct} candles, Have: ${(re==null?void 0:re.length)||0} candles`);return}console.log(" Starting DYNAMIC pattern detection using OHLC data window timestamps..."),console.log(` Pattern: "${ve.name||"Unknown"}" | Points: ${ht} | Using: ${at} candles`),console.log(` OHLC Data Window: ${re.length} perfect 1-minute candles available`);const Le=[],tr=()=>{if(re.length===0)return 0;const Wt=re[0],sr=Wt.timestamp||Wt.time||Date.now()/1e3,Jt=new Date(typeof sr=="string"?sr:sr*1e3),dt=555,wr=new Date(Jt);wr.setHours(0,0,0,0),wr.setMinutes(dt);const nr=Math.floor(wr.getTime()/1e3);for(let jt=0;jt<re.length;jt++){const nn=re[jt].timestamp||re[jt].time||0,Nr=typeof nn=="string"?new Date(nn).getTime()/1e3:nn;if(Nr>=nr)return console.log(` Market Open detected at index ${jt} (${new Date(Nr*1e3).toLocaleTimeString()})`),jt}return console.log(" Market open not found, starting from beginning"),0},Y=(Wt,sr)=>{const Jt=[];for(let dt=0;dt<sr;dt++){const wr=Wt+dt*15,nr=Math.min(wr+15,re.length);if(nr<=wr)break;const jt=re.slice(wr,nr);if(jt.length===0)break;const nn=Array.isArray(jt[0])?jt[0][1]:jt[0].open,Nr=Array.isArray(jt[jt.length-1])?jt[jt.length-1][4]:jt[jt.length-1].close;let _n=-1/0,Vr=1/0,pn=wr,Tr=wr,fr=0,Ve=0;jt.forEach((Re,ut)=>{const Qe=Array.isArray(Re)?Re[2]:Re.high,Ht=Array.isArray(Re)?Re[3]:Re.low,cr=Array.isArray(Re)?Re[0]:Re.timestamp;Qe>_n&&(_n=Qe,pn=wr+ut,fr=cr),Ht<Vr&&(Vr=Ht,Tr=wr+ut,Ve=cr)});const et=Array.isArray(jt[0])?jt[0][0]:jt[0].timestamp;Jt.push({originalIndex:wr,open:nn,high:_n,low:Vr,close:Nr,timestamp:et,intervalMinutes:dt*15,extremums:{highIndex:pn,lowIndex:Tr,highTimestamp:fr,lowTimestamp:Ve}})}return Jt},Pt=.01,Dt=(Wt,sr)=>Math.abs(Wt-sr)<=Pt?"=":Wt>sr?">":"<",_r=ve.relationships||[];console.log(` Pattern "${ve.name}" has relationships:`,_r);const Me=new Map;re.forEach((Wt,sr)=>{const Jt=Array.isArray(Wt)?Wt[0]:Wt.timestamp||Wt.time||0;Me.set(Jt,sr)}),console.log(` TIMESTAMP MAP: Created mapping for ${Me.size} optimized candles`);const Yr=tr(),en=re.length-at*15;for(let Wt=Yr;Wt<=en;Wt+=15){const sr=Y(Wt,at);if(sr.length<at)continue;const Jt=[],dt=[];for(let ut=0;ut<at-1;ut++){const Qe=ut%2===0,Ht=Qe?sr[ut].high:sr[ut].low,cr=Qe?sr[ut+1].low:sr[ut+1].high,Lt=Dt(Ht,cr);Jt.push(`${ut+1}${Lt}${ut+2}`);const ir=Qe?sr[ut].low:sr[ut].high,Br=Qe?sr[ut+1].high:sr[ut+1].low,jr=Dt(ir,Br);dt.push(`${ut+1}${jr}${ut+2}`)}const wr=sr[0].high,nr=sr[0].low,jt=sr[at-1].high,nn=sr[at-1].low,Nr=Dt(wr,nn),_n=Dt(nr,jt);Jt.push(`1${Nr}${at}`),dt.push(`1${_n}${at}`);const Vr=at,pn=Jt.filter(ut=>_r.includes(ut)).length,Tr=dt.filter(ut=>_r.includes(ut)).length,fr=pn/Vr,Ve=Tr/Vr,et=Math.max(fr,Ve),Re=Ve>fr;if(et>=.75){Le.push({startTimestamp:sr[0].timestamp,confidence:et,candles:sr,relationships:Re?dt:Jt,reverseRelationships:dt,isReverseBest:Re});const ut=Re?dt:Jt;console.log(` 75%+ Match Found! Start: ${Wt} (${new Date(sr[0].timestamp*1e3).toLocaleTimeString()})`),console.log(`   Confidence: ${(et*100).toFixed(1)}% | Pattern: ${Re?"REVERSE":"NORMAL"}`),console.log(`   Winning Relationships: ${ut.join(", ")}`),console.log(`   Expected: ${_r.join(", ")}`)}}if(Le.length>0){const Wt=Le.sort((dt,wr)=>wr.confidence-dt.confidence)[0];console.log(` Applying best ${at}-candle match (${(Wt.confidence*100).toFixed(1)}% confidence):`,Wt);const sr=Wt.candles.map((dt,wr)=>{let nr,jt,nn,Nr;Wt.isReverseBest?wr%2===0?(nr=dt.low,jt="Low",nn=dt.extremums.lowIndex,Nr=dt.extremums.lowTimestamp):(nr=dt.high,jt="High",nn=dt.extremums.highIndex,Nr=dt.extremums.highTimestamp):wr%2===0?(nr=dt.high,jt="High",nn=dt.extremums.highIndex,Nr=dt.extremums.highTimestamp):(nr=dt.low,jt="Low",nn=dt.extremums.lowIndex,Nr=dt.extremums.lowTimestamp);const _n=Me.get(Nr)??-1;return _n===-1&&console.warn(` MAPPING FAIL: Timestamp ${Nr} not found in optimized chart data`),console.log(` EXACT POINT ${wr+1}: ${jt} at original=${nn}, chart=${_n}, price=${nr.toFixed(2)} (${new Date(Nr*1e3).toLocaleTimeString()})`),{candleIndex:_n>=0?_n:nn,price:nr,timestamp:Nr,pointNumber:wr+1,label:wr%2===0?"Target":"SL",x:0,y:0}});X(sr);let Jt;return Wt.isReverseBest?Jt=[{id:"low1",price:Wt.candles[0].low,label:"SL",color:"#10b981"},{id:"high2",price:Wt.candles[1].high,label:"Target",color:"#ef4444"},{id:"low3",price:Wt.candles[2].low,label:"SL",color:"#10b981"},{id:"high4",price:Wt.candles[3].high,label:"Target",color:"#ef4444"}]:Jt=[{id:"high1",price:Wt.candles[0].high,label:"Target",color:"#ef4444"},{id:"low2",price:Wt.candles[1].low,label:"SL",color:"#10b981"},{id:"high3",price:Wt.candles[2].high,label:"Target",color:"#ef4444"},{id:"low4",price:Wt.candles[3].low,label:"SL",color:"#10b981"}],Q(Jt),Wt}else return console.log(` No ${at}-candle patterns found with 75% confidence`),null};x.useEffect(()=>{S.current&&(S.current._detectDynamicPattern=Z,console.log(" Dynamic pattern detection exposed to Trading Master dropdown"))},[S.current]),x.useEffect(()=>{B(j||!1)},[j]),x.useEffect(()=>{v&&!V(v,z)&&X(v)},[v]),x.useEffect(()=>{h&&h(z)},[z,h]),x.useEffect(()=>{j||B(!1)},[j]),x.useEffect(()=>{F.current=D},[D]);const ee=x.useRef(_);x.useEffect(()=>{_!==ee.current&&(ee.current=_,X([]),Q([]),ce(!0))},[_]),x.useEffect(()=>{w!=null&&qe(w)},[w]);const[W,K]=x.useState([]),[G,Q]=x.useState([]),[$,U]=x.useState(null),[ie,ce]=x.useState(!0),he=500,we=1e3,re=x.useMemo(()=>{let ve=e||[];if(c&&c.length===2&&ve.length>0){const[Me,Yr]=c,en=(wr,nr=new Date)=>{const jt=new Date(nr);return jt.setHours(0,0,0,0),jt.setMinutes(wr),Math.floor(jt.getTime()/1e3)},bn=ve[0],Wt=bn.timestamp||bn.time||Date.now()/1e3,sr=new Date(typeof Wt=="string"?Wt:Wt*1e3),Jt=en(Me,sr),dt=en(Yr,sr);ve=ve.filter(wr=>{const nr=wr.timestamp||wr.time||0,jt=typeof nr=="string"?new Date(nr).getTime()/1e3:nr;return jt>=Jt&&jt<=dt}),console.log(` TIME FILTER SYNC: Start=${Me}min (${Math.floor(Me/60)}:${String(Me%60).padStart(2,"0")}), End=${Yr}min (${Math.floor(Yr/60)}:${String(Yr%60).padStart(2,"0")})`),console.log(` TIME CONSTRAINED: ${e.length}  ${ve.length} candles within filter range`)}const Oe=new Set;if(z.forEach(Me=>{if(Me.candleIndex>=0&&Me.candleIndex<ve.length){Oe.add(Me.candleIndex);for(let Yr=Math.max(0,Me.candleIndex-2);Yr<=Math.min(ve.length-1,Me.candleIndex+2);Yr++)Oe.add(Yr)}}),ve.length<=we)return ve;console.log(` PERFORMANCE: Optimizing ${ve.length} candles  ${he} visible (preserving ${Oe.size} marker points)`);const ht=Math.floor(he*.6),at=Math.floor(he*.3),ct=he-ht-at,Le=ve.slice(-ht),tr=Math.max(1,Math.floor(ve.length/at)),Y=ve.filter((Me,Yr)=>Yr%tr===0).slice(0,at),Pt=Array.from(Oe).filter(Me=>Me>=0&&Me<ve.length).slice(0,ct).map(Me=>ve[Me]),Dt=[...Y,...Le,...Pt],_r=Array.from(new Map(Dt.map(Me=>[Me.timestamp||Me.time||0,Me])).values()).sort((Me,Yr)=>{const en=Me.timestamp||Me.time||0,bn=Yr.timestamp||Yr.time||0;return en-bn});return console.log(` PERFORMANCE: Dataset optimized to ${_r.length} candles (${Pt.length} markers preserved)`),_r},[e,c,z]),[pe,ue]=x.useState({start:null,end:null,isSelecting:!1}),[Ie,qe]=x.useState("none"),[Ne,rt]=x.useState([]),[_e,Ct]=x.useState({scrollOffset:0,zoomLevel:1,priceScaleWidth:45,isExpanded:!1,isDraggingPriceScale:!1,isDragging:!1,dragStartX:0,dragStartOffset:0}),Qt=x.useCallback(ve=>{if(!S.current||ve.touches.length!==1)return;ve.preventDefault();const Oe=ve.touches[0],ht=S.current.getBoundingClientRect();Oe.clientX-ht.left,Oe.clientY-ht.top;const at=new MouseEvent("mousedown",{clientX:Oe.clientX,clientY:Oe.clientY,bubbles:!0,cancelable:!0});oe(at)},[]),Ar=x.useCallback(ve=>{if(!S.current||ve.touches.length!==1)return;ve.preventDefault();const Oe=ve.touches[0],ht=S.current.getBoundingClientRect(),at=Oe.clientX-ht.left,ct=Oe.clientY-ht.top;if(R({x:at,y:ct,visible:!0}),_e.isDragging){const Le=at-_e.dragStartX,tr=2,Y=Math.max(0,re.length-Math.floor(100/_e.zoomLevel)),Pt=Math.max(0,Math.min(Y,_e.dragStartOffset-Math.floor(Le/tr)));Ct(Dt=>({...Dt,scrollOffset:Pt}))}},[_e.isDragging,_e.dragStartX,_e.dragStartOffset,_e.zoomLevel,re.length]),Ln=x.useCallback(ve=>{ve.preventDefault(),R(Oe=>({...Oe,visible:!1})),Ct(Oe=>({...Oe,isDraggingPriceScale:!1,isDragging:!1}))},[]),Sn=x.useCallback(ve=>{if(!S.current)return;const Oe=S.current.getBoundingClientRect(),ht=ve.clientX-Oe.left,at=ve.clientY-Oe.top,ct=ht>Oe.width-_e.priceScaleWidth;let Le="crosshair";if(ct?Le="ns-resize":_e.isDragging?Le="grabbing":Ie!=="none"?Le="crosshair":Le="grab",S.current.style.cursor=Le,R({x:ht,y:at,visible:!0}),_e.isDragging){const tr=ht-_e.dragStartX,Y=2,Pt=Math.max(0,re.length-Math.floor(100/_e.zoomLevel)),Dt=Math.max(0,Math.min(Pt,_e.dragStartOffset-Math.floor(tr/Y)));Ct(_r=>({..._r,scrollOffset:Dt})),console.log(` DRAG CONSTRAINED: Offset ${Dt}/${Pt} (${re.length} filtered candles)`)}if(_e.isDraggingPriceScale){const tr=at-Oe.height/2,Y=Math.max(.5,Math.min(3,1+tr/100));Ct(Pt=>({...Pt,zoomLevel:Y}))}if(pe.isSelecting&&pe.start!==null){const tr={left:50,right:_e.priceScaleWidth+10},Y=Oe.width-tr.left-tr.right,Pt=Math.min(re.length,Math.floor(100/_e.zoomLevel)),Dt=Y/Pt,_r=_e.scrollOffset,Me=Math.floor((ht-tr.left)/Dt)+_r;Me>=0&&Me<re.length&&ue(Yr=>({...Yr,end:Me}))}},[_e.isDraggingPriceScale,_e.priceScaleWidth,_e.isDragging,_e.dragStartX,_e.dragStartOffset,_e.zoomLevel,_e.scrollOffset,Ie,pe.isSelecting,pe.start,re.length]),oe=x.useCallback(ve=>{if(!S.current)return;ve.preventDefault();const Oe=S.current.getBoundingClientRect(),ht=ve.clientX-Oe.left;if(console.log(` MOUSE DOWN: x=${ht}, y=${ve.clientY-Oe.top}, manualMode=${F.current}`),ht>Oe.width-_e.priceScaleWidth){Ct(Dt=>({...Dt,isDraggingPriceScale:!0}));return}const at={left:50,right:_e.priceScaleWidth+10},ct=Oe.width-at.left-at.right,Le=Math.min(e.length,Math.floor(100/_e.zoomLevel)),tr=ct/Le,Y=_e.scrollOffset,Pt=Math.floor((ht-at.left)/tr)+Y;if(ve.shiftKey&&Pt>=0&&Pt<e.length){pe.isSelecting?ue(Dt=>({...Dt,end:Pt,isSelecting:!1})):ue({start:Pt,end:null,isSelecting:!0});return}if($&&F.current){console.log(` Placing ${$} ray`),Fs(ve);return}if(F.current){console.log(" Entering manual point selection mode"),Se(ve);return}if(n&&s&&Pt>=0&&Pt<e.length){s(Pt);return}Ct(Dt=>({...Dt,isDragging:!0,dragStartX:ht,dragStartOffset:Dt.scrollOffset}))},[n,s,e.length,_e.priceScaleWidth,_e.zoomLevel,_e.scrollOffset,pe.isSelecting,D]),le=x.useCallback(()=>{Ct(ve=>({...ve,isDraggingPriceScale:!1,isDragging:!1}))},[]),ge=x.useCallback(()=>{R(ve=>({...ve,visible:!1})),Ct(ve=>({...ve,isDraggingPriceScale:!1,isDragging:!1}))},[]),Se=x.useCallback(ve=>{if(console.log(" handleManualPointClick called"),!S.current||!re.length){console.log(" Cannot handle manual point click: canvas or candles missing");return}const Oe=S.current,ht=Oe.getBoundingClientRect(),at=ve.clientX-ht.left,ct=ve.clientY-ht.top,Le={top:20,right:80,bottom:30,left:20},tr=Oe.height-Le.top-Le.bottom,Y=Oe.width-Le.left-Le.right;if(at<Le.left||at>Oe.width-Le.right||ct<Le.top||ct>Oe.height-Le.bottom){console.log(` Click outside chart area: x=${at}, y=${ct}, bounds=[${Le.left}, ${Oe.width-Le.right}], [${Le.top}, ${Oe.height-Le.bottom}]`);return}console.log(` Click within chart area: x=${at}, y=${ct}`);const Pt=Math.max(1,Math.min(re.length,Math.floor(100/_e.zoomLevel))),Dt=Math.max(0,Math.min(re.length-Pt,Math.floor(_e.scrollOffset))),_r=Dt+Pt,Me=re.slice(Dt,_r),en=Y/Pt,bn=at-Le.left,Wt=Math.max(0,Math.min(Pt-1,Math.floor(bn/en))),sr=Dt+Wt;if(sr<0||sr>=re.length)return;const Jt=re[sr];if(!Jt)return;let dt,wr;f==="line"?(dt=Me.map(Ve=>Ve.close||Ve.c||0),wr=.2):(dt=Me.flatMap(Ve=>[Ve.open||Ve.o,Ve.high||Ve.h,Ve.low||Ve.l,Ve.close||Ve.c]),wr=.1);const nr=Math.min(...dt),jt=Math.max(...dt),nn=jt-nr,Nr=nn<50?wr*2:wr,_n=nr-nn*Nr,Vr=jt+nn*Nr,pn=(Vr-_n)/_e.zoomLevel;if(pn===0)return;const Tr=ct-Le.top,fr=Vr-Tr/tr*pn;X(Ve=>{const et=Ve.length+1,Re={x:at,y:ct,price:fr,timestamp:Jt.timestamp||Jt.time||Date.now()/1e3,candleIndex:sr,pointNumber:et,label:null},ut=[...Ve,Re];return console.log(` MANUAL POINT SELECTED: Point ${et} at price ${fr.toFixed(2)} (Candle ${sr})`),console.log(` Total points now: ${ut.length}`),ut})},[re,_e.scrollOffset,_e.zoomLevel]),He=x.useCallback(()=>{X([]),console.log(" Manual points cleared (rays preserved)")},[]),ze=x.useCallback(()=>{Q([]),console.log(" Horizontal rays cleared (points preserved)")},[]),nt=x.useCallback(()=>{X([]),Q([]),U(null),console.log(" All points and rays cleared")},[]);x.useCallback(()=>{if(z.length===0){console.log(" No points to save");return}const ve={id:`set_${Date.now()}`,name:`Pattern ${W.length+1} (${z.length} points)`,points:[...z],timestamp:Date.now()};K(Oe=>[...Oe,ve]),console.log(` Saved point set: ${ve.name}`)},[z,W.length]),x.useCallback(ve=>{const Oe=W.find(ht=>ht.id===ve);Oe&&(X(Oe.points),console.log(` Loaded point set: ${Oe.name}`))},[W]),x.useCallback(ve=>{K(Oe=>Oe.filter(ht=>ht.id!==ve)),console.log(` Deleted saved point set: ${ve}`)},[]);const Fr=x.useCallback((ve,Oe)=>{X(ht=>{const at=ht.map(ct=>ct.pointNumber===ve?{...ct,label:Oe}:ct);if(Oe&&Oe!=="Entry"){const ct=at.find(Le=>Le.pointNumber===ve);ct&&Q(Le=>{const tr=Le.filter(Dt=>Dt.label!==Oe),Y={SL:"#ef4444",Target:"#22c55e",Breakout:"#f59e0b"},Pt={id:`ray_${Oe}_${Date.now()}`,price:ct.price,label:Oe,color:Y[Oe],pointNumber:ve};return console.log(` Auto-created ${Oe} ray at ${ct.price.toFixed(2)} from Point #${ve}`),[...tr,Pt]})}return at}),console.log(` Point ${ve} labeled as: ${Oe||"None"}`)},[]),Mr=x.useCallback((ve,Oe,ht)=>{const at={SL:"#ef4444",Target:"#22c55e",Breakout:"#f59e0b"},ct={id:`ray_${Date.now()}`,price:ve,label:Oe,color:at[Oe],pointNumber:ht};Q(Le=>[...Le,ct]),console.log(` Added ${Oe} ray at ${ve.toFixed(2)} ${ht?`(Point ${ht})`:""}`)},[]),pa=x.useCallback(ve=>{Q(Oe=>Oe.filter(ht=>ht.id!==ve)),console.log(` Removed horizontal ray: ${ve}`)},[]),Fs=x.useCallback(ve=>{if(!S.current||!re.length||!$)return;const Oe=S.current,ht=Oe.getBoundingClientRect(),at=ve.clientX-ht.left,ct=ve.clientY-ht.top,Le={top:20,right:80,bottom:30,left:20},tr=Oe.height-Le.top-Le.bottom;if(at<Le.left||at>Oe.width-Le.right||ct<Le.top||ct>Oe.height-Le.bottom)return;const Y=Math.max(0,Math.floor(_e.scrollOffset)),Pt=Oe.width-Le.left-Le.right,Dt=Math.max(1,Pt/Math.min(re.length-Y,Math.floor(100/_e.zoomLevel))),_r=Math.floor(Pt/Dt),Me=Math.min(re.length-1,Y+_r),en=re.slice(Y,Me+1).flatMap(jt=>[jt.high||jt.h||0,jt.low||jt.l||0]),bn=Math.min(...en),Wt=Math.max(...en),sr=Wt-bn,Jt=sr*1.05,dt=Wt+(Jt-sr)/2,wr=ct-Le.top,nr=dt-wr/tr*Jt;Mr(nr,$),U(null),console.log(` ${$} ray placed at ${nr.toFixed(2)}`)},[re,_e.scrollOffset,_e.zoomLevel,$,Mr]),Fa=x.useCallback(()=>{B(ve=>{const Oe=!ve;return Oe||U(null),console.log(` Manual point mode: ${Oe?"ON":"OFF"}`),Oe})},[]);x.useEffect(()=>{window.selectedPoints=z,window.horizontalRays=G,window.labelPoint=Fr,window.addHorizontalRay=Mr,window.removeHorizontalRay=pa,window.setIsAddingRay=U,window.clearManualPoints=He,window.clearHorizontalRays=ze,window.clearAll=nt;const ve=new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:z,horizontalRays:G}});window.dispatchEvent(ve)},[z,G,Fr,Mr,pa,U,He,ze,nt]);const Wi=x.useCallback(ve=>{if(ve.preventDefault(),ve.ctrlKey||ve.metaKey){const Oe=ve.deltaY>0?.9:1.1;Ct(ht=>({...ht,zoomLevel:Math.max(.5,Math.min(3,ht.zoomLevel*Oe))}))}else Ct(Oe=>({...Oe,scrollOffset:Math.max(0,Math.min(re.length-50,Oe.scrollOffset+Math.sign(ve.deltaY)*5))}))},[re.length]);x.useEffect(()=>{if(!C.current||!e||!e.length)return;let ve=S.current;ve||(ve=document.createElement("canvas"),ve.setAttribute("data-testid","visual-chart"),S.current=ve,C.current.appendChild(ve));const Oe=C.current.getBoundingClientRect();return ve.width=Oe.width,ve.height=_e.isExpanded?t*1.5:t,ve.addEventListener("mousemove",Sn),ve.addEventListener("mousedown",oe),ve.addEventListener("mouseup",le),ve.addEventListener("mouseleave",ge),ve.addEventListener("wheel",Wi),ve.addEventListener("touchstart",Qt,{passive:!1}),ve.addEventListener("touchmove",Ar,{passive:!1}),ve.addEventListener("touchend",Ln,{passive:!1}),console.log(` Event listeners added to canvas (${ve.width}x${ve.height})`),Ci(ve,re,i,o||void 0,u,c,f),()=>{ve==null||ve.removeEventListener("mousemove",Sn),ve==null||ve.removeEventListener("mousedown",oe),ve==null||ve.removeEventListener("mouseup",le),ve==null||ve.removeEventListener("mouseleave",ge),ve==null||ve.removeEventListener("wheel",Wi),ve==null||ve.removeEventListener("touchstart",Qt),ve==null||ve.removeEventListener("touchmove",Ar),ve==null||ve.removeEventListener("touchend",Ln)}},[re,t,_e,i,o,c,u,f,Sn,oe,le,ge,Wi,Qt,Ar,Ln,z,G,D,ie]);const ri=(ve,Oe)=>{const ht=[];if(ve.length===0||Oe<=0)return ht;for(let at=0;at<Oe-1;at++)ht.push(null);for(let at=Oe-1;at<ve.length;at++){const ct=ve.slice(at-Oe+1,at+1).reduce((Le,tr)=>Le+tr,0);ht.push(ct/Oe)}return ht},Bs=(ve,Oe)=>{const ht=2/(Oe+1),at=[];if(ve.length===0)return at;for(let ct=0;ct<Oe-1;ct++)at.push(null);if(ve.length>=Oe){let ct=0;for(let Le=0;Le<Oe;Le++)ct+=ve[Le];at.push(ct/Oe);for(let Le=Oe;Le<ve.length;Le++){const tr=at[Le-1];at.push(ve[Le]*ht+tr*(1-ht))}}return at},Vo=(ve,Oe=14)=>{const ht=[];if(ve.length===0||Oe<=0)return ht;const at=[],ct=[];for(let Le=1;Le<ve.length;Le++){const tr=ve[Le]-ve[Le-1];at.push(tr>0?tr:0),ct.push(tr<0?Math.abs(tr):0)}for(let Le=0;Le<Oe;Le++)ht.push(null);if(at.length>=Oe){let Le=at.slice(0,Oe).reduce((Pt,Dt)=>Pt+Dt,0)/Oe,tr=ct.slice(0,Oe).reduce((Pt,Dt)=>Pt+Dt,0)/Oe;const Y=Le/(tr||1e-4);ht.push(100-100/(1+Y));for(let Pt=Oe;Pt<at.length;Pt++){Le=(Le*(Oe-1)+at[Pt])/Oe,tr=(tr*(Oe-1)+ct[Pt])/Oe;const Dt=Le/(tr||1e-4);ht.push(100-100/(1+Dt))}}return ht},bs=(ve,Oe=20,ht=2)=>{const at=ri(ve,Oe),ct=[],Le=[];for(let tr=0;tr<ve.length;tr++)if(tr<Oe-1)ct.push(null),Le.push(null);else{const Y=ve.slice(tr-Oe+1,tr+1),Pt=Y.reduce((Me,Yr)=>Me+Yr,0)/Oe,Dt=Y.reduce((Me,Yr)=>Me+Math.pow(Yr-Pt,2),0)/Oe,_r=Math.sqrt(Dt);ct.push(Pt+_r*ht),Le.push(Pt-_r*ht)}return{sma:at,upperBand:ct,lowerBand:Le}},Ci=(ve,Oe,ht,at,ct,Le,tr="line")=>{const Y=ve.getContext("2d");if(!Y||!Oe.length)return;const Pt=ve.width,Dt=ve.height,_r={background:"#131722",grid:"#2A2E39",text:"#D1D4DC",textSecondary:"#6C7883",green:"#22c55e",red:"#ef4444",greenWick:"#16a34a",redWick:"#dc2626",blue:"#2962FF"};Y.fillStyle=_r.background,Y.fillRect(0,0,Pt,Dt);const Me={top:20,right:_e.priceScaleWidth+10,bottom:30,left:50},Yr=Pt-Me.left-Me.right,en=Dt-Me.top-Me.bottom,bn=Math.min(Oe.length,Math.floor(100/_e.zoomLevel)),Wt=Math.max(0,Math.min(Oe.length-bn,_e.scrollOffset)),sr=Wt+bn,Jt=Oe.slice(Wt,sr),dt=Wt;if(!Jt.length)return;let wr,nr,jt;tr==="line"?(wr=Jt.map(Ve=>Ve.close||Ve.c||0),jt=.2):(wr=Jt.flatMap(Ve=>[Ve.open||Ve.o,Ve.high||Ve.h,Ve.low||Ve.l,Ve.close||Ve.c]),jt=.1);const nn=Math.min(...wr),Nr=Math.max(...wr);nr=Nr-nn;const _n=nr<50?jt*2:jt,Vr=nn-nr*_n,pn=Nr+nr*_n,Tr=(pn-Vr)/_e.zoomLevel;if(Tr===0)return;Y.fillStyle="#1B1F2B",Y.fillRect(Pt-_e.priceScaleWidth,0,_e.priceScaleWidth,Dt),Y.strokeStyle=_r.grid,Y.lineWidth=1,Y.beginPath(),Y.moveTo(Pt-_e.priceScaleWidth,0),Y.lineTo(Pt-_e.priceScaleWidth,Dt),Y.stroke(),Y.fillStyle=_r.text,Y.font="10px Arial",Y.textAlign="left";for(let Ve=0;Ve<=5;Ve++){const et=pn-Tr*Ve/5,Re=Me.top+en*Ve/5;Y.strokeStyle=_r.grid,Y.lineWidth=.5,Y.setLineDash([2,2]),Y.beginPath(),Y.moveTo(Me.left,Re),Y.lineTo(Pt-_e.priceScaleWidth,Re),Y.stroke(),Y.setLineDash([]),Y.fillText(et.toFixed(2),Pt-_e.priceScaleWidth+5,Re+4)}const fr=Yr/bn;if(tr==="line"){Y.strokeStyle=_r.blue,Y.lineWidth=2,Y.beginPath();let Ve=!0;for(let et=0;et<Jt.length;et++){const Re=Jt[et],ut=Me.left+et*fr+fr/2,Qe=Re.close||Re.c||0,Ht=Me.top+(pn-Qe)/Tr*en;Ve?(Y.moveTo(ut,Ht),Ve=!1):Y.lineTo(ut,Ht)}Y.stroke(),Y.fillStyle=_r.blue;for(let et=0;et<Jt.length;et++){const Re=Jt[et],ut=Me.left+et*fr+fr/2,Qe=Re.close||Re.c||0,Ht=Me.top+(pn-Qe)/Tr*en;Y.beginPath(),Y.arc(ut,Ht,2,0,2*Math.PI),Y.fill()}}else for(let Ve=0;Ve<Jt.length;Ve++){const et=Wt+Ve,Re=Jt[Ve],ut=Me.left+Ve*fr,Qe=ut+fr/2,Ht=Re.open||Re.o||0,cr=Re.high||Re.h||0,Lt=Re.low||Re.l||0,ir=Re.close||Re.c||0,Br=Me.top+(pn-cr)/Tr*en,jr=Me.top+(pn-Lt)/Tr*en,Pr=Me.top+(pn-Ht)/Tr*en,br=Me.top+(pn-ir)/Tr*en,Ea=ir>=Ht,zn=Math.min(Pr,br),qn=Math.max(Pr,br),Aa=Math.max(1,qn-zn),Xa=Re.isMock||at!=null&&et>=at;let Qa=Ea?_r.greenWick:_r.redWick,ni=Ea?_r.green:_r.red;Xa&&(Qa=Ea?"#22c55eAA":"#ef4444AA",ni=Ea?"#22c55eAA":"#ef4444AA"),Y.strokeStyle=Qa,Y.lineWidth=1,Xa&&Y.setLineDash([3,2]),Y.beginPath(),Y.moveTo(Qe,Br),Y.lineTo(Qe,jr),Y.stroke(),Xa&&Y.setLineDash([]);const ua=Math.max(2,fr-2);Y.fillStyle=ni,Xa&&(Y.globalAlpha=.6),Y.fillRect(ut+1,zn,ua,Aa),Xa&&(Y.globalAlpha=1)}if(ct&&Object.keys(ct).length>0){const Ve=(e||[]).map(Qe=>Qe.close||Qe.c||0),et={};Ve.length>0&&(ct.sma&&(et.sma=ct.sma.map(Qe=>ri(Ve,Qe.period))),ct.ema&&(et.ema=ct.ema.map(Qe=>Bs(Ve,Qe.period))),ct.ma&&(et.ma=ct.ma.map(Qe=>ri(Ve,Qe.period))),ct.bollinger&&(et.bollinger=ct.bollinger.map(Qe=>bs(Ve,Qe.period,Qe.stdDev))),ct.rsi&&(et.rsi=ct.rsi.map(Qe=>Vo(Ve,Qe.period))));const Re=e||[];let ut=0;if(c&&c.length===2&&Re.length>0){const[Qe]=c,Ht=Jt[0];if(Ht){const cr=Ht.timestamp||Ht.time||0;ut=Re.findIndex(Lt=>{const ir=Lt.timestamp||Lt.time||0;return Math.abs(ir-cr)<60}),ut<0&&(ut=Math.floor(Qe/1440*Re.length))}}if(ut=Math.max(0,ut),et.sma&&Array.isArray(et.sma)&&et.sma.length>0&&et.sma.forEach((Qe,Ht)=>{const cr=["#FFD700","#FFA500","#FF6347","#FF4500","#DC143C"];Y.strokeStyle=cr[Ht%cr.length],Y.lineWidth=2,Y.setLineDash([]),Y.beginPath();let Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe[Br];if(jr!=null&&Br<Qe.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke()}),et.ema&&Array.isArray(et.ema)&&et.ema.length>0&&et.ema.forEach((Qe,Ht)=>{const cr=["#00BFFF","#1E90FF","#4169E1","#0000FF","#000080"];Y.strokeStyle=cr[Ht%cr.length],Y.lineWidth=2,Y.setLineDash([]),Y.beginPath();let Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe[Br];if(jr!=null&&Br<Qe.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke()}),et.ma&&Array.isArray(et.ma)&&et.ma.length>0&&et.ma.forEach((Qe,Ht)=>{const cr=["#32CD32","#228B22","#008000","#006400","#004000"];Y.strokeStyle=cr[Ht%cr.length],Y.lineWidth=2,Y.setLineDash([]),Y.beginPath();let Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe[Br];if(jr!=null&&Br<Qe.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke()}),et.bollinger&&Array.isArray(et.bollinger)&&et.bollinger.length>0&&et.bollinger.forEach((Qe,Ht)=>{const cr=["#FF69B4","#FF1493","#DC143C","#B22222","#8B0000"];Y.strokeStyle=cr[Ht%cr.length],Y.lineWidth=1,Y.setLineDash([5,5]),Y.beginPath();let Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe.upperBand&&Qe.upperBand[Br];if(jr!=null&&Br<Qe.upperBand.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke(),Y.beginPath(),Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe.lowerBand&&Qe.lowerBand[Br];if(jr!=null&&Br<Qe.lowerBand.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke(),Y.setLineDash([]),Y.beginPath(),Lt=!0;for(let ir=0;ir<Jt.length;ir++){const Br=dt+ir,jr=Qe.sma&&Qe.sma[Br];if(jr!=null&&Br<Qe.sma.length){const Pr=Me.left+ir*fr+fr/2,br=Me.top+(pn-jr)/Tr*en;Lt?(Y.moveTo(Pr,br),Lt=!1):Y.lineTo(Pr,br)}}Y.stroke()}),et.rsi&&Array.isArray(et.rsi)&&et.rsi.length>0){const Ht=Dt-Me.bottom-60;Y.fillStyle="#1A1A1A",Y.fillRect(Me.left,Ht,Yr,60),et.rsi.forEach((cr,Lt)=>{if(!cr||!Array.isArray(cr))return;const ir=["#FFFF00","#FF8C00","#FF4500","#FF0000","#DC143C"];Y.strokeStyle="#444444",Y.lineWidth=1,Y.setLineDash([2,2]),[30,50,70].forEach(jr=>{const Pr=Ht+(100-jr)/100*60;Y.beginPath(),Y.moveTo(Me.left,Pr),Y.lineTo(Me.left+Yr,Pr),Y.stroke()}),Y.setLineDash([]),Y.strokeStyle=ir[Lt%ir.length],Y.lineWidth=2,Y.beginPath();let Br=!0;for(let jr=0;jr<Jt.length;jr++){const Pr=dt+jr,br=cr[Pr];if(br!=null&&Pr<cr.length){const Ea=Me.left+jr*fr+fr/2,zn=Ht+(100-br)/100*60;Br?(Y.moveTo(Ea,zn),Br=!1):Y.lineTo(Ea,zn)}}Y.stroke()}),Y.fillStyle="#CCCCCC",Y.font="10px Arial",Y.textAlign="right",Y.fillText("RSI",Me.left-5,Ht+15)}}if(ht!=null&&ht>=Wt&&ht<Wt+bn){const Ve=ht-Wt,et=Me.left+Ve*fr+fr/2;Y.strokeStyle="#00FF00",Y.lineWidth=2,Y.setLineDash([]),Y.beginPath(),Y.moveTo(et,Me.top),Y.lineTo(et,Dt-Me.bottom),Y.stroke(),Y.fillStyle="#00FF00",Y.beginPath(),Y.arc(et,Me.top,4,0,2*Math.PI),Y.fill(),Y.fillStyle="#FFFFFF",Y.font="10px Arial",Y.textAlign="center",Y.fillText(" SELECTED",et,Me.top-8)}if(A.visible){Y.strokeStyle=_r.textSecondary+"80",Y.lineWidth=1,Y.setLineDash([2,2]),Y.beginPath(),Y.moveTo(A.x,Me.top),Y.lineTo(A.x,Dt-Me.bottom),Y.stroke(),Y.beginPath(),Y.moveTo(Me.left,A.y),Y.lineTo(Pt-Me.right,A.y),Y.stroke(),Y.setLineDash([]);const Ve=pn-(A.y-Me.top)/en*Tr,et=Math.floor((A.x-Me.left)/fr),Re=Jt[et];if(Re&&Ve>0){Y.fillStyle=_r.blue,Y.fillRect(Pt-Me.right-2,A.y-10,Me.right+2,20),Y.fillStyle="#FFFFFF",Y.font="bold 10px Arial",Y.textAlign="left",Y.fillText(`${Ve.toFixed(2)}`,Pt-Me.right+2,A.y+3);const ut=Re.timestamp||Re.time||0,Ht=new Date(typeof ut=="string"?ut:ut*1e3).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});Y.fillStyle=_r.blue;const cr=80;if(Y.fillRect(A.x-cr/2,Dt-Me.bottom,cr,20),Y.fillStyle="#FFFFFF",Y.font="bold 9px Arial",Y.textAlign="center",Y.fillText(Ht,A.x,Dt-Me.bottom+12),Re){const Lt=Re.open||Re.o||0,ir=Re.high||Re.h||0,Br=Re.low||Re.l||0,jr=Re.close||Re.c||0;Y.fillStyle=_r.background+"F0",Y.fillRect(Me.left+5,Me.top+5,150,tr==="line"?25:50),Y.fillStyle=_r.text,Y.font="10px Arial",Y.textAlign="left",tr==="line"?Y.fillText(`Close: ${jr.toFixed(2)}`,Me.left+8,Me.top+20):(Y.fillText(`O: ${Lt.toFixed(2)} H: ${ir.toFixed(2)}`,Me.left+8,Me.top+20),Y.fillText(`L: ${Br.toFixed(2)} C: ${jr.toFixed(2)}`,Me.left+8,Me.top+35))}}}if(ie&&z.length>0&&(z.forEach((Ve,et)=>{let Re=Ve.x,ut=Ve.y;if(Ve.candleIndex!==void 0){const Qe=Ve.candleIndex-_e.scrollOffset;if(Qe>=0&&Qe<bn)Re=Me.left+Qe*fr+fr/2,ut=Me.top+(pn-Ve.price)/Tr*en;else return}if(Y.fillStyle="#00FF00",Y.strokeStyle="#FFFFFF",Y.lineWidth=2,Y.beginPath(),Y.arc(Re,ut,8,0,2*Math.PI),Y.fill(),Y.stroke(),Y.fillStyle="#000000",Y.font="bold 12px Arial",Y.textAlign="center",Y.textBaseline="middle",Y.fillText(Ve.pointNumber.toString(),Re,ut),Y.fillStyle="#00FF00",Y.font="bold 10px Arial",Y.textAlign="left",Y.textBaseline="bottom",Y.fillText(`${Ve.price.toFixed(2)}`,Re+12,ut-5),Ve.label){const Qe={SL:"#ef4444",Target:"#22c55e",Breakout:"#f59e0b",Entry:"#3b82f6"};Y.fillStyle=Qe[Ve.label]||"#FFFFFF",Y.font="bold 9px Arial",Y.textAlign="center",Y.textBaseline="top",Y.fillText(Ve.label,Re,ut+12)}}),z.length>=2)){Y.strokeStyle="#00FF00",Y.lineWidth=2,Y.setLineDash([5,5]);const Ve=z.filter(et=>{if(et.candleIndex!==void 0){const Re=et.candleIndex-_e.scrollOffset;return Re>=0&&Re<bn}return!0}).map(et=>{if(et.candleIndex!==void 0){const Re=et.candleIndex-_e.scrollOffset,ut=Me.left+Re*fr+fr/2,Qe=Me.top+(pn-et.price)/Tr*en;return{x:ut,y:Qe}}return{x:et.x,y:et.y}});if(Ve.length>=2){Y.beginPath(),Y.moveTo(Ve[0].x,Ve[0].y);for(let et=1;et<Ve.length;et++)Y.lineTo(Ve[et].x,Ve[et].y);Y.stroke(),Y.setLineDash([])}}if(G.length>0&&G.forEach(Ve=>{const et=Me.top+(pn-Ve.price)/Tr*en;let Re=Me.left,ut=Pt-Me.right;if(z.length>0){const Lt=z.reduce((br,Ea)=>Ea.pointNumber<br.pointNumber?Ea:br),ir=z.reduce((br,Ea)=>Ea.pointNumber>br.pointNumber?Ea:br),Br=Yr/bn,jr=Math.max(0,Lt.candleIndex-Wt);Re=Me.left+jr*Br;const Pr=Math.max(0,ir.candleIndex-Wt);ut=Me.left+(Pr+1)*Br,ut=Math.min(ut,Pt-Me.right)}Y.strokeStyle=Ve.color,Y.lineWidth=2,Y.setLineDash([5,5]),Y.beginPath(),Y.moveTo(Re,et),Y.lineTo(ut,et),Y.stroke(),Y.setLineDash([]);const Qe=`${Ve.label}: ${Ve.price.toFixed(2)}`;Y.fillStyle=Ve.color,Y.font="11px Arial",Y.textAlign="left";const Ht=Y.measureText(Qe).width+6,cr=16;if(Y.fillStyle=_r.background+"E6",Y.fillRect(Me.left+5,et-cr/2,Ht,cr),Y.fillStyle=Ve.color,Y.fillText(Qe,Me.left+8,et+4),Ve.pointNumber){const Lt=`#${Ve.pointNumber}`;Y.fillStyle="#FFEB3B",Y.font="9px Arial",Y.textAlign="right",Y.fillText(Lt,Pt-Me.right-5,et+3)}}),Le&&Le.length===2){const[Ve,et]=Le,Re=Jt.map(Ht=>{const cr=Ht.timestamp||Ht.time||0,Lt=new Date(typeof cr=="string"?cr:cr*1e3);return Lt.getHours()*60+Lt.getMinutes()});let ut=-1,Qe=-1;for(let Ht=0;Ht<Re.length;Ht++)if(Re[Ht]>=Ve){ut=Ht;break}for(let Ht=Re.length-1;Ht>=0;Ht--)if(Re[Ht]<=et){Qe=Ht;break}console.log(` TIME FILTER SYNC: Start=${Ve}min (${Math.floor(Ve/60)}:${String(Ve%60).padStart(2,"0")}), End=${et}min (${Math.floor(et/60)}:${String(et%60).padStart(2,"0")})`),console.log(` CANDLE MATCH: Start index=${ut}, End index=${Qe}`)}Y.fillStyle=_r.text,Y.font="10px Arial",Y.textAlign="center";for(let Ve=0;Ve<Jt.length;Ve+=Math.ceil(bn/6)){const et=Jt[Ve],Re=Me.left+Ve*fr+fr/2,ut=et.timestamp||et.time||Date.now(),Ht=new Date(typeof ut=="string"?ut:ut*1e3).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});Y.fillText(Ht,Re,Dt-5),Y.strokeStyle=_r.grid,Y.lineWidth=1,Y.beginPath(),Y.moveTo(Re,Dt-Me.bottom),Y.lineTo(Re,Dt-Me.bottom+5),Y.stroke()}if(pe.start!==null&&pe.end!==null){const Ve=Math.min(pe.start,pe.end)-Wt,et=Math.max(pe.start,pe.end)-Wt;if(Ve>=0&&et<bn){const Re=Me.left+Ve*fr,ut=Me.left+(et+1)*fr;Y.fillStyle="#00FF0020",Y.fillRect(Re,Me.top,ut-Re,en),Y.strokeStyle="#00FF00",Y.lineWidth=2,Y.beginPath(),Y.moveTo(Re,Me.top),Y.lineTo(Re,Dt-Me.bottom),Y.moveTo(ut,Me.top),Y.lineTo(ut,Dt-Me.bottom),Y.stroke(),Y.fillStyle="#00FF00",Y.font="12px Arial",Y.textAlign="center",Y.fillText(`Range: ${Math.abs(pe.end-pe.start)+1} candles`,(Re+ut)/2,Me.top-5)}}(_e.zoomLevel!==1||_e.scrollOffset>0)&&(Y.fillStyle=_r.textSecondary,Y.font="10px Arial",Y.textAlign="left",Y.fillText(`Zoom: ${(_e.zoomLevel*100).toFixed(0)}% | Scroll: ${_e.scrollOffset} | Candles: ${bn}/${Oe.length}`,Me.left,Dt-25)),_e.isDraggingPriceScale&&(Y.fillStyle="#00FF0080",Y.fillRect(Pt-_e.priceScaleWidth,0,_e.priceScaleWidth,Dt),Y.fillStyle="#FFFFFF",Y.font="12px Arial",Y.textAlign="center",Y.fillText("DRAG",Pt-_e.priceScaleWidth/2,Dt/2))};return a.jsxs("div",{className:"w-full h-full bg-[#131722] rounded-lg overflow-hidden relative",children:[!k&&a.jsxs("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>{Ct(ve=>({...ve,zoomLevel:1,scrollOffset:0})),m&&m()},className:"bg-slate-700 hover:bg-slate-600 text-white px-2 py-1 rounded text-xs w-20","data-testid":"button-reset-chart",children:" Reset"}),a.jsx("button",{onClick:()=>{console.log(" Manual point mode button clicked"),Fa(),!D&&T&&(console.log(" Auto-displaying Notes AI in Visual AI tab"),T())},className:`px-2 py-1 rounded text-xs font-bold transition-colors w-20 ${D?"bg-green-500 hover:bg-green-400 text-black border-2 border-green-300":"bg-slate-700 hover:bg-slate-600 text-white border-2 border-transparent"}`,"data-testid":"button-manual-point-mode",children:D?" ON":" Select"}),j!==!1&&z.length>0&&a.jsxs("div",{className:"text-white text-xs px-2 py-1 bg-green-800 rounded w-20 text-center","data-testid":"text-selected-points-count",children:[z.length," pts"]}),j!==!1&&z.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{const ve=z.slice(0,-1);h==null||h(ve),window.selectedPoints=ve,window.dispatchEvent(new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:ve,horizontalRays:[]}})),console.log(` Deleted last point. Remaining: ${ve.length} points`)},className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs w-20","data-testid":"button-delete-point",children:" Delete"}),a.jsx("button",{onClick:()=>{h==null||h([]),window.selectedPoints=[],window.dispatchEvent(new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:[],horizontalRays:[]}})),console.log(" Cleared all selected points")},className:"bg-orange-600 hover:bg-orange-500 text-white px-2 py-1 rounded text-xs w-20","data-testid":"button-clear-points",children:" Clear"}),a.jsx("button",{onClick:()=>{const ve=z.slice(0,-1);h==null||h(ve),window.selectedPoints=ve,window.dispatchEvent(new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:ve,horizontalRays:[]}})),console.log(` Undo last point. Remaining: ${ve.length} points`)},className:"bg-yellow-600 hover:bg-yellow-500 text-white px-2 py-1 rounded text-xs w-20","data-testid":"button-undo-point",children:" Undo"})]})]}),a.jsx("div",{ref:C,className:"w-full h-full bg-[#131722]",style:{height:_e.isExpanded?t*1.5:t}})]})}var FN="rovingFocusGroup.onEntryFocus",yae={bubbles:!1,cancelable:!0},_y="RovingFocusGroup",[U3,mz,vae]=sw(_y),[bae,Cw]=zi(_y,[vae]),[wae,Nae]=bae(_y),pz=x.forwardRef((t,e)=>a.jsx(U3.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(U3.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(jae,{...t,ref:e})})}));pz.displayName=_y;var jae=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=t,g=x.useRef(null),v=dn(e,g),j=jw(i),[w,b]=md({prop:o,defaultProp:c??null,onChange:u,caller:_y}),[_,T]=x.useState(!1),E=Ni(f),k=mz(r),C=x.useRef(!1),[S,A]=x.useState(0);return x.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(FN,E),()=>R.removeEventListener(FN,E)},[E]),a.jsx(wae,{scope:r,orientation:n,dir:j,loop:s,currentTabStopId:w,onItemFocus:x.useCallback(R=>b(R),[b]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>A(R=>R+1),[]),onFocusableItemRemove:x.useCallback(()=>A(R=>R-1),[]),children:a.jsx(Bt.div,{tabIndex:_||S===0?-1:0,"data-orientation":n,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{C.current=!0}),onFocus:pt(t.onFocus,R=>{const D=!C.current;if(R.target===R.currentTarget&&D&&!_){const B=new CustomEvent(FN,yae);if(R.currentTarget.dispatchEvent(B),!B.defaultPrevented){const F=k().filter(ee=>ee.focusable),z=F.find(ee=>ee.active),X=F.find(ee=>ee.id===w),Z=[z,X,...F].filter(Boolean).map(ee=>ee.ref.current);yz(Z,h)}}C.current=!1}),onBlur:pt(t.onBlur,()=>T(!1))})})}),gz="RovingFocusGroupItem",xz=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=t,u=Ds(),f=i||u,h=Nae(gz,r),m=h.currentTabStopId===f,g=mz(r),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:w}=h;return x.useEffect(()=>{if(n)return v(),()=>j()},[n,v,j]),a.jsx(U3.ItemSlot,{scope:r,id:f,focusable:n,active:s,children:a.jsx(Bt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...c,ref:e,onMouseDown:pt(t.onMouseDown,b=>{n?h.onItemFocus(f):b.preventDefault()}),onFocus:pt(t.onFocus,()=>h.onItemFocus(f)),onKeyDown:pt(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=_ae(b,h.orientation,h.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=g().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const k=E.indexOf(b.currentTarget);E=h.loop?Cae(E,k+1):E.slice(k+1)}setTimeout(()=>yz(E))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});xz.displayName=gz;var Sae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kae(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _ae(t,e,r){const n=kae(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Sae[n]}function yz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Cae(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var vz=pz,bz=xz,z3=["Enter"," "],Tae=["ArrowDown","PageUp","Home"],wz=["ArrowUp","PageDown","End"],Pae=[...Tae,...wz],Eae={ltr:[...z3,"ArrowRight"],rtl:[...z3,"ArrowLeft"]},Aae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cy="Menu",[hx,Iae,Oae]=sw(Cy),[Dh,Nz]=zi(Cy,[Oae,zu,Cw]),Tw=zu(),jz=Cw(),[Mae,Lh]=Dh(Cy),[Rae,Ty]=Dh(Cy),Sz=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,c=Tw(e),[u,f]=x.useState(null),h=x.useRef(!1),m=Ni(i),g=jw(s);return x.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),a.jsx(aT,{...c,children:a.jsx(Mae,{scope:e,open:r,onOpenChange:m,content:u,onContentChange:f,children:a.jsx(Rae,{scope:e,onClose:x.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:o,children:n})})})};Sz.displayName=Cy;var Dae="MenuAnchor",pT=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Tw(r);return a.jsx(jy,{...s,...n,ref:e})});pT.displayName=Dae;var gT="MenuPortal",[Lae,kz]=Dh(gT,{forceMount:void 0}),_z=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=Lh(gT,e);return a.jsx(Lae,{scope:e,forceMount:r,children:a.jsx(uo,{present:r||i.open,children:a.jsx(hg,{asChild:!0,container:s,children:n})})})};_z.displayName=gT;var Lo="MenuContent",[$ae,xT]=Dh(Lo),Cz=x.forwardRef((t,e)=>{const r=kz(Lo,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Lh(Lo,t.__scopeMenu),o=Ty(Lo,t.__scopeMenu);return a.jsx(hx.Provider,{scope:t.__scopeMenu,children:a.jsx(uo,{present:n||i.open,children:a.jsx(hx.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(Fae,{...s,ref:e}):a.jsx(Bae,{...s,ref:e})})})})}),Fae=x.forwardRef((t,e)=>{const r=Lh(Lo,t.__scopeMenu),n=x.useRef(null),s=dn(e,n);return x.useEffect(()=>{const i=n.current;if(i)return ww(i)},[]),a.jsx(yT,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Bae=x.forwardRef((t,e)=>{const r=Lh(Lo,t.__scopeMenu);return a.jsx(yT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Uae=Ou("MenuContent.ScrollLock"),yT=x.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:v,disableOutsideScroll:j,...w}=t,b=Lh(Lo,r),_=Ty(Lo,r),T=Tw(r),E=jz(r),k=Iae(r),[C,S]=x.useState(null),A=x.useRef(null),R=dn(e,A,b.onContentChange),D=x.useRef(0),B=x.useRef(""),F=x.useRef(0),z=x.useRef(null),X=x.useRef("right"),V=x.useRef(0),Z=j?ky:x.Fragment,ee=j?{as:Uae,allowPinchZoom:!0}:void 0,W=G=>{var re,pe;const Q=B.current+G,$=k().filter(ue=>!ue.disabled),U=document.activeElement,ie=(re=$.find(ue=>ue.ref.current===U))==null?void 0:re.textValue,ce=$.map(ue=>ue.textValue),he=Zae(ce,Q,ie),we=(pe=$.find(ue=>ue.textValue===he))==null?void 0:pe.ref.current;(function ue(Ie){B.current=Ie,window.clearTimeout(D.current),Ie!==""&&(D.current=window.setTimeout(()=>ue(""),1e3))})(Q),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout(D.current),[]),vw();const K=x.useCallback(G=>{var $,U;return X.current===(($=z.current)==null?void 0:$.side)&&tse(G,(U=z.current)==null?void 0:U.area)},[]);return a.jsx($ae,{scope:r,searchRef:B,onItemEnter:x.useCallback(G=>{K(G)&&G.preventDefault()},[K]),onItemLeave:x.useCallback(G=>{var Q;K(G)||((Q=A.current)==null||Q.focus(),S(null))},[K]),onTriggerLeave:x.useCallback(G=>{K(G)&&G.preventDefault()},[K]),pointerGraceTimerRef:F,onPointerGraceIntentChange:x.useCallback(G=>{z.current=G},[]),children:a.jsx(Z,{...ee,children:a.jsx(Sy,{asChild:!0,trapped:s,onMountAutoFocus:pt(i,G=>{var Q;G.preventDefault(),(Q=A.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:v,children:a.jsx(vz,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:S,onEntryFocus:pt(u,G=>{_.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(pw,{role:"menu","aria-orientation":"vertical","data-state":qz(b.open),"data-radix-menu-content":"",dir:_.dir,...T,...w,ref:R,style:{outline:"none",...w.style},onKeyDown:pt(w.onKeyDown,G=>{const $=G.target.closest("[data-radix-menu-content]")===G.currentTarget,U=G.ctrlKey||G.altKey||G.metaKey,ie=G.key.length===1;$&&(G.key==="Tab"&&G.preventDefault(),!U&&ie&&W(G.key));const ce=A.current;if(G.target!==ce||!Pae.includes(G.key))return;G.preventDefault();const we=k().filter(re=>!re.disabled).map(re=>re.ref.current);wz.includes(G.key)&&we.reverse(),Qae(we)}),onBlur:pt(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(D.current),B.current="")}),onPointerMove:pt(t.onPointerMove,mx(G=>{const Q=G.target,$=V.current!==G.clientX;if(G.currentTarget.contains(Q)&&$){const U=G.clientX>V.current?"right":"left";X.current=U,V.current=G.clientX}}))})})})})})})});Cz.displayName=Lo;var zae="MenuGroup",vT=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Bt.div,{role:"group",...n,ref:e})});vT.displayName=zae;var qae="MenuLabel",Tz=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Bt.div,{...n,ref:e})});Tz.displayName=qae;var Mb="MenuItem",tA="menu.itemSelect",Pw=x.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=x.useRef(null),o=Ty(Mb,t.__scopeMenu),c=xT(Mb,t.__scopeMenu),u=dn(e,i),f=x.useRef(!1),h=()=>{const m=i.current;if(!r&&m){const g=new CustomEvent(tA,{bubbles:!0,cancelable:!0});m.addEventListener(tA,v=>n==null?void 0:n(v),{once:!0}),UC(m,g),g.defaultPrevented?f.current=!1:o.onClose()}};return a.jsx(Pz,{...s,ref:u,disabled:r,onClick:pt(t.onClick,h),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),f.current=!0},onPointerUp:pt(t.onPointerUp,m=>{var g;f.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:pt(t.onKeyDown,m=>{const g=c.searchRef.current!=="";r||g&&m.key===" "||z3.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Pw.displayName=Mb;var Pz=x.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,o=xT(Mb,r),c=jz(r),u=x.useRef(null),f=dn(e,u),[h,m]=x.useState(!1),[g,v]=x.useState("");return x.useEffect(()=>{const j=u.current;j&&v((j.textContent??"").trim())},[i.children]),a.jsx(hx.ItemSlot,{scope:r,disabled:n,textValue:s??g,children:a.jsx(bz,{asChild:!0,...c,focusable:!n,children:a.jsx(Bt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:pt(t.onPointerMove,mx(j=>{n?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(t.onPointerLeave,mx(j=>o.onItemLeave(j))),onFocus:pt(t.onFocus,()=>m(!0)),onBlur:pt(t.onBlur,()=>m(!1))})})})}),Vae="MenuCheckboxItem",Ez=x.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(Rz,{scope:t.__scopeMenu,checked:r,children:a.jsx(Pw,{role:"menuitemcheckbox","aria-checked":Rb(r)?"mixed":r,...s,ref:e,"data-state":wT(r),onSelect:pt(s.onSelect,()=>n==null?void 0:n(Rb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ez.displayName=Vae;var Az="MenuRadioGroup",[Wae,Hae]=Dh(Az,{value:void 0,onValueChange:()=>{}}),Iz=x.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=Ni(n);return a.jsx(Wae,{scope:t.__scopeMenu,value:r,onValueChange:i,children:a.jsx(vT,{...s,ref:e})})});Iz.displayName=Az;var Oz="MenuRadioItem",Mz=x.forwardRef((t,e)=>{const{value:r,...n}=t,s=Hae(Oz,t.__scopeMenu),i=r===s.value;return a.jsx(Rz,{scope:t.__scopeMenu,checked:i,children:a.jsx(Pw,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":wT(i),onSelect:pt(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Mz.displayName=Oz;var bT="MenuItemIndicator",[Rz,Kae]=Dh(bT,{checked:!1}),Dz=x.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=Kae(bT,r);return a.jsx(uo,{present:n||Rb(i.checked)||i.checked===!0,children:a.jsx(Bt.span,{...s,ref:e,"data-state":wT(i.checked)})})});Dz.displayName=bT;var Gae="MenuSeparator",Lz=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Lz.displayName=Gae;var Yae="MenuArrow",$z=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Tw(r);return a.jsx(gw,{...s,...n,ref:e})});$z.displayName=Yae;var Xae="MenuSub",[ACe,Fz]=Dh(Xae),V0="MenuSubTrigger",Bz=x.forwardRef((t,e)=>{const r=Lh(V0,t.__scopeMenu),n=Ty(V0,t.__scopeMenu),s=Fz(V0,t.__scopeMenu),i=xT(V0,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,f={__scopeMenu:t.__scopeMenu},h=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),a.jsx(pT,{asChild:!0,...f,children:a.jsx(Pz,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":qz(r.open),...t,ref:hd(e,s.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pt(t.onPointerMove,mx(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:pt(t.onPointerLeave,mx(m=>{var v,j;h();const g=(v=r.content)==null?void 0:v.getBoundingClientRect();if(g){const w=(j=r.content)==null?void 0:j.dataset.side,b=w==="right",_=b?-5:5,T=g[b?"left":"right"],E=g[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+_,y:m.clientY},{x:T,y:g.top},{x:E,y:g.top},{x:E,y:g.bottom},{x:T,y:g.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pt(t.onKeyDown,m=>{var v;const g=i.searchRef.current!=="";t.disabled||g&&m.key===" "||Eae[n.dir].includes(m.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),m.preventDefault())})})})});Bz.displayName=V0;var Uz="MenuSubContent",zz=x.forwardRef((t,e)=>{const r=kz(Lo,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Lh(Lo,t.__scopeMenu),o=Ty(Lo,t.__scopeMenu),c=Fz(Uz,t.__scopeMenu),u=x.useRef(null),f=dn(e,u);return a.jsx(hx.Provider,{scope:t.__scopeMenu,children:a.jsx(uo,{present:n||i.open,children:a.jsx(hx.Slot,{scope:t.__scopeMenu,children:a.jsx(yT,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pt(t.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pt(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pt(t.onKeyDown,h=>{var v;const m=h.currentTarget.contains(h.target),g=Aae[o.dir].includes(h.key);m&&g&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),h.preventDefault())})})})})})});zz.displayName=Uz;function qz(t){return t?"open":"closed"}function Rb(t){return t==="indeterminate"}function wT(t){return Rb(t)?"indeterminate":t?"checked":"unchecked"}function Qae(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Jae(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Zae(t,e,r){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=Jae(t,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function ese(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],u=e[o],f=c.x,h=c.y,m=u.x,g=u.y;h>n!=g>n&&r<(m-f)*(n-h)/(g-h)+f&&(s=!s)}return s}function tse(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ese(r,e)}function mx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rse=Sz,nse=pT,ase=_z,sse=Cz,ise=vT,ose=Tz,lse=Pw,cse=Ez,dse=Iz,use=Mz,fse=Dz,hse=Lz,mse=$z,pse=Bz,gse=zz,Ew="DropdownMenu",[xse]=zi(Ew,[Nz]),_i=Nz(),[yse,Vz]=xse(Ew),Wz=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,u=_i(e),f=x.useRef(null),[h,m]=md({prop:s,defaultProp:i??!1,onChange:o,caller:Ew});return a.jsx(yse,{scope:e,triggerId:Ds(),triggerRef:f,contentId:Ds(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:c,children:a.jsx(rse,{...u,open:h,onOpenChange:m,dir:n,modal:c,children:r})})};Wz.displayName=Ew;var Hz="DropdownMenuTrigger",Kz=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=Vz(Hz,r),o=_i(r);return a.jsx(nse,{asChild:!0,...o,children:a.jsx(Bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:hd(e,i.triggerRef),onPointerDown:pt(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:pt(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Kz.displayName=Hz;var vse="DropdownMenuPortal",Gz=t=>{const{__scopeDropdownMenu:e,...r}=t,n=_i(e);return a.jsx(ase,{...n,...r})};Gz.displayName=vse;var Yz="DropdownMenuContent",Xz=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Vz(Yz,r),i=_i(r),o=x.useRef(!1);return a.jsx(sse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:pt(t.onCloseAutoFocus,c=>{var u;o.current||(u=s.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:pt(t.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xz.displayName=Yz;var bse="DropdownMenuGroup",wse=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(ise,{...s,...n,ref:e})});wse.displayName=bse;var Nse="DropdownMenuLabel",Qz=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(ose,{...s,...n,ref:e})});Qz.displayName=Nse;var jse="DropdownMenuItem",Jz=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(lse,{...s,...n,ref:e})});Jz.displayName=jse;var Sse="DropdownMenuCheckboxItem",Zz=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(cse,{...s,...n,ref:e})});Zz.displayName=Sse;var kse="DropdownMenuRadioGroup",_se=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(dse,{...s,...n,ref:e})});_se.displayName=kse;var Cse="DropdownMenuRadioItem",eq=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(use,{...s,...n,ref:e})});eq.displayName=Cse;var Tse="DropdownMenuItemIndicator",tq=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(fse,{...s,...n,ref:e})});tq.displayName=Tse;var Pse="DropdownMenuSeparator",rq=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(hse,{...s,...n,ref:e})});rq.displayName=Pse;var Ese="DropdownMenuArrow",Ase=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(mse,{...s,...n,ref:e})});Ase.displayName=Ese;var Ise="DropdownMenuSubTrigger",nq=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(pse,{...s,...n,ref:e})});nq.displayName=Ise;var Ose="DropdownMenuSubContent",aq=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=_i(r);return a.jsx(gse,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aq.displayName=Ose;var Mse=Wz,Rse=Kz,Dse=Gz,sq=Xz,iq=Qz,oq=Jz,lq=Zz,cq=eq,dq=tq,uq=rq,fq=nq,hq=aq;const mq=Mse,pq=Rse,Lse=x.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(fq,{ref:s,className:Nt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(ku,{className:"ml-auto"})]}));Lse.displayName=fq.displayName;const $se=x.forwardRef(({className:t,...e},r)=>a.jsx(hq,{ref:r,className:Nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));$se.displayName=hq.displayName;const NT=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Dse,{children:a.jsx(sq,{ref:n,sideOffset:e,className:Nt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));NT.displayName=sq.displayName;const fh=x.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(oq,{ref:n,className:Nt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));fh.displayName=oq.displayName;const Fse=x.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(lq,{ref:s,className:Nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dq,{children:a.jsx($i,{className:"h-4 w-4"})})}),e]}));Fse.displayName=lq.displayName;const Bse=x.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(cq,{ref:n,className:Nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dq,{children:a.jsx(EZ,{className:"h-2 w-2 fill-current"})})}),e]}));Bse.displayName=cq.displayName;const gq=x.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(iq,{ref:n,className:Nt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));gq.displayName=iq.displayName;const q3=x.forwardRef(({className:t,...e},r)=>a.jsx(uq,{ref:r,className:Nt("-mx-1 my-1 h-px bg-muted",t),...e}));q3.displayName=uq.displayName;const xq=x.forwardRef(function({images:e=[],onImagesChange:r},n){const[s,i]=x.useState([]),[o,c]=x.useState(0),[u,f]=x.useState(!1),[h,m]=x.useState(!1),[g,v]=x.useState([]),[j,w]=x.useState(null),[b,_]=x.useState(!1),[T,E]=x.useState(!1),k=x.useRef(null),C=x.useRef(null),{toast:S}=$s();x.useEffect(()=>{i(e),e.length>0?(_(!0),console.log(" Loaded saved images in display-only mode:",e.length)):_(!1)},[e]);const A=x.useCallback($=>{i($),r==null||r($)},[r]);x.useImperativeHandle(n,()=>({getCurrentImages:()=>s}),[s]),x.useEffect(()=>{const $=U=>{var he;if(b)return;const ie=(he=U.clipboardData)==null?void 0:he.items;if(!ie)return;const ce=Array.from(ie).filter(we=>we.type.startsWith("image/"));ce.length>0&&(U.preventDefault(),ce.forEach(we=>{const re=we.getAsFile();if(re&&re.type.startsWith("image/")&&re.size<=10485760){m(!0);const pe=new FileReader;pe.onload=ue=>{var rt;const Ie=(rt=ue.target)==null?void 0:rt.result,qe={id:Math.random().toString(36).substr(2,9),url:Ie,name:re.name,file:re},Ne=[...s,qe];A(Ne),c(Ne.length-1),m(!1)},pe.readAsDataURL(re)}}),S({title:"Images pasted successfully",description:`${ce.length} image(s) added from clipboard`}))};return document.addEventListener("paste",$),()=>document.removeEventListener("paste",$)},[b,S,A]);const R=x.useCallback($=>{$.preventDefault(),f(!0)},[]),D=x.useCallback($=>{var U;$.preventDefault(),(U=C.current)!=null&&U.contains($.relatedTarget)||f(!1)},[]),B=x.useCallback($=>{$.preventDefault()},[]),F=x.useCallback($=>{$.preventDefault(),f(!1);const U=Array.from($.dataTransfer.files).filter(he=>he.type.startsWith("image/")&&he.size<=10*1024*1024);if(U.length===0)return;m(!0);let ie=0;const ce=[];U.forEach(he=>{const we=new FileReader;we.onload=re=>{var Ie;const pe=(Ie=re.target)==null?void 0:Ie.result,ue={id:Math.random().toString(36).substr(2,9),url:pe,name:he.name,file:he};if(ce.push(ue),ie++,ie===U.length){const qe=[...s,...ce];A(qe),c(qe.length-1),m(!1),S({title:"Images uploaded successfully",description:`${U.length} image(s) added`})}},we.readAsDataURL(he)})},[S,s,A]),z=x.useCallback(async $=>{if(!$.type.startsWith("image/")){S({title:"Invalid file type",description:"Please upload only image files",variant:"destructive"});return}if($.size>10*1024*1024){S({title:"File too large",description:"Please upload images smaller than 10MB",variant:"destructive"});return}m(!0);try{const U=await new Promise(he=>{const we=new FileReader;we.onload=re=>{var pe;return he((pe=re.target)==null?void 0:pe.result)},we.readAsDataURL($)}),ie={id:Math.random().toString(36).substr(2,9),url:U,name:$.name,file:$},ce=[...s,ie];A(ce),c(ce.length-1)}catch{S({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{m(!1)}},[s.length,S]),X=$=>{Array.from($.target.files||[]).forEach(ie=>z(ie))},V=$=>{const U=s.filter(ie=>ie.id!==$);o>=U.length&&U.length>0?c(U.length-1):U.length===0&&c(0),A(U)},Z=()=>{c($=>$>0?$-1:s.length-1)},ee=()=>{c($=>$<s.length-1?$+1:0)},W=()=>{if(s.length===0){S({title:"No images to save",description:"Please add some images before saving",variant:"destructive"});return}const $={id:Math.random().toString(36).substr(2,9),images:[...s],savedAt:new Date,title:`Image Collection ${g.length+1}`};v(U=>[...U,$]),w($.id),_(!0),S({title:"Post saved successfully",description:`${s.length} image(s) saved to your collection`})},K=()=>{E(!0)},G=()=>{E(!1)};x.useEffect(()=>{const $=U=>{U.key==="Escape"&&T&&E(!1)};return T&&document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[T]);const Q=s[o];return a.jsx(xt,{className:"h-full border-2 border-gray-300 dark:border-gray-600 relative overflow-hidden transition-none",children:a.jsxs(bt,{className:"p-0 h-full relative max-h-full",children:[s.length===0?a.jsx("div",{ref:C,className:`h-full flex flex-col items-center justify-center p-6 ${u?"bg-blue-50 dark:bg-blue-900/20 border-blue-400":"bg-gray-50 dark:bg-gray-900"}`,onDragEnter:R,onDragLeave:D,onDragOver:B,onDrop:F,"data-testid":"image-upload-zone",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(P3,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Upload Images"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drag & drop images here, or click to browse"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(qa,{className:"w-4 h-4"}),a.jsx("span",{children:"Copy-paste images from anywhere"})]})]}),a.jsxs(H,{onClick:()=>{var $;return($=k.current)==null?void 0:$.click()},className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-upload-images",children:[a.jsx(rc,{className:"w-4 h-4 mr-2"}),"Choose Images"]})]})}):a.jsxs("div",{className:"h-full relative",children:[a.jsxs("div",{className:"h-full w-full relative flex items-center justify-center",children:[a.jsx("img",{src:Q.url,alt:Q.name,className:"max-w-full max-h-full object-contain","data-testid":`img-current-${o}`}),!b&&a.jsx("div",{className:"absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-lg",children:a.jsxs("span",{className:"text-sm font-medium",children:[o+1," / ",s.length]})}),a.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[a.jsx(H,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-black/70 hover:bg-black/90 text-white border-none",onClick:K,"data-testid":"button-fullscreen",children:a.jsx(IZ,{className:"w-4 h-4"})}),b?a.jsxs(mq,{children:[a.jsx(pq,{asChild:!0,children:a.jsx(H,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-black/70 hover:bg-black/90 text-white border-none","data-testid":"button-image-menu",children:a.jsx(ll,{className:"w-4 h-4"})})}),a.jsxs(NT,{align:"end",className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[a.jsxs(fh,{onClick:()=>{_(!1),S({title:"Edit mode enabled",description:"You can now modify images"})},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(fl,{className:"w-4 h-4 mr-2"}),"Edit Images"]}),a.jsxs(fh,{onClick:()=>navigator.clipboard.writeText(Q.url),className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(qa,{className:"w-4 h-4 mr-2"}),"Copy Image URL"]}),a.jsxs(fh,{onClick:()=>{const $=document.createElement("a");$.href=Q.url,$.download=Q.name||`image_${o+1}`,$.click()},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(k3,{className:"w-4 h-4 mr-2"}),"Download Image"]})]})]}):a.jsx(H,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>V(Q.id),"data-testid":`button-remove-${o}`,children:a.jsx(La,{className:"w-4 h-4"})})]})]}),s.length>1&&a.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[a.jsx(H,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white text-gray-800",onClick:Z,"data-testid":"button-nav-left",children:a.jsx(uh,{className:"w-4 h-4"})}),a.jsx(H,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white text-gray-800",onClick:ee,"data-testid":"button-nav-right",children:a.jsx(ku,{className:"w-4 h-4"})})]}),!b&&a.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[a.jsxs(H,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:W,disabled:h||s.length===0,"data-testid":"button-save-post",children:[a.jsx(zZ,{className:"w-4 h-4 mr-1"}),"Save"]}),a.jsxs(H,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{var $;return($=k.current)==null?void 0:$.click()},disabled:h,"data-testid":"button-add-more",children:[a.jsx(rc,{className:"w-4 h-4 mr-1"}),h?"Uploading...":"Add More"]})]}),b&&s.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded-lg",children:a.jsxs("span",{className:"text-sm font-medium",children:[o+1," / ",s.length]})})]}),a.jsx("input",{type:"file",ref:k,onChange:X,multiple:!0,accept:"image/*",className:"hidden","data-testid":"input-file-upload"}),h&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center transition-none",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 transition-none",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Uploading..."})]})})}),T&&Q&&a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center transition-none",children:[a.jsx("img",{src:Q.url,alt:Q.name,className:"max-w-full max-h-full object-contain","data-testid":"img-fullscreen"}),a.jsx(H,{size:"sm",variant:"secondary",className:"absolute top-4 right-4 h-10 w-10 p-0 bg-black/70 hover:bg-black/90 text-white border-none",onClick:G,"data-testid":"button-exit-fullscreen",children:a.jsx(eB,{className:"w-5 h-5"})}),s.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(H,{size:"sm",variant:"secondary",className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 bg-black/70 hover:bg-black/90 text-white border-none",onClick:Z,"data-testid":"button-fullscreen-nav-left",children:a.jsx(uh,{className:"w-5 h-5"})}),a.jsx(H,{size:"sm",variant:"secondary",className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 bg-black/70 hover:bg-black/90 text-white border-none",onClick:ee,"data-testid":"button-fullscreen-nav-right",children:a.jsx(ku,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-lg",children:a.jsxs("span",{className:"text-sm font-medium",children:[o+1," / ",s.length]})})]})]})})});function Use(){const[t,e]=x.useState([]),[r,n]=x.useState(""),[s,i]=x.useState(!1),o=x.useRef(null),c=x.useRef(null);x.useEffect(()=>{var S;(S=o.current)==null||S.scrollIntoView({behavior:"smooth"})},[t]),x.useEffect(()=>{if(t.length===0){const S={id:Date.now().toString(),type:"assistant",message:` **Welcome to BATTU AI Social Feed Assistant!**

I'm powered by your platform's real-time data and can help you with:

 **Live Stock Analysis**
 Real-time prices from Fyers API
 Technical indicators (RSI, EMA, Volume)
 Fundamental ratios (P/E, Market Cap, ROE)
 Sentiment analysis and trade recommendations

 **Smart Market News**
 Latest news with AI sentiment analysis
 Stock-specific news impact assessment
 Market trend analysis and implications

 **Social Feed Intelligence**
 Community insights from your platform's Social Feed
 Trending discussions and analysis
 Professional trader perspectives

 **Platform Integration**
 Connect with Trading Master for technical analysis
 Access Journal for performance tracking
 Leverage existing data sources for real insights

**Try these enhanced suggestions:**`,timestamp:new Date,suggestions:[" Live RELIANCE analysis with Fyers data"," Today's market news with sentiment"," Trending stocks from Social Feed"," Best investment opportunities now"," Fundamental analysis framework"]};e([S])}},[]);const u=async S=>{var A,R,D;try{console.log(` AI fetching real data for ${S}...`);const F=await(await fetch(`/api/stock-analysis/${S}`)).json();return F&&F.priceData?(console.log(` AI got real data for ${S}:`,F.priceData),{symbol:S,price:F.priceData.close||F.priceData.price||0,change:(F.priceData.close||0)-(F.priceData.open||0),changePercent:(A=F.sentiment)!=null&&A.score?(F.priceData.close-F.priceData.open)/F.priceData.open*100:0,volume:F.priceData.volume||"N/A",marketCap:((R=F.valuation)==null?void 0:R.marketCap)||"N/A",pe:((D=F.valuation)==null?void 0:D.peRatio)||0,high:F.priceData.high||0,low:F.priceData.low||0,open:F.priceData.open||0,sentiment:F.sentiment||null,indicators:F.indicators||null}):null}catch(B){return console.error(` AI failed to fetch data for ${S}:`,B),null}},f=async S=>{try{console.log(` AI fetching real news for ${S}...`);const R=await(await fetch(`/api/stock-news?query=${encodeURIComponent(S)}`)).json();return R.success&&R.articles?(console.log(` AI got ${R.articles.length} news articles for ${S}`),R.articles.slice(0,5)):[]}catch(A){return console.error(` AI failed to fetch news for ${S}:`,A),[]}},h=async S=>{var B,F,z,X;const A=S.toLowerCase(),D=["reliance","tcs","infy","infosys","hdfcbank","icicibank","bhartiartl","itc","kotakbank","lt","sbin","adaniports","asianpaint","axisbank","bajfinance","bajajfinsv","bpcl","cipla","coalindia","divislab","drreddy","eichermot","grasim","hcltech","heromotoco","hindalco","hindunilvr","hdfc","indusindbk","jswsteel","lti","maruti","nestleind","ntpc","ongc","powergrid","shreecem","sunpharma","tatasteel","techm","titan","ultracemco","upl","wipro"].find(V=>A.includes(V));if(A.includes("analyze")||A.includes("tell me about")||D){const V=(D||"RELIANCE").toUpperCase(),Z=await u(V);if(Z){const ee=Z.changePercent>0?"bullish":"bearish",W=ee==="bullish"?"":"",K=((B=Z.sentiment)==null?void 0:B.trend)==="Bullish"?"":((F=Z.sentiment)==null?void 0:F.trend)==="Bearish"?"":"",G=((z=Z.sentiment)==null?void 0:z.trend)||"Neutral",Q=((X=Z.sentiment)==null?void 0:X.confidence)||"Medium";return{id:Date.now().toString(),type:"assistant",message:`## ${V} Stock Analysis ${W}

**Live Market Data:**
 **Current Price:** ${Z.price.toLocaleString()} (${Z.changePercent.toFixed(2)}%)
 **Open:** ${Z.open.toLocaleString()} | **High:** ${Z.high.toLocaleString()}
 **Low:** ${Z.low.toLocaleString()} | **Volume:** ${Z.volume}
 **Market Cap:** ${Z.marketCap}
 **P/E Ratio:** ${Z.pe||"N/A"}

**Market Sentiment:** ${K} ${G} (${Q} confidence)

**Technical Analysis:**
${m(V,ee,Z)}

**AI Recommendation:** ${g(ee,Z)}

**Risk Assessment:** ${v(Z)}

Would you like me to fetch the latest news for ${V} or perform deeper technical analysis?`,timestamp:new Date,stockSymbol:V,data:{symbol:Z.symbol,price:Z.price,change:Z.change,changePercent:Z.changePercent,volume:Z.volume,marketCap:Z.marketCap,pe:Z.pe},suggestions:[` Latest ${V} news with sentiment`,` ${V} technical indicators from Fyers`,` Compare ${V} with sector peers`,` Social Feed discussions about ${V}`,` ${V} trading strategies`]}}else return{id:Date.now().toString(),type:"assistant",message:`I'm having trouble fetching real-time data for ${V} right now. This could be due to:

 Market hours (Indian markets: 9:15 AM - 3:30 PM IST)
 Network connectivity issues  
 Temporary API limitations

**What I can still help with:**
 General investment guidance for ${V}
 Market news and trends
 Portfolio strategy discussions
 Technical analysis concepts

Please try again in a moment, or ask me about market trends and investment strategies!`,timestamp:new Date,suggestions:[" Live market news analysis"," Platform-based investment strategies"," Trending sectors on Social Feed"," Portfolio optimization with real data"," Community investment insights"]}}if(A.includes("news")||A.includes("latest")||A.includes("market today")){let V=null;if(D){V=D.toUpperCase();const ee=await f(V);if(ee&&ee.length>0)return{id:Date.now().toString(),type:"assistant",message:`## Latest News for ${V} 

**AI News Analysis:**
Based on the latest news, ${V} appears to be ${j(ee)}. Key themes include ${w(ee)}.

**Investment Insight:**
${b(V,ee)}

**Recent Headlines:**`,timestamp:new Date,data:{news:ee,symbol:V,price:null,change:null,changePercent:null,volume:null,marketCap:null,pe:null},suggestions:[`Analyze ${V} fundamentals`,`Technical analysis for ${V}`,"Compare with sector peers","Get market sentiment"]}}const Z=await f("Indian stock market today finance news");return{id:Date.now().toString(),type:"assistant",message:`## Today's Finance News 

**AI Market Analysis:**
Current market sentiment is ${_()}. Here are today's key financial developments:

**Market Overview:**
 **Global Cues:** International markets showing mixed signals
 **Sectoral Performance:** Banking, IT, and pharma leading movements  
 **FII/DII Activity:** Institutional flows driving sentiment
 **Economic Indicators:** Key data points in focus

**Latest Headlines:**`,timestamp:new Date,data:{news:Z,symbol:"MARKET",price:null,change:null,changePercent:null,volume:null,marketCap:null,pe:null},suggestions:["Analyze RELIANCE news","Banking sector trends","IT stocks analysis","Top gainers today"]}}return A.includes("invest")||A.includes("buy")||A.includes("portfolio")?{id:Date.now().toString(),type:"assistant",message:`## Investment Guidance 

**Market Outlook:**
The current market shows **moderate optimism** with selective stock picking being key.

**Recommended Strategy:**
 **Large Cap (60%):** Focus on quality stocks like HDFC Bank, TCS, Infosys
 **Mid Cap (25%):** Consider sector leaders with strong fundamentals  
 **Small Cap (15%):** High-growth potential but higher risk

**Sectors to Watch:**
 **Positive:** Banking, IT Services, Pharmaceuticals
 **Cautious:** Real Estate, Auto, Metals
 **Avoid:** High-debt companies, cyclical stocks

**Risk Management:**
 Diversify across sectors
 Maintain 10-15% cash position
 Set stop-losses at 8-10%
 Review portfolio quarterly

**Disclaimer:** This is educational content, not financial advice. Please consult with a certified financial advisor.

What's your risk appetite and investment timeline?`,timestamp:new Date,suggestions:["Conservative portfolio","Aggressive growth stocks","Dividend stocks","SIP planning"]}:A.includes("ipo")||A.includes("new listing")?{id:Date.now().toString(),type:"assistant",message:`## IPO Market Update 

**Upcoming IPOs (Next 30 Days):**
 **TechCorp Limited** - 500-550 per share (Tech)
 **GreenEnergy Solutions** - 280-320 per share (Renewable)
 **FinTech Innovations** - 1,200-1,400 per share (Fintech)

**Recent Listings Performance:**
 **RetailMax IPO:** Listed at 15% premium 
 **BioPharm Ltd:** Listed at 8% discount 
 **AutoTech Motors:** Listed flat 

**IPO Investment Tips:**
 Research company fundamentals thoroughly
 Check management track record
 Analyze industry growth prospects
 Consider market conditions
 Apply through multiple family members

**Red Flags to Avoid:**
 High debt-to-equity ratio
 Declining industry trends  
 Poor management history
 Overvalued pricing

Would you like detailed analysis of any specific upcoming IPO?`,timestamp:new Date,suggestions:["TechCorp IPO analysis","IPO application strategy","Grey market premium","IPO vs secondary market"]}:A.includes("bond")||A.includes("debt")||A.includes("fixed income")?{id:Date.now().toString(),type:"assistant",message:`## Bond Market Analysis 

**Government Bond Yields:**
 **10-Year G-Sec:** 7.12% ( 0.05% from last week)
 **5-Year G-Sec:** 6.89% ( 0.03%)
 **15-Year G-Sec:** 7.28% ( 0.02%)

**Corporate Bond Landscape:**
 **AAA-rated:** 7.8-8.2% yield range
 **AA-rated:** 8.5-9.1% yield range  
 **A-rated:** 9.2-10.5% yield range

**Market Dynamics:**
 **Yields trending down** due to RBI policy stance
 **Strong demand** from insurance and pension funds
 **Global factors** supporting bond rally

**Investment Strategy:**
 **Conservative:** 60% G-Sec, 40% AAA corporate
 **Moderate:** 40% G-Sec, 50% AA+ corporate, 10% equity
 **Duration play:** Focus on 7-10 year bonds

**Tax-Free Bonds:** Currently offering 5.5-6.2% tax-free yields

Which bond category interests you most?`,timestamp:new Date,suggestions:["Tax-free bonds","Corporate bond funds","Government securities","Bond laddering strategy"]}:{id:Date.now().toString(),type:"assistant",message:`I'm here to help with your finance questions! 

I can assist you with:

 **Stock Market:**
- Real-time stock analysis and prices
- Technical and fundamental analysis
- Sector performance and trends

 **Market News:**
- Latest market updates and news
- Economic indicators and events
- Company earnings and announcements

 **Investment Planning:**
- Portfolio diversification strategies
- Risk assessment and management
- Long-term wealth building advice

 **IPOs & New Listings:**
- Upcoming IPO analysis
- Listing performance tracking
- Investment recommendations

 **Fixed Income:**
- Government and corporate bonds
- Interest rate trends and analysis
- Tax-efficient investment options

Just ask me anything about stocks, markets, investments, or financial planning!`,timestamp:new Date,suggestions:["Show me market trends","Analyze HDFC Bank","Investment strategies","Today's top gainers"]}},m=(S,A,R)=>{const D=R.price,B=R.volume,F=R.sentiment;return A==="bullish"?`Strong upward momentum observed with ${B} volume suggesting institutional interest. The ${(F==null?void 0:F.confidence)||"medium"} confidence bullish sentiment indicates positive market perception. Current price action shows healthy buying support at ${D.toLocaleString()}.`:`Bearish pressure evident with current pricing at ${D.toLocaleString()}. Volume of ${B} suggests ${(F==null?void 0:F.confidence)||"cautious"} market sentiment. Technical indicators point to potential consolidation or further downside.`},g=(S,A)=>{var D;const R=((D=A.sentiment)==null?void 0:D.confidence)==="High"?"moderate":"high";return S==="bullish"?`**BUY** on dips with ${R} risk tolerance. Consider position sizing based on portfolio allocation. Stop-loss recommended below ${(A.price*.95).toFixed(0)}.`:`**HOLD/WAIT** for better entry levels. Risk level: ${R}. Consider accumulating below ${(A.price*.92).toFixed(0)} with proper risk management.`},v=S=>{var R;return`Volatility: ${S.changePercent>5?"High":S.changePercent>2?"Medium":"Low"} | Sentiment Risk: ${((R=S.sentiment)==null?void 0:R.confidence)||"Medium"} | Liquidity: ${S.volume!=="N/A"?"Good":"Limited"}`},j=S=>{if(!S||S.length===0)return"neutral with limited news flow";const A=["growth","profit","gain","rise","bullish","strong","beat"],R=["loss","decline","fall","bearish","weak","miss","concern"];let D=0,B=0;return S.forEach(F=>{const z=(F.title+" "+F.description).toLowerCase();A.forEach(X=>{z.includes(X)&&D++}),R.forEach(X=>{z.includes(X)&&B++})}),D>B?"trending positively with bullish news sentiment":B>D?"facing headwinds with bearish news sentiment":"neutral with mixed news sentiment"},w=S=>{if(!S||S.length===0)return"limited news coverage";const A=["earnings","expansion","regulatory","market","technology","financial"],R=[];return S.forEach(D=>{const B=(D.title+" "+D.description).toLowerCase();A.forEach(F=>{B.includes(F)&&!R.includes(F)&&R.push(F)})}),R.length>0?R.join(", ")+" developments":"general market updates"},b=(S,A)=>{const R=j(A);return R.includes("positive")?`Recent news flow supports a positive outlook for ${S}. Consider accumulating on dips with a medium-term investment horizon.`:R.includes("bearish")?`Current news suggests caution for ${S}. Wait for clarity on key developments before taking fresh positions.`:`Mixed news flow for ${S} suggests a wait-and-watch approach. Focus on fundamental analysis over news-driven movements.`},_=()=>"selective stock picking with focus on quality names. Maintain diversified portfolio allocation across sectors.",T=async()=>{if(!r.trim())return;const S={id:Date.now().toString(),type:"user",message:r,timestamp:new Date};e(R=>[...R,S]);const A=r;n(""),i(!0),setTimeout(async()=>{try{const R=await h(A);e(D=>[...D,R])}catch{const D={id:(Date.now()+1).toString(),type:"assistant",message:"I apologize, but I'm having trouble processing your request right now. Please try again or ask about stocks, market news, investments, or financial planning.",timestamp:new Date};e(B=>[...B,D])}finally{i(!1)}},1500+Math.random()*1e3)},E=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),T())},k=S=>{var A;n(S),(A=c.current)==null||A.focus()},C=S=>{navigator.clipboard.writeText(S)};return a.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 text-white p-4 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Zs,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"AI Finance Assistant"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm transition-colors duration-300",children:"Real-time market insights & investment guidance"})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100vh - 200px)"},children:[t.map(S=>{var A;return a.jsxs("div",{className:`flex items-start gap-3 ${S.type==="user"?"flex-row-reverse":""}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-300 ${S.type==="user"?"bg-black dark:bg-white text-white dark:text-black":"bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-900"}`,children:S.type==="user"?a.jsx(rp,{className:"h-4 w-4"}):a.jsx(Zs,{className:"h-4 w-4"})}),a.jsxs("div",{className:`flex-1 max-w-3xl ${S.type==="user"?"text-right":""}`,children:[a.jsxs("div",{className:`inline-block p-4 rounded-2xl shadow-sm transition-colors duration-300 ${S.type==="user"?"bg-black dark:bg-white text-white dark:text-black rounded-br-sm":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-sm"}`,children:[a.jsx("div",{className:"prose prose-sm max-w-none",children:S.message.split(`
`).map((R,D)=>R.startsWith("##")?a.jsx("h3",{className:"text-lg font-bold mt-2 mb-2 text-current",children:R.replace("##","").trim()},D):R.startsWith("")?a.jsx("div",{className:"ml-2 mb-1 text-current",children:R},D):R.startsWith("**")&&R.endsWith("**")?a.jsx("p",{className:"font-semibold mb-1 text-current",children:R.replace(/\*\*/g,"")},D):R?a.jsx("p",{className:"mb-1 text-current",children:R},D):a.jsx("br",{},D))}),S.data&&S.data.price&&a.jsx("div",{className:"mt-4 p-3 bg-white/10 dark:bg-gray-700/50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:["Price: ",(A=S.data.price)==null?void 0:A.toLocaleString()]}),a.jsxs("div",{className:`${(S.data.changePercent||0)>=0?"text-green-400":"text-red-400"}`,children:["Change: ",S.data.changePercent,"%"]}),a.jsxs("div",{children:["Volume: ",S.data.volume]}),a.jsxs("div",{children:["P/E: ",S.data.pe]})]})}),S.data&&S.data.news&&S.data.news.length>0&&a.jsxs("div",{className:"mt-4 space-y-3",children:[S.data.news.slice(0,5).map((R,D)=>a.jsx("div",{className:"p-3 bg-white/10 dark:bg-gray-700/50 rounded-lg border-l-4 border-gray-400 dark:border-gray-600 hover:bg-white/20 dark:hover:bg-gray-600/50 transition-colors duration-300",children:a.jsx("div",{className:"flex items-start justify-between gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-sm leading-tight mb-1",children:a.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-300",children:R.title})}),R.description&&a.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-400 mb-2 line-clamp-2",children:R.description}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[a.jsx("span",{className:"font-medium",children:R.source}),R.publishedAt&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:new Date(R.publishedAt).toLocaleDateString()})]}),a.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"ml-auto text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-300",children:"Read "})]})]})})},D)),S.data.news.length>5&&a.jsxs("div",{className:"text-center text-xs text-gray-400 mt-2",children:["Showing 5 of ",S.data.news.length," articles"]})]}),S.type==="assistant"&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t border-gray-200 dark:border-gray-600",children:[a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>C(S.message),className:"h-6 px-2 text-xs opacity-70 hover:opacity-100",children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs opacity-70 hover:opacity-100",children:[a.jsx(U0,{className:"h-3 w-3 mr-1"}),"Helpful"]})]})]}),S.suggestions&&S.suggestions.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:S.suggestions.map((R,D)=>a.jsx(H,{variant:"outline",size:"sm",onClick:()=>k(R),className:"text-xs h-7 px-3 bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-700 border-gray-300 dark:border-gray-600",children:R},D))}),S.type==="assistant"&&a.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.jsx("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400 mb-2",children:" Generate Strategy Codes:"}),["Generate Scalping Strategy","Generate Swing Trading Strategy","Generate Options Strategy","Generate Breakout Strategy"].map((R,D)=>a.jsx(H,{variant:"outline",size:"sm",onClick:()=>k(R),className:"text-xs h-7 px-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 transition-colors duration-300",children:R},D))]}),a.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 mt-2 ${S.type==="user"?"text-right":""}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},S.id)}),s&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-900 flex items-center justify-center transition-colors duration-300",children:a.jsx(Zs,{className:"h-4 w-4"})}),a.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-bl-sm p-4",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"AI is thinking..."})]})})]}),a.jsx("div",{ref:o})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-white dark:bg-gray-900",children:[a.jsx("div",{className:"flex items-end gap-3 max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(qr,{ref:c,value:r,onChange:S=>n(S.target.value),onKeyPress:E,placeholder:"Ask about stocks, market news, investments, IPOs, bonds...",className:"pr-12 py-3 text-base border-2 border-gray-200 dark:border-gray-700 rounded-xl focus:border-gray-400 dark:focus:border-gray-500 bg-white dark:bg-gray-800 transition-colors duration-300",disabled:s}),a.jsx(H,{onClick:T,disabled:!r.trim()||s,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:a.jsx(dw,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"text-center mt-2",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"AI Finance Assistant can make mistakes. Verify important information and consult financial advisors."})})]})]})}const zse="modulepreload",qse=function(t){return"/"+t},rA={},Vse=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(r.map(f=>{if(f=qse(f),f in rA)return;rA[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":zse,h||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,j)=>{g.addEventListener("load",v),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Du=x.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:Nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Du.displayName="Textarea";function Wse({snippets:t,onRemove:e}){const[r,n]=x.useState([]),[s,i]=x.useState(0),[o,c]=x.useState(!1),[u,f]=x.useState(null),{toast:h}=$s();x.useEffect(()=>{const _=r.map(k=>k.id),T=t.map(k=>k.id),E=t.filter(k=>!_.includes(k.id));if(E.length>0){c(!0);const k=E.map((C,S)=>({...C,colorIndex:(s+S)%5}));n(C=>[...k,...C.filter(S=>T.includes(S.id))]),i((s+E.length)%5),setTimeout(()=>c(!1),600)}else _.length!==T.length&&n(k=>k.filter(C=>T.includes(C.id)))},[t]);const m=_=>{n(T=>{const E=[...T];if(_==="right"){const k=E.shift();k&&E.push(k)}else{const k=E.pop();k&&E.unshift(k)}return E})},[g,v]=x.useState(0),j=_=>{const T=[{from:"from-blue-500",to:"to-blue-600",label:"TECH NEWS",icon:""},{from:"from-purple-500",to:"to-purple-600",label:"MARKET UPDATE",icon:""},{from:"from-pink-500",to:"to-pink-600",label:"TRADING ALERT",icon:""},{from:"from-indigo-500",to:"to-indigo-600",label:"FINANCE NEWS",icon:""},{from:"from-cyan-500",to:"to-cyan-600",label:"INSIGHT",icon:""}];return T[_%T.length]},w=_=>_.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F900}-\u{1F9FF}]|[\u{1F018}-\u{1F270}]|[\u{238C}-\u{2454}]|[\u{20D0}-\u{20FF}]/gu,""),b=(_,T)=>{if(T.stopPropagation(),u===_.id){window.speechSynthesis.cancel(),f(null);return}if(!_.text||_.text.trim().length===0){h({description:"No content to read",variant:"destructive"});return}try{window.speechSynthesis.cancel();const E=w(_.text),k=new SpeechSynthesisUtterance(E);k.rate=1,k.pitch=1,k.volume=1,k.onstart=()=>{f(_.id)},k.onend=()=>{f(null)},k.onerror=C=>{console.error("Speech synthesis error:",C),f(null),h({description:"Failed to play audio. Please try again.",variant:"destructive"})},window.speechSynthesis.speak(k)}catch(E){console.error("Error playing audio:",E),f(null),h({description:"Audio playback not supported in this browser",variant:"destructive"})}};return r.length===0?null:a.jsx("div",{className:"relative w-28 h-40 mx-auto",style:{perspective:"1000px"},children:r.slice(0,5).map((_,T)=>{const E=T===0,k=T===1,C=T===2,S=T===3,A=T===4,R=j(_.colorIndex),D=_.authorDisplayName||_.authorUsername||"Trading";let B="",F=1,z=40;if(!E){const V=T*3,Z=T*8,ee=1-T*.03,W=T*-2;B=`translateY(${Z}px) translateX(${W}px) rotate(${V}deg) scale(${ee})`,F=k?.95:C?.85:S?.75:A?.65:.5,z=k?30:C?20:S?15:A?10:5}const X=o&&E?"translateY(-100px) scale(0.8) rotate(-10deg)":B;return a.jsx("div",{"data-card-index":T,style:{transform:X,transition:o&&E?"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.5s ease-out":"transform 0.3s ease-out, opacity 0.3s ease-out",opacity:o&&E?.3:F,zIndex:z},className:`absolute inset-0 ${E?"cursor-grab active:cursor-grabbing":""}`,onMouseDown:V=>{if(!E)return;const Z=V.clientX,ee=V.clientY,W=V.currentTarget;let K=!1;const G=$=>{const U=$.clientX-Z,ie=$.clientY-ee;if(!K&&(Math.abs(U)>5||Math.abs(ie)>5)&&(K=!0),K){const ce=U*.1;W.style.transform=`translate(${U}px, ${ie}px) rotate(${ce}deg)`,W.style.opacity=String(Math.max(.3,1-Math.abs(U)/300)),v(U)}},Q=$=>{if(K){const U=$.clientX-Z;if(v(0),Math.abs(U)>40){const ie=U>0?"right":"left";if(ie==="right"){const ce="150%",he="30deg";W.style.transform=`translate(${ce}, ${U*.5}px) rotate(${he})`,W.style.opacity="0",setTimeout(()=>{W.style.transform="",W.style.opacity="",m(ie)},300)}else W.style.transform="",W.style.opacity="",m(ie),setTimeout(()=>{var he;const ce=(he=W.parentElement)==null?void 0:he.querySelector('[data-card-index="0"]');ce&&(ce.style.transform="translate(150%, 0) rotate(30deg)",ce.style.opacity="0",setTimeout(()=>{ce.style.transform="",ce.style.opacity="",ce.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{ce.style.transition=""},300)},10))},10)}else W.style.transform="",W.style.opacity=""}document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",Q)},onTouchStart:V=>{if(!E)return;const Z=V.touches[0].clientX,ee=V.touches[0].clientY,W=V.currentTarget;let K=!1;const G=$=>{const U=$.touches[0].clientX-Z,ie=$.touches[0].clientY-ee;if(!K&&(Math.abs(U)>5||Math.abs(ie)>5)&&(K=!0),K){$.preventDefault();const ce=U*.1;W.style.transform=`translate(${U}px, ${ie}px) rotate(${ce}deg)`,W.style.opacity=String(Math.max(.3,1-Math.abs(U)/300)),v(U)}},Q=$=>{if(K){const U=$.changedTouches[0].clientX-Z;if(v(0),Math.abs(U)>40){const ie=U>0?"right":"left";if(ie==="right"){const ce="150%",he="30deg";W.style.transform=`translate(${ce}, ${U*.5}px) rotate(${he})`,W.style.opacity="0",setTimeout(()=>{W.style.transform="",W.style.opacity="",m(ie)},300)}else W.style.transform="",W.style.opacity="",m(ie),setTimeout(()=>{var he;const ce=(he=W.parentElement)==null?void 0:he.querySelector('[data-card-index="0"]');ce&&(ce.style.transform="translate(150%, 0) rotate(30deg)",ce.style.opacity="0",setTimeout(()=>{ce.style.transform="",ce.style.opacity="",ce.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{ce.style.transition=""},300)},10))},10)}else W.style.transform="",W.style.opacity=""}document.removeEventListener("touchmove",G),document.removeEventListener("touchend",Q)};document.addEventListener("touchmove",G,{passive:!1}),document.addEventListener("touchend",Q)},children:a.jsxs("div",{className:`bg-gradient-to-br ${R.from} ${R.to} rounded-xl p-3 h-full relative overflow-hidden border-2 border-white/10`,style:{boxShadow:E?"0 20px 40px rgba(0,0,0,0.4), 0 10px 20px rgba(0,0,0,0.3)":`0 ${8+T*4}px ${16+T*8}px rgba(0,0,0,${.3+T*.1})`},children:[a.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 opacity-30",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/20 to-white/10 rounded-full"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-[8px] text-white/80 mb-1 uppercase tracking-wide font-medium",children:R.label}),a.jsxs("h3",{className:"text-xs font-bold text-white mb-2 leading-tight",children:["Latest in",a.jsx("br",{}),D.toLowerCase()]}),a.jsx("button",{type:"button",className:`bg-white px-2 py-1 rounded-full text-[10px] font-medium shadow-lg transition-colors ${u===_.id?"text-blue-600 hover:bg-gray-100":"text-gray-800 hover:bg-gray-100"}`,onClick:V=>b(_,V),"data-testid":`button-read-now-card-${_.id}`,children:a.jsx("div",{className:"flex items-center gap-1",children:u===_.id?a.jsxs(a.Fragment,{children:[a.jsx(cw,{className:"w-2 h-2 fill-current"}),a.jsx("span",{children:"Stop"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ca,{className:"w-2 h-2"}),a.jsx("span",{children:"Read Now"})]})})})]}),a.jsx("div",{className:"absolute top-2 right-2 text-sm filter drop-shadow-lg",children:R.icon}),E&&a.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),e(_.id)},className:"absolute top-1 left-1 w-4 h-4 rounded-full bg-white/20 hover:bg-white/40 flex items-center justify-center transition-all hover:scale-110 z-30","data-testid":`button-remove-snippet-${_.id}`,children:a.jsx(La,{className:"w-2 h-2 text-white"})}),!E&&a.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-2xl"})]})},_.id)})})}const Hse=()=>{};var nA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},Kse=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],c=t[r++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,f=u?t[s+2]:0,h=i>>2,m=(i&3)<<4|c>>4;let g=(c&15)<<2|f>>6,v=f&63;u||(v=64,o||(g=64)),n.push(r[h],r[m],r[g],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],c=s<t.length?r[t.charAt(s)]:0;++s;const f=s<t.length?r[t.charAt(s)]:64;++s;const m=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||c==null||f==null||m==null)throw new Gse;const g=i<<2|c>>4;if(n.push(g),f!==64){const v=c<<4&240|f>>2;if(n.push(v),m!==64){const j=f<<6&192|m;n.push(j)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yse=function(t){const e=yq(t);return vq.encodeByteArray(e,!0)},bq=function(t){return Yse(t).replace(/\./g,"")},wq=function(t){try{return vq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse=()=>Xse().__FIREBASE_DEFAULTS__,Jse=()=>{if(typeof process>"u"||typeof nA>"u")return;const t=nA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wq(t[1]);return e&&JSON.parse(e)},jT=()=>{try{return Hse()||Qse()||Jse()||Zse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eie=t=>{var e,r;return(r=(e=jT())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Nq=()=>{var t;return(t=jT())==null?void 0:t.config},jq=t=>{var e;return(e=jT())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rie(t){return(await fetch(t,{credentials:"include"})).ok}const Q0={};function nie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Q0))Q0[e]?t.emulator.push(e):t.prod.push(e);return t}function aie(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let aA=!1;function sie(t,e){if(typeof window>"u"||typeof document>"u"||!Aw(window.location.host)||Q0[t]===e||Q0[t]||aA)return;Q0[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",i=nie().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{aA=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=aie(n),v=r("text"),j=document.getElementById(v)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),_=r("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;c(E),h(b,w);const k=f();u(T,_),E.append(T,j,b,k),document.body.appendChild(E)}i?(j.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())}function oie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lie(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function die(){const t=ji();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uie(){try{return typeof indexedDB=="object"}catch{return!1}}function fie(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="FirebaseError";class Wu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=hie,Object.setPrototypeOf(this,Wu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Py.prototype.create)}}class Py{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?mie(i,n):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Wu(s,c,n)}}function mie(t,e){return t.replace(pie,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const pie=/\{\$([^}]+)}/g;function gie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Op(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(sA(i)&&sA(o)){if(!Op(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function sA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function W0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function H0(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function xie(t,e){const r=new yie(t,e);return r.subscribe.bind(r)}class yie{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");vie(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=BN),s.error===void 0&&(s.error=BN),s.complete===void 0&&(s.complete=BN);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vie(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function BN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){return t&&t._delegate?t._delegate:t}class Mp{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new tie;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nie(e))try{this.getOrInitializeService({instanceIdentifier:Uf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Uf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uf){return this.instances.has(e)}getOptions(e=Uf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&o.resolve(s)}return s}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wie(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Uf){return this.component?this.component.multipleInstances?e:Uf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wie(t){return t===Uf?void 0:t}function Nie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bie(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kn||(Kn={}));const Sie={debug:Kn.DEBUG,verbose:Kn.VERBOSE,info:Kn.INFO,warn:Kn.WARN,error:Kn.ERROR,silent:Kn.SILENT},kie=Kn.INFO,_ie={[Kn.DEBUG]:"log",[Kn.VERBOSE]:"log",[Kn.INFO]:"info",[Kn.WARN]:"warn",[Kn.ERROR]:"error"},Cie=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=_ie[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sq{constructor(e){this.name=e,this._logLevel=kie,this._logHandler=Cie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kn.DEBUG,...e),this._logHandler(this,Kn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kn.VERBOSE,...e),this._logHandler(this,Kn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kn.INFO,...e),this._logHandler(this,Kn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kn.WARN,...e),this._logHandler(this,Kn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kn.ERROR,...e),this._logHandler(this,Kn.ERROR,...e)}}const Tie=(t,e)=>e.some(r=>t instanceof r);let iA,oA;function Pie(){return iA||(iA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eie(){return oA||(oA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kq=new WeakMap,V3=new WeakMap,_q=new WeakMap,UN=new WeakMap,ST=new WeakMap;function Aie(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Tu(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&kq.set(r,t)}).catch(()=>{}),ST.set(e,t),e}function Iie(t){if(V3.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});V3.set(t,e)}let W3={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return V3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_q.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Oie(t){W3=t(W3)}function Mie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(zN(this),e,...r);return _q.set(n,e.sort?e.sort():[e]),Tu(n)}:Eie().includes(t)?function(...e){return t.apply(zN(this),e),Tu(kq.get(this))}:function(...e){return Tu(t.apply(zN(this),e))}}function Rie(t){return typeof t=="function"?Mie(t):(t instanceof IDBTransaction&&Iie(t),Tie(t,Pie())?new Proxy(t,W3):t)}function Tu(t){if(t instanceof IDBRequest)return Aie(t);if(UN.has(t))return UN.get(t);const e=Rie(t);return e!==t&&(UN.set(t,e),ST.set(e,t)),e}const zN=t=>ST.get(t);function Die(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Tu(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Tu(o.result),u.oldVersion,u.newVersion,Tu(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Lie=["get","getKey","getAll","getAllKeys","count"],$ie=["put","add","delete","clear"],qN=new Map;function lA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qN.get(e))return qN.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=$ie.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Lie.includes(r)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),s&&u.done]))[0]};return qN.set(e,i),i}Oie(t=>({...t,get:(e,r,n)=>lA(e,r)||t.get(e,r,n),has:(e,r)=>!!lA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Bie(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Bie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H3="@firebase/app",cA="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Sq("@firebase/app"),Uie="@firebase/app-compat",zie="@firebase/analytics-compat",qie="@firebase/analytics",Vie="@firebase/app-check-compat",Wie="@firebase/app-check",Hie="@firebase/auth",Kie="@firebase/auth-compat",Gie="@firebase/database",Yie="@firebase/data-connect",Xie="@firebase/database-compat",Qie="@firebase/functions",Jie="@firebase/functions-compat",Zie="@firebase/installations",eoe="@firebase/installations-compat",toe="@firebase/messaging",roe="@firebase/messaging-compat",noe="@firebase/performance",aoe="@firebase/performance-compat",soe="@firebase/remote-config",ioe="@firebase/remote-config-compat",ooe="@firebase/storage",loe="@firebase/storage-compat",coe="@firebase/firestore",doe="@firebase/ai",uoe="@firebase/firestore-compat",foe="firebase",hoe="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="[DEFAULT]",moe={[H3]:"fire-core",[Uie]:"fire-core-compat",[qie]:"fire-analytics",[zie]:"fire-analytics-compat",[Wie]:"fire-app-check",[Vie]:"fire-app-check-compat",[Hie]:"fire-auth",[Kie]:"fire-auth-compat",[Gie]:"fire-rtdb",[Yie]:"fire-data-connect",[Xie]:"fire-rtdb-compat",[Qie]:"fire-fn",[Jie]:"fire-fn-compat",[Zie]:"fire-iid",[eoe]:"fire-iid-compat",[toe]:"fire-fcm",[roe]:"fire-fcm-compat",[noe]:"fire-perf",[aoe]:"fire-perf-compat",[soe]:"fire-rc",[ioe]:"fire-rc-compat",[ooe]:"fire-gcs",[loe]:"fire-gcs-compat",[coe]:"fire-fst",[uoe]:"fire-fst-compat",[doe]:"fire-vertex","fire-js":"fire-js",[foe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map,poe=new Map,G3=new Map;function dA(t,e){try{t.container.addComponent(e)}catch(r){yd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function px(t){const e=t.name;if(G3.has(e))return yd.debug(`There were multiple attempts to register component ${e}.`),!1;G3.set(e,t);for(const r of Db.values())dA(r,t);for(const r of poe.values())dA(r,t);return!0}function Cq(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Mo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pu=new Py("app","Firebase",goe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=hoe;function Tq(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:K3,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw Pu.create("bad-app-name",{appName:String(s)});if(r||(r=Nq()),!r)throw Pu.create("no-options");const i=Db.get(s);if(i){if(Op(r,i.options)&&Op(n,i.config))return i;throw Pu.create("duplicate-app",{appName:s})}const o=new jie(s);for(const u of G3.values())o.addComponent(u);const c=new xoe(r,n,o);return Db.set(s,c),c}function yoe(t=K3){const e=Db.get(t);if(!e&&t===K3&&Nq())return Tq();if(!e)throw Pu.create("no-app",{appName:t});return e}function ip(t,e,r){let n=moe[t]??t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${n}" with version "${e}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yd.warn(o.join(" "));return}px(new Mp(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe="firebase-heartbeat-database",boe=1,gx="firebase-heartbeat-store";let VN=null;function Pq(){return VN||(VN=Die(voe,boe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gx)}catch(r){console.warn(r)}}}}).catch(t=>{throw Pu.create("idb-open",{originalErrorMessage:t.message})})),VN}async function woe(t){try{const r=(await Pq()).transaction(gx),n=await r.objectStore(gx).get(Eq(t));return await r.done,n}catch(e){if(e instanceof Wu)yd.warn(e.message);else{const r=Pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yd.warn(r.message)}}}async function uA(t,e){try{const n=(await Pq()).transaction(gx,"readwrite");await n.objectStore(gx).put(e,Eq(t)),await n.done}catch(r){if(r instanceof Wu)yd.warn(r.message);else{const n=Pu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yd.warn(n.message)}}}function Eq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=1024,joe=30;class Soe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _oe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>joe){const o=Coe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yd.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fA(),{heartbeatsToSend:n,unsentEntries:s}=koe(this._heartbeatsCache.heartbeats),i=bq(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return yd.warn(r),""}}}function fA(){return new Date().toISOString().substring(0,10)}function koe(t,e=Noe){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hA(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),hA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class _oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uie()?fie().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await woe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function hA(t){return bq(JSON.stringify({version:2,heartbeats:t})).length}function Coe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(t){px(new Mp("platform-logger",e=>new Fie(e),"PRIVATE")),px(new Mp("heartbeat",e=>new Soe(e),"PRIVATE")),ip(H3,cA,t),ip(H3,cA,"esm2020"),ip("fire-js","")}Toe("");var Poe="firebase",Eoe="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ip(Poe,Eoe,"app");function Aq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aoe=Aq,Iq=new Py("auth","Firebase",Aq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Sq("@firebase/auth");function Ioe(t,...e){Lb.logLevel<=Kn.WARN&&Lb.warn(`Auth (${Ay}): ${t}`,...e)}function gb(t,...e){Lb.logLevel<=Kn.ERROR&&Lb.error(`Auth (${Ay}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,...e){throw _T(t,...e)}function Sl(t,...e){return _T(t,...e)}function kT(t,e,r){const n={...Aoe(),[e]:r};return new Py("auth","Firebase",n).create(e,{appName:t.name})}function ld(t){return kT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ooe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Bo(t,"argument-error"),kT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _T(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Iq.create(t,...e)}function yr(t,e,...r){if(!t)throw _T(e,...r)}function nd(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gb(e),new Error(e)}function vd(t,e){t||nd(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Moe(){return mA()==="http:"||mA()==="https:"}function mA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Roe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Moe()||lie()||"connection"in navigator)?navigator.onLine:!0}function Doe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,r){this.shortDelay=e,this.longDelay=r,vd(r>e,"Short delay should be less than long delay!"),this.isMobile=iie()||cie()}get(){return Roe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){vd(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Foe=new Iy(3e4,6e4);function Hu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ku(t,e,r,n,s={}){return Mq(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const c=Ey({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...i};return oie()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Aw(t.emulatorConfig.host)&&(f.credentials="include"),Oq.fetch()(await Rq(t,t.config.apiHost,r,c),f)})}async function Mq(t,e,r){t._canInitEmulator=!1;const n={...Loe,...e};try{const s=new Uoe(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wv(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wv(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Wv(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Wv(t,"user-disabled",o);const h=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw kT(t,h,f);Bo(t,h)}}catch(s){if(s instanceof Wu)throw s;Bo(t,"network-request-failed",{message:String(s)})}}async function Oy(t,e,r,n,s={}){const i=await Ku(t,e,r,n,s);return"mfaPendingCredential"in i&&Bo(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Rq(t,e,r,n){const s=`${e}${r}?${n}`,i=t,o=i.config.emulator?CT(t.config,s):`${t.config.apiScheme}://${s}`;return $oe.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Boe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Sl(this.auth,"network-request-failed")),Foe.get())})}}function Wv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Sl(t,e,n);return s.customData._tokenResponse=r,s}function pA(t){return t!==void 0&&t.enterprise!==void 0}class zoe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Boe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qoe(t,e){return Ku(t,"GET","/v2/recaptchaConfig",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t,e){return Ku(t,"POST","/v1/accounts:delete",e)}async function $b(t,e){return Ku(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Woe(t,e=!1){const r=vc(t),n=await r.getIdToken(e),s=TT(n);yr(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:J0(WN(s.auth_time)),issuedAtTime:J0(WN(s.iat)),expirationTime:J0(WN(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function WN(t){return Number(t)*1e3}function TT(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return gb("JWT malformed, contained fewer than 3 sections"),null;try{const s=wq(r);return s?JSON.parse(s):(gb("Failed to decode base64 JWT payload"),null)}catch(s){return gb("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gA(t){const e=TT(t);return yr(e,"internal-error"),yr(typeof e.exp<"u","internal-error"),yr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Wu&&Hoe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Hoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=J0(this.lastLoginAt),this.creationTime=J0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t){var m;const e=t.auth,r=await t.getIdToken(),n=await xx(t,$b(e,{idToken:r}));yr(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?Dq(s.providerUserInfo):[],o=Yoe(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new X3(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function Goe(t){const e=vc(t);await Fb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yoe(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function Dq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){const r=await Mq(t,{},async()=>{const n=Ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Rq(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:n};return t.emulatorConfig&&Aw(t.emulatorConfig.host)&&(u.credentials="include"),Oq.fetch()(o,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Qoe(t,e){return Ku(t,"POST","/v2/accounts:revokeToken",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yr(e.idToken,"internal-error"),yr(typeof e.idToken<"u","internal-error"),yr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){yr(e.length!==0,"internal-error");const r=gA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(yr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await Xoe(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new op;return n&&(yr(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(yr(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(yr(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new op,this.toJSON())}_performRefresh(){return nd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e){yr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wl{constructor({uid:e,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new Koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X3(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await xx(this,this.stsTokenManager.getToken(this.auth,e));return yr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Woe(this,e)}reload(){return Goe(this)}_assign(e){this!==e&&(yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new wl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Fb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mo(this.auth.app))return Promise.reject(ld(this.auth));const e=await this.getIdToken();return await xx(this,Voe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,s=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,c=r.tenantId??void 0,u=r._redirectEventId??void 0,f=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:v,providerData:j,stsTokenManager:w}=r;yr(m&&w,e,"internal-error");const b=op.fromJSON(this.name,w);yr(typeof m=="string",e,"internal-error"),Jd(n,e.name),Jd(s,e.name),yr(typeof g=="boolean",e,"internal-error"),yr(typeof v=="boolean",e,"internal-error"),Jd(i,e.name),Jd(o,e.name),Jd(c,e.name),Jd(u,e.name),Jd(f,e.name),Jd(h,e.name);const _=new wl({uid:m,auth:e,email:s,emailVerified:g,displayName:n,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:b,createdAt:f,lastLoginAt:h});return j&&Array.isArray(j)&&(_.providerData=j.map(T=>({...T}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,r,n=!1){const s=new op;s.updateFromServerResponse(r);const i=new wl({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Fb(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];yr(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Dq(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new op;c.updateFromIdToken(n);const u=new wl({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new X3(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Map;function ad(t){vd(t instanceof Function,"Expected a class definition");let e=xA.get(t);return e?(vd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Lq.type="NONE";const yA=Lq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e,r){return`firebase:${t}:${e}:${r}`}class lp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=xb(this.userKey,s.apiKey,i),this.fullPersistenceKey=xb("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await $b(this.auth,{idToken:e}).catch(()=>{});return r?wl._fromGetAccountInfoResponse(this.auth,r,e):null}return wl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lp(ad(yA),e,n);const s=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||ad(yA);const o=xb(n,e.config.apiKey,e.name);let c=null;for(const f of r)try{const h=await f._get(o);if(h){let m;if(typeof h=="string"){const g=await $b(e,{idToken:h}).catch(()=>{});if(!g)break;m=await wl._fromGetAccountInfoResponse(e,g,h)}else m=wl._fromJSON(e,h);f!==i&&(c=m),i=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new lp(i,e,n):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(r.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new lp(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($q(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qq(e))return"Blackberry";if(Vq(e))return"Webos";if(Fq(e))return"Safari";if((e.includes("chrome/")||Bq(e))&&!e.includes("edge/"))return"Chrome";if(zq(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $q(t=ji()){return/firefox\//i.test(t)}function Fq(t=ji()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bq(t=ji()){return/crios\//i.test(t)}function Uq(t=ji()){return/iemobile/i.test(t)}function zq(t=ji()){return/android/i.test(t)}function qq(t=ji()){return/blackberry/i.test(t)}function Vq(t=ji()){return/webos/i.test(t)}function PT(t=ji()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Joe(t=ji()){var e;return PT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Zoe(){return die()&&document.documentMode===10}function Wq(t=ji()){return PT(t)||zq(t)||Vq(t)||qq(t)||/windows phone/i.test(t)||Uq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t,e=[]){let r;switch(t){case"Browser":r=vA(ji());break;case"Worker":r=`${vA(ji())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ay}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tle(t,e={}){return Ku(t,"GET","/v2/passwordPolicy",Hu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=6;class nle{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??rle,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bA(this),this.idTokenSubscription=new bA(this),this.beforeStateQueue=new ele(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ad(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await lp.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $b(this,{idToken:e}),n=await wl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(n=u.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return yr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Fb(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Doe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mo(this.app))return Promise.reject(ld(this));const r=e?vc(e):null;return r&&yr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&yr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mo(this.app)?Promise.reject(ld(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mo(this.app)?Promise.reject(ld(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ad(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tle(this),r=new nle(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Py("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Qoe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ad(e)||this._popupRedirectResolver;yr(r,this,"argument-error"),this.redirectPersistenceManager=await lp.create(this,[ad(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(yr(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,s);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&Ioe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gu(t){return vc(t)}class bA{constructor(e){this.auth=e,this.observer=null,this.addObserver=xie(r=>this.observer=r)}get next(){return yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sle(t){Iw=t}function Kq(t){return Iw.loadJS(t)}function ile(){return Iw.recaptchaEnterpriseScript}function ole(){return Iw.gapiScript}function lle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cle{constructor(){this.enterprise=new dle}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class dle{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ule="recaptcha-enterprise",Gq="NO_RECAPTCHA";class fle{constructor(e){this.type=ule,this.auth=Gu(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{qoe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new zoe(u);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function s(i,o,c){const u=window.grecaptcha;pA(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(f=>{o(f)}).catch(()=>{o(Gq)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cle().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(c=>{if(!r&&pA(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ile();u.length!==0&&(u+=c),Kq(u).then(()=>{s(c,i,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function wA(t,e,r,n=!1,s=!1){const i=new fle(t);let o;if(s)o=Gq;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Q3(t,e,r,n,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wA(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wA(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(t,e){const r=Cq(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Op(i,e??{}))return s;Bo(s,"already-initialized")}return r.initialize({options:e})}function mle(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ad);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ple(t,e,r){const n=Gu(t);yr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Yq(e),{host:o,port:c}=gle(e),u=c===null?"":`:${c}`,f={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){yr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),yr(Op(f,n.config.emulator)&&Op(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,Aw(o)?(rie(`${i}//${o}${u}`),sie("Auth",!0)):xle()}function Yq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gle(t){const e=Yq(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:NA(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:NA(o)}}}function NA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xle(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return nd("not implemented")}_getIdTokenResponse(e){return nd("not implemented")}_linkToIdToken(e,r){return nd("not implemented")}_getReauthenticationResolver(e){return nd("not implemented")}}async function yle(t,e){return Ku(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vle(t,e){return Oy(t,"POST","/v1/accounts:signInWithPassword",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e){return Oy(t,"POST","/v1/accounts:signInWithEmailLink",Hu(t,e))}async function wle(t,e){return Oy(t,"POST","/v1/accounts:signInWithEmailLink",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends ET{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new yx(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new yx(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q3(e,r,"signInWithPassword",vle);case"emailLink":return ble(e,{email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q3(e,n,"signUpPassword",yle);case"emailLink":return wle(e,{idToken:r,email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t,e){return Oy(t,"POST","/v1/accounts:signInWithIdp",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle="http://localhost";class Sh extends ET{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Bo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...i}=r;if(!n||!s)return null;const o=new Sh(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return cp(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,cp(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,cp(e,r)}buildRequest(){const e={requestUri:Nle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ey(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sle(t){const e=W0(H0(t)).link,r=e?W0(H0(e)).deep_link_id:null,n=W0(H0(t)).deep_link_id;return(n?W0(H0(n)).link:null)||n||r||e||t}class AT{constructor(e){const r=W0(H0(e)),n=r.apiKey??null,s=r.oobCode??null,i=jle(r.mode??null);yr(n&&s&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Sle(e);try{return new AT(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.providerId=yg.PROVIDER_ID}static credential(e,r){return yx._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=AT.parseLink(r);return yr(n,"argument-error"),yx._fromEmailAndCode(e,n.code,n.tenantId)}}yg.PROVIDER_ID="password";yg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends My{constructor(){super("facebook.com")}static credential(e){return Sh._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ou.credential(e.oauthAccessToken)}catch{return null}}}ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";ou.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends My{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Sh._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return rd.credentialFromTaggedObject(e)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return rd.credential(r,n)}catch{return null}}}rd.GOOGLE_SIGN_IN_METHOD="google.com";rd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends My{constructor(){super("github.com")}static credential(e){return Sh._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.GITHUB_SIGN_IN_METHOD="github.com";lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends My{constructor(){super("twitter.com")}static credential(e,r){return Sh._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return cu.credentialFromTaggedObject(e)}static credentialFromError(e){return cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return cu.credential(r,n)}catch{return null}}}cu.TWITTER_SIGN_IN_METHOD="twitter.com";cu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle(t,e){return Oy(t,"POST","/v1/accounts:signUp",Hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await wl._fromIdTokenResponse(e,n,s),o=jA(n);return new kh({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=jA(n);return new kh({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function jA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Wu{constructor(e,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Bb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Bb(e,r,n,s)}}function Xq(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bb._fromErrorAndOperation(t,i,e,n):i})}async function _le(t,e,r=!1){const n=await xx(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return kh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cle(t,e,r=!1){const{auth:n}=t;if(Mo(n.app))return Promise.reject(ld(n));const s="reauthenticate";try{const i=await xx(t,Xq(n,s,e,t),r);yr(i.idToken,n,"internal-error");const o=TT(i.idToken);yr(o,n,"internal-error");const{sub:c}=o;return yr(t.uid===c,n,"user-mismatch"),kh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Bo(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e,r=!1){if(Mo(t.app))return Promise.reject(ld(t));const n="signIn",s=await Xq(t,n,e),i=await kh._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function Tle(t,e){return Qq(Gu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jq(t){const e=Gu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ple(t,e,r){if(Mo(t.app))return Promise.reject(ld(t));const n=Gu(t),o=await Q3(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kle).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Jq(t),u}),c=await kh._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function Ele(t,e,r){return Mo(t.app)?Promise.reject(ld(t)):Tle(vc(t),yg.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Jq(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(t,e){return vc(t).setPersistence(e)}function Ile(t,e,r,n){return vc(t).onIdTokenChanged(e,r,n)}function Ole(t,e,r){return vc(t).beforeAuthStateChanged(e,r)}function Mle(t,e,r,n){return vc(t).onAuthStateChanged(e,r,n)}function Rle(t){return vc(t).signOut()}const Ub="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ub,"1"),this.storage.removeItem(Ub),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=1e3,Lle=10;class eV extends Zq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);Zoe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Lle):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Dle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}eV.type="LOCAL";const tV=eV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV extends Zq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}rV.type="SESSION";const nV=rV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Ow(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(o).map(async f=>f(r.origin,i)),u=await $le(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ow.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const f=OT("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){return window}function Ble(t){cc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){return typeof cc().WorkerGlobalScope<"u"&&typeof cc().importScripts=="function"}async function Ule(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qle(){return aV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="firebaseLocalStorageDb",Vle=1,zb="firebaseLocalStorage",iV="fbase_key";class Ry{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Mw(t,e){return t.transaction([zb],e?"readwrite":"readonly").objectStore(zb)}function Wle(){const t=indexedDB.deleteDatabase(sV);return new Ry(t).toPromise()}function J3(){const t=indexedDB.open(sV,Vle);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(zb,{keyPath:iV})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(zb)?e(n):(n.close(),await Wle(),e(await J3()))})})}async function SA(t,e,r){const n=Mw(t,!0).put({[iV]:e,value:r});return new Ry(n).toPromise()}async function Hle(t,e){const r=Mw(t,!1).get(e),n=await new Ry(r).toPromise();return n===void 0?null:n.value}function kA(t,e){const r=Mw(t,!0).delete(e);return new Ry(r).toPromise()}const Kle=800,Gle=3;class oV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J3(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Gle)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ow._getInstance(qle()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Ule(),!this.activeServiceWorker)return;this.sender=new Fle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J3();return await SA(e,Ub,"1"),await kA(e,Ub),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>SA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Hle(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>kA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Mw(s,!1).getAll();return new Ry(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oV.type="LOCAL";const Yle=oV;new Iy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){return e?ad(e):(yr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends ET{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cp(e,this._buildIdpRequest())}_linkToIdToken(e,r){return cp(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return cp(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Xle(t){return Qq(t.auth,new MT(t),t.bypassAuthState)}function Qle(t){const{auth:e,user:r}=t;return yr(r,e,"internal-error"),Cle(r,new MT(t),t.bypassAuthState)}async function Jle(t){const{auth:e,user:r}=t;return yr(r,e,"internal-error"),_le(r,new MT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xle;case"linkViaPopup":case"linkViaRedirect":return Jle;case"reauthViaPopup":case"reauthViaRedirect":return Qle;default:Bo(this.auth,"internal-error")}}resolve(e){vd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle=new Iy(2e3,1e4);async function ece(t,e,r){if(Mo(t.app))return Promise.reject(Sl(t,"operation-not-supported-in-this-environment"));const n=Gu(t);Ooe(t,e,IT);const s=lV(n,r);return new Yf(n,"signInViaPopup",e,s).executeNotNull()}class Yf extends cV{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Yf.currentPopupAction&&Yf.currentPopupAction.cancel(),Yf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yr(e,this.auth,"internal-error"),e}async onExecution(){vd(this.filter.length===1,"Popup operations only handle one event");const e=OT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Sl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zle.get())};e()}}Yf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce="pendingRedirect",yb=new Map;class rce extends cV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=yb.get(this.auth._key());if(!e){try{const n=await nce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}yb.set(this.auth._key(),e)}return this.bypassAuthState||yb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nce(t,e){const r=ice(e),n=sce(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function ace(t,e){yb.set(t._key(),e)}function sce(t){return ad(t._redirectPersistence)}function ice(t){return xb(tce,t.config.apiKey,t.name)}async function oce(t,e,r=!1){if(Mo(t.app))return Promise.reject(ld(t));const n=Gu(t),s=lV(n,e),o=await new rce(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=600*1e3;class cce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dce(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!dV(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Sl(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lce&&this.cachedEventUids.clear(),this.cachedEventUids.has(_A(e))}saveEventToCache(e){this.cachedEventUids.add(_A(e)),this.lastProcessedEventTime=Date.now()}}function _A(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uce(t,e={}){return Ku(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hce=/^https?/;async function mce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uce(t);for(const r of e)try{if(pce(r))return}catch{}Bo(t,"unauthorized-domain")}function pce(t){const e=Y3(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!hce.test(r))return!1;if(fce.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=new Iy(3e4,6e4);function CA(){const t=cc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xce(t){return new Promise((e,r)=>{var s,i,o;function n(){CA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CA(),r(Sl(t,"network-request-failed"))},timeout:gce.get()})}if((i=(s=cc().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=cc().gapi)!=null&&o.load)n();else{const c=lle("iframefcb");return cc()[c]=()=>{gapi.load?n():r(Sl(t,"network-request-failed"))},Kq(`${ole()}?onload=${c}`).catch(u=>r(u))}}).catch(e=>{throw vb=null,e})}let vb=null;function yce(t){return vb=vb||xce(t),vb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce=new Iy(5e3,15e3),bce="__/auth/iframe",wce="emulator/auth/iframe",Nce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sce(t){const e=t.config;yr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?CT(e,wce):`https://${t.config.authDomain}/${bce}`,n={apiKey:e.apiKey,appName:t.name,v:Ay},s=jce.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Ey(n).slice(1)}`}async function kce(t){const e=await yce(t),r=cc().gapi;return yr(r,t,"internal-error"),e.open({where:document.body,url:Sce(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nce,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Sl(t,"network-request-failed"),c=cc().setTimeout(()=>{i(o)},vce.get());function u(){cc().clearTimeout(c),s(n)}n.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cce=500,Tce=600,Pce="_blank",Ece="http://localhost";class TA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ace(t,e,r,n=Cce,s=Tce){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u={..._ce,width:n.toString(),height:s.toString(),top:i,left:o},f=ji().toLowerCase();r&&(c=Bq(f)?Pce:r),$q(f)&&(e=e||Ece,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[v,j])=>`${g}${v}=${j},`,"");if(Joe(f)&&c!=="_self")return Ice(e||"",c),new TA(null);const m=window.open(e||"",c,h);yr(m,t,"popup-blocked");try{m.focus()}catch{}return new TA(m)}function Ice(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce="__/auth/handler",Mce="emulator/auth/handler",Rce=encodeURIComponent("fac");async function PA(t,e,r,n,s,i){yr(t.config.authDomain,t,"auth-domain-config-required"),yr(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ay,eventId:s};if(e instanceof IT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gie(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof My){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const u=await t._getAppCheckToken(),f=u?`#${Rce}=${encodeURIComponent(u)}`:"";return`${Dce(t)}?${Ey(c).slice(1)}${f}`}function Dce({config:t}){return t.emulator?CT(t,Mce):`https://${t.authDomain}/${Oce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="webStorageSupport";class Lce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nV,this._completeRedirectFn=oce,this._overrideRedirectResult=ace}async _openPopup(e,r,n,s){var o;vd((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await PA(e,r,n,Y3(),s);return Ace(e,i,OT())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await PA(e,r,n,Y3(),s);return Ble(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(vd(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await kce(e),n=new cce(e);return r.register("authEvent",s=>(yr(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(HN,{type:HN},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[HN];i!==void 0&&r(!!i),Bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=mce(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Wq()||Fq()||PT()}}const $ce=Lce;var EA="@firebase/auth",AA="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uce(t){px(new Mp("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;yr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hq(t)},f=new ale(n,s,i,u);return mle(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),px(new Mp("auth-internal",e=>{const r=Gu(e.getProvider("auth").getImmediate());return(n=>new Fce(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ip(EA,AA,Bce(t)),ip(EA,AA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce=300,qce=jq("authIdTokenMaxAge")||zce;let IA=null;const Vce=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>qce)return;const s=r==null?void 0:r.token;IA!==s&&(IA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Wce(t=yoe()){const e=Cq(t,"auth");if(e.isInitialized())return e.getImmediate();const r=hle(t,{popupRedirectResolver:$ce,persistence:[Yle,tV,nV]}),n=jq("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=Vce(i.toString());Ole(r,o,()=>o(r.currentUser)),Ile(r,c=>o(c))}}const s=eie("auth");return s&&ple(r,`http://${s}`),r}function Hce(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}sle({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Sl("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",Hce().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uce("Browser");const Kce={apiKey:"AIzaSyAg-jCM5IzgosNkdRJ2xQRZfFzl0C7LHZk",authDomain:"fast-planet-470408-f1.firebaseapp.com",projectId:"fast-planet-470408-f1",storageBucket:"fast-planet-470408-f1.firebasestorage.app",messagingSenderId:"808950990883",appId:"1:808950990883:web:1252e6131d1f1c21688996"},Gce=Tq(Kce),os=Wce(Gce);Ale(os,tV).catch(t=>{console.error("Error setting Firebase persistence:",t)});const Yce=Object.freeze(Object.defineProperty({__proto__:null,auth:os},Symbol.toStringTag,{value:"Module"}));function Rw(){const[t,e]=x.useState({userId:null,email:null,username:null,displayName:null}),[r,n]=x.useState(!0),[s,i]=x.useState(!1);x.useEffect(()=>{(async()=>{const j=localStorage.getItem("currentUserId"),w=localStorage.getItem("currentUserEmail"),b=localStorage.getItem("currentUsername"),_=localStorage.getItem("currentDisplayName");if(e({userId:j,email:w,username:b,displayName:_}),j&&w)try{const T=os.currentUser;if(T){const E=await T.getIdToken(),k=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${E}`}});if(k.ok){const C=await k.json();if(C.success&&C.profile){const S=C.profile;o(j,w,S.username,S.displayName)}else o(j,w,null,null)}}}catch(T){console.error("Error fetching user profile:",T)}i(!0),n(!1)})()},[]);const o=(v,j,w,b)=>{localStorage.setItem("currentUserId",v),localStorage.setItem("currentUserEmail",j),w?localStorage.setItem("currentUsername",w):localStorage.removeItem("currentUsername"),b?localStorage.setItem("currentDisplayName",b):localStorage.removeItem("currentDisplayName"),e({userId:v,email:j,username:w||null,displayName:b||null})};return{currentUser:t,loading:r,profileChecked:s,updateUser:o,updateProfile:(v,j)=>{localStorage.setItem("currentUsername",v),localStorage.setItem("currentDisplayName",j),e(w=>({...w,username:v,displayName:j}))},clearUser:()=>{localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserEmail"),localStorage.removeItem("currentUsername"),localStorage.removeItem("currentDisplayName"),e({userId:null,email:null,username:null,displayName:null})},getUserDisplayName:()=>t.displayName||t.username||t.email||"Anonymous User",getUsername:()=>t.username||null,hasUsername:()=>!!t.username,isLoggedIn:()=>!!t.userId&&!!t.email}}const uV=x.createContext(void 0);function Xce({children:t}){const[e,r]=x.useState(!1),[n,s]=x.useState([]),i=u=>{if(n.length>=5)return;const f={...u,id:`${u.postId}-${Date.now()}-${Math.random()}`,timestamp:Date.now()};s(h=>[...h,f])},o=u=>{s(f=>f.filter(h=>h.id!==u))},c=()=>{s([])};return a.jsx(uV.Provider,{value:{isAudioMode:e,setIsAudioMode:r,selectedTextSnippets:n,addTextSnippet:i,removeTextSnippet:o,clearSelection:c},children:t})}function RT(){const t=x.useContext(uV);if(!t)throw new Error("useAudioMode must be used within AudioModeProvider");return t}const OA=["RELIANCE","TCS","HDFCBANK","INFY","HINDUNILVR","ICICIBANK","KOTAKBANK","BHARTIARTL","ITC","SBIN","ASIANPAINT","MARUTI","LT","AXISBANK","HCLTECH"],Qce=[{value:"bullish",label:"Bullish",icon:oa,color:"text-green-600"},{value:"bearish",label:"Bearish",icon:iu,color:"text-red-600"},{value:"neutral",label:"Neutral",icon:tB,color:"text-gray-600"}];function KN({hideAudioMode:t=!1,initialViewMode:e="post",onMinimize:r}={}){const[n,s]=x.useState(""),[i,o]=x.useState(""),[c,u]=x.useState([]),[f,h]=x.useState("neutral"),[m,g]=x.useState([]),v=x.useRef(null),[j,w]=x.useState(e),[b,_]=x.useState("message"),{isAudioMode:T,setIsAudioMode:E,selectedTextSnippets:k,addTextSnippet:C,removeTextSnippet:S,clearSelection:A}=RT();x.useEffect(()=>{E(j==="audio")},[j,E]);const{toast:R}=$s(),D=ug(),{currentUser:B}=Rw(),F=bi({mutationFn:async Q=>{const{auth:$}=await Vse(async()=>{const{auth:he}=await Promise.resolve().then(()=>Yce);return{auth:he}},void 0),U=$.currentUser;if(!U)throw new Error("You must be logged in to create posts");const ie=await U.getIdToken(),ce=await fetch("/api/social-posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify(Q)});if(!ce.ok){const he=await ce.json();throw new Error(he.error||"Failed to create post")}return await ce.json()},onMutate:async Q=>{await D.cancelQueries({queryKey:["/api/social-posts"]});const $=D.getQueryData(["/api/social-posts"]);return D.setQueryData(["/api/social-posts"],U=>{const ie={id:Date.now(),...Q,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),likes:0,comments:0,reposts:0,imageUrl:Q.imageUrl};return Array.isArray(U)?[ie,...U]:[ie]}),{previousPosts:$}},onError:(Q,$,U)=>{D.setQueryData(["/api/social-posts"],U==null?void 0:U.previousPosts),R({description:"Failed to create post. Please try again.",variant:"destructive"})},onSuccess:()=>{D.invalidateQueries({queryKey:["/api/social-posts"]}),z(),R({description:"Post created successfully!"})}}),z=()=>{s(""),o(""),u([]),h("neutral"),g([]),A()},X=()=>{var Q;if(n.trim()&&k.length<5){const $=B.username||((Q=B.email)==null?void 0:Q.split("@")[0])||"anonymous",U=B.displayName||$;C({postId:Date.now(),text:n.trim(),authorUsername:$,authorDisplayName:U}),s(""),R({description:`Card ${k.length+1}/5 added!`})}},V=x.useCallback(Q=>Q.toUpperCase().split(/\s+/).filter(ie=>{const ce=ie.replace(/[^\w]/g,"");return OA.includes(ce)&&!c.includes(ce)}),[c]),Z=Q=>{const $=Q.target.value;s($);const U=V($);U.length>0&&u(ie=>[...ie,...U])},ee=()=>{i&&!c.includes(i)&&(u([...c,i]),o(""))},W=Q=>{u(c.filter($=>$!==Q))},K=async Q=>{var ce,he;if(Q.preventDefault(),j==="audio"){if(!n.trim()&&k.length===0){R({description:"Please add text or select posts for your audio minicast.",variant:"destructive"});return}}else if(!n.trim()){R({description:"Please enter some content for your post.",variant:"destructive"});return}const $=B.username||((ce=B.email)==null?void 0:ce.split("@")[0])||"anonymous",U=B.displayName||B.username||((he=B.email)==null?void 0:he.split("@")[0])||"Anonymous User",ie={content:n.trim()||(j==="audio"&&k.length>0?`Audio MiniCast with ${k.length} selected post${k.length>1?"s":""}`:""),authorUsername:$,authorDisplayName:U,stockMentions:j==="audio"?[]:c,sentiment:j==="audio"?void 0:f,tags:[],hasImage:m.length>0,imageUrl:m.length>1?JSON.stringify(m.map(we=>we.url)):m.length===1?m[0].url:void 0,isAudioPost:j==="audio",selectedPostIds:j==="audio"?k.map(we=>String(we.postId)).filter(we=>we&&we!=="undefined"&&we!=="null"&&we.length>0):void 0,selectedPosts:j==="audio"?k.filter(we=>we.postId&&we.text).map(we=>({id:String(we.postId),content:we.text})):void 0};F.mutate(ie)},G=[{id:1,name:"Your Profile",handle:"Active Trader",avatar:"YP",isOwn:!0,status:"online",bgColor:"bg-purple-500"},{id:2,name:"Henry Mercer",handle:"Active trader",avatar:"HM",following:!1,status:"online",bgColor:"bg-teal-500"},{id:3,name:"Amelia Rowann",handle:"Day trader",avatar:"AR",following:!1,status:"offline",bgColor:"bg-orange-500"}];return a.jsxs(xt,{className:"w-full max-w-md mx-auto bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm transition-none",children:[a.jsxs(Bi,{className:"border-b border-gray-200 dark:border-gray-700 transition-none",children:[a.jsxs(Ro,{className:"flex items-center justify-between text-gray-900 dark:text-white",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-none",children:j==="post"?a.jsx(ro,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"}):j==="audio"?a.jsx(Qm,{className:"h-4 w-4 text-purple-500 dark:text-purple-400"}):a.jsx(od,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})}),a.jsx("span",{className:"text-lg font-bold",children:j==="post"?"Create Post":j==="audio"?"Audio MiniCast":"Messages"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!t&&a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>w(j==="audio"?"post":"audio"),className:`p-2 h-8 w-8 rounded-full ${j==="audio"?"bg-purple-100 dark:bg-purple-900/30":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,"data-testid":"button-toggle-audio",children:a.jsx(Qm,{className:`h-4 w-4 ${j==="audio"?"text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400"}`})}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>w(j==="message"?"post":"message"),className:"p-2 h-8 w-8 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600","data-testid":"button-toggle-message",children:a.jsx(od,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]})]}),j==="message"&&a.jsxs("div",{className:"flex gap-1 mt-3",children:[a.jsx(H,{variant:b==="message"?"default":"ghost",size:"sm",onClick:()=>_("message"),className:`px-4 py-2 rounded-full text-sm font-medium ${b==="message"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,"data-testid":"tab-messages",children:"Messages"}),a.jsx(H,{variant:b==="community"?"default":"ghost",size:"sm",onClick:()=>_("community"),className:`px-4 py-2 rounded-full text-sm font-medium ${b==="community"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,"data-testid":"tab-community",children:"Community"})]})]}),a.jsx(bt,{className:"space-y-4 xl:space-y-6 p-4 xl:p-6",children:j==="audio"?a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{htmlFor:"audio-content",className:"text-gray-800 dark:text-gray-200 font-medium text-base",children:"What's on your mind?"}),a.jsxs("div",{className:"relative",children:[a.jsx(Du,{id:"audio-content",value:n,onChange:Q=>s(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),n.trim()&&k.length<5&&X())},placeholder:"Your thoughts will be converted to audio... (Press Enter to add card, Shift+Enter for new line)",maxLength:500,className:"min-h-[120px] resize-none bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-purple-500 focus:ring-purple-500 pr-12","data-testid":"textarea-audio-content"}),n.trim()&&k.length<5&&a.jsx(H,{type:"button",size:"icon",onClick:X,className:"absolute bottom-2 right-2 h-8 w-8 bg-purple-600 hover:bg-purple-700 text-white rounded-full shadow-md","data-testid":"button-add-text-card",children:a.jsx(rc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-right",children:[n.length,"/500 characters"]})]}),k.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Hr,{className:"text-center text-gray-800 dark:text-gray-200 font-medium text-base",children:["Selected Posts (",k.length,"/5)"]}),a.jsx(Wse,{snippets:k,onRemove:Q=>S(Q)})]}):a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qm,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"font-medium text-purple-900 dark:text-purple-100 text-sm",children:"Select Posts for Audio MiniCast"})]}),r&&a.jsx(H,{type:"button",size:"sm",variant:"ghost",onClick:r,className:"h-6 w-6 p-0 hover:bg-purple-200 dark:hover:bg-purple-800","data-testid":"button-minimize-audio",children:a.jsx(tB,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})})]}),a.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Click on any post below to add it to your audio minicast (up to 5 posts). Your selected posts will be combined with your thoughts into an audio experience."})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsx(H,{type:"button",variant:"outline",onClick:z,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 border-gray-300 dark:border-gray-600","data-testid":"button-clear-audio",children:"Clear"}),a.jsx(H,{type:"submit",disabled:!n.trim()&&k.length===0||F.isPending,className:"min-w-[100px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white","data-testid":"button-publish-audio",children:F.isPending?a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"h-4 w-4 mr-2 animate-spin"}),"Publishing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Publish Audio"]})})]})]}):j==="post"?a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{htmlFor:"content",className:"text-gray-800 dark:text-gray-200 font-medium text-base",children:"What's on your mind?"}),a.jsx(Du,{id:"content",ref:v,value:n,onChange:Z,placeholder:"Share your trading insights...",maxLength:500,className:"min-h-[120px] resize-none bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-blue-500 focus:ring-blue-500","data-testid":"textarea-post-content"}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-right",children:[n.length,"/500 characters"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-gray-800 dark:text-gray-200 font-medium text-base",children:"Stock Mentions"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Xs,{value:i,onValueChange:o,children:[a.jsx(Is,{className:"flex-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white focus:border-blue-500",children:a.jsx(Qs,{placeholder:"Add stock mention..."})}),a.jsx(Os,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:OA.filter(Q=>!c.includes(Q)).map(Q=>a.jsx(Ir,{value:Q,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:Q},Q))})]}),a.jsx(H,{type:"button",onClick:ee,variant:"outline",size:"sm",disabled:!i,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-add-stock",children:a.jsx(RZ,{className:"h-4 w-4"})})]}),c.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(Q=>a.jsxs(Dr,{variant:"secondary",className:"flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800","data-testid":`badge-stock-${Q}`,children:["#",Q,a.jsx("button",{type:"button",onClick:()=>W(Q),className:"ml-1 hover:bg-red-500/30 rounded-full p-0.5",children:a.jsx(La,{className:"h-3 w-3"})})]},Q))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-gray-800 dark:text-gray-200 font-medium text-base",children:"Market Sentiment"}),a.jsxs(Xs,{value:f,onValueChange:h,children:[a.jsx(Is,{className:"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white focus:border-blue-500","data-testid":"select-sentiment",children:a.jsx(Qs,{})}),a.jsx(Os,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:Qce.map(({value:Q,label:$,icon:U,color:ie})=>a.jsx(Ir,{value:Q,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{className:`h-4 w-4 ${ie}`}),$]})},Q))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-gray-800 dark:text-gray-200 font-medium text-base",children:"Images (Optional)"}),a.jsx(xq,{images:m,onImagesChange:g,"data-testid":"image-uploader"})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[a.jsx(H,{type:"button",variant:"outline",onClick:z,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 border-gray-300 dark:border-gray-600","data-testid":"button-clear-post",children:"Clear"}),a.jsx(H,{type:"submit",disabled:!n.trim()||F.isPending,className:"min-w-[100px] bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-publish-post",children:F.isPending?a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"h-4 w-4 mr-2 animate-spin"}),"Publishing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(GC,{className:"h-4 w-4 mr-2"}),"Publish"]})})]})]}):a.jsx("div",{className:"space-y-4",children:b==="message"?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-center",children:[a.jsx(od,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Direct messages coming soon!"})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:G.map(Q=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600","data-testid":`profile-card-${Q.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full ${Q.bgColor} flex items-center justify-center text-white font-medium`,"data-testid":`avatar-${Q.id}`,children:Q.avatar}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm","data-testid":`profile-name-${Q.id}`,children:Q.name}),Q.status==="online"&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200","data-testid":`status-${Q.id}`,children:"Online"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400","data-testid":`profile-handle-${Q.id}`,children:Q.handle})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:Q.isOwn?a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium","data-testid":`profile-you-${Q.id}`,children:"You"}):a.jsxs(a.Fragment,{children:[a.jsxs(H,{size:"sm",variant:"outline",className:"text-xs px-3 py-1 h-7","data-testid":`button-copy-strategy-${Q.id}`,children:[a.jsx(qa,{className:"w-3 h-3 mr-1"}),"Copy Strategy"]}),a.jsx(H,{size:"sm",variant:"ghost",className:"p-1 h-7 w-7","data-testid":`button-follow-${Q.id}`,children:a.jsx(nu,{className:"w-3 h-3"})})]})})]},Q.id))}),a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600","data-testid":"followers-section",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm","data-testid":"followers-title",children:"Followers"}),a.jsxs(H,{size:"sm",variant:"outline",className:"text-xs px-3 py-1 h-7","data-testid":"button-follow-all",children:[a.jsx(GZ,{className:"w-3 h-3 mr-1"}),"Follow All"]})]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400","data-testid":"followers-count",children:"Connect with 1,247 active traders in your network"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:a.jsx(nu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Join Trading Community"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Connect with experienced traders and share strategies"}),a.jsxs(H,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm","data-testid":"button-join-community",children:[a.jsx(HC,{className:"w-3 h-3 mr-2"}),"Join Community"]})]})]})})})]})}const Jce=t=>[{id:"1",type:"live_stream",title:"Live Trading Stream",description:"Watch live market analysis and trading strategies",youtubeEmbedUrl:t||"https://www.youtube.com/embed/6pMBUfHhXtQ?enablejsapi=1",isLive:!0,priority:"high"},{id:"2",type:"content",title:"Market Analysis Update",description:"Latest market trends and analysis",date:"9 Sep 2024"},{id:"3",type:"update",title:"Important Trading Update",description:"New features and market alerts now available",priority:"high"},{id:"4",type:"ad",title:"Premium Trading Tools",description:"Upgrade to access advanced analytics and insights",priority:"medium"}];function Zce(){const[t,e]=x.useState(0),[r,n]=x.useState(!0),[s,i]=x.useState(!1),[o,c]=x.useState(null),u=x.useRef(null),f=x.useRef(null),{data:h}=Na({queryKey:["/api/livestream-settings"],refetchInterval:1e4}),m=x.useMemo(()=>{const T=(h==null?void 0:h.youtubeUrl)||"https://www.youtube.com/embed/6pMBUfHhXtQ?enablejsapi=1";return console.log(" Deriving banner content with YouTube URL:",T),Jce(T)},[h]),g=m[t];x.useEffect(()=>{const T=E=>{const k=E.detail.url;console.log(" Received livestream URL update event:",k),Wa.invalidateQueries({queryKey:["/api/livestream-settings"]}),e(0)};return window.addEventListener("livestream-url-updated",T),()=>{window.removeEventListener("livestream-url-updated",T)}},[]),x.useEffect(()=>{if(!g.youtubeEmbedUrl){c(null);return}if(!window.YT){const E=document.createElement("script");E.src="https://www.youtube.com/iframe_api",E.async=!0,document.body.appendChild(E)}const T=()=>{if(f.current&&f.current.destroy(),window.YT&&window.YT.Player)try{f.current=new window.YT.Player("youtube-player-iframe",{events:{onStateChange:E=>{console.log(" YouTube Player State Changed:",E.data),E.data===window.YT.PlayerState.PLAYING?(console.log(" YouTube video is PLAYING - pausing carousel"),c("playing")):(E.data===window.YT.PlayerState.PAUSED||E.data===window.YT.PlayerState.ENDED)&&(console.log(" YouTube video is PAUSED - resuming carousel"),c("paused"))},onReady:()=>{console.log(" YouTube Player API Ready")}}})}catch(E){console.error(" Error initializing YouTube Player:",E)}};return window.YT&&window.YT.Player?T():window.onYouTubeIframeAPIReady=T,()=>{if(f.current){try{f.current.destroy()}catch(E){console.log("Error destroying player:",E)}f.current=null}}},[g.youtubeEmbedUrl,t]),x.useEffect(()=>{if(!r||g.youtubeEmbedUrl&&o==="playing")return;const T=setInterval(()=>{e(E=>(E+1)%m.length)},5e3);return()=>clearInterval(T)},[r,g.youtubeEmbedUrl,o]);const v=()=>{var T;u.current&&g.youtubeEmbedUrl&&((T=u.current.contentWindow)==null||T.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"))};window.pauseBannerYouTube=v;const j=()=>{e(T=>T>0?T-1:m.length-1)},w=()=>{e(T=>(T+1)%m.length)},b=(T,E)=>{switch(T){case"live_stream":return"bg-red-500 text-white animate-pulse";case"update":return E==="high"?"bg-orange-500 text-white":"bg-blue-500 text-white";case"ad":return"bg-green-500 text-white";default:return"bg-indigo-500 text-white"}},_=T=>{switch(T){case"live_stream":return a.jsx(GC,{className:"w-3 h-3"});case"update":return a.jsx(KF,{className:"w-3 h-3"});case"ad":return a.jsx(oa,{className:"w-3 h-3"});default:return a.jsx(oo,{className:"w-3 h-3"})}};return a.jsxs(xt,{className:"w-full h-32 md:h-48 relative overflow-hidden bg-gradient-to-r from-slate-900 via-indigo-900 to-slate-900 border-2 border-indigo-400/30",children:[a.jsxs("div",{className:"absolute inset-0",children:[g.youtubeEmbedUrl?a.jsx("iframe",{id:"youtube-player-iframe",ref:u,src:g.youtubeEmbedUrl,title:g.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,"data-testid":"banner-youtube-iframe"}):g.imageUrl?a.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover opacity-70","data-testid":"banner-background-image"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-600/20 via-purple-600/20 to-blue-600/20"}),!g.youtubeEmbedUrl&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/30"})]}),!g.youtubeEmbedUrl&&a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-3 md:p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[a.jsxs(Dr,{className:`flex items-center gap-1 text-xs ${b(g.type,g.priority)}`,children:[_(g.type),g.type==="live_stream"&&g.isLive?"LIVE":g.type.toUpperCase().replace("_"," ")]}),g.isLive&&a.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-white text-sm",children:"Live Stream Active"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 h-8 w-8 p-0",onClick:()=>n(!r),"data-testid":"button-banner-play-pause",children:r?a.jsx(cw,{className:"w-3 h-3 md:w-4 md:h-4"}):a.jsx(Ca,{className:"w-3 h-3 md:w-4 md:h-4"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 h-8 w-8 p-0",onClick:()=>i(!s),"data-testid":"button-banner-mute",children:s?a.jsx(YZ,{className:"w-3 h-3 md:w-4 md:h-4"}):a.jsx(nB,{className:"w-3 h-3 md:w-4 md:h-4"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 h-8 w-8 p-0","data-testid":"button-banner-fullscreen",children:a.jsx(ZF,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),a.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx(H,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 h-8 w-8 md:h-10 md:w-10 p-0",onClick:j,"data-testid":"button-banner-nav-left",children:a.jsx(uh,{className:"w-4 h-4 md:w-5 md:h-5"})}),a.jsxs("div",{className:"text-center text-white max-w-2xl px-2",children:[a.jsx("h2",{className:"text-sm md:text-2xl font-bold mb-1 md:mb-2","data-testid":"banner-title",children:g.title}),a.jsx("p",{className:"text-white/80 text-xs md:text-sm mb-1 md:mb-3","data-testid":"banner-description",children:g.description}),g.date&&a.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 text-white/70 text-xs",children:[a.jsx(oo,{className:"w-3 h-3"}),a.jsx("span",{"data-testid":"banner-date",children:g.date})]})]}),a.jsx(H,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 h-8 w-8 md:h-10 md:w-10 p-0",onClick:w,"data-testid":"button-banner-nav-right",children:a.jsx(ku,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),a.jsx("div",{className:"flex items-center justify-center gap-2",children:m.map((T,E)=>a.jsx("button",{className:`w-2 h-2 rounded-full transition-all ${E===t?"bg-white w-4 md:w-6":"bg-white/40"}`,onClick:()=>e(E),"data-testid":`banner-indicator-${E}`},E))})]}),g.isLive&&!g.youtubeEmbedUrl&&a.jsx("div",{className:"absolute top-2 md:top-4 right-12 md:right-20 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold animate-pulse",children:" LIVE"})]})}var GN,MA;function qi(){if(MA)return GN;MA=1;var t=Array.isArray;return GN=t,GN}var YN,RA;function fV(){if(RA)return YN;RA=1;var t=typeof Av=="object"&&Av&&Av.Object===Object&&Av;return YN=t,YN}var XN,DA;function bc(){if(DA)return XN;DA=1;var t=fV(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return XN=r,XN}var QN,LA;function Dy(){if(LA)return QN;LA=1;var t=bc(),e=t.Symbol;return QN=e,QN}var JN,$A;function ede(){if($A)return JN;$A=1;var t=Dy(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var c=r.call(o,s),u=o[s];try{o[s]=void 0;var f=!0}catch{}var h=n.call(o);return f&&(c?o[s]=u:delete o[s]),h}return JN=i,JN}var ZN,FA;function tde(){if(FA)return ZN;FA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ZN=r,ZN}var ej,BA;function Sd(){if(BA)return ej;BA=1;var t=Dy(),e=ede(),r=tde(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?s:n:i&&i in Object(c)?e(c):r(c)}return ej=o,ej}var tj,UA;function kd(){if(UA)return tj;UA=1;function t(e){return e!=null&&typeof e=="object"}return tj=t,tj}var rj,zA;function vg(){if(zA)return rj;zA=1;var t=Sd(),e=kd(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return rj=n,rj}var nj,qA;function DT(){if(qA)return nj;qA=1;var t=qi(),e=vg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return nj=s,nj}var aj,VA;function Yu(){if(VA)return aj;VA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return aj=t,aj}var sj,WA;function LT(){if(WA)return sj;WA=1;var t=Sd(),e=Yu(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(c){if(!e(c))return!1;var u=t(c);return u==n||u==s||u==r||u==i}return sj=o,sj}var ij,HA;function rde(){if(HA)return ij;HA=1;var t=bc(),e=t["__core-js_shared__"];return ij=e,ij}var oj,KA;function nde(){if(KA)return oj;KA=1;var t=rde(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return oj=r,oj}var lj,GA;function hV(){if(GA)return lj;GA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return lj=r,lj}var cj,YA;function ade(){if(YA)return cj;YA=1;var t=LT(),e=nde(),r=Yu(),n=hV(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,u=o.toString,f=c.hasOwnProperty,h=RegExp("^"+u.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var v=t(g)?h:i;return v.test(n(g))}return cj=m,cj}var dj,XA;function sde(){if(XA)return dj;XA=1;function t(e,r){return e==null?void 0:e[r]}return dj=t,dj}var uj,QA;function $h(){if(QA)return uj;QA=1;var t=ade(),e=sde();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return uj=r,uj}var fj,JA;function Dw(){if(JA)return fj;JA=1;var t=$h(),e=t(Object,"create");return fj=e,fj}var hj,ZA;function ide(){if(ZA)return hj;ZA=1;var t=Dw();function e(){this.__data__=t?t(null):{},this.size=0}return hj=e,hj}var mj,e6;function ode(){if(e6)return mj;e6=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return mj=t,mj}var pj,t6;function lde(){if(t6)return pj;t6=1;var t=Dw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var c=o[i];return c===e?void 0:c}return n.call(o,i)?o[i]:void 0}return pj=s,pj}var gj,r6;function cde(){if(r6)return gj;r6=1;var t=Dw(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return gj=n,gj}var xj,n6;function dde(){if(n6)return xj;n6=1;var t=Dw(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return xj=r,xj}var yj,a6;function ude(){if(a6)return yj;a6=1;var t=ide(),e=ode(),r=lde(),n=cde(),s=dde();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var f=o[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,yj=i,yj}var vj,s6;function fde(){if(s6)return vj;s6=1;function t(){this.__data__=[],this.size=0}return vj=t,vj}var bj,i6;function $T(){if(i6)return bj;i6=1;function t(e,r){return e===r||e!==e&&r!==r}return bj=t,bj}var wj,o6;function Lw(){if(o6)return wj;o6=1;var t=$T();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return wj=e,wj}var Nj,l6;function hde(){if(l6)return Nj;l6=1;var t=Lw(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var c=i.length-1;return o==c?i.pop():r.call(i,o,1),--this.size,!0}return Nj=n,Nj}var jj,c6;function mde(){if(c6)return jj;c6=1;var t=Lw();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return jj=e,jj}var Sj,d6;function pde(){if(d6)return Sj;d6=1;var t=Lw();function e(r){return t(this.__data__,r)>-1}return Sj=e,Sj}var kj,u6;function gde(){if(u6)return kj;u6=1;var t=Lw();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return kj=e,kj}var _j,f6;function $w(){if(f6)return _j;f6=1;var t=fde(),e=hde(),r=mde(),n=pde(),s=gde();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var f=o[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,_j=i,_j}var Cj,h6;function FT(){if(h6)return Cj;h6=1;var t=$h(),e=bc(),r=t(e,"Map");return Cj=r,Cj}var Tj,m6;function xde(){if(m6)return Tj;m6=1;var t=ude(),e=$w(),r=FT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Tj=n,Tj}var Pj,p6;function yde(){if(p6)return Pj;p6=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Pj=t,Pj}var Ej,g6;function Fw(){if(g6)return Ej;g6=1;var t=yde();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Ej=e,Ej}var Aj,x6;function vde(){if(x6)return Aj;x6=1;var t=Fw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Aj=e,Aj}var Ij,y6;function bde(){if(y6)return Ij;y6=1;var t=Fw();function e(r){return t(this,r).get(r)}return Ij=e,Ij}var Oj,v6;function wde(){if(v6)return Oj;v6=1;var t=Fw();function e(r){return t(this,r).has(r)}return Oj=e,Oj}var Mj,b6;function Nde(){if(b6)return Mj;b6=1;var t=Fw();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return Mj=e,Mj}var Rj,w6;function BT(){if(w6)return Rj;w6=1;var t=xde(),e=vde(),r=bde(),n=wde(),s=Nde();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var f=o[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Rj=i,Rj}var Dj,N6;function mV(){if(N6)return Dj;N6=1;var t=BT(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,c=s?s.apply(this,o):o[0],u=i.cache;if(u.has(c))return u.get(c);var f=n.apply(this,o);return i.cache=u.set(c,f)||u,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,Dj=r,Dj}var Lj,j6;function jde(){if(j6)return Lj;j6=1;var t=mV(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return Lj=r,Lj}var $j,S6;function Sde(){if(S6)return $j;S6=1;var t=jde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,c,u,f){i.push(u?f.replace(r,"$1"):c||o)}),i});return $j=n,$j}var Fj,k6;function UT(){if(k6)return Fj;k6=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return Fj=t,Fj}var Bj,_6;function kde(){if(_6)return Bj;_6=1;var t=Dy(),e=UT(),r=qi(),n=vg(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return i?i.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}return Bj=o,Bj}var Uj,C6;function pV(){if(C6)return Uj;C6=1;var t=kde();function e(r){return r==null?"":t(r)}return Uj=e,Uj}var zj,T6;function gV(){if(T6)return zj;T6=1;var t=qi(),e=DT(),r=Sde(),n=pV();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return zj=s,zj}var qj,P6;function Bw(){if(P6)return qj;P6=1;var t=vg();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return qj=e,qj}var Vj,E6;function zT(){if(E6)return Vj;E6=1;var t=gV(),e=Bw();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return Vj=r,Vj}var Wj,A6;function xV(){if(A6)return Wj;A6=1;var t=zT();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return Wj=e,Wj}var _de=xV();const $o=Yn(_de);var Hj,I6;function Cde(){if(I6)return Hj;I6=1;function t(e){return e==null}return Hj=t,Hj}var Tde=Cde();const Zr=Yn(Tde);var Kj,O6;function Pde(){if(O6)return Kj;O6=1;var t=Sd(),e=qi(),r=kd(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Kj=s,Kj}var Ede=Pde();const _h=Yn(Ede);var Ade=LT();const Jr=Yn(Ade);var Ide=Yu();const bg=Yn(Ide);var Gj={exports:{}},Tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6;function Ode(){if(M6)return Tn;M6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case t:switch(b=b.type,b){case r:case s:case n:case f:case h:return b;default:switch(b=b&&b.$$typeof,b){case c:case o:case u:case g:case m:case i:return b;default:return _}}case e:return _}}}return Tn.ContextConsumer=o,Tn.ContextProvider=i,Tn.Element=t,Tn.ForwardRef=u,Tn.Fragment=r,Tn.Lazy=g,Tn.Memo=m,Tn.Portal=e,Tn.Profiler=s,Tn.StrictMode=n,Tn.Suspense=f,Tn.SuspenseList=h,Tn.isAsyncMode=function(){return!1},Tn.isConcurrentMode=function(){return!1},Tn.isContextConsumer=function(b){return w(b)===o},Tn.isContextProvider=function(b){return w(b)===i},Tn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Tn.isForwardRef=function(b){return w(b)===u},Tn.isFragment=function(b){return w(b)===r},Tn.isLazy=function(b){return w(b)===g},Tn.isMemo=function(b){return w(b)===m},Tn.isPortal=function(b){return w(b)===e},Tn.isProfiler=function(b){return w(b)===s},Tn.isStrictMode=function(b){return w(b)===n},Tn.isSuspense=function(b){return w(b)===f},Tn.isSuspenseList=function(b){return w(b)===h},Tn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===s||b===n||b===f||b===h||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===m||b.$$typeof===i||b.$$typeof===o||b.$$typeof===u||b.$$typeof===j||b.getModuleId!==void 0)},Tn.typeOf=w,Tn}var R6;function Mde(){return R6||(R6=1,Gj.exports=Ode()),Gj.exports}var Rde=Mde(),Yj,D6;function yV(){if(D6)return Yj;D6=1;var t=Sd(),e=kd(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return Yj=n,Yj}var Xj,L6;function Dde(){if(L6)return Xj;L6=1;var t=yV();function e(r){return t(r)&&r!=+r}return Xj=e,Xj}var Lde=Dde();const wg=Yn(Lde);var $de=yV();const Fde=Yn($de);var Nl=function(e){return e===0?0:e>0?1:-1},Xf=function(e){return _h(e)&&e.indexOf("%")===e.length-1},gt=function(e){return Fde(e)&&!wg(e)},Bde=function(e){return Zr(e)},ss=function(e){return gt(e)||_h(e)},Ude=0,Ng=function(e){var r=++Ude;return"".concat(e||"").concat(r)},Ch=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(e)&&!_h(e))return n;var i;if(Xf(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return wg(i)&&(i=n),s&&i>r&&(i=r),i},qm=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},zde=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Ms=function(e,r){return gt(e)&&gt(r)?function(n){return e+n*(r-e)}:function(){return r}};function qb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$o(n,e))===r})}var qde=function(e,r){return gt(e)&&gt(r)?e-r:_h(e)&&_h(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function dp(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Z3(t){"@babel/helpers - typeof";return Z3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z3(t)}var Vde=["viewBox","children"],Wde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$6=["points","pathLength"],Qj={svg:Vde,polygon:$6,polyline:$6},qT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!bg(n))return null;var s={};return Object.keys(n).forEach(function(i){qT.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Hde=function(e,r,n){return function(s){return e(r,n,s),null}},Wb=function(e,r,n){if(!bg(e)||Z3(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];qT.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Hde(o,r,n))}),s},Kde=["children"],Gde=["children"];function F6(t,e){if(t==null)return{};var r=Yde(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var B6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},cd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},U6=null,Jj=null,VT=function t(e){if(e===U6&&Array.isArray(Jj))return Jj;var r=[];return x.Children.forEach(e,function(n){Zr(n)||(Rde.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Jj=r,U6=e,r};function Fo(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return cd(s)}):n=[cd(e)],VT(t).forEach(function(s){var i=$o(s,"type.displayName")||$o(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function no(t,e){var r=Fo(t,e);return r&&r[0]}var z6=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!gt(n)||n<=0||!gt(s)||s<=0)},Xde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qde=function(e){return e&&e.type&&_h(e.type)&&Xde.indexOf(e.type)>=0},vV=function(e){return e&&e_(e)==="object"&&"clipDot"in e},Jde=function(e,r,n,s){var i,o=(i=Qj==null?void 0:Qj[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Jr(e)&&(s&&o.includes(r)||Wde.includes(r))||n&&qT.includes(r)},Kr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(x.isValidElement(e)&&(s=e.props),!bg(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;Jde((c=s)===null||c===void 0?void 0:c[o],o,r,n)&&(i[o]=s[o])}),i},t_=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return q6(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!q6(i,o))return!1}return!0},q6=function(e,r){if(Zr(e)&&Zr(r))return!0;if(!Zr(e)&&!Zr(r)){var n=e.props||{},s=n.children,i=F6(n,Kde),o=r.props||{},c=o.children,u=F6(o,Gde);return s&&c?dp(i,u)&&t_(s,c):!s&&!c?dp(i,u):!1}return!1},V6=function(e,r){var n=[],s={};return VT(e).forEach(function(i,o){if(Qde(i))n.push(i);else if(i){var c=cd(i.type),u=r[c]||{},f=u.handler,h=u.once;if(f&&(!h||!s[c])){var m=f(i,c,o);n.push(m),s[c]=!0}}}),n},Zde=function(e){var r=e&&e.type;return r&&B6[r]?B6[r]:null},eue=function(e,r){return VT(r).indexOf(e)},tue=["children","width","height","viewBox","className","style","title","desc"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r_.apply(this,arguments)}function rue(t,e){if(t==null)return{};var r=nue(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n_(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,c=t.title,u=t.desc,f=rue(t,tue),h=s||{width:r,height:n,x:0,y:0},m=an("recharts-surface",i);return fe.createElement("svg",r_({},Kr(f,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),fe.createElement("title",null,c),fe.createElement("desc",null,u),e)}var aue=["children","className"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(this,arguments)}function sue(t,e){if(t==null)return{};var r=iue(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ra=fe.forwardRef(function(t,e){var r=t.children,n=t.className,s=sue(t,aue),i=an("recharts-layer",n);return fe.createElement("g",a_({className:i},Kr(s,!0),{ref:e}),r)}),hh=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Zj,W6;function oue(){if(W6)return Zj;W6=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return Zj=t,Zj}var eS,H6;function lue(){if(H6)return eS;H6=1;var t=oue();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return eS=e,eS}var tS,K6;function bV(){if(K6)return tS;K6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+s+i+"]");function u(f){return c.test(f)}return tS=u,tS}var rS,G6;function cue(){if(G6)return rS;G6=1;function t(e){return e.split("")}return rS=t,rS}var nS,Y6;function due(){if(Y6)return nS;Y6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",c="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+u+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=f+"?",w="["+i+"]?",b="(?:"+v+"(?:"+[h,m,g].join("|")+")"+w+j+")*",_=w+j+b,T="(?:"+[h+c+"?",c,m,g,o].join("|")+")",E=RegExp(u+"(?="+u+")|"+T+_,"g");function k(C){return C.match(E)||[]}return nS=k,nS}var aS,X6;function uue(){if(X6)return aS;X6=1;var t=cue(),e=bV(),r=due();function n(s){return e(s)?r(s):t(s)}return aS=n,aS}var sS,Q6;function fue(){if(Q6)return sS;Q6=1;var t=lue(),e=bV(),r=uue(),n=pV();function s(i){return function(o){o=n(o);var c=e(o)?r(o):void 0,u=c?c[0]:o.charAt(0),f=c?t(c,1).join(""):o.slice(1);return u[i]()+f}}return sS=s,sS}var iS,J6;function hue(){if(J6)return iS;J6=1;var t=fue(),e=t("toUpperCase");return iS=e,iS}var mue=hue();const Uw=Yn(mue);function ea(t){return function(){return t}}const wV=Math.cos,Hb=Math.sin,Al=Math.sqrt,Kb=Math.PI,zw=2*Kb,s_=Math.PI,i_=2*s_,zf=1e-6,pue=i_-zf;function NV(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function gue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NV;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class xue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NV:gue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=n-e,f=s-r,h=o-e,m=c-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>zf)if(!(Math.abs(m*u-f*h)>zf)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,j=s-c,w=u*u+f*f,b=v*v+j*j,_=Math.sqrt(w),T=Math.sqrt(g),E=i*Math.tan((s_-Math.acos((w+g-b)/(2*_*T)))/2),k=E/T,C=E/_;Math.abs(k-1)>zf&&this._append`L${e+k*h},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*v>h*j)},${this._x1=e+C*u},${this._y1=r+C*f}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),u=n*Math.sin(s),f=e+c,h=r+u,m=1^o,g=o?s-i:i-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>zf||Math.abs(this._y1-h)>zf)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%i_+i_),g>pue?this._append`A${n},${n},0,1,${m},${e-c},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>zf&&this._append`A${n},${n},0,${+(g>=s_)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function WT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new xue(e)}function HT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jV(t){this._context=t}jV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qw(t){return new jV(t)}function SV(t){return t[0]}function kV(t){return t[1]}function _V(t,e){var r=ea(!0),n=null,s=qw,i=null,o=WT(c);t=typeof t=="function"?t:t===void 0?SV:ea(t),e=typeof e=="function"?e:e===void 0?kV:ea(e);function c(u){var f,h=(u=HT(u)).length,m,g=!1,v;for(n==null&&(i=s(v=o())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(m,f,u),+e(m,f,u));if(v)return i=null,v+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:ea(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:ea(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:ea(!!u),c):r},c.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),c):s},c.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),c):n},c}function Hv(t,e,r){var n=null,s=ea(!0),i=null,o=qw,c=null,u=WT(f);t=typeof t=="function"?t:t===void 0?SV:ea(+t),e=typeof e=="function"?e:ea(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?kV:ea(+r);function f(m){var g,v,j,w=(m=HT(m)).length,b,_=!1,T,E=new Array(w),k=new Array(w);for(i==null&&(c=o(T=u())),g=0;g<=w;++g){if(!(g<w&&s(b=m[g],g,m))===_)if(_=!_)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=g-1;j>=v;--j)c.point(E[j],k[j]);c.lineEnd(),c.areaEnd()}_&&(E[g]=+t(b,g,m),k[g]=+e(b,g,m),c.point(n?+n(b,g,m):E[g],r?+r(b,g,m):k[g]))}if(T)return c=null,T+""||null}function h(){return _V().defined(s).curve(o).context(i)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:ea(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ea(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ea(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:ea(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ea(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ea(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:ea(!!m),f):s},f.curve=function(m){return arguments.length?(o=m,i!=null&&(c=o(i)),f):o},f.context=function(m){return arguments.length?(m==null?i=c=null:c=o(i=m),f):i},f}class CV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function yue(t){return new CV(t,!0)}function vue(t){return new CV(t,!1)}const KT={draw(t,e){const r=Al(e/Kb);t.moveTo(r,0),t.arc(0,0,r,0,zw)}},bue={draw(t,e){const r=Al(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},TV=Al(1/3),wue=TV*2,Nue={draw(t,e){const r=Al(e/wue),n=r*TV;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},jue={draw(t,e){const r=Al(e),n=-r/2;t.rect(n,n,r,r)}},Sue=.8908130915292852,PV=Hb(Kb/10)/Hb(7*Kb/10),kue=Hb(zw/10)*PV,_ue=-wV(zw/10)*PV,Cue={draw(t,e){const r=Al(e*Sue),n=kue*r,s=_ue*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=zw*i/5,c=wV(o),u=Hb(o);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*s,u*n+c*s)}t.closePath()}},oS=Al(3),Tue={draw(t,e){const r=-Al(e/(oS*3));t.moveTo(0,r*2),t.lineTo(-oS*r,-r),t.lineTo(oS*r,-r),t.closePath()}},Co=-.5,To=Al(3)/2,o_=1/Al(12),Pue=(o_/2+1)*3,Eue={draw(t,e){const r=Al(e/Pue),n=r/2,s=r*o_,i=n,o=r*o_+r,c=-i,u=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(c,u),t.lineTo(Co*n-To*s,To*n+Co*s),t.lineTo(Co*i-To*o,To*i+Co*o),t.lineTo(Co*c-To*u,To*c+Co*u),t.lineTo(Co*n+To*s,Co*s-To*n),t.lineTo(Co*i+To*o,Co*o-To*i),t.lineTo(Co*c+To*u,Co*u-To*c),t.closePath()}};function Aue(t,e){let r=null,n=WT(s);t=typeof t=="function"?t:ea(t||KT),e=typeof e=="function"?e:ea(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:ea(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:ea(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Gb(){}function Yb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EV(t){this._context=t}EV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iue(t){return new EV(t)}function AV(t){this._context=t}AV.prototype={areaStart:Gb,areaEnd:Gb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oue(t){return new AV(t)}function IV(t){this._context=t}IV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mue(t){return new IV(t)}function OV(t){this._context=t}OV.prototype={areaStart:Gb,areaEnd:Gb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rue(t){return new OV(t)}function Z6(t){return t<0?-1:1}function eI(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),c=(i*s+o*n)/(n+s);return(Z6(i)+Z6(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function tI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function lS(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,s+c*e,i-c,o-c*r,i,o)}function Xb(t){this._context=t}Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lS(this,this._t0,tI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lS(this,tI(this,r=eI(this,t,e)),r);break;default:lS(this,this._t0,r=eI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function MV(t){this._context=new RV(t)}(MV.prototype=Object.create(Xb.prototype)).point=function(t,e){Xb.prototype.point.call(this,e,t)};function RV(t){this._context=t}RV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function Due(t){return new Xb(t)}function Lue(t){return new MV(t)}function DV(t){this._context=t}DV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=rI(t),s=rI(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rI(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function $ue(t){return new DV(t)}function Vw(t,e){this._context=t,this._t=e}Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Fue(t){return new Vw(t,.5)}function Bue(t){return new Vw(t,0)}function Uue(t){return new Vw(t,1)}function Rp(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,c=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function l_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function zue(t,e){return t[e]}function que(t){const e=[];return e.key=t,e}function Vue(){var t=ea([]),e=l_,r=Rp,n=zue;function s(i){var o=Array.from(t.apply(this,arguments),que),c,u=o.length,f=-1,h;for(const m of i)for(c=0,++f;c<u;++c)(o[c][f]=[0,+n(m,o[c].key,f,i)]).data=m;for(c=0,h=HT(e(o));c<u;++c)o[h[c]].index=c;return r(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ea(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ea(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?l_:typeof i=="function"?i:ea(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??Rp,s):r},s}function Wue(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}Rp(t,e)}}function Hue(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Rp(t,e)}}function Kue(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var c=0,u=0,f=0;c<o;++c){for(var h=t[e[c]],m=h[n][1]||0,g=h[n-1][1]||0,v=(m-g)/2,j=0;j<c;++j){var w=t[e[j]],b=w[n][1]||0,_=w[n-1][1]||0;v+=b-_}u+=m,f+=v*m}s[n-1][1]+=s[n-1][0]=r,u&&(r-=f/u)}s[n-1][1]+=s[n-1][0]=r,Rp(t,e)}}function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}var Gue=["type","size","sizeType"];function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c_.apply(this,arguments)}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function aI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){Yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yue(t,e,r){return e=Xue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xue(t){var e=Que(t,"string");return vx(e)=="symbol"?e:e+""}function Que(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jue(t,e){if(t==null)return{};var r=Zue(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var LV={symbolCircle:KT,symbolCross:bue,symbolDiamond:Nue,symbolSquare:jue,symbolStar:Cue,symbolTriangle:Tue,symbolWye:Eue},efe=Math.PI/180,tfe=function(e){var r="symbol".concat(Uw(e));return LV[r]||KT},rfe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*efe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nfe=function(e,r){LV["symbol".concat(Uw(e))]=r},GT=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,c=o===void 0?"area":o,u=Jue(e,Gue),f=aI(aI({},u),{},{type:n,size:i,sizeType:c}),h=function(){var b=tfe(n),_=Aue().type(b).size(rfe(i,c,n));return _()},m=f.className,g=f.cx,v=f.cy,j=Kr(f,!0);return g===+g&&v===+v&&i===+i?fe.createElement("path",c_({},j,{className:an("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:h()})):null};GT.registerSymbol=nfe;function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_.apply(this,arguments)}function sI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function afe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(r),!0).forEach(function(n){bx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ife(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FV(n.key),n)}}function ofe(t,e,r){return e&&ife(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lfe(t,e,r){return e=Qb(e),cfe(t,$V()?Reflect.construct(e,r||[],Qb(t).constructor):e.apply(t,r))}function cfe(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dfe(t)}function dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(t)}function ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u_(t,e)}function bx(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=ffe(t,"string");return Dp(e)=="symbol"?e:e+""}function ffe(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Po=32,YT=(function(t){function e(){return sfe(this,e),lfe(this,e,arguments)}return ufe(e,t),ofe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Po/2,o=Po/6,c=Po/3,u=n.inactive?s:n.color;if(n.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Po,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Po,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return fe.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Po/8,"h").concat(Po,"v").concat(Po*3/4,"h").concat(-Po,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(n.legendIcon)){var f=afe({},n);return delete f.legendIcon,fe.cloneElement(n.legendIcon,f)}return fe.createElement(GT,{fill:u,cx:i,cy:i,size:Po,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,u=s.formatter,f=s.inactiveColor,h={x:0,y:0,width:Po,height:Po},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,j){var w=v.formatter||u,b=an(bx(bx({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=Jr(v.value)?null:v.value;hh(!Jr(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?f:v.color;return fe.createElement("li",d_({className:b,style:m,key:"legend-item-".concat(j)},Wb(n.props,v,j)),fe.createElement(n_,{width:o,height:o,viewBox:h,style:g},n.renderIcon(v)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w?w(_,v,j):_))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(x.PureComponent);bx(YT,"displayName","Legend");bx(YT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cS,iI;function hfe(){if(iI)return cS;iI=1;var t=$w();function e(){this.__data__=new t,this.size=0}return cS=e,cS}var dS,oI;function mfe(){if(oI)return dS;oI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return dS=t,dS}var uS,lI;function pfe(){if(lI)return uS;lI=1;function t(e){return this.__data__.get(e)}return uS=t,uS}var fS,cI;function gfe(){if(cI)return fS;cI=1;function t(e){return this.__data__.has(e)}return fS=t,fS}var hS,dI;function xfe(){if(dI)return hS;dI=1;var t=$w(),e=FT(),r=BT(),n=200;function s(i,o){var c=this.__data__;if(c instanceof t){var u=c.__data__;if(!e||u.length<n-1)return u.push([i,o]),this.size=++c.size,this;c=this.__data__=new r(u)}return c.set(i,o),this.size=c.size,this}return hS=s,hS}var mS,uI;function BV(){if(uI)return mS;uI=1;var t=$w(),e=hfe(),r=mfe(),n=pfe(),s=gfe(),i=xfe();function o(c){var u=this.__data__=new t(c);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,mS=o,mS}var pS,fI;function yfe(){if(fI)return pS;fI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return pS=e,pS}var gS,hI;function vfe(){if(hI)return gS;hI=1;function t(e){return this.__data__.has(e)}return gS=t,gS}var xS,mI;function UV(){if(mI)return xS;mI=1;var t=BT(),e=yfe(),r=vfe();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,xS=n,xS}var yS,pI;function zV(){if(pI)return yS;pI=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return yS=t,yS}var vS,gI;function qV(){if(gI)return vS;gI=1;function t(e,r){return e.has(r)}return vS=t,vS}var bS,xI;function VV(){if(xI)return bS;xI=1;var t=UV(),e=zV(),r=qV(),n=1,s=2;function i(o,c,u,f,h,m){var g=u&n,v=o.length,j=c.length;if(v!=j&&!(g&&j>v))return!1;var w=m.get(o),b=m.get(c);if(w&&b)return w==c&&b==o;var _=-1,T=!0,E=u&s?new t:void 0;for(m.set(o,c),m.set(c,o);++_<v;){var k=o[_],C=c[_];if(f)var S=g?f(C,k,_,c,o,m):f(k,C,_,o,c,m);if(S!==void 0){if(S)continue;T=!1;break}if(E){if(!e(c,function(A,R){if(!r(E,R)&&(k===A||h(k,A,u,f,m)))return E.push(R)})){T=!1;break}}else if(!(k===C||h(k,C,u,f,m))){T=!1;break}}return m.delete(o),m.delete(c),T}return bS=i,bS}var wS,yI;function bfe(){if(yI)return wS;yI=1;var t=bc(),e=t.Uint8Array;return wS=e,wS}var NS,vI;function wfe(){if(vI)return NS;vI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return NS=t,NS}var jS,bI;function XT(){if(bI)return jS;bI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return jS=t,jS}var SS,wI;function Nfe(){if(wI)return SS;wI=1;var t=Dy(),e=bfe(),r=$T(),n=VV(),s=wfe(),i=XT(),o=1,c=2,u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",w="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",E=t?t.prototype:void 0,k=E?E.valueOf:void 0;function C(S,A,R,D,B,F,z){switch(R){case T:if(S.byteLength!=A.byteLength||S.byteOffset!=A.byteOffset)return!1;S=S.buffer,A=A.buffer;case _:return!(S.byteLength!=A.byteLength||!F(new e(S),new e(A)));case u:case f:case g:return r(+S,+A);case h:return S.name==A.name&&S.message==A.message;case v:case w:return S==A+"";case m:var X=s;case j:var V=D&o;if(X||(X=i),S.size!=A.size&&!V)return!1;var Z=z.get(S);if(Z)return Z==A;D|=c,z.set(S,A);var ee=n(X(S),X(A),D,B,F,z);return z.delete(S),ee;case b:if(k)return k.call(S)==k.call(A)}return!1}return SS=C,SS}var kS,NI;function WV(){if(NI)return kS;NI=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return kS=t,kS}var _S,jI;function jfe(){if(jI)return _S;jI=1;var t=WV(),e=qi();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return _S=r,_S}var CS,SI;function Sfe(){if(SI)return CS;SI=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var c=e[n];r(c,n,e)&&(o[i++]=c)}return o}return CS=t,CS}var TS,kI;function kfe(){if(kI)return TS;kI=1;function t(){return[]}return TS=t,TS}var PS,_I;function _fe(){if(_I)return PS;_I=1;var t=Sfe(),e=kfe(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(c){return n.call(o,c)}))}:e;return PS=i,PS}var ES,CI;function Cfe(){if(CI)return ES;CI=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return ES=t,ES}var AS,TI;function Tfe(){if(TI)return AS;TI=1;var t=Sd(),e=kd(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return AS=n,AS}var IS,PI;function QT(){if(PI)return IS;PI=1;var t=Tfe(),e=kd(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return IS=i,IS}var K0={exports:{}},OS,EI;function Pfe(){if(EI)return OS;EI=1;function t(){return!1}return OS=t,OS}K0.exports;var AI;function HV(){return AI||(AI=1,(function(t,e){var r=bc(),n=Pfe(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,c=o?r.Buffer:void 0,u=c?c.isBuffer:void 0,f=u||n;t.exports=f})(K0,K0.exports)),K0.exports}var MS,II;function JT(){if(II)return MS;II=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return MS=r,MS}var RS,OI;function ZT(){if(OI)return RS;OI=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return RS=e,RS}var DS,MI;function Efe(){if(MI)return DS;MI=1;var t=Sd(),e=ZT(),r=kd(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",c="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",B="[object Uint32Array]",F={};F[T]=F[E]=F[k]=F[C]=F[S]=F[A]=F[R]=F[D]=F[B]=!0,F[n]=F[s]=F[b]=F[i]=F[_]=F[o]=F[c]=F[u]=F[f]=F[h]=F[m]=F[g]=F[v]=F[j]=F[w]=!1;function z(X){return r(X)&&e(X.length)&&!!F[t(X)]}return DS=z,DS}var LS,RI;function KV(){if(RI)return LS;RI=1;function t(e){return function(r){return e(r)}}return LS=t,LS}var G0={exports:{}};G0.exports;var DI;function Afe(){return DI||(DI=1,(function(t,e){var r=fV(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,c=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(G0,G0.exports)),G0.exports}var $S,LI;function GV(){if(LI)return $S;LI=1;var t=Efe(),e=KV(),r=Afe(),n=r&&r.isTypedArray,s=n?e(n):t;return $S=s,$S}var FS,$I;function Ife(){if($I)return FS;$I=1;var t=Cfe(),e=QT(),r=qi(),n=HV(),s=JT(),i=GV(),o=Object.prototype,c=o.hasOwnProperty;function u(f,h){var m=r(f),g=!m&&e(f),v=!m&&!g&&n(f),j=!m&&!g&&!v&&i(f),w=m||g||v||j,b=w?t(f.length,String):[],_=b.length;for(var T in f)(h||c.call(f,T))&&!(w&&(T=="length"||v&&(T=="offset"||T=="parent")||j&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||s(T,_)))&&b.push(T);return b}return FS=u,FS}var BS,FI;function Ofe(){if(FI)return BS;FI=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return BS=e,BS}var US,BI;function YV(){if(BI)return US;BI=1;function t(e,r){return function(n){return e(r(n))}}return US=t,US}var zS,UI;function Mfe(){if(UI)return zS;UI=1;var t=YV(),e=t(Object.keys,Object);return zS=e,zS}var qS,zI;function Rfe(){if(zI)return qS;zI=1;var t=Ofe(),e=Mfe(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&o.push(c);return o}return qS=s,qS}var VS,qI;function Ly(){if(qI)return VS;qI=1;var t=LT(),e=ZT();function r(n){return n!=null&&e(n.length)&&!t(n)}return VS=r,VS}var WS,VI;function Ww(){if(VI)return WS;VI=1;var t=Ife(),e=Rfe(),r=Ly();function n(s){return r(s)?t(s):e(s)}return WS=n,WS}var HS,WI;function Dfe(){if(WI)return HS;WI=1;var t=jfe(),e=_fe(),r=Ww();function n(s){return t(s,r,e)}return HS=n,HS}var KS,HI;function Lfe(){if(HI)return KS;HI=1;var t=Dfe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,c,u,f,h){var m=c&e,g=t(i),v=g.length,j=t(o),w=j.length;if(v!=w&&!m)return!1;for(var b=v;b--;){var _=g[b];if(!(m?_ in o:n.call(o,_)))return!1}var T=h.get(i),E=h.get(o);if(T&&E)return T==o&&E==i;var k=!0;h.set(i,o),h.set(o,i);for(var C=m;++b<v;){_=g[b];var S=i[_],A=o[_];if(u)var R=m?u(A,S,_,o,i,h):u(S,A,_,i,o,h);if(!(R===void 0?S===A||f(S,A,c,u,h):R)){k=!1;break}C||(C=_=="constructor")}if(k&&!C){var D=i.constructor,B=o.constructor;D!=B&&"constructor"in i&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof B=="function"&&B instanceof B)&&(k=!1)}return h.delete(i),h.delete(o),k}return KS=s,KS}var GS,KI;function $fe(){if(KI)return GS;KI=1;var t=$h(),e=bc(),r=t(e,"DataView");return GS=r,GS}var YS,GI;function Ffe(){if(GI)return YS;GI=1;var t=$h(),e=bc(),r=t(e,"Promise");return YS=r,YS}var XS,YI;function XV(){if(YI)return XS;YI=1;var t=$h(),e=bc(),r=t(e,"Set");return XS=r,XS}var QS,XI;function Bfe(){if(XI)return QS;XI=1;var t=$h(),e=bc(),r=t(e,"WeakMap");return QS=r,QS}var JS,QI;function Ufe(){if(QI)return JS;QI=1;var t=$fe(),e=FT(),r=Ffe(),n=XV(),s=Bfe(),i=Sd(),o=hV(),c="[object Map]",u="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",v=o(t),j=o(e),w=o(r),b=o(n),_=o(s),T=i;return(t&&T(new t(new ArrayBuffer(1)))!=g||e&&T(new e)!=c||r&&T(r.resolve())!=f||n&&T(new n)!=h||s&&T(new s)!=m)&&(T=function(E){var k=i(E),C=k==u?E.constructor:void 0,S=C?o(C):"";if(S)switch(S){case v:return g;case j:return c;case w:return f;case b:return h;case _:return m}return k}),JS=T,JS}var ZS,JI;function zfe(){if(JI)return ZS;JI=1;var t=BV(),e=VV(),r=Nfe(),n=Lfe(),s=Ufe(),i=qi(),o=HV(),c=GV(),u=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(w,b,_,T,E,k){var C=i(w),S=i(b),A=C?h:s(w),R=S?h:s(b);A=A==f?m:A,R=R==f?m:R;var D=A==m,B=R==m,F=A==R;if(F&&o(w)){if(!o(b))return!1;C=!0,D=!1}if(F&&!D)return k||(k=new t),C||c(w)?e(w,b,_,T,E,k):r(w,b,A,_,T,E,k);if(!(_&u)){var z=D&&v.call(w,"__wrapped__"),X=B&&v.call(b,"__wrapped__");if(z||X){var V=z?w.value():w,Z=X?b.value():b;return k||(k=new t),E(V,Z,_,T,k)}}return F?(k||(k=new t),n(w,b,_,T,E,k)):!1}return ZS=j,ZS}var ek,ZI;function eP(){if(ZI)return ek;ZI=1;var t=zfe(),e=kd();function r(n,s,i,o,c){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,c)}return ek=r,ek}var tk,eO;function qfe(){if(eO)return tk;eO=1;var t=BV(),e=eP(),r=1,n=2;function s(i,o,c,u){var f=c.length,h=f,m=!u;if(i==null)return!h;for(i=Object(i);f--;){var g=c[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<h;){g=c[f];var v=g[0],j=i[v],w=g[1];if(m&&g[2]){if(j===void 0&&!(v in i))return!1}else{var b=new t;if(u)var _=u(j,w,v,i,o,b);if(!(_===void 0?e(w,j,r|n,u,b):_))return!1}}return!0}return tk=s,tk}var rk,tO;function QV(){if(tO)return rk;tO=1;var t=Yu();function e(r){return r===r&&!t(r)}return rk=e,rk}var nk,rO;function Vfe(){if(rO)return nk;rO=1;var t=QV(),e=Ww();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],c=n[o];s[i]=[o,c,t(c)]}return s}return nk=r,nk}var ak,nO;function JV(){if(nO)return ak;nO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return ak=t,ak}var sk,aO;function Wfe(){if(aO)return sk;aO=1;var t=qfe(),e=Vfe(),r=JV();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return sk=n,sk}var ik,sO;function Hfe(){if(sO)return ik;sO=1;function t(e,r){return e!=null&&r in Object(e)}return ik=t,ik}var ok,iO;function Kfe(){if(iO)return ok;iO=1;var t=gV(),e=QT(),r=qi(),n=JT(),s=ZT(),i=Bw();function o(c,u,f){u=t(u,c);for(var h=-1,m=u.length,g=!1;++h<m;){var v=i(u[h]);if(!(g=c!=null&&f(c,v)))break;c=c[v]}return g||++h!=m?g:(m=c==null?0:c.length,!!m&&s(m)&&n(v,m)&&(r(c)||e(c)))}return ok=o,ok}var lk,oO;function Gfe(){if(oO)return lk;oO=1;var t=Hfe(),e=Kfe();function r(n,s){return n!=null&&e(n,s,t)}return lk=r,lk}var ck,lO;function Yfe(){if(lO)return ck;lO=1;var t=eP(),e=xV(),r=Gfe(),n=DT(),s=QV(),i=JV(),o=Bw(),c=1,u=2;function f(h,m){return n(h)&&s(m)?i(o(h),m):function(g){var v=e(g,h);return v===void 0&&v===m?r(g,h):t(m,v,c|u)}}return ck=f,ck}var dk,cO;function jg(){if(cO)return dk;cO=1;function t(e){return e}return dk=t,dk}var uk,dO;function Xfe(){if(dO)return uk;dO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return uk=t,uk}var fk,uO;function Qfe(){if(uO)return fk;uO=1;var t=zT();function e(r){return function(n){return t(n,r)}}return fk=e,fk}var hk,fO;function Jfe(){if(fO)return hk;fO=1;var t=Xfe(),e=Qfe(),r=DT(),n=Bw();function s(i){return r(i)?t(n(i)):e(i)}return hk=s,hk}var mk,hO;function Xu(){if(hO)return mk;hO=1;var t=Wfe(),e=Yfe(),r=jg(),n=qi(),s=Jfe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return mk=i,mk}var pk,mO;function ZV(){if(mO)return pk;mO=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return pk=t,pk}var gk,pO;function Zfe(){if(pO)return gk;pO=1;function t(e){return e!==e}return gk=t,gk}var xk,gO;function ehe(){if(gO)return xk;gO=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return xk=t,xk}var yk,xO;function the(){if(xO)return yk;xO=1;var t=ZV(),e=Zfe(),r=ehe();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return yk=n,yk}var vk,yO;function rhe(){if(yO)return vk;yO=1;var t=the();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return vk=e,vk}var bk,vO;function nhe(){if(vO)return bk;vO=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return bk=t,bk}var wk,bO;function ahe(){if(bO)return wk;bO=1;function t(){}return wk=t,wk}var Nk,wO;function she(){if(wO)return Nk;wO=1;var t=XV(),e=ahe(),r=XT(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Nk=s,Nk}var jk,NO;function ihe(){if(NO)return jk;NO=1;var t=UV(),e=rhe(),r=nhe(),n=qV(),s=she(),i=XT(),o=200;function c(u,f,h){var m=-1,g=e,v=u.length,j=!0,w=[],b=w;if(h)j=!1,g=r;else if(v>=o){var _=f?null:s(u);if(_)return i(_);j=!1,g=n,b=new t}else b=f?[]:w;e:for(;++m<v;){var T=u[m],E=f?f(T):T;if(T=h||T!==0?T:0,j&&E===E){for(var k=b.length;k--;)if(b[k]===E)continue e;f&&b.push(E),w.push(T)}else g(b,E,h)||(b!==w&&b.push(E),w.push(T))}return w}return jk=c,jk}var Sk,jO;function ohe(){if(jO)return Sk;jO=1;var t=Xu(),e=ihe();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return Sk=r,Sk}var lhe=ohe();const SO=Yn(lhe);function eW(t,e,r){return e===!0?SO(t,r):Jr(e)?SO(t,e):t}function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}var che=["ref"];function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rW(n.key),n)}}function uhe(t,e,r){return e&&_O(t.prototype,e),r&&_O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,r){return e=Jb(e),hhe(t,tW()?Reflect.construct(e,r||[],Jb(t).constructor):e.apply(t,r))}function hhe(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(t)}function mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(t)}function phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},f_(t,e)}function Hw(t,e,r){return e=rW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rW(t){var e=ghe(t,"string");return Lp(e)=="symbol"?e:e+""}function ghe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xhe(t,e){if(t==null)return{};var r=yhe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vhe(t){return t.value}function bhe(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var r=xhe(e,che);return fe.createElement(YT,r)}var CO=1,up=(function(t){function e(){var r;dhe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=fhe(this,e,[].concat(s)),Hw(r,"lastBoundingBox",{width:-1,height:-1}),r}return phe(e,t),uhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>CO||Math.abs(s.height-this.lastBoundingBox.height)>CO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,u=s.margin,f=s.chartWidth,h=s.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var j=this.getBBoxSnapshot();g={top:((h||0)-j.height)/2}}else g=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Hc(Hc({},m),g)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,c=s.height,u=s.wrapperStyle,f=s.payloadUniqBy,h=s.payload,m=Hc(Hc({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return fe.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},bhe(i,Hc(Hc({},this.props),{},{payload:eW(h,f,vhe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Hc(Hc({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&gt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(x.PureComponent);Hw(up,"displayName","Legend");Hw(up,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kk,TO;function whe(){if(TO)return kk;TO=1;var t=Dy(),e=QT(),r=qi(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return kk=s,kk}var _k,PO;function nW(){if(PO)return _k;PO=1;var t=WV(),e=whe();function r(n,s,i,o,c){var u=-1,f=n.length;for(i||(i=e),c||(c=[]);++u<f;){var h=n[u];s>0&&i(h)?s>1?r(h,s-1,i,o,c):t(c,h):o||(c[c.length]=h)}return c}return _k=r,_k}var Ck,EO;function Nhe(){if(EO)return Ck;EO=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),c=s(r),u=c.length;u--;){var f=c[e?u:++i];if(n(o[f],f,o)===!1)break}return r}}return Ck=t,Ck}var Tk,AO;function jhe(){if(AO)return Tk;AO=1;var t=Nhe(),e=t();return Tk=e,Tk}var Pk,IO;function aW(){if(IO)return Pk;IO=1;var t=jhe(),e=Ww();function r(n,s){return n&&t(n,s,e)}return Pk=r,Pk}var Ek,OO;function She(){if(OO)return Ek;OO=1;var t=Ly();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,c=n?o:-1,u=Object(s);(n?c--:++c<o)&&i(u[c],c,u)!==!1;);return s}}return Ek=e,Ek}var Ak,MO;function tP(){if(MO)return Ak;MO=1;var t=aW(),e=She(),r=e(t);return Ak=r,Ak}var Ik,RO;function sW(){if(RO)return Ik;RO=1;var t=tP(),e=Ly();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(c,u,f){o[++i]=s(c,u,f)}),o}return Ik=r,Ik}var Ok,DO;function khe(){if(DO)return Ok;DO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ok=t,Ok}var Mk,LO;function _he(){if(LO)return Mk;LO=1;var t=vg();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,c=t(r),u=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!c&&r>n||c&&u&&h&&!f&&!m||i&&u&&h||!s&&h||!o)return 1;if(!i&&!c&&!m&&r<n||m&&s&&o&&!i&&!c||f&&s&&o||!u&&o||!h)return-1}return 0}return Mk=e,Mk}var Rk,$O;function Che(){if($O)return Rk;$O=1;var t=_he();function e(r,n,s){for(var i=-1,o=r.criteria,c=n.criteria,u=o.length,f=s.length;++i<u;){var h=t(o[i],c[i]);if(h){if(i>=f)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return Rk=e,Rk}var Dk,FO;function The(){if(FO)return Dk;FO=1;var t=UT(),e=zT(),r=Xu(),n=sW(),s=khe(),i=KV(),o=Che(),c=jg(),u=qi();function f(h,m,g){m.length?m=t(m,function(w){return u(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[c];var v=-1;m=t(m,i(r));var j=n(h,function(w,b,_){var T=t(m,function(E){return E(w)});return{criteria:T,index:++v,value:w}});return s(j,function(w,b){return o(w,b,g)})}return Dk=f,Dk}var Lk,BO;function Phe(){if(BO)return Lk;BO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Lk=t,Lk}var $k,UO;function Ehe(){if(UO)return $k;UO=1;var t=Phe(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,c=-1,u=e(o.length-s,0),f=Array(u);++c<u;)f[c]=o[s+c];c=-1;for(var h=Array(s+1);++c<s;)h[c]=o[c];return h[s]=i(f),t(n,this,h)}}return $k=r,$k}var Fk,zO;function Ahe(){if(zO)return Fk;zO=1;function t(e){return function(){return e}}return Fk=t,Fk}var Bk,qO;function iW(){if(qO)return Bk;qO=1;var t=$h(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Bk=e,Bk}var Uk,VO;function Ihe(){if(VO)return Uk;VO=1;var t=Ahe(),e=iW(),r=jg(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Uk=n,Uk}var zk,WO;function Ohe(){if(WO)return zk;WO=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var c=r(),u=e-(c-o);if(o=c,u>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return zk=n,zk}var qk,HO;function Mhe(){if(HO)return qk;HO=1;var t=Ihe(),e=Ohe(),r=e(t);return qk=r,qk}var Vk,KO;function Rhe(){if(KO)return Vk;KO=1;var t=jg(),e=Ehe(),r=Mhe();function n(s,i){return r(e(s,i,t),s+"")}return Vk=n,Vk}var Wk,GO;function Kw(){if(GO)return Wk;GO=1;var t=$T(),e=Ly(),r=JT(),n=Yu();function s(i,o,c){if(!n(c))return!1;var u=typeof o;return(u=="number"?e(c)&&r(o,c.length):u=="string"&&o in c)?t(c[o],i):!1}return Wk=s,Wk}var Hk,YO;function Dhe(){if(YO)return Hk;YO=1;var t=nW(),e=The(),r=Rhe(),n=Kw(),s=r(function(i,o){if(i==null)return[];var c=o.length;return c>1&&n(i,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Hk=s,Hk}var Lhe=Dhe();const rP=Yn(Lhe);function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h_.apply(this,arguments)}function $he(t,e){return zhe(t)||Uhe(t,e)||Bhe(t,e)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function zhe(t){if(Array.isArray(t))return t}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){qhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qhe(t,e,r){return e=Vhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vhe(t){var e=Whe(t,"string");return wx(e)=="symbol"?e:e+""}function Whe(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hhe(t){return Array.isArray(t)&&ss(t[0])&&ss(t[1])?t.join(" ~ "):t}var Khe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,c=o===void 0?{}:o,u=e.labelStyle,f=u===void 0?{}:u,h=e.payload,m=e.formatter,g=e.itemSorter,v=e.wrapperClassName,j=e.labelClassName,w=e.label,b=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,E=function(){if(h&&h.length){var z={padding:0,margin:0},X=(g?rP(h,g):h).map(function(V,Z){if(V.type==="none")return null;var ee=Kk({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},c),W=V.formatter||m||Hhe,K=V.value,G=V.name,Q=K,$=G;if(W&&Q!=null&&$!=null){var U=W(K,G,V,Z,h);if(Array.isArray(U)){var ie=$he(U,2);Q=ie[0],$=ie[1]}else Q=U}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:ee},ss($)?fe.createElement("span",{className:"recharts-tooltip-item-name"},$):null,ss($)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},Q),fe.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:z},X)}return null},k=Kk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=Kk({margin:0},f),S=!Zr(w),A=S?w:"",R=an("recharts-default-tooltip",v),D=an("recharts-tooltip-label",j);S&&b&&h!==void 0&&h!==null&&(A=b(w,h));var B=T?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",h_({className:R,style:k},B),fe.createElement("p",{className:D,style:C},fe.isValidElement(A)?A:"".concat(A)),E())};function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function Kv(t,e,r){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ghe(t){var e=Yhe(t,"string");return Nx(e)=="symbol"?e:e+""}function Yhe(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k0="recharts-tooltip-wrapper",Xhe={visibility:"hidden"};function Qhe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return an(k0,Kv(Kv(Kv(Kv({},"".concat(k0,"-right"),gt(r)&&e&&gt(e.x)&&r>=e.x),"".concat(k0,"-left"),gt(r)&&e&&gt(e.x)&&r<e.x),"".concat(k0,"-bottom"),gt(n)&&e&&gt(e.y)&&n>=e.y),"".concat(k0,"-top"),gt(n)&&e&&gt(e.y)&&n<e.y))}function JO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,c=t.tooltipDimension,u=t.viewBox,f=t.viewBoxDimension;if(i&&gt(i[n]))return i[n];var h=r[n]-c-s,m=r[n]+s;if(e[n])return o[n]?h:m;if(o[n]){var g=h,v=u[n];return g<v?Math.max(m,u[n]):Math.max(h,u[n])}var j=m+c,w=u[n]+f;return j>w?Math.max(h,u[n]):Math.max(m,u[n])}function Jhe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Zhe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox,f,h,m;return o.height>0&&o.width>0&&r?(h=JO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=JO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Jhe({translateX:h,translateY:m,useTranslate3d:c})):f=Xhe,{cssProperties:f,cssClasses:Qhe({translateX:h,translateY:m,coordinate:r})}}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){p_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lW(n.key),n)}}function rme(t,e,r){return e&&tme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,r){return e=Zb(e),ame(t,oW()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function ame(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sme(t)}function sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},m_(t,e)}function p_(t,e,r){return e=lW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lW(t){var e=ome(t,"string");return $p(e)=="symbol"?e:e+""}function ome(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tM=1,lme=(function(t){function e(){var r;eme(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=nme(this,e,[].concat(s)),p_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,u,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return ime(e,t),rme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>tM||Math.abs(n.height-this.state.lastBoundingBox.height)>tM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,f=s.children,h=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,v=s.offset,j=s.position,w=s.reverseDirection,b=s.useTranslate3d,_=s.viewBox,T=s.wrapperStyle,E=Zhe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:v,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),k=E.cssClasses,C=E.cssProperties,S=eM(eM({transition:g&&i?"transform ".concat(c,"ms ").concat(u):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return fe.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(R){n.wrapperNode=R}},f)}}])})(x.PureComponent),cme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fh={isSsr:cme()};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){nP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ume(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dW(n.key),n)}}function fme(t,e,r){return e&&ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,r){return e=e1(e),mme(t,cW()?Reflect.construct(e,r||[],e1(t).constructor):e.apply(t,r))}function mme(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cW=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g_(t,e)}function nP(t,e,r){return e=dW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=xme(t,"string");return Fp(e)=="symbol"?e:e+""}function xme(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yme(t){return t.dataKey}function vme(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(Khe,e)}var Ha=(function(t){function e(){return dme(this,e),hme(this,e,arguments)}return gme(e,t),fme(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,f=s.content,h=s.coordinate,m=s.filterNull,g=s.isAnimationActive,v=s.offset,j=s.payload,w=s.payloadUniqBy,b=s.position,_=s.reverseDirection,T=s.useTranslate3d,E=s.viewBox,k=s.wrapperStyle,C=j??[];m&&C.length&&(C=eW(j.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,yme));var S=C.length>0;return fe.createElement(lme,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:g,active:i,coordinate:h,hasPayload:S,offset:v,position:b,reverseDirection:_,useTranslate3d:T,viewBox:E,wrapperStyle:k},vme(f,nM(nM({},this.props),{},{payload:C})))}}])})(x.PureComponent);nP(Ha,"displayName","Tooltip");nP(Ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gk,aM;function bme(){if(aM)return Gk;aM=1;var t=bc(),e=function(){return t.Date.now()};return Gk=e,Gk}var Yk,sM;function wme(){if(sM)return Yk;sM=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Yk=e,Yk}var Xk,iM;function Nme(){if(iM)return Xk;iM=1;var t=wme(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Xk=r,Xk}var Qk,oM;function uW(){if(oM)return Qk;oM=1;var t=Nme(),e=Yu(),r=vg(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=i.test(f);return m||o.test(f)?c(f.slice(2),m?2:8):s.test(f)?n:+f}return Qk=u,Qk}var Jk,lM;function jme(){if(lM)return Jk;lM=1;var t=Yu(),e=bme(),r=uW(),n="Expected a function",s=Math.max,i=Math.min;function o(c,u,f){var h,m,g,v,j,w,b=0,_=!1,T=!1,E=!0;if(typeof c!="function")throw new TypeError(n);u=r(u)||0,t(f)&&(_=!!f.leading,T="maxWait"in f,g=T?s(r(f.maxWait)||0,u):g,E="trailing"in f?!!f.trailing:E);function k(X){var V=h,Z=m;return h=m=void 0,b=X,v=c.apply(Z,V),v}function C(X){return b=X,j=setTimeout(R,u),_?k(X):v}function S(X){var V=X-w,Z=X-b,ee=u-V;return T?i(ee,g-Z):ee}function A(X){var V=X-w,Z=X-b;return w===void 0||V>=u||V<0||T&&Z>=g}function R(){var X=e();if(A(X))return D(X);j=setTimeout(R,S(X))}function D(X){return j=void 0,E&&h?k(X):(h=m=void 0,v)}function B(){j!==void 0&&clearTimeout(j),b=0,h=w=m=j=void 0}function F(){return j===void 0?v:D(e())}function z(){var X=e(),V=A(X);if(h=arguments,m=this,w=X,V){if(j===void 0)return C(w);if(T)return clearTimeout(j),j=setTimeout(R,u),k(w)}return j===void 0&&(j=setTimeout(R,u)),v}return z.cancel=B,z.flush=F,z}return Jk=o,Jk}var Zk,cM;function Sme(){if(cM)return Zk;cM=1;var t=jme(),e=Yu(),r="Expected a function";function n(s,i,o){var c=!0,u=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,u="trailing"in o?!!o.trailing:u),t(s,i,{leading:c,maxWait:i,trailing:u})}return Zk=n,Zk}var kme=Sme();const fW=Yn(kme);function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){_me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _me(t,e,r){return e=Cme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cme(t){var e=Tme(t,"string");return jx(e)=="symbol"?e:e+""}function Tme(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pme(t,e){return Ome(t)||Ime(t,e)||Ame(t,e)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(t,e){if(t){if(typeof t=="string")return uM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ime(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function Ome(t){if(Array.isArray(t))return t}var hl=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,c=t.height,u=c===void 0?"100%":c,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,g=t.maxHeight,v=t.children,j=t.debounce,w=j===void 0?0:j,b=t.id,_=t.className,T=t.onResize,E=t.style,k=E===void 0?{}:E,C=x.useRef(null),S=x.useRef();S.current=T,x.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=x.useState({containerWidth:s.width,containerHeight:s.height}),R=Pme(A,2),D=R[0],B=R[1],F=x.useCallback(function(X,V){B(function(Z){var ee=Math.round(X),W=Math.round(V);return Z.containerWidth===ee&&Z.containerHeight===W?Z:{containerWidth:ee,containerHeight:W}})},[]);x.useEffect(function(){var X=function(G){var Q,$=G[0].contentRect,U=$.width,ie=$.height;F(U,ie),(Q=S.current)===null||Q===void 0||Q.call(S,U,ie)};w>0&&(X=fW(X,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(X),Z=C.current.getBoundingClientRect(),ee=Z.width,W=Z.height;return F(ee,W),V.observe(C.current),function(){V.disconnect()}},[F,w]);var z=x.useMemo(function(){var X=D.containerWidth,V=D.containerHeight;if(X<0||V<0)return null;hh(Xf(o)||Xf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),hh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=Xf(o)?X:o,ee=Xf(u)?V:u;r&&r>0&&(Z?ee=Z/r:ee&&(Z=ee*r),g&&ee>g&&(ee=g)),hh(Z>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,ee,o,u,h,m,r);var W=!Array.isArray(v)&&cd(v.type).endsWith("Chart");return fe.Children.map(v,function(K){return fe.isValidElement(K)?x.cloneElement(K,Gv({width:Z,height:ee},W?{style:Gv({height:"100%",width:"100%",maxHeight:ee,maxWidth:Z},K.props.style)}:{})):K})},[r,v,u,g,m,h,D,o]);return fe.createElement("div",{id:b?"".concat(b):void 0,className:an("recharts-responsive-container",_),style:Gv(Gv({},k),{},{width:o,height:u,minWidth:h,minHeight:m,maxHeight:g}),ref:C},z)}),hW=function(e){return null};hW.displayName="Cell";function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function x_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){Mme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mme(t,e,r){return e=Rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rme(t){var e=Dme(t,"string");return Sx(e)=="symbol"?e:e+""}function Dme(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dm={widthCache:{},cacheCount:0},Lme=2e3,$me={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hM="recharts_measurement_span";function Fme(t){var e=x_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Z0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fh.isSsr)return{width:0,height:0};var n=Fme(r),s=JSON.stringify({text:e,copyStyle:n});if(Dm.widthCache[s])return Dm.widthCache[s];try{var i=document.getElementById(hM);i||(i=document.createElement("span"),i.setAttribute("id",hM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=x_(x_({},$me),n);Object.assign(i.style,o),i.textContent="".concat(e);var c=i.getBoundingClientRect(),u={width:c.width,height:c.height};return Dm.widthCache[s]=u,++Dm.cacheCount>Lme&&(Dm.cacheCount=0,Dm.widthCache={}),u}catch{return{width:0,height:0}}},Bme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function t1(t,e){return Vme(t)||qme(t,e)||zme(t,e)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function Vme(t){if(Array.isArray(t))return t}function Wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kme(n.key),n)}}function Hme(t,e,r){return e&&pM(t.prototype,e),r&&pM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t){var e=Gme(t,"string");return kx(e)=="symbol"?e:e+""}function Gme(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qme=Object.keys(mW),Jm="NaN";function Jme(t,e){return t*mW[e]}var Yv=(function(){function t(e,r){Wme(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Yme.test(r)&&(this.num=NaN,this.unit=""),Qme.includes(r)&&(this.num=Jme(e,r),this.unit="px")}return Hme(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Xme.exec(r))!==null&&n!==void 0?n:[],i=t1(s,3),o=i[1],c=i[2];return new t(parseFloat(o),c??"")}}])})();function pW(t){if(t.includes(Jm))return Jm;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=gM.exec(e))!==null&&r!==void 0?r:[],s=t1(n,4),i=s[1],o=s[2],c=s[3],u=Yv.parse(i??""),f=Yv.parse(c??""),h=o==="*"?u.multiply(f):u.divide(f);if(h.isNaN())return Jm;e=e.replace(gM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=xM.exec(e))!==null&&m!==void 0?m:[],v=t1(g,4),j=v[1],w=v[2],b=v[3],_=Yv.parse(j??""),T=Yv.parse(b??""),E=w==="+"?_.add(T):_.subtract(T);if(E.isNaN())return Jm;e=e.replace(xM,E.toString())}return e}var yM=/\(([^()]*)\)/;function Zme(t){for(var e=t;e.includes("(");){var r=yM.exec(e),n=t1(r,2),s=n[1];e=e.replace(yM,pW(s))}return e}function epe(t){var e=t.replace(/\s+/g,"");return e=Zme(e),e=pW(e),e}function tpe(t){try{return epe(t)}catch{return Jm}}function e4(t){var e=tpe(t.slice(5,-1));return e===Jm?"":e}var rpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],npe=["dx","dy","angle","className","breakAll"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y_.apply(this,arguments)}function vM(t,e){if(t==null)return{};var r=ape(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ape(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bM(t,e){return lpe(t)||ope(t,e)||ipe(t,e)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,e){if(t){if(typeof t=="string")return wM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ope(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function lpe(t){if(Array.isArray(t))return t}var gW=/[ \f\n\r\t\v\u2028\u2029]+/,xW=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];Zr(r)||(n?i=r.toString().split(""):i=r.toString().split(gW));var o=i.map(function(u){return{word:u,width:Z0(u,s).width}}),c=n?0:Z0("",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},cpe=function(e,r,n,s,i){var o=e.maxLines,c=e.children,u=e.style,f=e.breakAll,h=gt(o),m=c,g=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(ee,W){var K=W.word,G=W.width,Q=ee[ee.length-1];if(Q&&(s==null||i||Q.width+G+n<Number(s)))Q.words.push(K),Q.width+=G+n;else{var $={words:[K],width:G};ee.push($)}return ee},[])},v=g(r),j=function(Z){return Z.reduce(function(ee,W){return ee.width>W.width?ee:W})};if(!h)return v;for(var w="",b=function(Z){var ee=m.slice(0,Z),W=xW({breakAll:f,style:u,children:ee+w}).wordsWithComputedWidth,K=g(W),G=K.length>o||j(K).width>Number(s);return[G,K]},_=0,T=m.length-1,E=0,k;_<=T&&E<=m.length-1;){var C=Math.floor((_+T)/2),S=C-1,A=b(S),R=bM(A,2),D=R[0],B=R[1],F=b(C),z=bM(F,1),X=z[0];if(!D&&!X&&(_=C+1),D&&X&&(T=C-1),!D&&X){k=B;break}E++}return k||v},NM=function(e){var r=Zr(e)?[]:e.toString().split(gW);return[{words:r}]},dpe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Fh.isSsr){var u,f,h=xW({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;u=m,f=g}else return NM(s);return cpe({breakAll:o,children:s,maxLines:c,style:i},u,f,r,n)}return NM(s)},jM="#808080",r1=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,c=o===void 0?"1em":o,u=e.capHeight,f=u===void 0?"0.71em":u,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,v=g===void 0?"start":g,j=e.verticalAnchor,w=j===void 0?"end":j,b=e.fill,_=b===void 0?jM:b,T=vM(e,rpe),E=x.useMemo(function(){return dpe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),k=T.dx,C=T.dy,S=T.angle,A=T.className,R=T.breakAll,D=vM(T,npe);if(!ss(n)||!ss(i))return null;var B=n+(gt(k)?k:0),F=i+(gt(C)?C:0),z;switch(w){case"start":z=e4("calc(".concat(f,")"));break;case"middle":z=e4("calc(".concat((E.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:z=e4("calc(".concat(E.length-1," * -").concat(c,")"));break}var X=[];if(m){var V=E[0].width,Z=T.width;X.push("scale(".concat((gt(Z)?Z/V:1)/V,")"))}return S&&X.push("rotate(".concat(S,", ").concat(B,", ").concat(F,")")),X.length&&(D.transform=X.join(" ")),fe.createElement("text",y_({},Kr(D,!0),{x:B,y:F,className:an("recharts-text",A),textAnchor:v,fill:_.includes("url")?jM:_}),E.map(function(ee,W){var K=ee.words.join(R?"":" ");return fe.createElement("tspan",{x:B,dy:W===0?z:c,key:"".concat(K,"-").concat(W)},K)}))};function Eu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function upe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aP(t){let e,r,n;t.length!==2?(e=Eu,r=(c,u)=>Eu(t(c),u),n=(c,u)=>t(c)-u):(e=t===Eu||t===upe?t:fpe,r=t,n=t);function s(c,u,f=0,h=c.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;r(c[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(c,u,f=0,h=c.length){if(f<h){if(e(u,u)!==0)return h;do{const m=f+h>>>1;r(c[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function o(c,u,f=0,h=c.length){const m=s(c,u,f,h-1);return m>f&&n(c[m-1],u)>-n(c[m],u)?m-1:m}return{left:s,center:o,right:i}}function fpe(){return 0}function yW(t){return t===null?NaN:+t}function*hpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const mpe=aP(Eu),$y=mpe.right;aP(yW).center;class SM extends Map{constructor(e,r=xpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(kM(this,e))}has(e){return super.has(kM(this,e))}set(e,r){return super.set(ppe(this,e),r)}delete(e){return super.delete(gpe(this,e))}}function kM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ppe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function gpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function xpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ype(t=Eu){if(t===Eu)return vW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vpe=Math.sqrt(50),bpe=Math.sqrt(10),wpe=Math.sqrt(2);function n1(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=vpe?10:i>=bpe?5:i>=wpe?2:1;let c,u,f;return s<0?(f=Math.pow(10,-s)/o,c=Math.round(t*f),u=Math.round(e*f),c/f<t&&++c,u/f>e&&--u,f=-f):(f=Math.pow(10,s)*o,c=Math.round(t/f),u=Math.round(e/f),c*f<t&&++c,u*f>e&&--u),u<c&&.5<=r&&r<2?n1(t,e,r*2):[c,u,f]}function v_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?n1(e,t,r):n1(t,e,r);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)u[f]=(i-f)/-o;else for(let f=0;f<c;++f)u[f]=(i-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(s+f)/-o;else for(let f=0;f<c;++f)u[f]=(s+f)*o;return u}function b_(t,e,r){return e=+e,t=+t,r=+r,n1(t,e,r)[2]}function w_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?b_(e,t,r):b_(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function _M(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bW(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?vW:ype(s);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(e-f*m/u+g)),j=Math.min(n,Math.floor(e+(u-f)*m/u+g));bW(t,e,v,j,s)}const i=t[e];let o=r,c=n;for(_0(t,r,e),s(t[n],i)>0&&_0(t,r,n);o<c;){for(_0(t,o,c),++o,--c;s(t[o],i)<0;)++o;for(;s(t[c],i)>0;)--c}s(t[r],i)===0?_0(t,r,c):(++c,_0(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function _0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Npe(t,e,r){if(t=Float64Array.from(hpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return CM(t);if(e>=1)return _M(t);var n,s=(n-1)*e,i=Math.floor(s),o=_M(bW(t,i).subarray(0,i+1)),c=CM(t.subarray(i+1));return o+(c-o)*(s-i)}}function jpe(t,e,r=yW){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return o+(c-o)*(s-i)}}function Spe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _d(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const N_=Symbol("implicit");function sP(){var t=new SM,e=[],r=[],n=N_;function s(i){let o=t.get(i);if(o===void 0){if(n!==N_)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new SM;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return sP(e,r).unknown(n)},zo.apply(s,arguments),s}function _x(){var t=sP().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,c=!1,u=0,f=0,h=.5;delete t.unknown;function m(){var g=e().length,v=s<n,j=v?s:n,w=v?n:s;i=(w-j)/Math.max(1,g-u+f*2),c&&(i=Math.floor(i)),j+=(w-j-i*(g-u))*h,o=i*(1-u),c&&(j=Math.round(j),o=Math.round(o));var b=Spe(g).map(function(_){return j+i*_});return r(v?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,s]=g,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(g){return[n,s]=g,n=+n,s=+s,c=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return _x(e(),[n,s]).round(c).paddingInner(u).paddingOuter(f).align(h)},zo.apply(m(),arguments)}function wW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wW(e())},t}function ex(){return wW(_x.apply(null,arguments).paddingInner(1))}function iP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function NW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Fy(){}var Cx=.7,a1=1/Cx,fp="\\s*([+-]?\\d+)\\s*",Tx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kpe=/^#([0-9a-f]{3,8})$/,_pe=new RegExp(`^rgb\\(${fp},${fp},${fp}\\)$`),Cpe=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),Tpe=new RegExp(`^rgba\\(${fp},${fp},${fp},${Tx}\\)$`),Ppe=new RegExp(`^rgba\\(${dc},${dc},${dc},${Tx}\\)$`),Epe=new RegExp(`^hsl\\(${Tx},${dc},${dc}\\)$`),Ape=new RegExp(`^hsla\\(${Tx},${dc},${dc},${Tx}\\)$`),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iP(Fy,Px,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PM,formatHex:PM,formatHex8:Ipe,formatHsl:Ope,formatRgb:EM,toString:EM});function PM(){return this.rgb().formatHex()}function Ipe(){return this.rgb().formatHex8()}function Ope(){return jW(this).formatHsl()}function EM(){return this.rgb().formatRgb()}function Px(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kpe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?AM(e):r===3?new Ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_pe.exec(t))?new Ui(e[1],e[2],e[3],1):(e=Cpe.exec(t))?new Ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tpe.exec(t))?Xv(e[1],e[2],e[3],e[4]):(e=Ppe.exec(t))?Xv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Epe.exec(t))?MM(e[1],e[2]/100,e[3]/100,1):(e=Ape.exec(t))?MM(e[1],e[2]/100,e[3]/100,e[4]):TM.hasOwnProperty(t)?AM(TM[t]):t==="transparent"?new Ui(NaN,NaN,NaN,0):null}function AM(t){return new Ui(t>>16&255,t>>8&255,t&255,1)}function Xv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ui(t,e,r,n)}function Mpe(t){return t instanceof Fy||(t=Px(t)),t?(t=t.rgb(),new Ui(t.r,t.g,t.b,t.opacity)):new Ui}function j_(t,e,r,n){return arguments.length===1?Mpe(t):new Ui(t,e,r,n??1)}function Ui(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iP(Ui,j_,NW(Fy,{brighter(t){return t=t==null?a1:Math.pow(a1,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cx:Math.pow(Cx,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ui(mh(this.r),mh(this.g),mh(this.b),s1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IM,formatHex:IM,formatHex8:Rpe,formatRgb:OM,toString:OM}));function IM(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}`}function Rpe(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}${Qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function OM(){const t=s1(this.opacity);return`${t===1?"rgb(":"rgba("}${mh(this.r)}, ${mh(this.g)}, ${mh(this.b)}${t===1?")":`, ${t})`}`}function s1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qf(t){return t=mh(t),(t<16?"0":"")+t.toString(16)}function MM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new yl(t,e,r,n)}function jW(t){if(t instanceof yl)return new yl(t.h,t.s,t.l,t.opacity);if(t instanceof Fy||(t=Px(t)),!t)return new yl;if(t instanceof yl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,c=i-s,u=(i+s)/2;return c?(e===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-e)/c+2:o=(e-r)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new yl(o,c,u,t.opacity)}function Dpe(t,e,r,n){return arguments.length===1?jW(t):new yl(t,e,r,n??1)}function yl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iP(yl,Dpe,NW(Fy,{brighter(t){return t=t==null?a1:Math.pow(a1,t),new yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cx:Math.pow(Cx,t),new yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Ui(t4(t>=240?t-240:t+120,s,n),t4(t,s,n),t4(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new yl(RM(this.h),Qv(this.s),Qv(this.l),s1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=s1(this.opacity);return`${t===1?"hsl(":"hsla("}${RM(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RM(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function t4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const oP=t=>()=>t;function Lpe(t,e){return function(r){return t+r*e}}function $pe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Fpe(t){return(t=+t)==1?SW:function(e,r){return r-e?$pe(e,r,t):oP(isNaN(e)?r:e)}}function SW(t,e){var r=e-t;return r?Lpe(t,r):oP(isNaN(t)?e:t)}const DM=(function t(e){var r=Fpe(e);function n(s,i){var o=r((s=j_(s)).r,(i=j_(i)).r),c=r(s.g,i.g),u=r(s.b,i.b),f=SW(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=c(h),s.b=u(h),s.opacity=f(h),s+""}}return n.gamma=t,n})(1);function Bpe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function Upe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Sg(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(c){for(o=0;o<n;++o)i[o]=s[o](c);return i}}function qpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function i1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vpe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Sg(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var S_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r4=new RegExp(S_.source,"g");function Wpe(t){return function(){return t}}function Hpe(t){return function(e){return t(e)+""}}function Kpe(t,e){var r=S_.lastIndex=r4.lastIndex=0,n,s,i,o=-1,c=[],u=[];for(t=t+"",e=e+"";(n=S_.exec(t))&&(s=r4.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:i1(n,s)})),r=r4.lastIndex;return r<e.length&&(i=e.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?Hpe(u[0].x):Wpe(e):(e=u.length,function(f){for(var h=0,m;h<e;++h)c[(m=u[h]).i]=m.x(f);return c.join("")})}function Sg(t,e){var r=typeof e,n;return e==null||r==="boolean"?oP(e):(r==="number"?i1:r==="string"?(n=Px(e))?(e=n,DM):Kpe:e instanceof Px?DM:e instanceof Date?qpe:Upe(e)?Bpe:Array.isArray(e)?zpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vpe:i1)(t,e)}function lP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Gpe(t,e){e===void 0&&(e=t,t=Sg);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function Ype(t){return function(){return t}}function o1(t){return+t}var LM=[0,1];function wi(t){return t}function k_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Ype(isNaN(e)?NaN:.5)}function Xpe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Qpe(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=k_(s,n),i=r(o,i)):(n=k_(n,s),i=r(i,o)),function(c){return i(n(c))}}function Jpe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=k_(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(c){var u=$y(t,c,1,n)-1;return i[u](s[u](c))}}function By(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gw(){var t=LM,e=LM,r=Sg,n,s,i,o=wi,c,u,f;function h(){var g=Math.min(t.length,e.length);return o!==wi&&(o=Xpe(t[0],t[g-1])),c=g>2?Jpe:Qpe,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=c(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(s((f||(f=c(e,t.map(n),i1)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,o1),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=lP,h()},m.clamp=function(g){return arguments.length?(o=g?!0:wi,h()):o!==wi},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,v){return n=g,s=v,h()}}function cP(){return Gw()(wi,wi)}function Zpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function l1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Bp(t){return t=l1(Math.abs(t)),t?t[1]:NaN}function ege(t,e){return function(r,n){for(var s=r.length,i=[],o=0,c=t[0],u=0;s>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),i.push(r.substring(s-=c,s+c)),!((u+=c+1)>n));)c=t[o=(o+1)%t.length];return i.reverse().join(e)}}function tge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var rge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ex(t){if(!(e=rge.exec(t)))throw new Error("invalid format: "+t);var e;return new dP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ex.prototype=dP.prototype;function dP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nge(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var kW;function age(t,e){var r=l1(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(kW=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+l1(t,Math.max(0,e+i-1))[0]}function $M(t,e){var r=l1(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const FM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$M(t*100,e),r:$M,s:age,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BM(t){return t}var UM=Array.prototype.map,zM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sge(t){var e=t.grouping===void 0||t.thousands===void 0?BM:ege(UM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?BM:tge(UM.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Ex(m);var g=m.fill,v=m.align,j=m.sign,w=m.symbol,b=m.zero,_=m.width,T=m.comma,E=m.precision,k=m.trim,C=m.type;C==="n"?(T=!0,C="g"):FM[C]||(E===void 0&&(E=12),k=!0,C="g"),(b||g==="0"&&v==="=")&&(b=!0,g="0",v="=");var S=w==="$"?r:w==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=w==="$"?n:/[%p]/.test(C)?o:"",R=FM[C],D=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(F){var z=S,X=A,V,Z,ee;if(C==="c")X=R(F)+X,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?u:R(Math.abs(F),E),k&&(F=nge(F)),W&&+F==0&&j!=="+"&&(W=!1),z=(W?j==="("?j:c:j==="-"||j==="("?"":j)+z,X=(C==="s"?zM[8+kW/3]:"")+X+(W&&j==="("?")":""),D){for(V=-1,Z=F.length;++V<Z;)if(ee=F.charCodeAt(V),48>ee||ee>57){X=(ee===46?s+F.slice(V+1):F.slice(V))+X,F=F.slice(0,V);break}}}T&&!b&&(F=e(F,1/0));var K=z.length+F.length+X.length,G=K<_?new Array(_-K+1).join(g):"";switch(T&&b&&(F=e(G+F,G.length?_-X.length:1/0),G=""),v){case"<":F=z+F+X+G;break;case"=":F=z+G+F+X;break;case"^":F=G.slice(0,K=G.length>>1)+z+F+X+G.slice(K);break;default:F=G+z+F+X;break}return i(F)}return B.toString=function(){return m+""},B}function h(m,g){var v=f((m=Ex(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(Bp(g)/3)))*3,w=Math.pow(10,-j),b=zM[8+j/3];return function(_){return v(w*_)+b}}return{format:f,formatPrefix:h}}var Jv,uP,_W;ige({thousands:",",grouping:[3],currency:["$",""]});function ige(t){return Jv=sge(t),uP=Jv.format,_W=Jv.formatPrefix,Jv}function oge(t){return Math.max(0,-Bp(Math.abs(t)))}function lge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bp(e)/3)))*3-Bp(Math.abs(t)))}function cge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bp(e)-Bp(t))+1}function CW(t,e,r,n){var s=w_(t,e,r),i;switch(n=Ex(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=lge(s,o))&&(n.precision=i),_W(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cge(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oge(s))&&(n.precision=i-(n.type==="%")*2);break}}return uP(n)}function Qu(t){var e=t.domain;return t.ticks=function(r){var n=e();return v_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return CW(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],c=n[i],u,f,h=10;for(c<o&&(f=o,o=c,c=f,f=s,s=i,i=f);h-- >0;){if(f=b_(o,c,r),f===u)return n[s]=o,n[i]=c,e(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return t},t}function c1(){var t=cP();return t.copy=function(){return By(t,c1())},zo.apply(t,arguments),Qu(t)}function TW(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,o1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return TW(t).unknown(e)},t=arguments.length?Array.from(t,o1):[0,1],Qu(r)}function PW(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function qM(t){return Math.log(t)}function VM(t){return Math.exp(t)}function dge(t){return-Math.log(-t)}function uge(t){return-Math.exp(-t)}function fge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hge(t){return t===10?fge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function WM(t){return(e,r)=>-t(-e,r)}function fP(t){const e=t(qM,VM),r=e.domain;let n=10,s,i;function o(){return s=mge(n),i=hge(n),r()[0]<0?(s=WM(s),i=WM(i),t(dge,uge)):t(qM,VM),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=s(f),v=s(h),j,w;const b=c==null?10:+c;let _=[];if(!(n%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(j=1;j<n;++j)if(w=g<0?j/i(-g):j*i(g),!(w<f)){if(w>h)break;_.push(w)}}else for(;g<=v;++g)for(j=n-1;j>=1;--j)if(w=g>0?j/i(-g):j*i(g),!(w<f)){if(w>h)break;_.push(w)}_.length*2<b&&(_=v_(f,h,b))}else _=v_(g,v,Math.min(v-g,b)).map(i);return m?_.reverse():_},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Ex(u)).precision==null&&(u.trim=!0),u=uP(u)),c===1/0)return u;const f=Math.max(1,n*c/e.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},e.nice=()=>r(PW(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),e}function EW(){const t=fP(Gw()).domain([1,10]);return t.copy=()=>By(t,EW()).base(t.base()),zo.apply(t,arguments),t}function HM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hP(t){var e=1,r=t(HM(e),KM(e));return r.constant=function(n){return arguments.length?t(HM(e=+n),KM(e)):e},Qu(r)}function AW(){var t=hP(Gw());return t.copy=function(){return By(t,AW()).constant(t.constant())},zo.apply(t,arguments)}function GM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gge(t){return t<0?-t*t:t*t}function mP(t){var e=t(wi,wi),r=1;function n(){return r===1?t(wi,wi):r===.5?t(pge,gge):t(GM(r),GM(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Qu(e)}function pP(){var t=mP(Gw());return t.copy=function(){return By(t,pP()).exponent(t.exponent())},zo.apply(t,arguments),t}function xge(){return pP.apply(null,arguments).exponent(.5)}function YM(t){return Math.sign(t)*t*t}function yge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IW(){var t=cP(),e=[0,1],r=!1,n;function s(i){var o=yge(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(YM(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,o1)).map(YM)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return IW(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zo.apply(s,arguments),Qu(s)}function OW(){var t=[],e=[],r=[],n;function s(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=jpe(t,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:e[$y(r,o)]}return i.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Eu),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return OW().domain(t).range(e).unknown(n)},zo.apply(i,arguments)}function MW(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[$y(n,u,0,r)]:i}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var f=s.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return MW().domain([t,e]).range(s).unknown(i)},zo.apply(Qu(o),arguments)}function RW(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[$y(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return RW().domain(t).range(e).unknown(r)},zo.apply(s,arguments)}const n4=new Date,a4=new Date;function ls(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let f;do u.push(f=new Date(+i)),e(i,c),t(i);while(f<i&&i<o);return u},s.filter=i=>ls(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!i(o););else for(;--c>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(n4.setTime(+i),a4.setTime(+o),t(n4),t(a4),Math.floor(r(n4,a4))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const d1=ls(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);d1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ls(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):d1);d1.range;const sd=1e3,Do=sd*60,id=Do*60,bd=id*24,gP=bd*7,XM=bd*30,s4=bd*365,Jf=ls(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sd)},(t,e)=>(e-t)/sd,t=>t.getUTCSeconds());Jf.range;const xP=ls(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sd)},(t,e)=>{t.setTime(+t+e*Do)},(t,e)=>(e-t)/Do,t=>t.getMinutes());xP.range;const yP=ls(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Do)},(t,e)=>(e-t)/Do,t=>t.getUTCMinutes());yP.range;const vP=ls(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sd-t.getMinutes()*Do)},(t,e)=>{t.setTime(+t+e*id)},(t,e)=>(e-t)/id,t=>t.getHours());vP.range;const bP=ls(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*id)},(t,e)=>(e-t)/id,t=>t.getUTCHours());bP.range;const Uy=ls(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Do)/bd,t=>t.getDate()-1);Uy.range;const Yw=ls(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bd,t=>t.getUTCDate()-1);Yw.range;const DW=ls(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bd,t=>Math.floor(t/bd));DW.range;function Bh(t){return ls(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Do)/gP)}const Xw=Bh(0),u1=Bh(1),vge=Bh(2),bge=Bh(3),Up=Bh(4),wge=Bh(5),Nge=Bh(6);Xw.range;u1.range;vge.range;bge.range;Up.range;wge.range;Nge.range;function Uh(t){return ls(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/gP)}const Qw=Uh(0),f1=Uh(1),jge=Uh(2),Sge=Uh(3),zp=Uh(4),kge=Uh(5),_ge=Uh(6);Qw.range;f1.range;jge.range;Sge.range;zp.range;kge.range;_ge.range;const wP=ls(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wP.range;const NP=ls(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());NP.range;const wd=ls(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ls(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});wd.range;const Nd=ls(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ls(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Nd.range;function LW(t,e,r,n,s,i){const o=[[Jf,1,sd],[Jf,5,5*sd],[Jf,15,15*sd],[Jf,30,30*sd],[i,1,Do],[i,5,5*Do],[i,15,15*Do],[i,30,30*Do],[s,1,id],[s,3,3*id],[s,6,6*id],[s,12,12*id],[n,1,bd],[n,2,2*bd],[r,1,gP],[e,1,XM],[e,3,3*XM],[t,1,s4]];function c(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const v=m&&typeof m.range=="function"?m:u(f,h,m),j=v?v.range(f,+h+1):[];return g?j.reverse():j}function u(f,h,m){const g=Math.abs(h-f)/m,v=aP(([,,b])=>b).right(o,g);if(v===o.length)return t.every(w_(f/s4,h/s4,m));if(v===0)return d1.every(Math.max(w_(f,h,m),1));const[j,w]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return j.every(w)}return[c,u]}const[Cge,Tge]=LW(Nd,NP,Qw,DW,bP,yP),[Pge,Ege]=LW(wd,wP,Xw,Uy,vP,xP);function i4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function C0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Age(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,c=t.months,u=t.shortMonths,f=T0(s),h=P0(s),m=T0(i),g=P0(i),v=T0(o),j=P0(o),w=T0(c),b=P0(c),_=T0(u),T=P0(u),E={a:W,A:K,b:G,B:Q,c:null,d:r7,e:r7,f:e0e,g:d0e,G:f0e,H:Qge,I:Jge,j:Zge,L:$W,m:t0e,M:r0e,p:$,q:U,Q:s7,s:i7,S:n0e,u:a0e,U:s0e,V:i0e,w:o0e,W:l0e,x:null,X:null,y:c0e,Y:u0e,Z:h0e,"%":a7},k={a:ie,A:ce,b:he,B:we,c:null,d:n7,e:n7,f:x0e,g:C0e,G:P0e,H:m0e,I:p0e,j:g0e,L:BW,m:y0e,M:v0e,p:re,q:pe,Q:s7,s:i7,S:b0e,u:w0e,U:N0e,V:j0e,w:S0e,W:k0e,x:null,X:null,y:_0e,Y:T0e,Z:E0e,"%":a7},C={a:B,A:F,b:z,B:X,c:V,d:e7,e:e7,f:Kge,g:ZM,G:JM,H:t7,I:t7,j:qge,L:Hge,m:zge,M:Vge,p:D,q:Uge,Q:Yge,s:Xge,S:Wge,u:Dge,U:Lge,V:$ge,w:Rge,W:Fge,x:Z,X:ee,y:ZM,Y:JM,Z:Bge,"%":Gge};E.x=S(r,E),E.X=S(n,E),E.c=S(e,E),k.x=S(r,k),k.X=S(n,k),k.c=S(e,k);function S(ue,Ie){return function(qe){var Ne=[],rt=-1,_e=0,Ct=ue.length,Qt,Ar,Ln;for(qe instanceof Date||(qe=new Date(+qe));++rt<Ct;)ue.charCodeAt(rt)===37&&(Ne.push(ue.slice(_e,rt)),(Ar=QM[Qt=ue.charAt(++rt)])!=null?Qt=ue.charAt(++rt):Ar=Qt==="e"?" ":"0",(Ln=Ie[Qt])&&(Qt=Ln(qe,Ar)),Ne.push(Qt),_e=rt+1);return Ne.push(ue.slice(_e,rt)),Ne.join("")}}function A(ue,Ie){return function(qe){var Ne=C0(1900,void 0,1),rt=R(Ne,ue,qe+="",0),_e,Ct;if(rt!=qe.length)return null;if("Q"in Ne)return new Date(Ne.Q);if("s"in Ne)return new Date(Ne.s*1e3+("L"in Ne?Ne.L:0));if(Ie&&!("Z"in Ne)&&(Ne.Z=0),"p"in Ne&&(Ne.H=Ne.H%12+Ne.p*12),Ne.m===void 0&&(Ne.m="q"in Ne?Ne.q:0),"V"in Ne){if(Ne.V<1||Ne.V>53)return null;"w"in Ne||(Ne.w=1),"Z"in Ne?(_e=o4(C0(Ne.y,0,1)),Ct=_e.getUTCDay(),_e=Ct>4||Ct===0?f1.ceil(_e):f1(_e),_e=Yw.offset(_e,(Ne.V-1)*7),Ne.y=_e.getUTCFullYear(),Ne.m=_e.getUTCMonth(),Ne.d=_e.getUTCDate()+(Ne.w+6)%7):(_e=i4(C0(Ne.y,0,1)),Ct=_e.getDay(),_e=Ct>4||Ct===0?u1.ceil(_e):u1(_e),_e=Uy.offset(_e,(Ne.V-1)*7),Ne.y=_e.getFullYear(),Ne.m=_e.getMonth(),Ne.d=_e.getDate()+(Ne.w+6)%7)}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),Ct="Z"in Ne?o4(C0(Ne.y,0,1)).getUTCDay():i4(C0(Ne.y,0,1)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+Ne.W*7-(Ct+5)%7:Ne.w+Ne.U*7-(Ct+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,o4(Ne)):i4(Ne)}}function R(ue,Ie,qe,Ne){for(var rt=0,_e=Ie.length,Ct=qe.length,Qt,Ar;rt<_e;){if(Ne>=Ct)return-1;if(Qt=Ie.charCodeAt(rt++),Qt===37){if(Qt=Ie.charAt(rt++),Ar=C[Qt in QM?Ie.charAt(rt++):Qt],!Ar||(Ne=Ar(ue,qe,Ne))<0)return-1}else if(Qt!=qe.charCodeAt(Ne++))return-1}return Ne}function D(ue,Ie,qe){var Ne=f.exec(Ie.slice(qe));return Ne?(ue.p=h.get(Ne[0].toLowerCase()),qe+Ne[0].length):-1}function B(ue,Ie,qe){var Ne=v.exec(Ie.slice(qe));return Ne?(ue.w=j.get(Ne[0].toLowerCase()),qe+Ne[0].length):-1}function F(ue,Ie,qe){var Ne=m.exec(Ie.slice(qe));return Ne?(ue.w=g.get(Ne[0].toLowerCase()),qe+Ne[0].length):-1}function z(ue,Ie,qe){var Ne=_.exec(Ie.slice(qe));return Ne?(ue.m=T.get(Ne[0].toLowerCase()),qe+Ne[0].length):-1}function X(ue,Ie,qe){var Ne=w.exec(Ie.slice(qe));return Ne?(ue.m=b.get(Ne[0].toLowerCase()),qe+Ne[0].length):-1}function V(ue,Ie,qe){return R(ue,e,Ie,qe)}function Z(ue,Ie,qe){return R(ue,r,Ie,qe)}function ee(ue,Ie,qe){return R(ue,n,Ie,qe)}function W(ue){return o[ue.getDay()]}function K(ue){return i[ue.getDay()]}function G(ue){return u[ue.getMonth()]}function Q(ue){return c[ue.getMonth()]}function $(ue){return s[+(ue.getHours()>=12)]}function U(ue){return 1+~~(ue.getMonth()/3)}function ie(ue){return o[ue.getUTCDay()]}function ce(ue){return i[ue.getUTCDay()]}function he(ue){return u[ue.getUTCMonth()]}function we(ue){return c[ue.getUTCMonth()]}function re(ue){return s[+(ue.getUTCHours()>=12)]}function pe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Ie=S(ue+="",E);return Ie.toString=function(){return ue},Ie},parse:function(ue){var Ie=A(ue+="",!1);return Ie.toString=function(){return ue},Ie},utcFormat:function(ue){var Ie=S(ue+="",k);return Ie.toString=function(){return ue},Ie},utcParse:function(ue){var Ie=A(ue+="",!0);return Ie.toString=function(){return ue},Ie}}}var QM={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,Ige=/^%/,Oge=/[\\^$*+?|[\]().{}]/g;function jn(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function Mge(t){return t.replace(Oge,"\\$&")}function T0(t){return new RegExp("^(?:"+t.map(Mge).join("|")+")","i")}function P0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Rge(t,e,r){var n=ys.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Dge(t,e,r){var n=ys.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Lge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function $ge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Fge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function JM(t,e,r){var n=ys.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ZM(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bge(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Uge(t,e,r){var n=ys.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function zge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function e7(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function qge(t,e,r){var n=ys.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function t7(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Wge(t,e,r){var n=ys.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Hge(t,e,r){var n=ys.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Kge(t,e,r){var n=ys.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gge(t,e,r){var n=Ige.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Yge(t,e,r){var n=ys.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Xge(t,e,r){var n=ys.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function r7(t,e){return jn(t.getDate(),e,2)}function Qge(t,e){return jn(t.getHours(),e,2)}function Jge(t,e){return jn(t.getHours()%12||12,e,2)}function Zge(t,e){return jn(1+Uy.count(wd(t),t),e,3)}function $W(t,e){return jn(t.getMilliseconds(),e,3)}function e0e(t,e){return $W(t,e)+"000"}function t0e(t,e){return jn(t.getMonth()+1,e,2)}function r0e(t,e){return jn(t.getMinutes(),e,2)}function n0e(t,e){return jn(t.getSeconds(),e,2)}function a0e(t){var e=t.getDay();return e===0?7:e}function s0e(t,e){return jn(Xw.count(wd(t)-1,t),e,2)}function FW(t){var e=t.getDay();return e>=4||e===0?Up(t):Up.ceil(t)}function i0e(t,e){return t=FW(t),jn(Up.count(wd(t),t)+(wd(t).getDay()===4),e,2)}function o0e(t){return t.getDay()}function l0e(t,e){return jn(u1.count(wd(t)-1,t),e,2)}function c0e(t,e){return jn(t.getFullYear()%100,e,2)}function d0e(t,e){return t=FW(t),jn(t.getFullYear()%100,e,2)}function u0e(t,e){return jn(t.getFullYear()%1e4,e,4)}function f0e(t,e){var r=t.getDay();return t=r>=4||r===0?Up(t):Up.ceil(t),jn(t.getFullYear()%1e4,e,4)}function h0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jn(e/60|0,"0",2)+jn(e%60,"0",2)}function n7(t,e){return jn(t.getUTCDate(),e,2)}function m0e(t,e){return jn(t.getUTCHours(),e,2)}function p0e(t,e){return jn(t.getUTCHours()%12||12,e,2)}function g0e(t,e){return jn(1+Yw.count(Nd(t),t),e,3)}function BW(t,e){return jn(t.getUTCMilliseconds(),e,3)}function x0e(t,e){return BW(t,e)+"000"}function y0e(t,e){return jn(t.getUTCMonth()+1,e,2)}function v0e(t,e){return jn(t.getUTCMinutes(),e,2)}function b0e(t,e){return jn(t.getUTCSeconds(),e,2)}function w0e(t){var e=t.getUTCDay();return e===0?7:e}function N0e(t,e){return jn(Qw.count(Nd(t)-1,t),e,2)}function UW(t){var e=t.getUTCDay();return e>=4||e===0?zp(t):zp.ceil(t)}function j0e(t,e){return t=UW(t),jn(zp.count(Nd(t),t)+(Nd(t).getUTCDay()===4),e,2)}function S0e(t){return t.getUTCDay()}function k0e(t,e){return jn(f1.count(Nd(t)-1,t),e,2)}function _0e(t,e){return jn(t.getUTCFullYear()%100,e,2)}function C0e(t,e){return t=UW(t),jn(t.getUTCFullYear()%100,e,2)}function T0e(t,e){return jn(t.getUTCFullYear()%1e4,e,4)}function P0e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?zp(t):zp.ceil(t),jn(t.getUTCFullYear()%1e4,e,4)}function E0e(){return"+0000"}function a7(){return"%"}function s7(t){return+t}function i7(t){return Math.floor(+t/1e3)}var Lm,zW,qW;A0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A0e(t){return Lm=Age(t),zW=Lm.format,Lm.parse,qW=Lm.utcFormat,Lm.utcParse,Lm}function I0e(t){return new Date(t)}function O0e(t){return t instanceof Date?+t:+new Date(+t)}function jP(t,e,r,n,s,i,o,c,u,f){var h=cP(),m=h.invert,g=h.domain,v=f(".%L"),j=f(":%S"),w=f("%I:%M"),b=f("%I %p"),_=f("%a %d"),T=f("%b %d"),E=f("%B"),k=f("%Y");function C(S){return(u(S)<S?v:c(S)<S?j:o(S)<S?w:i(S)<S?b:n(S)<S?s(S)<S?_:T:r(S)<S?E:k)(S)}return h.invert=function(S){return new Date(m(S))},h.domain=function(S){return arguments.length?g(Array.from(S,O0e)):g().map(I0e)},h.ticks=function(S){var A=g();return t(A[0],A[A.length-1],S??10)},h.tickFormat=function(S,A){return A==null?C:f(A)},h.nice=function(S){var A=g();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?g(PW(A,S)):h},h.copy=function(){return By(h,jP(t,e,r,n,s,i,o,c,u,f))},h}function M0e(){return zo.apply(jP(Pge,Ege,wd,wP,Xw,Uy,vP,xP,Jf,zW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R0e(){return zo.apply(jP(Cge,Tge,Nd,NP,Qw,Yw,bP,yP,Jf,qW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jw(){var t=0,e=1,r,n,s,i,o=wi,c=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(g){var v,j;return arguments.length?([v,j]=g,o=m(v,j),f):[o(0),o(1)]}}return f.range=h(Sg),f.rangeRound=h(lP),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),f}}function Ju(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VW(){var t=Qu(Jw()(wi));return t.copy=function(){return Ju(t,VW())},_d.apply(t,arguments)}function WW(){var t=fP(Jw()).domain([1,10]);return t.copy=function(){return Ju(t,WW()).base(t.base())},_d.apply(t,arguments)}function HW(){var t=hP(Jw());return t.copy=function(){return Ju(t,HW()).constant(t.constant())},_d.apply(t,arguments)}function SP(){var t=mP(Jw());return t.copy=function(){return Ju(t,SP()).exponent(t.exponent())},_d.apply(t,arguments)}function D0e(){return SP.apply(null,arguments).exponent(.5)}function KW(){var t=[],e=wi;function r(n){if(n!=null&&!isNaN(n=+n))return e(($y(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Eu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Npe(t,i/n))},r.copy=function(){return KW(e).domain(t)},_d.apply(r,arguments)}function Zw(){var t=0,e=.5,r=1,n=1,s,i,o,c,u,f=wi,h,m=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-i)*(n*w<n*i?c:u),f(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,s=h(t=+t),i=h(e=+e),o=h(r=+r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(f=w,v):f};function j(w){return function(b){var _,T,E;return arguments.length?([_,T,E]=b,f=Gpe(w,[_,T,E]),v):[f(0),f(.5),f(1)]}}return v.range=j(Sg),v.rangeRound=j(lP),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return h=w,s=w(t),i=w(e),o=w(r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,v}}function GW(){var t=Qu(Zw()(wi));return t.copy=function(){return Ju(t,GW())},_d.apply(t,arguments)}function YW(){var t=fP(Zw()).domain([.1,1,10]);return t.copy=function(){return Ju(t,YW()).base(t.base())},_d.apply(t,arguments)}function XW(){var t=hP(Zw());return t.copy=function(){return Ju(t,XW()).constant(t.constant())},_d.apply(t,arguments)}function kP(){var t=mP(Zw());return t.copy=function(){return Ju(t,kP()).exponent(t.exponent())},_d.apply(t,arguments)}function L0e(){return kP.apply(null,arguments).exponent(.5)}const o7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_x,scaleDiverging:GW,scaleDivergingLog:YW,scaleDivergingPow:kP,scaleDivergingSqrt:L0e,scaleDivergingSymlog:XW,scaleIdentity:TW,scaleImplicit:N_,scaleLinear:c1,scaleLog:EW,scaleOrdinal:sP,scalePoint:ex,scalePow:pP,scaleQuantile:OW,scaleQuantize:MW,scaleRadial:IW,scaleSequential:VW,scaleSequentialLog:WW,scaleSequentialPow:SP,scaleSequentialQuantile:KW,scaleSequentialSqrt:D0e,scaleSequentialSymlog:HW,scaleSqrt:xge,scaleSymlog:AW,scaleThreshold:RW,scaleTime:M0e,scaleUtc:R0e,tickFormat:CW},Symbol.toStringTag,{value:"Module"}));var l4,l7;function QW(){if(l7)return l4;l7=1;var t=vg();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var c=r[i],u=n(c);if(u!=null&&(f===void 0?u===u&&!t(u):s(u,f)))var f=u,h=c}return h}return l4=e,l4}var c4,c7;function $0e(){if(c7)return c4;c7=1;function t(e,r){return e>r}return c4=t,c4}var d4,d7;function F0e(){if(d7)return d4;d7=1;var t=QW(),e=$0e(),r=jg();function n(s){return s&&s.length?t(s,r,e):void 0}return d4=n,d4}var B0e=F0e();const Nu=Yn(B0e);var u4,u7;function U0e(){if(u7)return u4;u7=1;function t(e,r){return e<r}return u4=t,u4}var f4,f7;function z0e(){if(f7)return f4;f7=1;var t=QW(),e=U0e(),r=jg();function n(s){return s&&s.length?t(s,r,e):void 0}return f4=n,f4}var q0e=z0e();const e2=Yn(q0e);var h4,h7;function V0e(){if(h7)return h4;h7=1;var t=UT(),e=Xu(),r=sW(),n=qi();function s(i,o){var c=n(i)?t:r;return c(i,e(o,3))}return h4=s,h4}var m4,m7;function W0e(){if(m7)return m4;m7=1;var t=nW(),e=V0e();function r(n,s){return t(e(n,s),1)}return m4=r,m4}var H0e=W0e();const K0e=Yn(H0e);var p4,p7;function G0e(){if(p7)return p4;p7=1;var t=eP();function e(r,n){return t(r,n)}return p4=e,p4}var Y0e=G0e();const qp=Yn(Y0e);var kg=1e9,X0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CP,ma=!0,Uo="[DecimalError] ",ph=Uo+"Invalid argument: ",_P=Uo+"Exponent out of range: ",_g=Math.floor,qf=Math.pow,Q0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,so,xs=1e7,la=7,JW=9007199254740991,h1=_g(JW/la),Rt={};Rt.absoluteValue=Rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Rt.comparedTo=Rt.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Rt.decimalPlaces=Rt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*la;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Rt.dividedBy=Rt.div=function(t){return dd(this,new this.constructor(t))};Rt.dividedToIntegerBy=Rt.idiv=function(t){var e=this,r=e.constructor;return Gn(dd(e,new r(t),0,1),r.precision)};Rt.equals=Rt.eq=function(t){return!this.cmp(t)};Rt.exponent=function(){return Ka(this)};Rt.greaterThan=Rt.gt=function(t){return this.cmp(t)>0};Rt.greaterThanOrEqualTo=Rt.gte=function(t){return this.cmp(t)>=0};Rt.isInteger=Rt.isint=function(){return this.e>this.d.length-2};Rt.isNegative=Rt.isneg=function(){return this.s<0};Rt.isPositive=Rt.ispos=function(){return this.s>0};Rt.isZero=function(){return this.s===0};Rt.lessThan=Rt.lt=function(t){return this.cmp(t)<0};Rt.lessThanOrEqualTo=Rt.lte=function(t){return this.cmp(t)<1};Rt.logarithm=Rt.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(so))throw Error(Uo+"NaN");if(r.s<1)throw Error(Uo+(r.s?"NaN":"-Infinity"));return r.eq(so)?new n(0):(ma=!1,e=dd(Ax(r,i),Ax(t,i),i),ma=!0,Gn(e,s))};Rt.minus=Rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tH(e,t):ZW(e,(t.s=-t.s,t))};Rt.modulo=Rt.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Uo+"NaN");return r.s?(ma=!1,e=dd(r,t,0,1).times(t),ma=!0,r.minus(e)):Gn(new n(r),s)};Rt.naturalExponential=Rt.exp=function(){return eH(this)};Rt.naturalLogarithm=Rt.ln=function(){return Ax(this)};Rt.negated=Rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Rt.plus=Rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZW(e,t):tH(e,(t.s=-t.s,t))};Rt.precision=Rt.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ph+t);if(e=Ka(s)+1,n=s.d.length-1,r=n*la+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Rt.squareRoot=Rt.sqrt=function(){var t,e,r,n,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Uo+"NaN")}for(t=Ka(c),ma=!1,s=Math.sqrt(+c),s==0||s==1/0?(e=ic(c.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=_g((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=n,n=i.plus(dd(c,i,o+2)).times(.5),ic(i.d).slice(0,o)===(e=ic(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(Gn(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(e!="9999")break;o+=4}return ma=!0,Gn(n,r)};Rt.times=Rt.mul=function(t){var e,r,n,s,i,o,c,u,f,h=this,m=h.constructor,g=h.d,v=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,u=g.length,f=v.length,u<f&&(i=g,g=v,v=i,o=u,u=f,f=o),i=[],o=u+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(e=0,s=u+n;s>n;)c=i[s]+v[n]*g[s-n-1]+e,i[s--]=c%xs|0,e=c/xs|0;i[s]=(i[s]+e)%xs|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,ma?Gn(t,m.precision):t};Rt.toDecimalPlaces=Rt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(mc(t,0,kg),e===void 0?e=n.rounding:mc(e,0,8),Gn(r,t+Ka(r)+1,e))};Rt.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Th(n,!0):(mc(t,0,kg),e===void 0?e=s.rounding:mc(e,0,8),n=Gn(new s(n),t+1,e),r=Th(n,!0,t+1)),r};Rt.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?Th(s):(mc(t,0,kg),e===void 0?e=i.rounding:mc(e,0,8),n=Gn(new i(s),t+Ka(s)+1,e),r=Th(n.abs(),!1,t+Ka(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Rt.toInteger=Rt.toint=function(){var t=this,e=t.constructor;return Gn(new e(t),Ka(t)+1,e.rounding)};Rt.toNumber=function(){return+this};Rt.toPower=Rt.pow=function(t){var e,r,n,s,i,o,c=this,u=c.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(so);if(c=new u(c),!c.s){if(t.s<1)throw Error(Uo+"Infinity");return c}if(c.eq(so))return c;if(n=u.precision,t.eq(so))return Gn(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=c.s,o){if((r=h<0?-h:h)<=JW){for(s=new u(so),e=Math.ceil(n/la+4),ma=!1;r%2&&(s=s.times(c),x7(s.d,e)),r=_g(r/2),r!==0;)c=c.times(c),x7(c.d,e);return ma=!0,t.s<0?new u(so).div(s):Gn(s,n)}}else if(i<0)throw Error(Uo+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,ma=!1,s=t.times(Ax(c,n+f)),ma=!0,s=eH(s),s.s=i,s};Rt.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=Ka(s),n=Th(s,r<=i.toExpNeg||r>=i.toExpPos)):(mc(t,1,kg),e===void 0?e=i.rounding:mc(e,0,8),s=Gn(new i(s),t,e),r=Ka(s),n=Th(s,t<=r||r<=i.toExpNeg,t)),n};Rt.toSignificantDigits=Rt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(mc(t,1,kg),e===void 0?e=n.rounding:mc(e,0,8)),Gn(new n(r),t,e)};Rt.toString=Rt.valueOf=Rt.val=Rt.toJSON=Rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ka(t),r=t.constructor;return Th(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZW(t,e){var r,n,s,i,o,c,u,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ma?Gn(e,m):e;if(u=t.d,f=e.d,o=t.e,s=e.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,c=f.length):(n=f,s=o,c=u.length),o=Math.ceil(m/la),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=u.length,i=f.length,c-i<0&&(i=c,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/xs|0,u[i]%=xs;for(r&&(u.unshift(r),++s),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=s,ma?Gn(e,m):e}function mc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ph+t)}function ic(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=la-n.length,r&&(i+=au(r)),i+=n;o=t[e],n=o+"",r=la-n.length,r&&(i+=au(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var dd=(function(){function t(n,s){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+o,n[c]=i%xs|0,o=i/xs|0;return o&&n.unshift(o),n}function e(n,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(n[c]!=s[c]){u=n[c]>s[c]?1:-1;break}return u}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*xs+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var c,u,f,h,m,g,v,j,w,b,_,T,E,k,C,S,A,R,D=n.constructor,B=n.s==s.s?1:-1,F=n.d,z=s.d;if(!n.s)return new D(n);if(!s.s)throw Error(Uo+"Division by zero");for(u=n.e-s.e,A=z.length,C=F.length,v=new D(B),j=v.d=[],f=0;z[f]==(F[f]||0);)++f;if(z[f]>(F[f]||0)&&--u,i==null?T=i=D.precision:o?T=i+(Ka(n)-Ka(s))+1:T=i,T<0)return new D(0);if(T=T/la+2|0,f=0,A==1)for(h=0,z=z[0],T++;(f<C||h)&&T--;f++)E=h*xs+(F[f]||0),j[f]=E/z|0,h=E%z|0;else{for(h=xs/(z[0]+1)|0,h>1&&(z=t(z,h),F=t(F,h),A=z.length,C=F.length),k=A,w=F.slice(0,A),b=w.length;b<A;)w[b++]=0;R=z.slice(),R.unshift(0),S=z[0],z[1]>=xs/2&&++S;do h=0,c=e(z,w,A,b),c<0?(_=w[0],A!=b&&(_=_*xs+(w[1]||0)),h=_/S|0,h>1?(h>=xs&&(h=xs-1),m=t(z,h),g=m.length,b=w.length,c=e(m,w,g,b),c==1&&(h--,r(m,A<g?R:z,g))):(h==0&&(c=h=1),m=z.slice()),g=m.length,g<b&&m.unshift(0),r(w,m,b),c==-1&&(b=w.length,c=e(z,w,A,b),c<1&&(h++,r(w,A<b?R:z,b))),b=w.length):c===0&&(h++,w=[0]),j[f++]=h,c&&w[0]?w[b++]=F[k]||0:(w=[F[k]],b=1);while((k++<C||w[0]!==void 0)&&T--)}return j[0]||j.shift(),v.e=u,Gn(v,o?i+Ka(v)+1:i)}})();function eH(t,e){var r,n,s,i,o,c,u=0,f=0,h=t.constructor,m=h.precision;if(Ka(t)>16)throw Error(_P+Ka(t));if(!t.s)return new h(so);for(ma=!1,c=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(qf(2,f))/Math.LN10*2+5|0,c+=n,r=s=i=new h(so),h.precision=c;;){if(s=Gn(s.times(t),c),r=r.times(++u),o=i.plus(dd(s,r,c)),ic(o.d).slice(0,c)===ic(i.d).slice(0,c)){for(;f--;)i=Gn(i.times(i),c);return h.precision=m,e==null?(ma=!0,Gn(i,m)):i}i=o}}function Ka(t){for(var e=t.e*la,r=t.d[0];r>=10;r/=10)e++;return e}function g4(t,e,r){if(e>t.LN10.sd())throw ma=!0,r&&(t.precision=r),Error(Uo+"LN10 precision limit exceeded");return Gn(new t(t.LN10),e)}function au(t){for(var e="";t--;)e+="0";return e}function Ax(t,e){var r,n,s,i,o,c,u,f,h,m=1,g=10,v=t,j=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(Uo+(v.s?"NaN":"-Infinity"));if(v.eq(so))return new w(0);if(e==null?(ma=!1,f=b):f=e,v.eq(10))return e==null&&(ma=!0),g4(w,f);if(f+=g,w.precision=f,r=ic(j),n=r.charAt(0),i=Ka(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=ic(v.d),n=r.charAt(0),m++;i=Ka(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return u=g4(w,f+2,b).times(i+""),v=Ax(new w(n+"."+r.slice(1)),f-g).plus(u),w.precision=b,e==null?(ma=!0,Gn(v,b)):v;for(c=o=v=dd(v.minus(so),v.plus(so),f),h=Gn(v.times(v),f),s=3;;){if(o=Gn(o.times(h),f),u=c.plus(dd(o,new w(s),f)),ic(u.d).slice(0,f)===ic(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(g4(w,f+2,b).times(i+""))),c=dd(c,new w(m),f),w.precision=b,e==null?(ma=!0,Gn(c,b)):c;c=u,s+=2}}function g7(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=_g(r/la),t.d=[],n=(r+1)%la,r<0&&(n+=la),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=la;n<s;)t.d.push(+e.slice(n,n+=la));e=e.slice(n),n=la-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),ma&&(t.e>h1||t.e<-h1))throw Error(_P+r)}else t.s=0,t.e=0,t.d=[0];return t}function Gn(t,e,r){var n,s,i,o,c,u,f,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=la,s=e,f=m[h=0];else{if(h=Math.ceil((n+1)/la),i=m.length,h>=i)return t;for(f=i=m[h],o=1;i>=10;i/=10)o++;n%=la,s=n-la+o}if(r!==void 0&&(i=qf(10,o-s-1),c=f/i%10|0,u=e<0||m[h+1]!==void 0||f%i,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?s>0?f/qf(10,o-s):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return u?(i=Ka(t),m.length=1,e=e-i-1,m[0]=qf(10,(la-e%la)%la),t.e=_g(-e/la)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=qf(10,la-n),m[h]=s>0?(f/qf(10,o-s)%qf(10,s)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==xs&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=xs)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(ma&&(t.e>h1||t.e<-h1))throw Error(_P+Ka(t));return t}function tH(t,e){var r,n,s,i,o,c,u,f,h,m,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ma?Gn(e,v):e;if(u=t.d,m=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(h=o<0,h?(r=u,o=-o,c=m.length):(r=m,n=f,c=u.length),s=Math.max(Math.ceil(v/la),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,c=m.length,h=s<c,h&&(c=s),s=0;s<c;s++)if(u[s]!=m[s]){h=u[s]<m[s];break}o=0}for(h&&(r=u,u=m,m=r,e.s=-e.s),c=u.length,s=m.length-c;s>0;--s)u[c++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=xs-1;--u[i],u[s]+=xs}u[s]-=m[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,ma?Gn(e,v):e):new g(0)}function Th(t,e,r){var n,s=Ka(t),i=ic(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+au(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+au(-s-1)+i,r&&(n=r-o)>0&&(i+=au(n))):s>=o?(i+=au(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+au(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=au(n))),t.s<0?"-"+i:i}function x7(t,e){if(t.length>e)return t.length=e,!0}function rH(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ph+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return g7(o,i.toString())}else if(typeof i!="string")throw Error(ph+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Q0e.test(i))g7(o,i);else throw Error(ph+i)}if(s.prototype=Rt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=rH,s.config=s.set=J0e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function J0e(t){if(!t||typeof t!="object")throw Error(Uo+"Object expected");var e,r,n,s=["precision",1,kg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(_g(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(ph+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ph+r+": "+n);return this}var CP=rH(X0e);so=new CP(1);const Bn=CP;function Z0e(t){return nxe(t)||rxe(t)||txe(t)||exe()}function exe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return __(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(t,e)}}function rxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nxe(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var axe=function(e){return e},nH={},aH=function(e){return e===nH},y7=function(e){return function r(){return arguments.length===0||arguments.length===1&&aH(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},sxe=function t(e,r){return e===1?r:y7(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==nH}).length;return o>=e?r.apply(void 0,s):t(e-o,y7(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var h=s.map(function(m){return aH(m)?u.shift():m});return r.apply(void 0,Z0e(h).concat(u))}))})},t2=function(e){return sxe(e.length,e)},C_=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},ixe=t2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),oxe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return axe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,u){return u(c)},i.apply(void 0,arguments))}},T_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sH=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(c,u){return c===r[u]})||(r=i,n=e.apply(void 0,i)),n}};function lxe(t){var e;return t===0?e=1:e=Math.floor(new Bn(t).abs().log(10).toNumber())+1,e}function cxe(t,e,r){for(var n=new Bn(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var dxe=t2(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),uxe=t2(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),fxe=t2(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const r2={rangeStep:cxe,getDigitCount:lxe,interpolateNumber:dxe,uninterpolateNumber:uxe,uninterpolateTruncation:fxe};function P_(t){return pxe(t)||mxe(t)||iH(t)||hxe()}function hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pxe(t){if(Array.isArray(t))return E_(t)}function Ix(t,e){return yxe(t)||xxe(t,e)||iH(t,e)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(t,e){if(t){if(typeof t=="string")return E_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E_(t,e)}}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(u){s=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function yxe(t){if(Array.isArray(t))return t}function oH(t){var e=Ix(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function lH(t,e,r){if(t.lte(0))return new Bn(0);var n=r2.getDigitCount(t.toNumber()),s=new Bn(10).pow(n),i=t.div(s),o=n!==1?.05:.1,c=new Bn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=c.mul(s);return e?u:new Bn(Math.ceil(u))}function vxe(t,e,r){var n=1,s=new Bn(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new Bn(10).pow(r2.getDigitCount(t)-1),s=new Bn(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Bn(Math.floor(t)))}else t===0?s=new Bn(Math.floor((e-1)/2)):r||(s=new Bn(Math.floor(t)));var o=Math.floor((e-1)/2),c=oxe(ixe(function(u){return s.add(new Bn(u-o).mul(n)).toNumber()}),C_);return c(0,e)}function cH(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Bn(0),tickMin:new Bn(0),tickMax:new Bn(0)};var i=lH(new Bn(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new Bn(0):(o=new Bn(t).add(e).div(2),o=o.sub(new Bn(o).mod(i)));var c=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new Bn(e).sub(o).div(i).toNumber()),f=c+u+1;return f>r?cH(t,e,r,n,s+1):(f<r&&(u=e>0?u+(r-f):u,c=e>0?c:c+(r-f)),{step:i,tickMin:o.sub(new Bn(c).mul(i)),tickMax:o.add(new Bn(u).mul(i))})}function bxe(t){var e=Ix(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=oH([r,n]),u=Ix(c,2),f=u[0],h=u[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(P_(C_(0,s-1).map(function(){return 1/0}))):[].concat(P_(C_(0,s-1).map(function(){return-1/0})),[h]);return r>n?T_(m):m}if(f===h)return vxe(f,s,i);var g=cH(f,h,o,i),v=g.step,j=g.tickMin,w=g.tickMax,b=r2.rangeStep(j,w.add(new Bn(.1).mul(v)),v);return r>n?T_(b):b}function wxe(t,e){var r=Ix(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oH([n,s]),c=Ix(o,2),u=c[0],f=c[1];if(u===-1/0||f===1/0)return[n,s];if(u===f)return[u];var h=Math.max(e,2),m=lH(new Bn(f).sub(u).div(h-1),i,0),g=[].concat(P_(r2.rangeStep(new Bn(u),new Bn(f).sub(new Bn(.99).mul(m)),m)),[f]);return n>s?T_(g):g}var Nxe=sH(bxe),jxe=sH(wxe),Sxe="Invariant failed";function Ph(t,e){throw new Error(Sxe)}var kxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function _xe(t,e){return Exe(t)||Pxe(t,e)||Txe(t,e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Txe(t,e){if(t){if(typeof t=="string")return v7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v7(t,e)}}function v7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function Exe(t){if(Array.isArray(t))return t}function Axe(t,e){if(t==null)return{};var r=Ixe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ixe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fH(n.key),n)}}function Rxe(t,e,r){return e&&Mxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,r){return e=p1(e),Lxe(t,dH()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function Lxe(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $xe(t)}function $xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function Fxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},A_(t,e)}function uH(t,e,r){return e=fH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fH(t){var e=Bxe(t,"string");return Vp(e)=="symbol"?e:e+""}function Bxe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=(function(t){function e(){return Oxe(this,e),Dxe(this,e,arguments)}return Fxe(e,t),Rxe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,c=n.dataKey,u=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,g=Axe(n,kxe),v=Kr(g,!1);this.props.direction==="x"&&h.type!=="number"&&Ph();var j=u.map(function(w){var b=f(w,c),_=b.x,T=b.y,E=b.value,k=b.errorVal;if(!k)return null;var C=[],S,A;if(Array.isArray(k)){var R=_xe(k,2);S=R[0],A=R[1]}else S=A=k;if(i==="vertical"){var D=h.scale,B=T+s,F=B+o,z=B-o,X=D(E-S),V=D(E+A);C.push({x1:V,y1:F,x2:V,y2:z}),C.push({x1:X,y1:B,x2:V,y2:B}),C.push({x1:X,y1:F,x2:X,y2:z})}else if(i==="horizontal"){var Z=m.scale,ee=_+s,W=ee-o,K=ee+o,G=Z(E-S),Q=Z(E+A);C.push({x1:W,y1:Q,x2:K,y2:Q}),C.push({x1:ee,y1:G,x2:ee,y2:Q}),C.push({x1:W,y1:G,x2:K,y2:G})}return fe.createElement(ra,m1({className:"recharts-errorBar",key:"bar-".concat(C.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},v),C.map(function($){return fe.createElement("line",m1({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return fe.createElement(ra,{className:"recharts-errorBars"},j)}}])})(fe.Component);uH(zy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uH(zy,"displayName","ErrorBar");function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function b7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Bf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b7(Object(r),!0).forEach(function(n){Uxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uxe(t,e,r){return e=zxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zxe(t){var e=qxe(t,"string");return Ox(e)=="symbol"?e:e+""}function qxe(t,e){if(Ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hH=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=no(r,up);if(!o)return null;var c=up.defaultProps,u=c!==void 0?Bf(Bf({},c),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:i==="children"?f=(n||[]).reduce(function(h,m){var g=m.item,v=m.props,j=v.sectors||v.data||[];return h.concat(j.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(h){var m=h.item,g=m.type.defaultProps,v=g!==void 0?Bf(Bf({},g),m.props):{},j=v.dataKey,w=v.name,b=v.legendType,_=v.hide;return{inactive:_,dataKey:j,type:u.iconType||b||"square",color:TP(m),value:w||j,payload:v}}),Bf(Bf(Bf({},u),up.getWithHeight(o,s)),{},{payload:f,item:o})};function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function w7(t){return Kxe(t)||Hxe(t)||Wxe(t)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return I_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(t,e)}}function Hxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(n){hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hp(t,e,r){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gxe(t){var e=Yxe(t,"string");return Mx(e)=="symbol"?e:e+""}function Yxe(t,e){if(Mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Si(t,e,r){return Zr(t)||Zr(e)?r:ss(e)?$o(t,e,r):Jr(e)?e(t):r}function tx(t,e,r,n){var s=K0e(t,function(c){return Si(c,e)});if(r==="number"){var i=s.filter(function(c){return gt(c)||parseFloat(c)});return i.length?[e2(i),Nu(i)]:[1/0,-1/0]}var o=n?s.filter(function(c){return!Zr(c)}):s;return o.map(function(c){return ss(c)||c instanceof Date?c:""})}var Xxe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,f=0;f<c;f++){var h=f>0?s[f-1].coordinate:s[c-1].coordinate,m=s[f].coordinate,g=f>=c-1?s[0].coordinate:s[f+1].coordinate,v=void 0;if(Nl(m-h)!==Nl(g-m)){var j=[];if(Nl(g-m)===Nl(u[1]-u[0])){v=g;var w=m+u[1]-u[0];j[0]=Math.min(w,(w+h)/2),j[1]=Math.max(w,(w+h)/2)}else{v=h;var b=g+u[1]-u[0];j[0]=Math.min(m,(b+m)/2),j[1]=Math.max(m,(b+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=j[0]&&e<=j[1]){o=s[f].index;break}}else{var T=Math.min(h,g),E=Math.max(h,g);if(e>(T+m)/2&&e<=(E+m)/2){o=s[f].index;break}}}else for(var k=0;k<c;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<c-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===c-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},TP=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ta(Ta({},e.type.defaultProps),e.props):e.props,o=i.stroke,c=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},Qxe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),u=0,f=c.length;u<f;u++)for(var h=i[c[u]].stackGroups,m=Object.keys(h),g=0,v=m.length;g<v;g++){var j=h[m[g]],w=j.items,b=j.cateAxisId,_=w.filter(function(A){return cd(A.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,E=T!==void 0?Ta(Ta({},T),_[0].props):_[0].props,k=E.barSize,C=E[b];o[C]||(o[C]=[]);var S=Zr(k)?r:k;o[C].push({item:_[0],stackList:_.slice(1),barSize:Zr(S)?void 0:Ch(S,n,0)})}}return o},Jxe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,c=e.maxBarSize,u=o.length;if(u<1)return null;var f=Ch(r,s,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=s/u,j=o.reduce(function(k,C){return k+C.barSize||0},0);j+=(u-1)*f,j>=s&&(j-=(u-1)*f,f=0),j>=s&&v>0&&(g=!0,v*=.9,j=u*v);var w=(s-j)/2>>0,b={offset:w-f,size:0};h=o.reduce(function(k,C){var S={item:C.item,position:{offset:b.offset+b.size+f,size:g?v:C.barSize}},A=[].concat(w7(k),[S]);return b=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){A.push({item:R,position:b})}),A},m)}else{var _=Ch(n,s,0,!0);s-2*_-(u-1)*f<=0&&(f=0);var T=(s-2*_-(u-1)*f)/u;T>1&&(T>>=0);var E=c===+c?Math.min(T,c):T;h=o.reduce(function(k,C,S){var A=[].concat(w7(k),[{item:C.item,position:{offset:_+(T+f)*S+(T-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){A.push({item:R,position:A[A.length-1].position})}),A},m)}return h},Zxe=function(e,r,n,s){var i=n.children,o=n.width,c=n.margin,u=o-(c.left||0)-(c.right||0),f=hH({children:i,legendWidth:u});if(f){var h=s||{},m=h.width,g=h.height,v=f.align,j=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&v!=="center"&&gt(e[v]))return Ta(Ta({},e),{},hp({},v,e[v]+(m||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&j!=="middle"&&gt(e[j]))return Ta(Ta({},e),{},hp({},j,e[j]+(g||0)))}return e},eye=function(e,r,n){return Zr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mH=function(e,r,n,s,i){var o=r.props.children,c=Fo(o,zy).filter(function(f){return eye(s,i,f.props.direction)});if(c&&c.length){var u=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Si(h,n);if(Zr(m))return f;var g=Array.isArray(m)?[e2(m),Nu(m)]:[m,m],v=u.reduce(function(j,w){var b=Si(h,w,0),_=g[0]-Math.abs(Array.isArray(b)?b[0]:b),T=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,j[0]),Math.max(T,j[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},tye=function(e,r,n,s,i){var o=r.map(function(c){return mH(e,c,n,i,s)}).filter(function(c){return!Zr(c)});return o&&o.length?o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},pH=function(e,r,n,s,i){var o=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&mH(e,u,f,s)||tx(e,f,n,i)});if(n==="number")return o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var c={};return o.reduce(function(u,f){for(var h=0,m=f.length;h<m;h++)c[f[h]]||(c[f[h]]=!0,u.push(f[h]));return u},[])},gH=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Zf=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,c=e.range,u=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(f=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Nl(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+f,value:m,offset:f}});return h.filter(function(m){return!wg(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:s(m)+f,value:m,index:g,offset:f}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,g){return{coordinate:s(m)+f,value:i?i[m]:m,index:g,offset:f}})},x4=new WeakMap,Zv=function(e,r){if(typeof r!="function")return e;x4.has(e)||x4.set(e,new WeakMap);var n=x4.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},rye=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,c=e.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:_x(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:c1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ex(),realScaleType:"point"}:i==="category"?{scale:_x(),realScaleType:"band"}:{scale:c1(),realScaleType:"linear"};if(_h(s)){var u="scale".concat(Uw(s));return{scale:(o7[u]||ex)(),realScaleType:o7[u]?u:"point"}}return Jr(s)?{scale:s}:{scale:ex(),realScaleType:"point"}},j7=1e-4,nye=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-j7,o=Math.max(s[0],s[1])+j7,c=e(r[0]),u=e(r[n-1]);(c<i||c>o||u<i||u>o)&&e.domain([r[0],r[n-1]])}},aye=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},sye=function(e,r){if(!r||r.length!==2||!gt(r[0])||!gt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!gt(e[0])||e[0]<n)&&(i[0]=n),(!gt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},iye=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,c=0;c<r;++c){var u=wg(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=i,e[c][n][1]=i+u,i=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+u,o=e[c][n][1])}},oye=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var c=wg(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},lye={sign:iye,expand:Wue,none:Rp,silhouette:Hue,wiggle:Kue,positive:oye},cye=function(e,r,n){var s=r.map(function(c){return c.props.dataKey}),i=lye[n],o=Vue().keys(s).value(function(c,u){return+Si(c,u,0)}).order(l_).offset(i);return o(e)},dye=function(e,r,n,s,i,o){if(!e)return null;var c=o?r.reverse():r,u={},f=c.reduce(function(m,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?Ta(Ta({},g.type.defaultProps),g.props):g.props,w=j.stackId,b=j.hide;if(b)return m;var _=j[n],T=m[_]||{hasStack:!1,stackGroups:{}};if(ss(w)){var E=T.stackGroups[w]||{numericAxisId:n,cateAxisId:s,items:[]};E.items.push(g),T.hasStack=!0,T.stackGroups[w]=E}else T.stackGroups[Ng("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[g]};return Ta(Ta({},m),{},hp({},_,T))},u),h={};return Object.keys(f).reduce(function(m,g){var v=f[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var _=v.stackGroups[b];return Ta(Ta({},w),{},hp({},b,{numericAxisId:n,cateAxisId:s,items:_.items,stackedData:cye(e,_.items,i)}))},j)}return Ta(Ta({},m),{},hp({},g,v))},h)},uye=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=Nxe(f,i,c);return e.domain([e2(h),Nu(h)]),{niceTicks:h}}if(i&&s==="number"){var m=e.domain(),g=jxe(m,i,c);return{niceTicks:g}}return null};function g1(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zr(s[e.dataKey])){var c=qb(r,"value",s[e.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Si(s,Zr(o)?e.dataKey:o);return Zr(u)?null:e.scale(u)}var S7=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var u=Si(o,r.dataKey,r.domain[c]);return Zr(u)?null:r.scale(u)-i/2+s},fye=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},hye=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ta(Ta({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(ss(i)){var o=r[i];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},mye=function(e){return e.reduce(function(r,n){return[e2(n.concat([r[0]]).filter(gt)),Nu(n.concat([r[1]]).filter(gt))]},[1/0,-1/0])},xH=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],c=o.stackedData,u=c.reduce(function(f,h){var m=mye(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},k7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(e,r,n){if(Jr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(gt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(k7.test(e[0])){var i=+k7.exec(e[0])[1];s[0]=r[0]-i}else Jr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(gt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(_7.test(e[1])){var o=+_7.exec(e[1])[1];s[1]=r[1]+o}else Jr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},x1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=rP(r,function(m){return m.coordinate}),o=1/0,c=1,u=i.length;c<u;c++){var f=i[c],h=i[c-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},C7=function(e,r,n){return!e||!e.length||qp(e,$o(n,"type.defaultProps.domain"))?r:e},yH=function(e,r){var n=e.type.defaultProps?Ta(Ta({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,c=n.formatter,u=n.tooltipType,f=n.chartType,h=n.hide;return Ta(Ta({},Kr(e,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:TP(e),value:Si(r,s),type:u,payload:r,chartType:f,hide:h})};function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function T7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function P7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(r),!0).forEach(function(n){pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pye(t,e,r){return e=gye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gye(t){var e=xye(t,"string");return Rx(e)=="symbol"?e:e+""}function xye(t,e){if(Rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1=Math.PI/180,yye=function(e){return e*180/Math.PI},Rs=function(e,r,n,s){return{x:e+Math.cos(-y1*s)*n,y:r+Math.sin(-y1*s)*n}},vye=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},bye=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,c=vye({x:n,y:s},{x:i,y:o});if(c<=0)return{radius:c};var u=(n-i)/c,f=Math.acos(u);return s>o&&(f=2*Math.PI-f),{radius:c,angle:yye(f),angleInRadian:f}},wye=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Nye=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),c=Math.min(i,o);return e+c*360},E7=function(e,r){var n=e.x,s=e.y,i=bye({x:n,y:s},r),o=i.radius,c=i.angle,u=r.innerRadius,f=r.outerRadius;if(o<u||o>f)return!1;if(o===0)return!0;var h=wye(r),m=h.startAngle,g=h.endAngle,v=c,j;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=m}return j?P7(P7({},r),{},{radius:o,angle:Nye(v,r)}):null};function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}var jye=["offset"];function Sye(t){return Tye(t)||Cye(t)||_ye(t)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(t,e){if(t){if(typeof t=="string")return M_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(t,e)}}function Cye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tye(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pye(t,e){if(t==null)return{};var r=Eye(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A7(Object(r),!0).forEach(function(n){Aye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aye(t,e,r){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iye(t){var e=Oye(t,"string");return Dx(e)=="symbol"?e:e+""}function Oye(t,e){if(Dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}var Mye=function(e){var r=e.value,n=e.formatter,s=Zr(e.children)?r:e.children;return Jr(n)?n(s):s},Rye=function(e,r){var n=Nl(r-e),s=Math.min(Math.abs(r-e),360);return n*s},Dye=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,c=e.className,u=i,f=u.cx,h=u.cy,m=u.innerRadius,g=u.outerRadius,v=u.startAngle,j=u.endAngle,w=u.clockWise,b=(m+g)/2,_=Rye(v,j),T=_>=0?1:-1,E,k;s==="insideStart"?(E=v+T*o,k=w):s==="insideEnd"?(E=j-T*o,k=!w):s==="end"&&(E=j+T*o,k=w),k=_<=0?k:!k;var C=Rs(f,h,b,E),S=Rs(f,h,b,E+(k?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),R=Zr(e.id)?Ng("recharts-radial-line-"):e.id;return fe.createElement("text",Lx({},n,{dominantBaseline:"central",className:an("recharts-radial-bar-label",c)}),fe.createElement("defs",null,fe.createElement("path",{id:R,d:A})),fe.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Lye=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,c=i.cy,u=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,g=(h+m)/2;if(s==="outside"){var v=Rs(o,c,f+n,g),j=v.x,w=v.y;return{x:j,y:w,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(u+f)/2,_=Rs(o,c,b,g),T=_.x,E=_.y;return{x:T,y:E,textAnchor:"middle",verticalAnchor:"middle"}},$ye=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,c=o.x,u=o.y,f=o.width,h=o.height,m=h>=0?1:-1,g=m*s,v=m>0?"end":"start",j=m>0?"start":"end",w=f>=0?1:-1,b=w*s,_=w>0?"end":"start",T=w>0?"start":"end";if(i==="top"){var E={x:c+f/2,y:u-m*s,textAnchor:"middle",verticalAnchor:v};return rs(rs({},E),n?{height:Math.max(u-n.y,0),width:f}:{})}if(i==="bottom"){var k={x:c+f/2,y:u+h+g,textAnchor:"middle",verticalAnchor:j};return rs(rs({},k),n?{height:Math.max(n.y+n.height-(u+h),0),width:f}:{})}if(i==="left"){var C={x:c-b,y:u+h/2,textAnchor:_,verticalAnchor:"middle"};return rs(rs({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(i==="right"){var S={x:c+f+b,y:u+h/2,textAnchor:T,verticalAnchor:"middle"};return rs(rs({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return i==="insideLeft"?rs({x:c+b,y:u+h/2,textAnchor:T,verticalAnchor:"middle"},A):i==="insideRight"?rs({x:c+f-b,y:u+h/2,textAnchor:_,verticalAnchor:"middle"},A):i==="insideTop"?rs({x:c+f/2,y:u+g,textAnchor:"middle",verticalAnchor:j},A):i==="insideBottom"?rs({x:c+f/2,y:u+h-g,textAnchor:"middle",verticalAnchor:v},A):i==="insideTopLeft"?rs({x:c+b,y:u+g,textAnchor:T,verticalAnchor:j},A):i==="insideTopRight"?rs({x:c+f-b,y:u+g,textAnchor:_,verticalAnchor:j},A):i==="insideBottomLeft"?rs({x:c+b,y:u+h-g,textAnchor:T,verticalAnchor:v},A):i==="insideBottomRight"?rs({x:c+f-b,y:u+h-g,textAnchor:_,verticalAnchor:v},A):bg(i)&&(gt(i.x)||Xf(i.x))&&(gt(i.y)||Xf(i.y))?rs({x:c+Ch(i.x,f),y:u+Ch(i.y,h),textAnchor:"end",verticalAnchor:"end"},A):rs({x:c+f/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Fye=function(e){return"cx"in e&&gt(e.cx)};function ei(t){var e=t.offset,r=e===void 0?5:e,n=Pye(t,jye),s=rs({offset:r},n),i=s.viewBox,o=s.position,c=s.value,u=s.children,f=s.content,h=s.className,m=h===void 0?"":h,g=s.textBreakAll;if(!i||Zr(c)&&Zr(u)&&!x.isValidElement(f)&&!Jr(f))return null;if(x.isValidElement(f))return x.cloneElement(f,s);var v;if(Jr(f)){if(v=x.createElement(f,s),x.isValidElement(v))return v}else v=Mye(s);var j=Fye(i),w=Kr(s,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Dye(s,v,w);var b=j?Lye(s):$ye(s);return fe.createElement(r1,Lx({className:an("recharts-label",m)},w,b,{breakAll:g}),v)}ei.displayName="Label";var vH=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,c=e.r,u=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,v=e.top,j=e.left,w=e.width,b=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(gt(w)&&gt(b)){if(gt(m)&&gt(g))return{x:m,y:g,width:w,height:b};if(gt(v)&&gt(j))return{x:v,y:j,width:w,height:b}}return gt(m)&&gt(g)?{x:m,y:g,width:0,height:0}:gt(r)&&gt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:f||0,outerRadius:h||u||c||0,clockWise:_}:e.viewBox?e.viewBox:{}},Bye=function(e,r){return e?e===!0?fe.createElement(ei,{key:"label-implicit",viewBox:r}):ss(e)?fe.createElement(ei,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===ei?x.cloneElement(e,{key:"label-implicit",viewBox:r}):fe.createElement(ei,{key:"label-implicit",content:e,viewBox:r}):Jr(e)?fe.createElement(ei,{key:"label-implicit",content:e,viewBox:r}):bg(e)?fe.createElement(ei,Lx({viewBox:r},e,{key:"label-implicit"})):null:null},Uye=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=vH(e),o=Fo(s,ei).map(function(u,f){return x.cloneElement(u,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return o;var c=Bye(e.label,r||i);return[c].concat(Sye(o))};ei.parseViewBox=vH;ei.renderCallByParent=Uye;var y4,I7;function zye(){if(I7)return y4;I7=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return y4=t,y4}var qye=zye();const Vye=Yn(qye);function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}var Wye=["valueAccessor"],Hye=["data","dataKey","clockWise","id","textBreakAll"];function Kye(t){return Qye(t)||Xye(t)||Yye(t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t,e){if(t){if(typeof t=="string")return R_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(t,e)}}function Xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qye(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function O7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(r),!0).forEach(function(n){Jye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jye(t,e,r){return e=Zye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zye(t){var e=eve(t,"string");return $x(e)=="symbol"?e:e+""}function eve(t,e){if($x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R7(t,e){if(t==null)return{};var r=tve(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rve=function(e){return Array.isArray(e.value)?Vye(e.value):e.value};function ud(t){var e=t.valueAccessor,r=e===void 0?rve:e,n=R7(t,Wye),s=n.data,i=n.dataKey,o=n.clockWise,c=n.id,u=n.textBreakAll,f=R7(n,Hye);return!s||!s.length?null:fe.createElement(ra,{className:"recharts-label-list"},s.map(function(h,m){var g=Zr(i)?r(h,m):Si(h&&h.payload,i),v=Zr(c)?{}:{id:"".concat(c,"-").concat(m)};return fe.createElement(ei,v1({},Kr(h,!0),f,v,{parentViewBox:h.parentViewBox,value:g,textBreakAll:u,viewBox:ei.parseViewBox(Zr(o)?h:M7(M7({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}ud.displayName="LabelList";function nve(t,e){return t?t===!0?fe.createElement(ud,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||Jr(t)?fe.createElement(ud,{key:"labelList-implicit",data:e,content:t}):bg(t)?fe.createElement(ud,v1({data:e},t,{key:"labelList-implicit"})):null:null}function ave(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Fo(n,ud).map(function(o,c){return x.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return s;var i=nve(t.label,e);return[i].concat(Kye(s))}ud.renderCallByParent=ave;function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D_.apply(this,arguments)}function D7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function L7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(r),!0).forEach(function(n){sve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sve(t,e,r){return e=ive(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ive(t){var e=ove(t,"string");return Fx(e)=="symbol"?e:e+""}function ove(t,e){if(Fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lve=function(e,r){var n=Nl(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},eb=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,c=e.isExternal,u=e.cornerRadius,f=e.cornerIsExternal,h=u*(c?1:-1)+s,m=Math.asin(u/h)/y1,g=f?i:i+o*m,v=Rs(r,n,h,g),j=Rs(r,n,s,g),w=f?i-o*m:i,b=Rs(r,n,h*Math.cos(m*y1),w);return{center:v,circleTangency:j,lineTangency:b,theta:m}},bH=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,c=e.endAngle,u=lve(o,c),f=o+u,h=Rs(r,n,i,o),m=Rs(r,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var v=Rs(r,n,s,o),j=Rs(r,n,s,f);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},cve=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,u=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Nl(h-f),g=eb({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),v=g.circleTangency,j=g.lineTangency,w=g.theta,b=eb({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),_=b.circleTangency,T=b.lineTangency,E=b.theta,k=u?Math.abs(f-h):Math.abs(f-h)-w-E;if(k<0)return c?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bH({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(s>0){var S=eb({cx:r,cy:n,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),A=S.circleTangency,R=S.lineTangency,D=S.theta,B=eb({cx:r,cy:n,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),F=B.circleTangency,z=B.lineTangency,X=B.theta,V=u?Math.abs(f-h):Math.abs(f-h)-D-X;if(V<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},dve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wH=function(e){var r=L7(L7({},dve),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,g=r.className;if(o<i||h===m)return null;var v=an("recharts-sector",g),j=o-i,w=Ch(c,j,0,!0),b;return w>0&&Math.abs(h-m)<360?b=cve({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,j/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):b=bH({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),fe.createElement("path",D_({},Kr(r,!0),{className:v,d:b,role:"img"}))};function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function F7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){uve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uve(t,e,r){return e=fve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fve(t){var e=hve(t,"string");return Bx(e)=="symbol"?e:e+""}function hve(t,e){if(Bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B7={curveBasisClosed:Oue,curveBasisOpen:Mue,curveBasis:Iue,curveBumpX:yue,curveBumpY:vue,curveLinearClosed:Rue,curveLinear:qw,curveMonotoneX:Due,curveMonotoneY:Lue,curveNatural:$ue,curveStep:Fue,curveStepAfter:Uue,curveStepBefore:Bue},tb=function(e){return e.x===+e.x&&e.y===+e.y},E0=function(e){return e.x},A0=function(e){return e.y},mve=function(e,r){if(Jr(e))return e;var n="curve".concat(Uw(e));return(n==="curveMonotone"||n==="curveBump")&&r?B7["".concat(n).concat(r==="vertical"?"Y":"X")]:B7[n]||qw},pve=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,c=e.layout,u=e.connectNulls,f=u===void 0?!1:u,h=mve(n,c),m=f?i.filter(function(w){return tb(w)}):i,g;if(Array.isArray(o)){var v=f?o.filter(function(w){return tb(w)}):o,j=m.map(function(w,b){return F7(F7({},w),{},{base:v[b]})});return c==="vertical"?g=Hv().y(A0).x1(E0).x0(function(w){return w.base.x}):g=Hv().x(E0).y1(A0).y0(function(w){return w.base.y}),g.defined(tb).curve(h),g(j)}return c==="vertical"&&gt(o)?g=Hv().y(A0).x1(E0).x0(o):gt(o)?g=Hv().x(E0).y1(A0).y0(o):g=_V().x(E0).y(A0),g.defined(tb).curve(h),g(m)},mp=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?pve(e):s;return x.createElement("path",L_({},Kr(e,!1),Vb(e),{className:an("recharts-curve",r),d:o,ref:i}))},v4={exports:{}},b4,U7;function gve(){if(U7)return b4;U7=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b4=t,b4}var w4,z7;function xve(){if(z7)return w4;z7=1;var t=gve();function e(){}function r(){}return r.resetWarningCache=e,w4=function(){function n(o,c,u,f,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},w4}var q7;function yve(){return q7||(q7=1,v4.exports=xve()()),v4.exports}var vve=yve();const Pn=Yn(vve);var bve=Object.getOwnPropertyNames,wve=Object.getOwnPropertySymbols,Nve=Object.prototype.hasOwnProperty;function V7(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function rb(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),c=i.get(n);if(o&&c)return o===n&&c===r;i.set(r,n),i.set(n,r);var u=t(r,n,s);return i.delete(r),i.delete(n),u}}function jve(t){return t!=null?t[Symbol.toStringTag]:void 0}function W7(t){return bve(t).concat(wve(t))}var Sve=Object.hasOwn||(function(t,e){return Nve.call(t,e)});function zh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var kve="__v",_ve="__o",Cve="_owner",H7=Object.getOwnPropertyDescriptor,K7=Object.keys;function Tve(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Pve(t,e){return zh(t.getTime(),e.getTime())}function Eve(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ave(t,e){return t===e}function G7(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,c,u=0;(o=i.next())&&!o.done;){for(var f=e.entries(),h=!1,m=0;(c=f.next())&&!c.done;){if(s[m]){m++;continue}var g=o.value,v=c.value;if(r.equals(g[0],v[0],u,m,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){h=s[m]=!0;break}m++}if(!h)return!1;u++}return!0}var Ive=zh;function Ove(t,e,r){var n=K7(t),s=n.length;if(K7(e).length!==s)return!1;for(;s-- >0;)if(!NH(t,e,r,n[s]))return!1;return!0}function I0(t,e,r){var n=W7(t),s=n.length;if(W7(e).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=n[s],!NH(t,e,r,i)||(o=H7(t,i),c=H7(e,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Mve(t,e){return zh(t.valueOf(),e.valueOf())}function Rve(t,e){return t.source===e.source&&t.flags===e.flags}function Y7(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,c;(o=i.next())&&!o.done;){for(var u=e.values(),f=!1,h=0;(c=u.next())&&!c.done;){if(!s[h]&&r.equals(o.value,c.value,o.value,c.value,t,e,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function Dve(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Lve(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NH(t,e,r,n){return(n===Cve||n===_ve||n===kve)&&(t.$$typeof||e.$$typeof)?!0:Sve(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var $ve="[object Arguments]",Fve="[object Boolean]",Bve="[object Date]",Uve="[object Error]",zve="[object Map]",qve="[object Number]",Vve="[object Object]",Wve="[object RegExp]",Hve="[object Set]",Kve="[object String]",Gve="[object URL]",Yve=Array.isArray,X7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q7=Object.assign,Xve=Object.prototype.toString.call.bind(Object.prototype.toString);function Qve(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,c=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,v=t.unknownTagComparators;return function(w,b,_){if(w===b)return!0;if(w==null||b==null)return!1;var T=typeof w;if(T!==typeof b)return!1;if(T!=="object")return T==="number"?o(w,b,_):T==="function"?s(w,b,_):!1;var E=w.constructor;if(E!==b.constructor)return!1;if(E===Object)return c(w,b,_);if(Yve(w))return e(w,b,_);if(X7!=null&&X7(w))return m(w,b,_);if(E===Date)return r(w,b,_);if(E===RegExp)return f(w,b,_);if(E===Map)return i(w,b,_);if(E===Set)return h(w,b,_);var k=Xve(w);if(k===Bve)return r(w,b,_);if(k===Wve)return f(w,b,_);if(k===zve)return i(w,b,_);if(k===Hve)return h(w,b,_);if(k===Vve)return typeof w.then!="function"&&typeof b.then!="function"&&c(w,b,_);if(k===Gve)return g(w,b,_);if(k===Uve)return n(w,b,_);if(k===$ve)return c(w,b,_);if(k===Fve||k===qve||k===Kve)return u(w,b,_);if(v){var C=v[k];if(!C){var S=jve(w);S&&(C=v[S])}if(C)return C(w,b,_)}return!1}}function Jve(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?I0:Tve,areDatesEqual:Pve,areErrorsEqual:Eve,areFunctionsEqual:Ave,areMapsEqual:n?V7(G7,I0):G7,areNumbersEqual:Ive,areObjectsEqual:n?I0:Ove,arePrimitiveWrappersEqual:Mve,areRegExpsEqual:Rve,areSetsEqual:n?V7(Y7,I0):Y7,areTypedArraysEqual:n?I0:Dve,areUrlsEqual:Lve,unknownTagComparators:void 0};if(r&&(s=Q7({},s,r(s))),e){var i=rb(s.areArraysEqual),o=rb(s.areMapsEqual),c=rb(s.areObjectsEqual),u=rb(s.areSetsEqual);s=Q7({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return s}function Zve(t){return function(e,r,n,s,i,o,c){return t(e,r,c)}}function ebe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(u,f){var h=n(),m=h.cache,g=m===void 0?e?new WeakMap:void 0:m,v=h.meta;return r(u,f,{cache:g,equals:s,meta:v,strict:i})};if(e)return function(u,f){return r(u,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,f){return r(u,f,o)}}var tbe=Zu();Zu({strict:!0});Zu({circular:!0});Zu({circular:!0,strict:!0});Zu({createInternalComparator:function(){return zh}});Zu({strict:!0,createInternalComparator:function(){return zh}});Zu({circular:!0,createInternalComparator:function(){return zh}});Zu({circular:!0,createInternalComparator:function(){return zh},strict:!0});function Zu(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,c=Jve(t),u=Qve(c),f=n?n(u):Zve(u);return ebe({circular:r,comparator:u,createState:s,equals:f,strict:o})}function rbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function J7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):rbe(s)};requestAnimationFrame(n)}function $_(t){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(t)}function nbe(t){return obe(t)||ibe(t)||sbe(t)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return Z7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z7(t,e)}}function Z7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function obe(t){if(Array.isArray(t))return t}function lbe(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=nbe(o),u=c[0],f=c.slice(1);if(typeof u=="number"){J7(s.bind(null,f),u);return}s(u),J7(s.bind(null,f));return}$_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){jH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jH(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=dbe(t,"string");return Ux(e)==="symbol"?e:String(e)}function dbe(t,e){if(Ux(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ux(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ube=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},fbe=function(e){return e},hbe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},rx=function(e,r){return Object.keys(r).reduce(function(n,s){return tR(tR({},n),{},jH({},s,e(s,r[s])))},{})},rR=function(e,r,n){return e.map(function(s){return"".concat(hbe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function mbe(t,e){return xbe(t)||gbe(t,e)||SH(t,e)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function xbe(t){if(Array.isArray(t))return t}function ybe(t){return wbe(t)||bbe(t)||SH(t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(t,e){if(t){if(typeof t=="string")return F_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(t,e)}}function bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wbe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b1=1e-4,kH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},_H=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},nR=function(e,r){return function(n){var s=kH(e,r);return _H(s,n)}},Nbe=function(e,r){return function(n){var s=kH(e,r),i=[].concat(ybe(s.map(function(o,c){return o*c}).slice(1)),[0]);return _H(i,n)}},aR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=mbe(f,4);s=h[0],i=h[1],o=h[2],c=h[3]}}}var m=nR(s,o),g=nR(i,c),v=Nbe(s,o),j=function(_){return _>1?1:_<0?0:_},w=function(_){for(var T=_>1?1:_,E=T,k=0;k<8;++k){var C=m(E)-T,S=v(E);if(Math.abs(C-T)<b1||S<b1)return g(E);E=j(E-C/S)}return g(E)};return w.isStepper=!1,w},jbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,c=o===void 0?17:o,u=function(h,m,g){var v=-(h-m)*n,j=g*i,w=g+(v-j)*c/1e3,b=g*c/1e3+h;return Math.abs(b-m)<b1&&Math.abs(w)<b1?[m,0]:[b,w]};return u.isStepper=!0,u.dt=c,u},Sbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aR(s);case"spring":return jbe();default:if(s.split("(")[0]==="cubic-bezier")return aR(s)}return typeof s=="function"?s:null};function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function sR(t){return Cbe(t)||_be(t)||CH(t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cbe(t){if(Array.isArray(t))return U_(t)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){B_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B_(t,e,r){return e=Tbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tbe(t){var e=Pbe(t,"string");return zx(e)==="symbol"?e:String(e)}function Pbe(t,e){if(zx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ebe(t,e){return Obe(t)||Ibe(t,e)||CH(t,e)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(t,e){if(t){if(typeof t=="string")return U_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(t,e)}}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ibe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function Obe(t){if(Array.isArray(t))return t}var w1=function(e,r,n){return e+(r-e)*n},z_=function(e){var r=e.from,n=e.to;return r!==n},Mbe=function t(e,r,n){var s=rx(function(i,o){if(z_(o)){var c=e(o.from,o.to,o.velocity),u=Ebe(c,2),f=u[0],h=u[1];return Ps(Ps({},o),{},{from:f,velocity:h})}return o},r);return n<1?rx(function(i,o){return z_(o)?Ps(Ps({},o),{},{velocity:w1(o.velocity,s[i].velocity,n),from:w1(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const Rbe=(function(t,e,r,n,s){var i=ube(t,e),o=i.reduce(function(b,_){return Ps(Ps({},b),{},B_({},_,[t[_],e[_]]))},{}),c=i.reduce(function(b,_){return Ps(Ps({},b),{},B_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),u=-1,f,h,m=function(){return null},g=function(){return rx(function(_,T){return T.from},c)},v=function(){return!Object.values(c).filter(z_).length},j=function(_){f||(f=_);var T=_-f,E=T/r.dt;c=Mbe(r,c,E),s(Ps(Ps(Ps({},t),e),g())),f=_,v()||(u=requestAnimationFrame(m))},w=function(_){h||(h=_);var T=(_-h)/n,E=rx(function(C,S){return w1.apply(void 0,sR(S).concat([r(T)]))},o);if(s(Ps(Ps(Ps({},t),e),E)),T<1)u=requestAnimationFrame(m);else{var k=rx(function(C,S){return w1.apply(void 0,sR(S).concat([r(1)]))},o);s(Ps(Ps(Ps({},t),e),k))}};return m=r.isStepper?j:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var Dbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lbe(t,e){if(t==null)return{};var r=$be(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $be(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function N4(t){return zbe(t)||Ube(t)||Bbe(t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return q_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(t,e)}}function Ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zbe(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(r),!0).forEach(function(n){Y0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y0(t,e,r){return e=TH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TH(n.key),n)}}function Wbe(t,e,r){return e&&Vbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TH(t){var e=Hbe(t,"string");return Wp(e)==="symbol"?e:String(e)}function Hbe(t,e){if(Wp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V_(t,e)}function Gbe(t){var e=Ybe();return function(){var n=N1(t),s;if(e){var i=N1(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return W_(this,s)}}function W_(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H_(t)}function H_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ybe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}var pc=(function(t){Kbe(r,t);var e=Gbe(r);function r(n,s){var i;qbe(this,r),i=e.call(this,n,s);var o=i.props,c=o.isActive,u=o.attributeName,f=o.from,h=o.to,m=o.steps,g=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(H_(i)),i.changeStyle=i.changeStyle.bind(H_(i)),!c||v<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:h}),W_(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof g=="function")return i.state={style:f},W_(i);i.state={style:u?Y0({},u,f):f}}else i.state={style:{}};return i}return Wbe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,u=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,g=this.state.style;if(c){if(!o){var v={style:u?Y0({},u,h):h};this.state&&g&&(u&&g[u]!==h||!u&&g!==h)&&this.setState(v);return}if(!(tbe(s.to,h)&&s.canBegin&&s.isActive)){var j=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||f?m:s.to;if(this.state&&g){var b={style:u?Y0({},u,w):w};(u&&g[u]!==w||!u&&g!==w)&&this.setState(b)}this.runAnimation(ol(ol({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,u=s.duration,f=s.easing,h=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,v=Rbe(o,c,Sbe(f),u,this.changeStyle),j=function(){i.stopJSAnimation=v()};this.manager.start([g,h,j,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,u=s.onAnimationStart,f=o[0],h=f.style,m=f.duration,g=m===void 0?0:m,v=function(w,b,_){if(_===0)return w;var T=b.duration,E=b.easing,k=E===void 0?"ease":E,C=b.style,S=b.properties,A=b.onAnimationEnd,R=_>0?o[_-1]:b,D=S||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(N4(w),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:T,easing:k}),T]);var B=rR(D,T,k),F=ol(ol(ol({},R.style),C),{},{transition:B});return[].concat(N4(w),[F,T,A]).filter(fbe)};return this.manager.start([u].concat(N4(o.reduce(v,[h,Math.max(g,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=lbe());var i=s.begin,o=s.duration,c=s.attributeName,u=s.to,f=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,v=s.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var w=c?Y0({},c,u):u,b=rR(Object.keys(w),o,f);j.start([h,i,ol(ol({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=Lbe(s,Dbe),f=x.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!c||f===0||o<=0)return i;var m=function(v){var j=v.props,w=j.style,b=w===void 0?{}:w,_=j.className,T=x.cloneElement(v,ol(ol({},u),{},{style:ol(ol({},b),h),className:_}));return T};return f===1?m(x.Children.only(i)):fe.createElement("div",null,x.Children.map(i,function(g){return m(g)}))}}]),r})(x.PureComponent);pc.displayName="Animate";pc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pc.propTypes={from:Pn.oneOfType([Pn.object,Pn.string]),to:Pn.oneOfType([Pn.object,Pn.string]),attributeName:Pn.string,duration:Pn.number,begin:Pn.number,easing:Pn.oneOfType([Pn.string,Pn.func]),steps:Pn.arrayOf(Pn.shape({duration:Pn.number.isRequired,style:Pn.object.isRequired,easing:Pn.oneOfType([Pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pn.func]),properties:Pn.arrayOf("string"),onAnimationEnd:Pn.func})),children:Pn.oneOfType([Pn.node,Pn.func]),isActive:Pn.bool,canBegin:Pn.bool,onAnimationEnd:Pn.func,shouldReAnimate:Pn.bool,onAnimationStart:Pn.func,onAnimationReStart:Pn.func};function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}function Xbe(t,e){return e1e(t)||Zbe(t,e)||Jbe(t,e)||Qbe()}function Qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jbe(t,e){if(t){if(typeof t=="string")return lR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function e1e(t){if(Array.isArray(t))return t}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){t1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1e(t,e,r){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r1e(t){var e=n1e(t,"string");return qx(e)=="symbol"?e:e+""}function n1e(t,e){if(qx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uR=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,u=n>=0?1:-1,f=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>o?o:i[g];h="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+u*m[0],",").concat(r)),h+="L ".concat(e+n-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*m[1])),h+="L ".concat(e+n,",").concat(r+s-c*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-u*m[2],",").concat(r+s)),h+="L ".concat(e+u*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+s-c*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var j=Math.min(o,i);h="M ".concat(e,",").concat(r+c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+u*j,",").concat(r,`
            L `).concat(e+n-u*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*j,`
            L `).concat(e+n,",").concat(r+s-c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n-u*j,",").concat(r+s,`
            L `).concat(e+u*j,",").concat(r+s,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(r+s-c*j," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},a1e=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,c=r.width,u=r.height;if(Math.abs(c)>0&&Math.abs(u)>0){var f=Math.min(i,i+c),h=Math.max(i,i+c),m=Math.min(o,o+u),g=Math.max(o,o+u);return n>=f&&n<=h&&s>=m&&s<=g}return!1},s1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PP=function(e){var r=dR(dR({},s1e),e),n=x.useRef(),s=x.useState(-1),i=Xbe(s,2),o=i[0],c=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&c(k)}catch{}},[]);var u=r.x,f=r.y,h=r.width,m=r.height,g=r.radius,v=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,T=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var E=an("recharts-rectangle",v);return T?fe.createElement(pc,{canBegin:o>0,from:{width:h,height:m,x:u,y:f},to:{width:h,height:m,x:u,y:f},duration:w,animationEasing:j,isActive:T},function(k){var C=k.width,S=k.height,A=k.x,R=k.y;return fe.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:_,easing:j},fe.createElement("path",j1({},Kr(r,!0),{className:E,d:uR(A,R,C,S,g),ref:n})))}):fe.createElement("path",j1({},Kr(r,!0),{className:E,d:uR(u,f,h,m,g)}))};function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K_.apply(this,arguments)}var n2=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=an("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",K_({},Kr(e,!1),Vb(e),{className:o,cx:r,cy:n,r:s})):null};function Vx(t){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(t)}var i1e=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function o1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){l1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l1e(t,e,r){return e=c1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c1e(t){var e=d1e(t,"string");return Vx(e)=="symbol"?e:e+""}function d1e(t,e){if(Vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1e(t,e){if(t==null)return{};var r=f1e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var h1e=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},m1e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,c=o===void 0?0:o,u=e.left,f=u===void 0?0:u,h=e.width,m=h===void 0?0:h,g=e.height,v=g===void 0?0:g,j=e.className,w=u1e(e,i1e),b=o1e({x:n,y:i,top:c,left:f,width:m,height:v},w);return!gt(n)||!gt(i)||!gt(m)||!gt(v)||!gt(c)||!gt(f)?null:fe.createElement("path",G_({},Kr(b,!0),{className:an("recharts-cross",j),d:h1e(n,i,m,v,c,f)}))},j4,hR;function p1e(){if(hR)return j4;hR=1;var t=YV(),e=t(Object.getPrototypeOf,Object);return j4=e,j4}var S4,mR;function g1e(){if(mR)return S4;mR=1;var t=Sd(),e=p1e(),r=kd(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,c=i.hasOwnProperty,u=o.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var g=c.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return S4=f,S4}var x1e=g1e();const y1e=Yn(x1e);var k4,pR;function v1e(){if(pR)return k4;pR=1;var t=Sd(),e=kd(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return k4=n,k4}var b1e=v1e();const w1e=Yn(b1e);function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}function N1e(t,e){return _1e(t)||k1e(t,e)||S1e(t,e)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1e(t,e){if(t){if(typeof t=="string")return gR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gR(t,e)}}function gR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function _1e(t){if(Array.isArray(t))return t}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(n){C1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1e(t,e,r){return e=T1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T1e(t){var e=P1e(t,"string");return Wx(e)=="symbol"?e:e+""}function P1e(t,e){if(Wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vR=function(e,r,n,s,i){var o=n-s,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+i),c+="L ".concat(e+n-o/2-s,",").concat(r+i),c+="L ".concat(e,",").concat(r," Z"),c},E1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A1e=function(e){var r=yR(yR({},E1e),e),n=x.useRef(),s=x.useState(-1),i=N1e(s,2),o=i[0],c=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&c(E)}catch{}},[]);var u=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(u!==+u||f!==+f||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var T=an("recharts-trapezoid",v);return _?fe.createElement(pc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:f},to:{upperWidth:h,lowerWidth:m,height:g,x:u,y:f},duration:w,animationEasing:j,isActive:_},function(E){var k=E.upperWidth,C=E.lowerWidth,S=E.height,A=E.x,R=E.y;return fe.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:j},fe.createElement("path",S1({},Kr(r,!0),{className:T,d:vR(A,R,k,C,S),ref:n})))}):fe.createElement("g",null,fe.createElement("path",S1({},Kr(r,!0),{className:T,d:vR(u,f,h,m,g)})))},I1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(t)}function O1e(t,e){if(t==null)return{};var r=M1e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function k1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){R1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R1e(t,e,r){return e=D1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D1e(t){var e=L1e(t,"string");return Hx(e)=="symbol"?e:e+""}function L1e(t,e){if(Hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e){return k1(k1({},e),t)}function F1e(t,e){return t==="symbols"}function wR(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return fe.createElement(PP,r);case"trapezoid":return fe.createElement(A1e,r);case"sector":return fe.createElement(wH,r);case"symbols":if(F1e(e))return fe.createElement(GT,r);break;default:return null}}function B1e(t){return x.isValidElement(t)?t.props:t}function U1e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?$1e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,c=t.isActive,u=O1e(t,I1e),f;if(x.isValidElement(e))f=x.cloneElement(e,k1(k1({},u),B1e(e)));else if(Jr(e))f=e(u);else if(y1e(e)&&!w1e(e)){var h=s(e,u);f=fe.createElement(wR,{shapeType:r,elementProps:h})}else{var m=u;f=fe.createElement(wR,{shapeType:r,elementProps:m})}return c?fe.createElement(ra,{className:o},f):f}function a2(t,e){return e!=null&&"trapezoids"in t.props}function s2(t,e){return e!=null&&"sectors"in t.props}function Kx(t,e){return e!=null&&"points"in t.props}function z1e(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function q1e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function V1e(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function W1e(t,e){var r;return a2(t,e)?r=z1e:s2(t,e)?r=q1e:Kx(t,e)&&(r=V1e),r}function H1e(t,e){var r;return a2(t,e)?r="trapezoids":s2(t,e)?r="sectors":Kx(t,e)&&(r="points"),r}function K1e(t,e){if(a2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(s2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kx(t,e)?e.payload:{}}function G1e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=H1e(r,e),i=K1e(r,e),o=n.filter(function(u,f){var h=qp(i,u),m=r.props[s].filter(function(j){var w=W1e(r,e);return w(j,e)}),g=r.props[s].indexOf(m[m.length-1]),v=f===g;return h&&v}),c=n.indexOf(o[o.length-1]);return c}var _4,NR;function Y1e(){if(NR)return _4;NR=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var c=-1,u=e(t((s-n)/(i||1)),0),f=Array(u);u--;)f[o?u:++c]=n,n+=i;return f}return _4=r,_4}var C4,jR;function PH(){if(jR)return C4;jR=1;var t=uW(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return C4=n,C4}var T4,SR;function X1e(){if(SR)return T4;SR=1;var t=Y1e(),e=Kw(),r=PH();function n(s){return function(i,o,c){return c&&typeof c!="number"&&e(i,o,c)&&(o=c=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),c=c===void 0?i<o?1:-1:r(c),t(i,o,c,s)}}return T4=n,T4}var P4,kR;function Q1e(){if(kR)return P4;kR=1;var t=X1e(),e=t();return P4=e,P4}var J1e=Q1e();const _1=Yn(J1e);function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){EH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EH(t,e,r){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z1e(t){var e=ewe(t,"string");return Gx(e)=="symbol"?e:e+""}function ewe(t,e){if(Gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var twe=["Webkit","Moz","O","ms"],rwe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=twe.reduce(function(i,o){return CR(CR({},i),{},EH({},o+n,r))},{});return s[e]=r,s};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(this,arguments)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function E4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){to(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IH(n.key),n)}}function awe(t,e,r){return e&&PR(t.prototype,e),r&&PR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function swe(t,e,r){return e=T1(e),iwe(t,AH()?Reflect.construct(e,r||[],T1(t).constructor):e.apply(t,r))}function iwe(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return owe(t)}function owe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(t)}function lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y_(t,e)}function to(t,e,r){return e=IH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IH(t){var e=cwe(t,"string");return Hp(e)=="symbol"?e:e+""}function cwe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dwe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=ex().domain(_1(0,u)).range([i,i+o-c]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(s),scale:f,scaleValues:h}},ER=function(e){return e.changedTouches&&!!e.changedTouches.length},Kp=(function(t){function e(r){var n;return nwe(this,e),n=swe(this,e,[r]),to(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),to(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),to(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),to(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),to(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),to(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),to(n,"handleSlideDragStart",function(s){var i=ER(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lwe(e,t),awe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,c=this.props,u=c.gap,f=c.data,h=f.length-1,m=Math.min(s,i),g=Math.max(s,i),v=e.getIndexInRange(o,m),j=e.getIndexInRange(o,g);return{startIndex:v-v%u,endIndex:j===h?h:j-j%u}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,u=Si(i[n],c,n);return Jr(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,u=this.props,f=u.x,h=u.width,m=u.travellerWidth,g=u.startIndex,v=u.endIndex,j=u.onChange,w=n.pageX-i;w>0?w=Math.min(w,f+h-m-c,f+h-m-o):w<0&&(w=Math.max(w,f-o,f-c));var b=this.getIndex({startX:o+w,endX:c+w});(b.startIndex!==g||b.endIndex!==v)&&j&&j(b),this.setState({startX:o+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=ER(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,u=s.startX,f=this.state[o],h=this.props,m=h.x,g=h.width,v=h.travellerWidth,j=h.onChange,w=h.gap,b=h.data,_={startX:this.state.startX,endX:this.state.endX},T=n.pageX-i;T>0?T=Math.min(T,m+g-v-f):T<0&&(T=Math.max(T,m-f)),_[o]=f+T;var E=this.getIndex(_),k=E.startIndex,C=E.endIndex,S=function(){var R=b.length-1;return o==="startX"&&(c>u?k%w===0:C%w===0)||c<u&&C===R||o==="endX"&&(c>u?C%w===0:k%w===0)||c>u&&C===R};this.setState(to(to({},o,f+T),"brushMoveStartX",n.pageX),function(){j&&S()&&j(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,c=o.scaleValues,u=o.startX,f=o.endX,h=this.state[s],m=c.indexOf(h);if(m!==-1){var g=m+n;if(!(g===-1||g>=c.length)){var v=c[g];s==="startX"&&v>=f||s==="endX"&&v<=u||this.setState(to({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,u=n.fill,f=n.stroke;return fe.createElement("rect",{stroke:f,fill:u,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,u=n.data,f=n.children,h=n.padding,m=x.Children.only(f);return m?fe.cloneElement(m,{x:s,y:i,width:o,height:c,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,c=this,u=this.props,f=u.y,h=u.travellerWidth,m=u.height,g=u.traveller,v=u.ariaLabel,j=u.data,w=u.startIndex,b=u.endIndex,_=Math.max(n,this.props.x),T=E4(E4({},Kr(this.props,!1)),{},{x:_,y:f,width:h,height:m}),E=v||"Min value: ".concat((i=j[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=j[b])===null||o===void 0?void 0:o.name);return fe.createElement(ra,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,T))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,c=i.height,u=i.stroke,f=i.travellerWidth,h=Math.min(n,s)+f,m=Math.max(Math.abs(s-n)-f,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:o,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,c=n.height,u=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,g=h.endX,v=5,j={pointerEvents:"none",fill:f};return fe.createElement(ra,{className:"recharts-brush-texts"},fe.createElement(r1,C1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:o+c/2},j),this.getTextOfTick(s)),fe.createElement(r1,C1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+u+v,y:o+c/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,c=n.x,u=n.y,f=n.width,h=n.height,m=n.alwaysShowText,g=this.state,v=g.startX,j=g.endX,w=g.isTextActive,b=g.isSlideMoving,_=g.isTravellerMoving,T=g.isTravellerFocused;if(!s||!s.length||!gt(c)||!gt(u)||!gt(f)||!gt(h)||f<=0||h<=0)return null;var E=an("recharts-brush",i),k=fe.Children.count(o)===1,C=rwe("userSelect","none");return fe.createElement(ra,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(w||b||_||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,c=n.height,u=n.stroke,f=Math.floor(i+c/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:s,y:i,width:o,height:c,fill:u,stroke:"none"}),fe.createElement("line",{x1:s+1,y1:f,x2:s+o-1,y2:f,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:s+1,y1:f+2,x2:s+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return fe.isValidElement(n)?i=fe.cloneElement(n,s):Jr(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,c=n.x,u=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return E4({prevData:i,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:o},i&&i.length?dwe({data:i,width:o,x:c,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([c,c+o-u]);var g=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,c=i-1;c-o>1;){var u=Math.floor((o+c)/2);n[u]>s?c=u:o=u}return s>=n[c]?c:o}}])})(x.PureComponent);to(Kp,"displayName","Brush");to(Kp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var A4,AR;function uwe(){if(AR)return A4;AR=1;var t=tP();function e(r,n){var s;return t(r,function(i,o,c){return s=n(i,o,c),!s}),!!s}return A4=e,A4}var I4,IR;function fwe(){if(IR)return I4;IR=1;var t=zV(),e=Xu(),r=uwe(),n=qi(),s=Kw();function i(o,c,u){var f=n(o)?t:r;return u&&s(o,c,u)&&(c=void 0),f(o,e(c,3))}return I4=i,I4}var hwe=fwe();const mwe=Yn(hwe);var uc=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},O4,OR;function pwe(){if(OR)return O4;OR=1;var t=iW();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return O4=e,O4}var M4,MR;function gwe(){if(MR)return M4;MR=1;var t=pwe(),e=aW(),r=Xu();function n(s,i){var o={};return i=r(i,3),e(s,function(c,u,f){t(o,u,i(c,u,f))}),o}return M4=n,M4}var xwe=gwe();const ywe=Yn(xwe);var R4,RR;function vwe(){if(RR)return R4;RR=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return R4=t,R4}var D4,DR;function bwe(){if(DR)return D4;DR=1;var t=tP();function e(r,n){var s=!0;return t(r,function(i,o,c){return s=!!n(i,o,c),s}),s}return D4=e,D4}var L4,LR;function wwe(){if(LR)return L4;LR=1;var t=vwe(),e=bwe(),r=Xu(),n=qi(),s=Kw();function i(o,c,u){var f=n(o)?t:e;return u&&s(o,c,u)&&(c=void 0),f(o,r(c,3))}return L4=i,L4}var Nwe=wwe();const jwe=Yn(Nwe);var Swe=["x","y"];function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function O0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){kwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kwe(t,e,r){return e=_we(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _we(t){var e=Cwe(t,"string");return Yx(e)=="symbol"?e:e+""}function Cwe(t,e){if(Yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Twe(t,e){if(t==null)return{};var r=Pwe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ewe(t,e){var r=t.x,n=t.y,s=Twe(t,Swe),i="".concat(r),o=parseInt(i,10),c="".concat(n),u=parseInt(c,10),f="".concat(e.height||s.height),h=parseInt(f,10),m="".concat(e.width||s.width),g=parseInt(m,10);return O0(O0(O0(O0(O0({},e),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function FR(t){return fe.createElement(U1e,X_({shapeType:"rectangle",propTransformer:Ewe,activeClassName:"recharts-active-bar"},t))}var Awe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=gt(n)||Bde(n);return i?e(n,s):(i||Ph(),r)}},Iwe=["value","background"],OH;function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Owe(t,e){if(t==null)return{};var r=Mwe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){ju(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RH(n.key),n)}}function Dwe(t,e,r){return e&&UR(t.prototype,e),r&&UR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lwe(t,e,r){return e=E1(e),$we(t,MH()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function $we(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fwe(t)}function Fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MH=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function Bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q_(t,e)}function ju(t,e,r){return e=RH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RH(t){var e=Uwe(t,"string");return Gp(e)=="symbol"?e:e+""}function Uwe(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qy=(function(t){function e(){var r;Rwe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Lwe(this,e,[].concat(s)),ju(r,"state",{isAnimationFinished:!1}),ju(r,"id",Ng("recharts-bar-")),ju(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ju(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Bwe(e,t),Dwe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,c=i.dataKey,u=i.activeIndex,f=i.activeBar,h=Kr(this.props,!1);return n&&n.map(function(m,g){var v=g===u,j=v?f:o,w=Va(Va(Va({},h),m),{},{isActive:v,option:j,index:g,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return fe.createElement(ra,P1({className:"recharts-bar-rectangle"},Wb(s.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),fe.createElement(FR,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,g=this.state.prevData;return fe.createElement(pc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,w=i.map(function(b,_){var T=g&&g[_];if(T){var E=Ms(T.x,b.x),k=Ms(T.y,b.y),C=Ms(T.width,b.width),S=Ms(T.height,b.height);return Va(Va({},b),{},{x:E(j),y:k(j),width:C(j),height:S(j)})}if(o==="horizontal"){var A=Ms(0,b.height),R=A(j);return Va(Va({},b),{},{y:b.y+b.height-R,height:R})}var D=Ms(0,b.width),B=D(j);return Va(Va({},b),{},{width:B})});return fe.createElement(ra,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!qp(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,u=Kr(this.props.background,!1);return i.map(function(f,h){f.value;var m=f.background,g=Owe(f,Iwe);if(!m)return null;var v=Va(Va(Va(Va(Va({},g),{},{fill:"#eee"},m),u),Wb(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return fe.createElement(FR,P1({key:"background-bar-".concat(h),option:n.props.background,isActive:h===c},v))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,u=i.yAxis,f=i.layout,h=i.children,m=Fo(h,zy);if(!m)return null;var g=f==="vertical"?o[0].height/2:o[0].width/2,v=function(b,_){var T=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:T,errorVal:Si(b,_)}},j={clipPath:n?"url(#clipPath-".concat(s,")"):null};return fe.createElement(ra,j,m.map(function(w){return fe.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:c,yAxis:u,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,c=n.xAxis,u=n.yAxis,f=n.left,h=n.top,m=n.width,g=n.height,v=n.isAnimationActive,j=n.background,w=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,_=an("recharts-bar",o),T=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,k=T||E,C=Zr(w)?this.id:w;return fe.createElement(ra,{className:_},T||E?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(C)},fe.createElement("rect",{x:T?f:f-m/2,y:E?h:h-g/2,width:T?m:m*2,height:E?g:g*2}))):null,fe.createElement(ra,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!v||b)&&ud.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(x.PureComponent);OH=qy;ju(qy,"displayName","Bar");ju(qy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ju(qy,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,c=t.xAxisTicks,u=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,v=aye(n,r);if(!v)return null;var j=e.layout,w=r.type.defaultProps,b=w!==void 0?Va(Va({},w),r.props):r.props,_=b.dataKey,T=b.children,E=b.minPointSize,k=j==="horizontal"?o:i,C=f?k.scale.domain():null,S=fye({numericAxis:k}),A=Fo(T,hW),R=m.map(function(D,B){var F,z,X,V,Z,ee;f?F=sye(f[h+B],C):(F=Si(D,_),Array.isArray(F)||(F=[S,F]));var W=Awe(E,OH.defaultProps.minPointSize)(F[1],B);if(j==="horizontal"){var K,G=[o.scale(F[0]),o.scale(F[1])],Q=G[0],$=G[1];z=S7({axis:i,ticks:c,bandSize:s,offset:v.offset,entry:D,index:B}),X=(K=$??Q)!==null&&K!==void 0?K:void 0,V=v.size;var U=Q-$;if(Z=Number.isNaN(U)?0:U,ee={x:z,y:o.y,width:V,height:o.height},Math.abs(W)>0&&Math.abs(Z)<Math.abs(W)){var ie=Nl(Z||W)*(Math.abs(W)-Math.abs(Z));X-=ie,Z+=ie}}else{var ce=[i.scale(F[0]),i.scale(F[1])],he=ce[0],we=ce[1];if(z=he,X=S7({axis:o,ticks:u,bandSize:s,offset:v.offset,entry:D,index:B}),V=we-he,Z=v.size,ee={x:i.x,y:X,width:i.width,height:Z},Math.abs(W)>0&&Math.abs(V)<Math.abs(W)){var re=Nl(V||W)*(Math.abs(W)-Math.abs(V));V+=re}}return Va(Va(Va({},D),{},{x:z,y:X,width:V,height:Z,value:f?F:F[1],payload:D,background:ee},A&&A[B]&&A[B].props),{},{tooltipPayload:[yH(r,D)],tooltipPosition:{x:z+V/2,y:X+Z/2}})});return Va({data:R,layout:j},g)});function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}function zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DH(n.key),n)}}function qwe(t,e,r){return e&&zR(t.prototype,e),r&&zR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ml(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){i2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i2(t,e,r){return e=DH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DH(t){var e=Vwe(t,"string");return Xx(e)=="symbol"?e:e+""}function Vwe(t,e){if(Xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LH=function(e,r,n,s,i){var o=e.width,c=e.height,u=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!no(f,qy);return h.reduce(function(v,j){var w=r[j],b=w.orientation,_=w.domain,T=w.padding,E=T===void 0?{}:T,k=w.mirror,C=w.reversed,S="".concat(b).concat(k?"Mirror":""),A,R,D,B,F;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var z=_[1]-_[0],X=1/0,V=w.categoricalDomain.sort(qde);if(V.forEach(function(ce,he){he>0&&(X=Math.min((ce||0)-(V[he-1]||0),X))}),Number.isFinite(X)){var Z=X/z,ee=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=Z*ee/2),w.padding==="no-gap"){var W=Ch(e.barCategoryGap,Z*ee),K=Z*ee/2;A=K-W-(K-W)/ee*W}}}s==="xAxis"?R=[n.left+(E.left||0)+(A||0),n.left+n.width-(E.right||0)-(A||0)]:s==="yAxis"?R=u==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(A||0),n.top+n.height-(E.bottom||0)-(A||0)]:R=w.range,C&&(R=[R[1],R[0]]);var G=rye(w,i,g),Q=G.scale,$=G.realScaleType;Q.domain(_).range(R),nye(Q);var U=uye(Q,ml(ml({},w),{},{realScaleType:$}));s==="xAxis"?(F=b==="top"&&!k||b==="bottom"&&k,D=n.left,B=m[S]-F*w.height):s==="yAxis"&&(F=b==="left"&&!k||b==="right"&&k,D=m[S]-F*w.width,B=n.top);var ie=ml(ml(ml({},w),U),{},{realScaleType:$,x:D,y:B,scale:Q,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return ie.bandSize=x1(ie,U),!w.hide&&s==="xAxis"?m[S]+=(F?-1:1)*ie.height:w.hide||(m[S]+=(F?-1:1)*ie.width),ml(ml({},v),{},i2({},j,ie))},{})},$H=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Wwe=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return $H({x:r,y:n},{x:s,y:i})},FH=(function(){function t(e){zwe(this,t),this.scale=e}return qwe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])})();i2(FH,"EPS",1e-4);var EP=function(e){var r=Object.keys(e).reduce(function(n,s){return ml(ml({},n),{},i2({},s,FH.create(e[s])))},{});return ml(ml({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return ywe(s,function(u,f){return r[f].apply(u,{bandAware:o,position:c})})},isInRange:function(s){return jwe(s,function(i,o){return r[o].isInRange(i)})}})};function Hwe(t){return(t%180+180)%180}var Kwe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hwe(s),o=i*Math.PI/180,c=Math.atan(n/r),u=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},$4,VR;function Gwe(){if(VR)return $4;VR=1;var t=Xu(),e=Ly(),r=Ww();function n(s){return function(i,o,c){var u=Object(i);if(!e(i)){var f=t(o,3);i=r(i),o=function(m){return f(u[m],m,u)}}var h=s(i,o,c);return h>-1?u[f?i[h]:h]:void 0}}return $4=n,$4}var F4,WR;function Ywe(){if(WR)return F4;WR=1;var t=PH();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return F4=e,F4}var B4,HR;function Xwe(){if(HR)return B4;HR=1;var t=ZV(),e=Xu(),r=Ywe(),n=Math.max;function s(i,o,c){var u=i==null?0:i.length;if(!u)return-1;var f=c==null?0:r(c);return f<0&&(f=n(u+f,0)),t(i,e(o,3),f)}return B4=s,B4}var U4,KR;function Qwe(){if(KR)return U4;KR=1;var t=Gwe(),e=Xwe(),r=t(e);return U4=r,U4}Qwe();var Jwe=mV();const Zwe=Yn(Jwe);var e2e=Zwe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),BH=x.createContext(void 0),UH=x.createContext(void 0),zH=x.createContext(void 0),t2e=x.createContext({}),qH=x.createContext(void 0),VH=x.createContext(0),WH=x.createContext(0),GR=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,c=e.children,u=e.width,f=e.height,h=e2e(i);return fe.createElement(BH.Provider,{value:n},fe.createElement(UH.Provider,{value:s},fe.createElement(t2e.Provider,{value:i},fe.createElement(zH.Provider,{value:h},fe.createElement(qH.Provider,{value:o},fe.createElement(VH.Provider,{value:f},fe.createElement(WH.Provider,{value:u},c)))))))},r2e=function(){return x.useContext(qH)},HH=function(e){var r=x.useContext(BH);r==null&&Ph();var n=r[e];return n==null&&Ph(),n},KH=function(e){var r=x.useContext(UH);r==null&&Ph();var n=r[e];return n==null&&Ph(),n},n2e=function(){var e=x.useContext(zH);return e},GH=function(){return x.useContext(WH)},YH=function(){return x.useContext(VH)};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function a2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QH(n.key),n)}}function i2e(t,e,r){return e&&s2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o2e(t,e,r){return e=A1(e),l2e(t,XH()?Reflect.construct(e,r||[],A1(t).constructor):e.apply(t,r))}function l2e(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c2e(t)}function c2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(t)}function d2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(t,e)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function XR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){AP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AP(t,e,r){return e=QH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QH(t){var e=u2e(t,"string");return Yp(e)=="symbol"?e:e+""}function u2e(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function f2e(t,e){return g2e(t)||p2e(t,e)||m2e(t,e)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(t,e){if(t){if(typeof t=="string")return QR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function g2e(t){if(Array.isArray(t))return t}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z_.apply(this,arguments)}var x2e=function(e,r){var n;return fe.isValidElement(e)?n=fe.cloneElement(e,r):Jr(e)?n=e(r):n=fe.createElement("line",Z_({},r,{className:"recharts-reference-line-line"})),n},y2e=function(e,r,n,s,i,o,c,u,f){var h=i.x,m=i.y,g=i.width,v=i.height;if(n){var j=f.y,w=e.y.apply(j,{position:o});if(uc(f,"discard")&&!e.y.isInRange(w))return null;var b=[{x:h+g,y:w},{x:h,y:w}];return u==="left"?b.reverse():b}if(r){var _=f.x,T=e.x.apply(_,{position:o});if(uc(f,"discard")&&!e.x.isInRange(T))return null;var E=[{x:T,y:m+v},{x:T,y:m}];return c==="top"?E.reverse():E}if(s){var k=f.segment,C=k.map(function(S){return e.apply(S,{position:o})});return uc(f,"discard")&&mwe(C,function(S){return!e.isInRange(S)})?null:C}return null};function v2e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,c=t.className,u=t.alwaysShow,f=r2e(),h=HH(s),m=KH(i),g=n2e();if(!f||!g)return null;hh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=EP({x:h.scale,y:m.scale}),j=ss(e),w=ss(r),b=n&&n.length===2,_=y2e(v,j,w,b,g,t.position,h.orientation,m.orientation,t);if(!_)return null;var T=f2e(_,2),E=T[0],k=E.x,C=E.y,S=T[1],A=S.x,R=S.y,D=uc(t,"hidden")?"url(#".concat(f,")"):void 0,B=XR(XR({clipPath:D},Kr(t,!0)),{},{x1:k,y1:C,x2:A,y2:R});return fe.createElement(ra,{className:an("recharts-reference-line",c)},x2e(o,B),ei.renderCallByParent(t,Wwe({x1:k,y1:C,x2:A,y2:R})))}var gh=(function(t){function e(){return a2e(this,e),o2e(this,e,arguments)}return d2e(e,t),i2e(e,[{key:"render",value:function(){return fe.createElement(v2e,this.props)}}])})(fe.Component);AP(gh,"displayName","ReferenceLine");AP(gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eC.apply(this,arguments)}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){o2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZH(n.key),n)}}function N2e(t,e,r){return e&&w2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j2e(t,e,r){return e=I1(e),S2e(t,JH()?Reflect.construct(e,r||[],I1(t).constructor):e.apply(t,r))}function S2e(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k2e(t)}function k2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}function _2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tC(t,e)}function o2(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=C2e(t,"string");return Xp(e)=="symbol"?e:e+""}function C2e(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T2e=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=EP({x:s.scale,y:i.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return uc(e,"discard")&&!o.isInRange(c)?null:c},l2=(function(t){function e(){return b2e(this,e),j2e(this,e,arguments)}return _2e(e,t),N2e(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,c=n.alwaysShow,u=n.clipPathId,f=ss(s),h=ss(i);if(hh(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=T2e(this.props);if(!m)return null;var g=m.x,v=m.y,j=this.props,w=j.shape,b=j.className,_=uc(this.props,"hidden")?"url(#".concat(u,")"):void 0,T=ZR(ZR({clipPath:_},Kr(this.props,!0)),{},{cx:g,cy:v});return fe.createElement(ra,{className:an("recharts-reference-dot",b)},e.renderDot(w,T),ei.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])})(fe.Component);o2(l2,"displayName","ReferenceDot");o2(l2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});o2(l2,"renderDot",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Jr(t)?r=t(e):r=fe.createElement(n2,eC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rC.apply(this,arguments)}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function t8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){c2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tK(n.key),n)}}function A2e(t,e,r){return e&&E2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I2e(t,e,r){return e=O1(e),O2e(t,eK()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function O2e(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(t)}function M2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(t)}function R2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nC(t,e)}function c2(t,e,r){return e=tK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tK(t){var e=D2e(t,"string");return Qp(e)=="symbol"?e:e+""}function D2e(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L2e=function(e,r,n,s,i){var o=i.x1,c=i.x2,u=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var g=EP({x:h.scale,y:m.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(u,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return uc(i,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:$H(v,j)},d2=(function(t){function e(){return P2e(this,e),I2e(this,e,arguments)}return R2e(e,t),A2e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,c=n.y2,u=n.className,f=n.alwaysShow,h=n.clipPathId;hh(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ss(s),g=ss(i),v=ss(o),j=ss(c),w=this.props.shape;if(!m&&!g&&!v&&!j&&!w)return null;var b=L2e(m,g,v,j,this.props);if(!b&&!w)return null;var _=uc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return fe.createElement(ra,{className:an("recharts-reference-area",u)},e.renderRect(w,t8(t8({clipPath:_},Kr(this.props,!0)),b)),ei.renderCallByParent(this.props,b))}}])})(fe.Component);c2(d2,"displayName","ReferenceArea");c2(d2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});c2(d2,"renderRect",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Jr(t)?r=t(e):r=fe.createElement(PP,rC({},e,{className:"recharts-reference-area-rect"})),r});function rK(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function $2e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Kwe(n,r)}function F2e(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,c=t.height;return e===1?{start:n?s:i,end:n?s+o:i+c}:{start:n?s+o:i+c,end:n?s:i}}function M1(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function B2e(t,e){return rK(t,e+1)}function U2e(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,c=e.end,u=0,f=1,h=o,m=function(){var j=n==null?void 0:n[u];if(j===void 0)return{v:rK(n,f)};var w=u,b,_=function(){return b===void 0&&(b=r(j,w)),b},T=j.coordinate,E=u===0||M1(t,T,_,h,c);E||(u=0,h=o,f+=1),E&&(h=T+t*(_()/2+s),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}function r8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(r),!0).forEach(function(n){z2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z2e(t,e,r){return e=q2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q2e(t){var e=V2e(t,"string");return Qx(e)=="symbol"?e:e+""}function V2e(t,e){if(Qx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2e(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,c=e.start,u=e.end,f=function(g){var v=i[g],j,w=function(){return j===void 0&&(j=r(v,g)),j};if(g===o-1){var b=t*(v.coordinate+t*w()/2-u);i[g]=v=Ys(Ys({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else i[g]=v=Ys(Ys({},v),{},{tickCoord:v.coordinate});var _=M1(t,v.tickCoord,w,c,u);_&&(u=v.tickCoord-t*(w()/2+s),i[g]=Ys(Ys({},v),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return i}function H2e(t,e,r,n,s,i){var o=(n||[]).slice(),c=o.length,u=e.start,f=e.end;if(i){var h=n[c-1],m=r(h,c-1),g=t*(h.coordinate+t*m/2-f);o[c-1]=h=Ys(Ys({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var v=M1(t,h.tickCoord,function(){return m},u,f);v&&(f=h.tickCoord-t*(m/2+s),o[c-1]=Ys(Ys({},h),{},{isShow:!0}))}for(var j=i?c-1:c,w=function(T){var E=o[T],k,C=function(){return k===void 0&&(k=r(E,T)),k};if(T===0){var S=t*(E.coordinate-t*C()/2-u);o[T]=E=Ys(Ys({},E),{},{tickCoord:S<0?E.coordinate-S*t:E.coordinate})}else o[T]=E=Ys(Ys({},E),{},{tickCoord:E.coordinate});var A=M1(t,E.tickCoord,C,u,f);A&&(u=E.tickCoord+t*(C()/2+s),o[T]=Ys(Ys({},E),{},{isShow:!0}))},b=0;b<j;b++)w(b);return o}function K2e(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,c=t.orientation,u=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(gt(u)||Fh.isSsr)return B2e(s,typeof u=="number"&&gt(u)?u:0);var g=[],v=c==="top"||c==="bottom"?"width":"height",j=h&&v==="width"?Z0(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(E,k){var C=Jr(f)?f(E.value,k):E.value;return v==="width"?$2e(Z0(C,{fontSize:e,letterSpacing:r}),j,m):Z0(C,{fontSize:e,letterSpacing:r})[v]},b=s.length>=2?Nl(s[1].coordinate-s[0].coordinate):1,_=F2e(i,b,v);return u==="equidistantPreserveStart"?U2e(b,_,w,s,o):(u==="preserveStart"||u==="preserveStartEnd"?g=H2e(b,_,w,s,o,u==="preserveStartEnd"):g=W2e(b,_,w,s,o),g.filter(function(T){return T.isShow}))}var G2e=["viewBox"],Y2e=["viewBox"],X2e=["ticks"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zm.apply(this,arguments)}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){IP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z4(t,e){if(t==null)return{};var r=Q2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aK(n.key),n)}}function Z2e(t,e,r){return e&&a8(t.prototype,e),r&&a8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eNe(t,e,r){return e=R1(e),tNe(t,nK()?Reflect.construct(e,r||[],R1(t).constructor):e.apply(t,r))}function tNe(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rNe(t)}function rNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function nNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aC(t,e)}function IP(t,e,r){return e=aK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aK(t){var e=aNe(t,"string");return Jp(e)=="symbol"?e:e+""}function aNe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u2=(function(t){function e(r){var n;return J2e(this,e),n=eNe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return nNe(e,t),Z2e(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=z4(n,G2e),c=this.props,u=c.viewBox,f=z4(c,Y2e);return!dp(i,u)||!dp(o,f)||!dp(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,c=s.width,u=s.height,f=s.orientation,h=s.tickSize,m=s.mirror,g=s.tickMargin,v,j,w,b,_,T,E=m?-1:1,k=n.tickSize||h,C=gt(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=j=n.coordinate,b=o+ +!m*u,w=b-E*k,T=w-E*g,_=C;break;case"left":w=b=n.coordinate,j=i+ +!m*c,v=j-E*k,_=v-E*g,T=C;break;case"right":w=b=n.coordinate,j=i+ +m*c,v=j+E*k,_=v+E*g,T=C;break;default:v=j=n.coordinate,b=o+ +m*u,w=b+E*k,T=w+E*g,_=C;break}return{line:{x1:v,y1:w,x2:j,y2:b},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,u=n.orientation,f=n.mirror,h=n.axisLine,m=ts(ts(ts({},Kr(this.props,!1)),Kr(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);m=ts(ts({},m),{},{x1:s,y1:i+g*c,x2:s+o,y2:i+g*c})}else{var v=+(u==="left"&&!f||u==="right"&&f);m=ts(ts({},m),{},{x1:s+v*o,y1:i,x2:s+v*o,y2:i+c})}return fe.createElement("line",Zm({},m,{className:an("recharts-cartesian-axis-line",$o(h,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,c=this.props,u=c.tickLine,f=c.stroke,h=c.tick,m=c.tickFormatter,g=c.unit,v=K2e(ts(ts({},this.props),{},{ticks:n}),s,i),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Kr(this.props,!1),_=Kr(h,!1),T=ts(ts({},b),{},{fill:"none"},Kr(u,!1)),E=v.map(function(k,C){var S=o.getTickLineCoord(k),A=S.line,R=S.tick,D=ts(ts(ts(ts({textAnchor:j,verticalAnchor:w},b),{},{stroke:"none",fill:f},_),R),{},{index:C,payload:k,visibleTicksCount:v.length,tickFormatter:m});return fe.createElement(ra,Zm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Wb(o.props,k,C)),u&&fe.createElement("line",Zm({},T,A,{className:an("recharts-cartesian-axis-tick-line",$o(u,"className"))})),h&&e.renderTickItem(h,D,"".concat(Jr(m)?m(k.value,C):k.value).concat(g||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,u=s.ticksGenerator,f=s.className,h=s.hide;if(h)return null;var m=this.props,g=m.ticks,v=z4(m,X2e),j=g;return Jr(u)&&(j=g&&g.length>0?u(this.props):u(v)),o<=0||c<=0||!j||!j.length?null:fe.createElement(ra,{className:an("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,c=an(s.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(n)?o=fe.cloneElement(n,ts(ts({},s),{},{className:c})):Jr(n)?o=n(ts(ts({},s),{},{className:c})):o=fe.createElement(r1,Zm({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(x.Component);IP(u2,"displayName","CartesianAxis");IP(u2,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sNe=["type","layout","connectNulls","ref"],iNe=["key"];function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function s8(t,e){if(t==null)return{};var r=oNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nx.apply(this,arguments)}function i8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(r),!0).forEach(function(n){pl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $m(t){return uNe(t)||dNe(t)||cNe(t)||lNe()}function lNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cNe(t,e){if(t){if(typeof t=="string")return sC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(t,e)}}function dNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uNe(t){if(Array.isArray(t))return sC(t)}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iK(n.key),n)}}function hNe(t,e,r){return e&&o8(t.prototype,e),r&&o8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mNe(t,e,r){return e=D1(e),pNe(t,sK()?Reflect.construct(e,r||[],D1(t).constructor):e.apply(t,r))}function pNe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gNe(t)}function gNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!t})()}function D1(t){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(t)}function xNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iC(t,e)}function pl(t,e,r){return e=iK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iK(t){var e=yNe(t,"string");return Zp(e)=="symbol"?e:e+""}function yNe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ga=(function(t){function e(){var r;fNe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mNe(this,e,[].concat(s)),pl(r,"state",{isAnimationFinished:!0,totalLength:0}),pl(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),pl(r,"getStrokeDasharray",function(o,c,u){var f=u.reduce(function(_,T){return _+T});if(!f)return r.generateSimpleStrokeDasharray(c,o);for(var h=Math.floor(o/f),m=o%f,g=c-o,v=[],j=0,w=0;j<u.length;w+=u[j],++j)if(w+u[j]>m){v=[].concat($m(u.slice(0,j)),[m-w]);break}var b=v.length%2===0?[0,g]:[g];return[].concat($m(e.repeat(u,h)),$m(v),b).map(function(_){return"".concat(_,"px")}).join(", ")}),pl(r,"id",Ng("recharts-line-")),pl(r,"pathRef",function(o){r.mainCurve=o}),pl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xNe(e,t),hNe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,f=i.layout,h=i.children,m=Fo(h,zy);if(!m)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:Si(w.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return fe.createElement(ra,v,m.map(function(j){return fe.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:o,xAxis:c,yAxis:u,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,m=Kr(this.props,!1),g=Kr(u,!0),v=f.map(function(w,b){var _=eo(eo(eo({key:"dot-".concat(b),r:3},m),g),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:f});return e.renderDotItem(u,_)}),j={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return fe.createElement(ra,nx({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(n,s,i,o){var c=this.props,u=c.type,f=c.layout,h=c.connectNulls;c.ref;var m=s8(c,sNe),g=eo(eo(eo({},Kr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:u,layout:f,connectNulls:h});return fe.createElement(mp,nx({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,u=o.strokeDasharray,f=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,g=o.animationEasing,v=o.animationId,j=o.animateNewValues,w=o.width,b=o.height,_=this.state,T=_.prevPoints,E=_.totalLength;return fe.createElement(pc,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(T){var S=T.length/c.length,A=c.map(function(z,X){var V=Math.floor(X*S);if(T[V]){var Z=T[V],ee=Ms(Z.x,z.x),W=Ms(Z.y,z.y);return eo(eo({},z),{},{x:ee(C),y:W(C)})}if(j){var K=Ms(w*2,z.x),G=Ms(b/2,z.y);return eo(eo({},z),{},{x:K(C),y:G(C)})}return eo(eo({},z),{},{x:z.x,y:z.y})});return i.renderCurveStatically(A,n,s)}var R=Ms(0,E),D=R(C),B;if(u){var F="".concat(u).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});B=i.getStrokeDasharray(D,E,F)}else B=i.generateSimpleStrokeDasharray(E,D);return i.renderCurveStatically(c,n,s,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,c=i.isAnimationActive,u=this.state,f=u.prevPoints,h=u.totalLength;return c&&o&&o.length&&(!f&&h>0||!qp(f,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,u=s.className,f=s.xAxis,h=s.yAxis,m=s.top,g=s.left,v=s.width,j=s.height,w=s.isAnimationActive,b=s.id;if(i||!c||!c.length)return null;var _=this.state.isAnimationFinished,T=c.length===1,E=an("recharts-line",u),k=f&&f.allowDataOverflow,C=h&&h.allowDataOverflow,S=k||C,A=Zr(b)?this.id:b,R=(n=Kr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=R.r,B=D===void 0?3:D,F=R.strokeWidth,z=F===void 0?2:F,X=vV(o)?o:{},V=X.clipDot,Z=V===void 0?!0:V,ee=B*2+z;return fe.createElement(ra,{className:E},k||C?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(A)},fe.createElement("rect",{x:k?g:g-v/2,y:C?m:m-j/2,width:k?v:v*2,height:C?j:j*2})),!Z&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},fe.createElement("rect",{x:g-ee/2,y:m-ee/2,width:v+ee,height:j+ee}))):null,!T&&this.renderCurve(S,A),this.renderErrorBar(S,A),(T||o)&&this.renderDots(S,Z,A),(!w||_)&&ud.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat($m(n),[0]):n,o=[],c=0;c<s;++c)o=[].concat($m(o),$m(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(fe.isValidElement(n))i=fe.cloneElement(n,s);else if(Jr(n))i=n(s);else{var o=s.key,c=s8(s,iNe),u=an("recharts-line-dot",typeof n!="boolean"?n.className:"");i=fe.createElement(n2,nx({key:o},c,{className:u}))}return i}}])})(x.PureComponent);pl(ga,"displayName","Line");pl(ga,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pl(ga,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,c=t.bandSize,u=t.displayedData,f=t.offset,h=e.layout,m=u.map(function(g,v){var j=Si(g,o);return h==="horizontal"?{x:g1({axis:r,ticks:s,bandSize:c,entry:g,index:v}),y:Zr(j)?null:n.scale(j),value:j,payload:g}:{x:Zr(j)?null:r.scale(j),y:g1({axis:n,ticks:i,bandSize:c,entry:g,index:v}),value:j,payload:g}});return eo({points:m,layout:h},f)});var vNe=["layout","type","stroke","connectNulls","isRange","ref"],bNe=["key"],oK;function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function lK(t,e){if(t==null)return{};var r=wNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eh.apply(this,arguments)}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){oc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dK(n.key),n)}}function jNe(t,e,r){return e&&c8(t.prototype,e),r&&c8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SNe(t,e,r){return e=L1(e),kNe(t,cK()?Reflect.construct(e,r||[],L1(t).constructor):e.apply(t,r))}function kNe(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ne(t)}function _Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(t)}function CNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oC(t,e)}function oc(t,e,r){return e=dK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dK(t){var e=TNe(t,"string");return eg(e)=="symbol"?e:e+""}function TNe(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kl=(function(t){function e(){var r;NNe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=SNe(this,e,[].concat(s)),oc(r,"state",{isAnimationFinished:!0}),oc(r,"id",Ng("recharts-area-")),oc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Jr(o)&&o()}),oc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Jr(o)&&o()}),r}return CNe(e,t),jNe(e,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var u=this.props,f=u.dot,h=u.points,m=u.dataKey,g=Kr(this.props,!1),v=Kr(f,!0),j=h.map(function(b,_){var T=ru(ru(ru({key:"dot-".concat(_),r:3},g),v),{},{index:_,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:h});return e.renderDotItem(f,T)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return fe.createElement(ra,eh({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,u=o[0].x,f=o[o.length-1].x,h=n*Math.abs(u-f),m=Nu(o.map(function(g){return g.y||0}));return gt(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Nu(i.map(function(g){return g.y||0})),m)),gt(m)?fe.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(m+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,u=o[0].y,f=o[o.length-1].y,h=n*Math.abs(u-f),m=Nu(o.map(function(g){return g.x||0}));return gt(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Nu(i.map(function(g){return g.x||0})),m)),gt(m)?fe.createElement("rect",{x:0,y:u<f?u:u-h,width:m+(c?parseInt("".concat(c),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var c=this.props,u=c.layout,f=c.type,h=c.stroke,m=c.connectNulls,g=c.isRange;c.ref;var v=lK(c,vNe);return fe.createElement(ra,{clipPath:i?"url(#clipPath-".concat(o,")"):null},fe.createElement(mp,eh({},Kr(v,!0),{points:n,connectNulls:m,type:f,baseLine:s,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&fe.createElement(mp,eh({},Kr(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:n})),h!=="none"&&g&&fe.createElement(mp,eh({},Kr(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,u=o.baseLine,f=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,g=o.animationEasing,v=o.animationId,j=this.state,w=j.prevPoints,b=j.prevBaseLine;return fe.createElement(pc,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(w){var E=w.length/c.length,k=c.map(function(R,D){var B=Math.floor(D*E);if(w[B]){var F=w[B],z=Ms(F.x,R.x),X=Ms(F.y,R.y);return ru(ru({},R),{},{x:z(T),y:X(T)})}return R}),C;if(gt(u)&&typeof u=="number"){var S=Ms(b,u);C=S(T)}else if(Zr(u)||wg(u)){var A=Ms(b,0);C=A(T)}else C=u.map(function(R,D){var B=Math.floor(D*E);if(b[B]){var F=b[B],z=Ms(F.x,R.x),X=Ms(F.y,R.y);return ru(ru({},R),{},{x:z(T),y:X(T)})}return R});return i.renderAreaStatically(k,C,n,s)}return fe.createElement(ra,null,fe.createElement("defs",null,fe.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(T))),fe.createElement(ra,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(c,u,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,c=i.baseLine,u=i.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return u&&o&&o.length&&(!h&&g>0||!qp(h,o)||!qp(m,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,c,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,u=s.className,f=s.top,h=s.left,m=s.xAxis,g=s.yAxis,v=s.width,j=s.height,w=s.isAnimationActive,b=s.id;if(i||!c||!c.length)return null;var _=this.state.isAnimationFinished,T=c.length===1,E=an("recharts-area",u),k=m&&m.allowDataOverflow,C=g&&g.allowDataOverflow,S=k||C,A=Zr(b)?this.id:b,R=(n=Kr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=R.r,B=D===void 0?3:D,F=R.strokeWidth,z=F===void 0?2:F,X=vV(o)?o:{},V=X.clipDot,Z=V===void 0?!0:V,ee=B*2+z;return fe.createElement(ra,{className:E},k||C?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(A)},fe.createElement("rect",{x:k?h:h-v/2,y:C?f:f-j/2,width:k?v:v*2,height:C?j:j*2})),!Z&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},fe.createElement("rect",{x:h-ee/2,y:f-ee/2,width:v+ee,height:j+ee}))):null,T?null:this.renderArea(S,A),(o||T)&&this.renderDots(S,Z,A),(!w||_)&&ud.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(x.PureComponent);oK=kl;oc(kl,"displayName","Area");oc(kl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oc(kl,"getBaseValue",function(t,e,r,n){var s=t.layout,i=t.baseValue,o=e.props.baseValue,c=o??i;if(gt(c)&&typeof c=="number")return c;var u=s==="horizontal"?n:r,f=u.scale.domain();if(u.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return c==="dataMin"?m:c==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});oc(kl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,u=t.dataKey,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,v=e.layout,j=f&&f.length,w=oK.getBaseValue(e,r,n,s),b=v==="horizontal",_=!1,T=m.map(function(k,C){var S;j?S=f[h+C]:(S=Si(k,u),Array.isArray(S)?_=!0:S=[w,S]);var A=S[1]==null||j&&Si(k,u)==null;return b?{x:g1({axis:n,ticks:i,bandSize:c,entry:k,index:C}),y:A?null:s.scale(S[1]),value:S,payload:k}:{x:A?null:n.scale(S[1]),y:g1({axis:s,ticks:o,bandSize:c,entry:k,index:C}),value:S,payload:k}}),E;return j||_?E=T.map(function(k){var C=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:C!=null&&k.y!=null?s.scale(C):null}:{x:C!=null?n.scale(C):null,y:k.y}}):E=b?s.scale(w):n.scale(w),ru({points:T,baseLine:E,layout:v,isRange:_},g)});oc(kl,"renderDotItem",function(t,e){var r;if(fe.isValidElement(t))r=fe.cloneElement(t,e);else if(Jr(t))r=t(e);else{var n=an("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=lK(e,bNe);r=fe.createElement(n2,eh({},i,{key:s,className:n}))}return r});function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function PNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ENe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hK(n.key),n)}}function ANe(t,e,r){return e&&ENe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function INe(t,e,r){return e=$1(e),ONe(t,uK()?Reflect.construct(e,r||[],$1(t).constructor):e.apply(t,r))}function ONe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MNe(t)}function MNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(t)}function RNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lC(t,e)}function fK(t,e,r){return e=hK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=DNe(t,"string");return tg(e)=="symbol"?e:e+""}function DNe(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function LNe(t){var e=t.xAxisId,r=GH(),n=YH(),s=HH(e);return s==null?null:x.createElement(u2,cC({},s,{className:an("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zf(o,!0)}}))}var yi=(function(t){function e(){return PNe(this,e),INe(this,e,arguments)}return RNe(e,t),ANe(e,[{key:"render",value:function(){return x.createElement(LNe,this.props)}}])})(x.Component);fK(yi,"displayName","XAxis");fK(yi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function $Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gK(n.key),n)}}function BNe(t,e,r){return e&&FNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UNe(t,e,r){return e=F1(e),zNe(t,mK()?Reflect.construct(e,r||[],F1(t).constructor):e.apply(t,r))}function zNe(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qNe(t)}function qNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(t)}function VNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dC(t,e)}function pK(t,e,r){return e=gK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gK(t){var e=WNe(t,"string");return rg(e)=="symbol"?e:e+""}function WNe(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uC.apply(this,arguments)}var HNe=function(e){var r=e.yAxisId,n=GH(),s=YH(),i=KH(r);return i==null?null:x.createElement(u2,uC({},i,{className:an("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return Zf(c,!0)}}))},Js=(function(t){function e(){return $Ne(this,e),UNe(this,e,arguments)}return VNe(e,t),BNe(e,[{key:"render",value:function(){return x.createElement(HNe,this.props)}}])})(x.Component);pK(Js,"displayName","YAxis");pK(Js,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d8(t){return XNe(t)||YNe(t)||GNe(t)||KNe()}function KNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GNe(t,e){if(t){if(typeof t=="string")return fC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fC(t,e)}}function YNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XNe(t){if(Array.isArray(t))return fC(t)}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hC=function(e,r,n,s,i){var o=Fo(e,gh),c=Fo(e,l2),u=[].concat(d8(o),d8(c)),f=Fo(e,d2),h="".concat(s,"Id"),m=s[0],g=r;if(u.length&&(g=u.reduce(function(w,b){if(b.props[h]===n&&uc(b.props,"extendDomain")&&gt(b.props[m])){var _=b.props[m];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},g)),f.length){var v="".concat(m,"1"),j="".concat(m,"2");g=f.reduce(function(w,b){if(b.props[h]===n&&uc(b.props,"extendDomain")&&gt(b.props[v])&&gt(b.props[j])){var _=b.props[v],T=b.props[j];return[Math.min(w[0],_,T),Math.max(w[1],_,T)]}return w},g)}return i&&i.length&&(g=i.reduce(function(w,b){return gt(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},q4={exports:{}},u8;function QNe(){return u8||(u8=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,m||u,g),j=r?r+f:f;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],v]:u._events[j].push(v):(u._events[j]=v,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,j=new Array(v);g<v;g++)j[g]=m[g].fn;return j},c.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,h,m,g,v,j){var w=r?r+f:f;if(!this._events[w])return!1;var b=this._events[w],_=arguments.length,T,E;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,g),!0;case 5:return b.fn.call(b.context,h,m,g,v),!0;case 6:return b.fn.call(b.context,h,m,g,v,j),!0}for(E=1,T=new Array(_-1);E<_;E++)T[E-1]=arguments[E];b.fn.apply(b.context,T)}else{var k=b.length,C;for(E=0;E<k;E++)switch(b[E].once&&this.removeListener(f,b[E].fn,void 0,!0),_){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,h);break;case 3:b[E].fn.call(b[E].context,h,m);break;case 4:b[E].fn.call(b[E].context,h,m,g);break;default:if(!T)for(C=1,T=new Array(_-1);C<_;C++)T[C-1]=arguments[C];b[E].fn.apply(b[E].context,T)}}return!0},c.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},c.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},c.prototype.removeListener=function(f,h,m,g){var v=r?r+f:f;if(!this._events[v])return this;if(!h)return o(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!g||j.once)&&(!m||j.context===m)&&o(this,v);else{for(var w=0,b=[],_=j.length;w<_;w++)(j[w].fn!==h||g&&!j[w].once||m&&j[w].context!==m)&&b.push(j[w]);b.length?this._events[v]=b.length===1?b[0]:b:o(this,v)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(q4)),q4.exports}var JNe=QNe();const ZNe=Yn(JNe);var V4=new ZNe,W4="recharts.syncMouseEvents";function Jx(t){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(t)}function eje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xK(n.key),n)}}function rje(t,e,r){return e&&tje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H4(t,e,r){return e=xK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xK(t){var e=nje(t,"string");return Jx(e)=="symbol"?e:e+""}function nje(t,e){if(Jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aje=(function(){function t(){eje(this,t),H4(this,"activeIndex",0),H4(this,"coordinateList",[]),H4(this,"layout","horizontal")}return rje(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,c=o===void 0?null:o,u=r.layout,f=u===void 0?null:u,h=r.offset,m=h===void 0?null:h,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+u+f,g=o+this.offset.top+c/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function sje(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&gt(n)&&gt(s))return!0}return!1}function ije(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function yK(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=Rs(e,r,n,s),c=Rs(e,r,n,i);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function oje(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,u=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,g=Rs(c,u,f,m),v=Rs(c,u,h,m);n=g.x,s=g.y,i=v.x,o=v.y}else return yK(e);return[{x:n,y:s},{x:i,y:o}]}function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(t)}function f8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(r),!0).forEach(function(n){lje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lje(t,e,r){return e=cje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cje(t){var e=dje(t,"string");return Zx(e)=="symbol"?e:e+""}function dje(t,e){if(Zx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uje(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,c=t.activePayload,u=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!i||!o||g!=="ScatterChart"&&s!=="axis")return null;var j,w=mp;if(g==="ScatterChart")j=o,w=m1e;else if(g==="BarChart")j=ije(m,o,u,h),w=PP;else if(m==="radial"){var b=yK(o),_=b.cx,T=b.cy,E=b.radius,k=b.startAngle,C=b.endAngle;j={cx:_,cy:T,startAngle:k,endAngle:C,innerRadius:E,outerRadius:E},w=wH}else j={points:oje(m,o,u)},w=mp;var S=nb(nb(nb(nb({stroke:"#ccc",pointerEvents:"none"},u),j),Kr(v,!1)),{},{payload:c,payloadIndex:f,className:an("recharts-tooltip-cursor",v.className)});return x.isValidElement(v)?x.cloneElement(v,S):x.createElement(w,S)}var fje=["item"],hje=["children","className","width","height","style","compact","title","desc"];function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ep.apply(this,arguments)}function h8(t,e){return gje(t)||pje(t,e)||bK(t,e)||mje()}function mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,c=[],u=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return c}}function gje(t){if(Array.isArray(t))return t}function m8(t,e){if(t==null)return{};var r=xje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wK(n.key),n)}}function bje(t,e,r){return e&&vje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wje(t,e,r){return e=B1(e),Nje(t,vK()?Reflect.construct(e,r||[],B1(t).constructor):e.apply(t,r))}function Nje(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(t)}function Sje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mC(t,e)}function ag(t){return Cje(t)||_je(t)||bK(t)||kje()}function kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function _je(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cje(t){if(Array.isArray(t))return pC(t)}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mr(t,e,r){return e=wK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wK(t){var e=Tje(t,"string");return ng(e)=="symbol"?e:e+""}function Tje(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pje={xAxis:["bottom","top"],yAxis:["left","right"]},Eje={width:"100%",height:"100%"},NK={x:0,y:0};function ab(t){return t}var Aje=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ije=function(e,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,c=s.radius;return $e($e($e({},s),Rs(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,f=s.angle;return $e($e($e({},s),Rs(s.cx,s.cy,u,f)),{},{angle:f,radius:u})}return NK},f2=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(c,u){var f=u.props.data;return f&&f.length?[].concat(ag(c),ag(f)):c},[]);return o.length>0?o:e&&e.length&&gt(s)&&gt(i)?e.slice(s,i+1):[]};function jK(t){return t==="number"?[0,"auto"]:void 0}var gC=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,c=f2(r,e);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(u,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=m===void 0?c:m;g=qb(v,o.dataKey,s)}else g=m&&m[n]||c[n];return g?[].concat(ag(u),[yH(f,g)]):u},[])},g8=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=Aje(i,n),c=e.orderedTooltipTicks,u=e.tooltipAxis,f=e.tooltipTicks,h=Xxe(o,c,f,u);if(h>=0&&f){var m=f[h]&&f[h].value,g=gC(e,r,h,m),v=Ije(n,c,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},Oje=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,v=gH(h,i);return n.reduce(function(j,w){var b,_=w.type.defaultProps!==void 0?$e($e({},w.type.defaultProps),w.props):w.props,T=_.type,E=_.dataKey,k=_.allowDataOverflow,C=_.allowDuplicatedCategory,S=_.scale,A=_.ticks,R=_.includeHidden,D=_[o];if(j[D])return j;var B=f2(e.data,{graphicalItems:s.filter(function(U){var ie,ce=o in U.props?U.props[o]:(ie=U.type.defaultProps)===null||ie===void 0?void 0:ie[o];return ce===D}),dataStartIndex:u,dataEndIndex:f}),F=B.length,z,X,V;sje(_.domain,k,T)&&(z=O_(_.domain,null,k),v&&(T==="number"||S!=="auto")&&(V=tx(B,E,"category")));var Z=jK(T);if(!z||z.length===0){var ee,W=(ee=_.domain)!==null&&ee!==void 0?ee:Z;if(E){if(z=tx(B,E,T),T==="category"&&v){var K=zde(z);C&&K?(X=z,z=_1(0,F)):C||(z=C7(W,z,w).reduce(function(U,ie){return U.indexOf(ie)>=0?U:[].concat(ag(U),[ie])},[]))}else if(T==="category")C?z=z.filter(function(U){return U!==""&&!Zr(U)}):z=C7(W,z,w).reduce(function(U,ie){return U.indexOf(ie)>=0||ie===""||Zr(ie)?U:[].concat(ag(U),[ie])},[]);else if(T==="number"){var G=tye(B,s.filter(function(U){var ie,ce,he=o in U.props?U.props[o]:(ie=U.type.defaultProps)===null||ie===void 0?void 0:ie[o],we="hide"in U.props?U.props.hide:(ce=U.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return he===D&&(R||!we)}),E,i,h);G&&(z=G)}v&&(T==="number"||S!=="auto")&&(V=tx(B,E,"category"))}else v?z=_1(0,F):c&&c[D]&&c[D].hasStack&&T==="number"?z=g==="expand"?[0,1]:xH(c[D].stackGroups,u,f):z=pH(B,s.filter(function(U){var ie=o in U.props?U.props[o]:U.type.defaultProps[o],ce="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return ie===D&&(R||!ce)}),T,h,!0);if(T==="number")z=hC(m,z,D,i,A),W&&(z=O_(W,z,k));else if(T==="category"&&W){var Q=W,$=z.every(function(U){return Q.indexOf(U)>=0});$&&(z=Q)}}return $e($e({},j),{},mr({},D,$e($e({},_),{},{axisType:i,domain:z,categoricalDomain:V,duplicateDomain:X,originalDomain:(b=_.domain)!==null&&b!==void 0?b:Z,isCategorical:v,layout:h})))},{})},Mje=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,g=f2(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),v=g.length,j=gH(h,i),w=-1;return n.reduce(function(b,_){var T=_.type.defaultProps!==void 0?$e($e({},_.type.defaultProps),_.props):_.props,E=T[o],k=jK("number");if(!b[E]){w++;var C;return j?C=_1(0,v):c&&c[E]&&c[E].hasStack?(C=xH(c[E].stackGroups,u,f),C=hC(m,C,E,i)):(C=O_(k,pH(g,n.filter(function(S){var A,R,D=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],B="hide"in S.props?S.props.hide:(R=S.type.defaultProps)===null||R===void 0?void 0:R.hide;return D===E&&!B}),"number",h),s.defaultProps.allowDataOverflow),C=hC(m,C,E,i)),$e($e({},b),{},mr({},E,$e($e({axisType:i},s.defaultProps),{},{hide:!0,orientation:$o(Pje,"".concat(i,".").concat(w%2),null),domain:C,originalDomain:k,isCategorical:j,layout:h})))}return b},{})},Rje=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(s,"Id"),g=Fo(h,i),v={};return g&&g.length?v=Oje(e,{axes:g,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:c,dataStartIndex:u,dataEndIndex:f}):o&&o.length&&(v=Mje(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:c,dataStartIndex:u,dataEndIndex:f})),v},Dje=function(e){var r=qm(e),n=Zf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rP(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:x1(r,n)}},x8=function(e){var r=e.children,n=e.defaultShowTooltip,s=no(r,Kp),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Lje=function(e){return!e||!e.length?!1:e.some(function(r){var n=cd(r&&r.type);return n&&n.indexOf("Bar")>=0})},y8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$je=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,c=e.yAxisMap,u=c===void 0?{}:c,f=n.width,h=n.height,m=n.children,g=n.margin||{},v=no(m,Kp),j=no(m,up),w=Object.keys(u).reduce(function(C,S){var A=u[S],R=A.orientation;return!A.mirror&&!A.hide?$e($e({},C),{},mr({},R,C[R]+A.width)):C},{left:g.left||0,right:g.right||0}),b=Object.keys(o).reduce(function(C,S){var A=o[S],R=A.orientation;return!A.mirror&&!A.hide?$e($e({},C),{},mr({},R,$o(C,"".concat(R))+A.height)):C},{top:g.top||0,bottom:g.bottom||0}),_=$e($e({},b),w),T=_.bottom;v&&(_.bottom+=v.props.height||Kp.defaultProps.height),j&&r&&(_=Zxe(_,s,n,r));var E=f-_.left-_.right,k=h-_.top-_.bottom;return $e($e({brushBottom:T},_),{},{width:Math.max(E,0),height:Math.max(k,0)})},Fje=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},SK=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,u=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(_,T){var E=T.graphicalItems,k=T.stackGroups,C=T.offset,S=T.updateId,A=T.dataStartIndex,R=T.dataEndIndex,D=_.barSize,B=_.layout,F=_.barGap,z=_.barCategoryGap,X=_.maxBarSize,V=y8(B),Z=V.numericAxisName,ee=V.cateAxisName,W=Lje(E),K=[];return E.forEach(function(G,Q){var $=f2(_.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:R}),U=G.type.defaultProps!==void 0?$e($e({},G.type.defaultProps),G.props):G.props,ie=U.dataKey,ce=U.maxBarSize,he=U["".concat(Z,"Id")],we=U["".concat(ee,"Id")],re={},pe=u.reduce(function(le,ge){var Se=T["".concat(ge.axisType,"Map")],He=U["".concat(ge.axisType,"Id")];Se&&Se[He]||ge.axisType==="zAxis"||Ph();var ze=Se[He];return $e($e({},le),{},mr(mr({},ge.axisType,ze),"".concat(ge.axisType,"Ticks"),Zf(ze)))},re),ue=pe[ee],Ie=pe["".concat(ee,"Ticks")],qe=k&&k[he]&&k[he].hasStack&&hye(G,k[he].stackGroups),Ne=cd(G.type).indexOf("Bar")>=0,rt=x1(ue,Ie),_e=[],Ct=W&&Qxe({barSize:D,stackGroups:k,totalSize:Fje(pe,ee)});if(Ne){var Qt,Ar,Ln=Zr(ce)?X:ce,Sn=(Qt=(Ar=x1(ue,Ie,!0))!==null&&Ar!==void 0?Ar:Ln)!==null&&Qt!==void 0?Qt:0;_e=Jxe({barGap:F,barCategoryGap:z,bandSize:Sn!==rt?Sn:rt,sizeList:Ct[we],maxBarSize:Ln}),Sn!==rt&&(_e=_e.map(function(le){return $e($e({},le),{},{position:$e($e({},le.position),{},{offset:le.position.offset-Sn/2})})}))}var oe=G&&G.type&&G.type.getComposedData;oe&&K.push({props:$e($e({},oe($e($e({},pe),{},{displayedData:$,props:_,dataKey:ie,item:G,bandSize:rt,barPosition:_e,offset:C,stackedData:qe,layout:B,dataStartIndex:A,dataEndIndex:R}))),{},mr(mr(mr({key:G.key||"item-".concat(Q)},Z,pe[Z]),ee,pe[ee]),"animationId",S)),childIndex:eue(G,_.children),item:G})}),K},v=function(_,T){var E=_.props,k=_.dataStartIndex,C=_.dataEndIndex,S=_.updateId;if(!z6({props:E}))return null;var A=E.children,R=E.layout,D=E.stackOffset,B=E.data,F=E.reverseStackOrder,z=y8(R),X=z.numericAxisName,V=z.cateAxisName,Z=Fo(A,n),ee=dye(B,Z,"".concat(X,"Id"),"".concat(V,"Id"),D,F),W=u.reduce(function(U,ie){var ce="".concat(ie.axisType,"Map");return $e($e({},U),{},mr({},ce,Rje(E,$e($e({},ie),{},{graphicalItems:Z,stackGroups:ie.axisType===X&&ee,dataStartIndex:k,dataEndIndex:C}))))},{}),K=$je($e($e({},W),{},{props:E,graphicalItems:Z}),T==null?void 0:T.legendBBox);Object.keys(W).forEach(function(U){W[U]=h(E,W[U],K,U.replace("Map",""),r)});var G=W["".concat(V,"Map")],Q=Dje(G),$=g(E,$e($e({},W),{},{dataStartIndex:k,dataEndIndex:C,updateId:S,graphicalItems:Z,stackGroups:ee,offset:K}));return $e($e({formattedGraphicalItems:$,graphicalItems:Z,offset:K,stackGroups:ee},Q),W)},j=(function(b){function _(T){var E,k,C;return yje(this,_),C=wje(this,_,[T]),mr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mr(C,"accessibilityManager",new aje),mr(C,"handleLegendBBoxUpdate",function(S){if(S){var A=C.state,R=A.dataStartIndex,D=A.dataEndIndex,B=A.updateId;C.setState($e({legendBBox:S},v({props:C.props,dataStartIndex:R,dataEndIndex:D,updateId:B},$e($e({},C.state),{},{legendBBox:S}))))}}),mr(C,"handleReceiveSyncEvent",function(S,A,R){if(C.props.syncId===S){if(R===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),mr(C,"handleBrushChange",function(S){var A=S.startIndex,R=S.endIndex;if(A!==C.state.dataStartIndex||R!==C.state.dataEndIndex){var D=C.state.updateId;C.setState(function(){return $e({dataStartIndex:A,dataEndIndex:R},v({props:C.props,dataStartIndex:A,dataEndIndex:R,updateId:D},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:R})}}),mr(C,"handleMouseEnter",function(S){var A=C.getMouseInfo(S);if(A){var R=$e($e({},A),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var D=C.props.onMouseEnter;Jr(D)&&D(R,S)}}),mr(C,"triggeredAfterMouseMove",function(S){var A=C.getMouseInfo(S),R=A?$e($e({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(R),C.triggerSyncEvent(R);var D=C.props.onMouseMove;Jr(D)&&D(R,S)}),mr(C,"handleItemMouseEnter",function(S){C.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),mr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),mr(C,"handleMouseMove",function(S){S.persist(),C.throttleTriggeredAfterMouseMove(S)}),mr(C,"handleMouseLeave",function(S){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var R=C.props.onMouseLeave;Jr(R)&&R(A,S)}),mr(C,"handleOuterEvent",function(S){var A=Zde(S),R=$o(C.props,"".concat(A));if(A&&Jr(R)){var D,B;/.*touch.*/i.test(A)?B=C.getMouseInfo(S.changedTouches[0]):B=C.getMouseInfo(S),R((D=B)!==null&&D!==void 0?D:{},S)}}),mr(C,"handleClick",function(S){var A=C.getMouseInfo(S);if(A){var R=$e($e({},A),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var D=C.props.onClick;Jr(D)&&D(R,S)}}),mr(C,"handleMouseDown",function(S){var A=C.props.onMouseDown;if(Jr(A)){var R=C.getMouseInfo(S);A(R,S)}}),mr(C,"handleMouseUp",function(S){var A=C.props.onMouseUp;if(Jr(A)){var R=C.getMouseInfo(S);A(R,S)}}),mr(C,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),mr(C,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseDown(S.changedTouches[0])}),mr(C,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseUp(S.changedTouches[0])}),mr(C,"handleDoubleClick",function(S){var A=C.props.onDoubleClick;if(Jr(A)){var R=C.getMouseInfo(S);A(R,S)}}),mr(C,"handleContextMenu",function(S){var A=C.props.onContextMenu;if(Jr(A)){var R=C.getMouseInfo(S);A(R,S)}}),mr(C,"triggerSyncEvent",function(S){C.props.syncId!==void 0&&V4.emit(W4,C.props.syncId,S,C.eventEmitterSymbol)}),mr(C,"applySyncEvent",function(S){var A=C.props,R=A.layout,D=A.syncMethod,B=C.state.updateId,F=S.dataStartIndex,z=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)C.setState($e({dataStartIndex:F,dataEndIndex:z},v({props:C.props,dataStartIndex:F,dataEndIndex:z,updateId:B},C.state)));else if(S.activeTooltipIndex!==void 0){var X=S.chartX,V=S.chartY,Z=S.activeTooltipIndex,ee=C.state,W=ee.offset,K=ee.tooltipTicks;if(!W)return;if(typeof D=="function")Z=D(K,S);else if(D==="value"){Z=-1;for(var G=0;G<K.length;G++)if(K[G].value===S.activeLabel){Z=G;break}}var Q=$e($e({},W),{},{x:W.left,y:W.top}),$=Math.min(X,Q.x+Q.width),U=Math.min(V,Q.y+Q.height),ie=K[Z]&&K[Z].value,ce=gC(C.state,C.props.data,Z),he=K[Z]?{x:R==="horizontal"?K[Z].coordinate:$,y:R==="horizontal"?U:K[Z].coordinate}:NK;C.setState($e($e({},S),{},{activeLabel:ie,activeCoordinate:he,activePayload:ce,activeTooltipIndex:Z}))}else C.setState(S)}),mr(C,"renderCursor",function(S){var A,R=C.state,D=R.isTooltipActive,B=R.activeCoordinate,F=R.activePayload,z=R.offset,X=R.activeTooltipIndex,V=R.tooltipAxisBandSize,Z=C.getTooltipEventType(),ee=(A=S.props.active)!==null&&A!==void 0?A:D,W=C.props.layout,K=S.key||"_recharts-cursor";return fe.createElement(uje,{key:K,activeCoordinate:B,activePayload:F,activeTooltipIndex:X,chartName:r,element:S,isActive:ee,layout:W,offset:z,tooltipAxisBandSize:V,tooltipEventType:Z})}),mr(C,"renderPolarAxis",function(S,A,R){var D=$o(S,"type.axisType"),B=$o(C.state,"".concat(D,"Map")),F=S.type.defaultProps,z=F!==void 0?$e($e({},F),S.props):S.props,X=B&&B[z["".concat(D,"Id")]];return x.cloneElement(S,$e($e({},X),{},{className:an(D,X.className),key:S.key||"".concat(A,"-").concat(R),ticks:Zf(X,!0)}))}),mr(C,"renderPolarGrid",function(S){var A=S.props,R=A.radialLines,D=A.polarAngles,B=A.polarRadius,F=C.state,z=F.radiusAxisMap,X=F.angleAxisMap,V=qm(z),Z=qm(X),ee=Z.cx,W=Z.cy,K=Z.innerRadius,G=Z.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(D)?D:Zf(Z,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(B)?B:Zf(V,!0).map(function(Q){return Q.coordinate}),cx:ee,cy:W,innerRadius:K,outerRadius:G,key:S.key||"polar-grid",radialLines:R})}),mr(C,"renderLegend",function(){var S=C.state.formattedGraphicalItems,A=C.props,R=A.children,D=A.width,B=A.height,F=C.props.margin||{},z=D-(F.left||0)-(F.right||0),X=hH({children:R,formattedGraphicalItems:S,legendWidth:z,legendContent:f});if(!X)return null;var V=X.item,Z=m8(X,fje);return x.cloneElement(V,$e($e({},Z),{},{chartWidth:D,chartHeight:B,margin:F,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),mr(C,"renderTooltip",function(){var S,A=C.props,R=A.children,D=A.accessibilityLayer,B=no(R,Ha);if(!B)return null;var F=C.state,z=F.isTooltipActive,X=F.activeCoordinate,V=F.activePayload,Z=F.activeLabel,ee=F.offset,W=(S=B.props.active)!==null&&S!==void 0?S:z;return x.cloneElement(B,{viewBox:$e($e({},ee),{},{x:ee.left,y:ee.top}),active:W,label:Z,payload:W?V:[],coordinate:X,accessibilityLayer:D})}),mr(C,"renderBrush",function(S){var A=C.props,R=A.margin,D=A.data,B=C.state,F=B.offset,z=B.dataStartIndex,X=B.dataEndIndex,V=B.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Zv(C.handleBrushChange,S.props.onChange),data:D,x:gt(S.props.x)?S.props.x:F.left,y:gt(S.props.y)?S.props.y:F.top+F.height+F.brushBottom-(R.bottom||0),width:gt(S.props.width)?S.props.width:F.width,startIndex:z,endIndex:X,updateId:"brush-".concat(V)})}),mr(C,"renderReferenceElement",function(S,A,R){if(!S)return null;var D=C,B=D.clipPathId,F=C.state,z=F.xAxisMap,X=F.yAxisMap,V=F.offset,Z=S.type.defaultProps||{},ee=S.props,W=ee.xAxisId,K=W===void 0?Z.xAxisId:W,G=ee.yAxisId,Q=G===void 0?Z.yAxisId:G;return x.cloneElement(S,{key:S.key||"".concat(A,"-").concat(R),xAxis:z[K],yAxis:X[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:B})}),mr(C,"renderActivePoints",function(S){var A=S.item,R=S.activePoint,D=S.basePoint,B=S.childIndex,F=S.isRange,z=[],X=A.props.key,V=A.item.type.defaultProps!==void 0?$e($e({},A.item.type.defaultProps),A.item.props):A.item.props,Z=V.activeDot,ee=V.dataKey,W=$e($e({index:B,dataKey:ee,cx:R.x,cy:R.y,r:4,fill:TP(A.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Kr(Z,!1)),Vb(Z));return z.push(_.renderActiveDot(Z,W,"".concat(X,"-activePoint-").concat(B))),D?z.push(_.renderActiveDot(Z,$e($e({},W),{},{cx:D.x,cy:D.y}),"".concat(X,"-basePoint-").concat(B))):F&&z.push(null),z}),mr(C,"renderGraphicChild",function(S,A,R){var D=C.filterFormatItem(S,A,R);if(!D)return null;var B=C.getTooltipEventType(),F=C.state,z=F.isTooltipActive,X=F.tooltipAxis,V=F.activeTooltipIndex,Z=F.activeLabel,ee=C.props.children,W=no(ee,Ha),K=D.props,G=K.points,Q=K.isRange,$=K.baseLine,U=D.item.type.defaultProps!==void 0?$e($e({},D.item.type.defaultProps),D.item.props):D.item.props,ie=U.activeDot,ce=U.hide,he=U.activeBar,we=U.activeShape,re=!!(!ce&&z&&W&&(ie||he||we)),pe={};B!=="axis"&&W&&W.props.trigger==="click"?pe={onClick:Zv(C.handleItemMouseEnter,S.props.onClick)}:B!=="axis"&&(pe={onMouseLeave:Zv(C.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Zv(C.handleItemMouseEnter,S.props.onMouseEnter)});var ue=x.cloneElement(S,$e($e({},D.props),pe));function Ie(ge){return typeof X.dataKey=="function"?X.dataKey(ge.payload):null}if(re)if(V>=0){var qe,Ne;if(X.dataKey&&!X.allowDuplicatedCategory){var rt=typeof X.dataKey=="function"?Ie:"payload.".concat(X.dataKey.toString());qe=qb(G,rt,Z),Ne=Q&&$&&qb($,rt,Z)}else qe=G==null?void 0:G[V],Ne=Q&&$&&$[V];if(we||he){var _e=S.props.activeIndex!==void 0?S.props.activeIndex:V;return[x.cloneElement(S,$e($e($e({},D.props),pe),{},{activeIndex:_e})),null,null]}if(!Zr(qe))return[ue].concat(ag(C.renderActivePoints({item:D,activePoint:qe,basePoint:Ne,childIndex:V,isRange:Q})))}else{var Ct,Qt=(Ct=C.getItemByXY(C.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:ue},Ar=Qt.graphicalItem,Ln=Ar.item,Sn=Ln===void 0?S:Ln,oe=Ar.childIndex,le=$e($e($e({},D.props),pe),{},{activeIndex:oe});return[x.cloneElement(Sn,le),null,null]}return Q?[ue,null,null]:[ue,null]}),mr(C,"renderCustomized",function(S,A,R){return x.cloneElement(S,$e($e({key:"recharts-customized-".concat(R)},C.props),C.state))}),mr(C,"renderMap",{CartesianGrid:{handler:ab,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ab},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ab},YAxis:{handler:ab},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=T.id)!==null&&E!==void 0?E:Ng("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=fW(C.triggeredAfterMouseMove,(k=T.throttleDelay)!==null&&k!==void 0?k:1e3/60),C.state={},C}return Sje(_,b),bje(_,[{key:"componentDidMount",value:function(){var E,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,k=E.children,C=E.data,S=E.height,A=E.layout,R=no(k,Ha);if(R){var D=R.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,F=gC(this.state,C,D,B),z=this.state.tooltipTicks[D].coordinate,X=(this.state.offset.top+S)/2,V=A==="horizontal",Z=V?{x:z,y:X}:{y:z,x:X},ee=this.state.formattedGraphicalItems.find(function(K){var G=K.item;return G.type.name==="Scatter"});ee&&(Z=$e($e({},Z),ee.props.points[D].tooltipPosition),F=ee.props.points[D].tooltipPayload);var W={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:B,activePayload:F,activeCoordinate:Z};this.setState(W),this.renderCursor(R),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,S;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(E){t_([no(E.children,Ha)],[no(this.props.children,Ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=no(this.props.children,Ha);if(E&&typeof E.props.shared=="boolean"){var k=E.props.shared?"axis":"item";return c.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var k=this.container,C=k.getBoundingClientRect(),S=Bme(C),A={chartX:Math.round(E.pageX-S.left),chartY:Math.round(E.pageY-S.top)},R=C.width/k.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,R);if(!D)return null;var B=this.state,F=B.xAxisMap,z=B.yAxisMap,X=this.getTooltipEventType(),V=g8(this.state,this.props.data,this.props.layout,D);if(X!=="axis"&&F&&z){var Z=qm(F).scale,ee=qm(z).scale,W=Z&&Z.invert?Z.invert(A.chartX):null,K=ee&&ee.invert?ee.invert(A.chartY):null;return $e($e({},A),{},{xValue:W,yValue:K},V)}return V?$e($e({},A),V):null}},{key:"inRange",value:function(E,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=E/C,R=k/C;if(S==="horizontal"||S==="vertical"){var D=this.state.offset,B=A>=D.left&&A<=D.left+D.width&&R>=D.top&&R<=D.top+D.height;return B?{x:A,y:R}:null}var F=this.state,z=F.angleAxisMap,X=F.radiusAxisMap;if(z&&X){var V=qm(z);return E7({x:A,y:R},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,k=this.getTooltipEventType(),C=no(E,Ha),S={};C&&k==="axis"&&(C.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Vb(this.props,this.handleOuterEvent);return $e($e({},A),S)}},{key:"addListener",value:function(){V4.on(W4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){V4.removeListener(W4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,k,C){for(var S=this.state.formattedGraphicalItems,A=0,R=S.length;A<R;A++){var D=S[A];if(D.item===E||D.props.key===E.key||k===cd(D.item.type)&&C===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,k=this.state.offset,C=k.left,S=k.top,A=k.height,R=k.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:E},fe.createElement("rect",{x:C,y:S,height:A,width:R})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(k,C){var S=h8(C,2),A=S[0],R=S[1];return $e($e({},k),{},mr({},A,R.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(k,C){var S=h8(C,2),A=S[0],R=S[1];return $e($e({},k),{},mr({},A,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(E){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(E){var k=this.state,C=k.formattedGraphicalItems,S=k.activeItem;if(C&&C.length)for(var A=0,R=C.length;A<R;A++){var D=C[A],B=D.props,F=D.item,z=F.type.defaultProps!==void 0?$e($e({},F.type.defaultProps),F.props):F.props,X=cd(F.type);if(X==="Bar"){var V=(B.data||[]).find(function(K){return a1e(E,K)});if(V)return{graphicalItem:D,payload:V}}else if(X==="RadialBar"){var Z=(B.data||[]).find(function(K){return E7(E,K)});if(Z)return{graphicalItem:D,payload:Z}}else if(a2(D,S)||s2(D,S)||Kx(D,S)){var ee=G1e({graphicalItem:D,activeTooltipItem:S,itemData:z.data}),W=z.activeIndex===void 0?ee:z.activeIndex;return{graphicalItem:$e($e({},D),{},{childIndex:W}),payload:Kx(D,S)?z.data[ee]:D.props.data[ee]}}}return null}},{key:"render",value:function(){var E=this;if(!z6(this))return null;var k=this.props,C=k.children,S=k.className,A=k.width,R=k.height,D=k.style,B=k.compact,F=k.title,z=k.desc,X=m8(k,hje),V=Kr(X,!1);if(B)return fe.createElement(GR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(n_,ep({},V,{width:A,height:R,title:F,desc:z}),this.renderClipPath(),V6(C,this.renderMap)));if(this.props.accessibilityLayer){var Z,ee;V.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,V.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",V.onKeyDown=function(K){E.accessibilityManager.keyboardEvent(K)},V.onFocus=function(){E.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return fe.createElement(GR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",ep({className:an("recharts-wrapper",S),style:$e({position:"relative",cursor:"default",width:A,height:R},D)},W,{ref:function(G){E.container=G}}),fe.createElement(n_,ep({},V,{width:A,height:R,title:F,desc:z,style:Eje}),this.renderClipPath(),V6(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);mr(j,"displayName",r),mr(j,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),mr(j,"getDerivedStateFromProps",function(b,_){var T=b.dataKey,E=b.data,k=b.children,C=b.width,S=b.height,A=b.layout,R=b.stackOffset,D=b.margin,B=_.dataStartIndex,F=_.dataEndIndex;if(_.updateId===void 0){var z=x8(b);return $e($e($e({},z),{},{updateId:0},v($e($e({props:b},z),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:E,prevWidth:C,prevHeight:S,prevLayout:A,prevStackOffset:R,prevMargin:D,prevChildren:k})}if(T!==_.prevDataKey||E!==_.prevData||C!==_.prevWidth||S!==_.prevHeight||A!==_.prevLayout||R!==_.prevStackOffset||!dp(D,_.prevMargin)){var X=x8(b),V={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Z=$e($e({},g8(_,E,A)),{},{updateId:_.updateId+1}),ee=$e($e($e({},X),V),Z);return $e($e($e({},ee),v($e({props:b},ee),_)),{},{prevDataKey:T,prevData:E,prevWidth:C,prevHeight:S,prevLayout:A,prevStackOffset:R,prevMargin:D,prevChildren:k})}if(!t_(k,_.prevChildren)){var W,K,G,Q,$=no(k,Kp),U=$&&(W=(K=$.props)===null||K===void 0?void 0:K.startIndex)!==null&&W!==void 0?W:B,ie=$&&(G=(Q=$.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&G!==void 0?G:F,ce=U!==B||ie!==F,he=!Zr(E),we=he&&!ce?_.updateId:_.updateId+1;return $e($e({updateId:we},v($e($e({props:b},_),{},{updateId:we,dataStartIndex:U,dataEndIndex:ie}),_)),{},{prevChildren:k,dataStartIndex:U,dataEndIndex:ie})}return null}),mr(j,"renderActiveDot",function(b,_,T){var E;return x.isValidElement(b)?E=x.cloneElement(b,_):Jr(b)?E=b(_):E=fe.createElement(n2,_),fe.createElement(ra,{className:"recharts-active-dot",key:T},E)});var w=x.forwardRef(function(_,T){return fe.createElement(j,ep({},_,{ref:T}))});return w.displayName=j.displayName,w},Vf=SK({chartName:"LineChart",GraphicalChild:ga,axisComponents:[{axisType:"xAxis",AxisComp:yi},{axisType:"yAxis",AxisComp:Js}],formatAxisMap:LH}),bb=SK({chartName:"AreaChart",GraphicalChild:kl,axisComponents:[{axisType:"xAxis",AxisComp:yi},{axisType:"yAxis",AxisComp:Js}],formatAxisMap:LH});function Bje(){return X$.useSyncExternalStore(Uje,()=>!0,()=>!1)}function Uje(){return()=>{}}var OP="Avatar",[zje]=zi(OP),[qje,kK]=zje(OP),_K=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,i]=x.useState("idle");return a.jsx(qje,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Bt.span,{...n,ref:e})})});_K.displayName=OP;var CK="AvatarImage",TK=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=t,o=kK(CK,r),c=Vje(n,i),u=Ni(f=>{s(f),o.onImageLoadingStatusChange(f)});return Ya(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?a.jsx(Bt.img,{...i,ref:e,src:n}):null});TK.displayName=CK;var PK="AvatarFallback",EK=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,i=kK(PK,r),[o,c]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Bt.span,{...s,ref:e}):null});EK.displayName=PK;function v8(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Vje(t,{referrerPolicy:e,crossOrigin:r}){const n=Bje(),s=x.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,c]=x.useState(()=>v8(i,t));return Ya(()=>{c(v8(i,t))},[i,t]),Ya(()=>{const u=m=>()=>{c(m)};if(!i)return;const f=u("loaded"),h=u("error");return i.addEventListener("load",f),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",h)}},[i,r,e]),o}var AK=_K,IK=TK,OK=EK;const Au=x.forwardRef(({className:t,...e},r)=>a.jsx(AK,{ref:r,className:Nt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Au.displayName=AK.displayName;const MK=x.forwardRef(({className:t,...e},r)=>a.jsx(IK,{ref:r,className:Nt("aspect-square h-full w-full",t),...e}));MK.displayName=IK.displayName;const Iu=x.forwardRef(({className:t,...e},r)=>a.jsx(OK,{ref:r,className:Nt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Iu.displayName=OK.displayName;function Wje({images:t}){const[e,r]=x.useState(0),[n,s]=x.useState(!1),i=x.useRef(null),o=x.useRef(0),c=x.useRef(0),u=x.useRef(!1),f=()=>{n||(s(!0),r(_=>(_+1)%t.length),setTimeout(()=>s(!1),300))},h=()=>{n||(s(!0),r(_=>(_-1+t.length)%t.length),setTimeout(()=>s(!1),300))},m=_=>{o.current=_.touches[0].clientX,u.current=!0},g=_=>{if(!u.current)return;c.current=_.touches[0].clientX;const T=o.current-c.current;i.current&&(i.current.style.transform=`translateX(${-e*100-T/i.current.offsetWidth*100}%)`)},v=()=>{if(!u.current)return;u.current=!1;const _=o.current-c.current,T=50;i.current&&(i.current.style.transform=`translateX(-${e*100}%)`),Math.abs(_)>T&&(_>0?f():h())},j=_=>{_.preventDefault(),o.current=_.clientX,u.current=!0},w=_=>{if(!u.current)return;c.current=_.clientX;const T=o.current-c.current;i.current&&(i.current.style.transform=`translateX(${-e*100-T/i.current.offsetWidth*100}%)`)},b=()=>{if(!u.current)return;u.current=!1;const _=o.current-c.current,T=50;i.current&&(i.current.style.transform=`translateX(-${e*100}%)`),Math.abs(_)>T&&(_>0?f():h())};return x.useEffect(()=>{const _=()=>{u.current&&b()},T=E=>{if(u.current){c.current=E.clientX;const k=o.current-c.current;i.current&&(i.current.style.transform=`translateX(${-e*100-k/i.current.offsetWidth*100}%)`)}};return document.addEventListener("mouseup",_),document.addEventListener("mousemove",T),()=>{document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",T)}},[e]),x.useEffect(()=>{i.current&&(i.current.style.transform=`translateX(-${e*100}%)`)},[e]),t.length===0?null:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative w-full overflow-hidden group",children:[a.jsx("div",{ref:i,className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${e*100}%)`},onTouchStart:m,onTouchMove:g,onTouchEnd:v,onMouseDown:j,onMouseMove:w,onMouseUp:b,children:t.map((_,T)=>a.jsx("div",{className:"w-full flex-shrink-0",children:a.jsx("img",{src:_,alt:`Image ${T+1} of ${t.length}`,className:"w-full h-48 object-cover rounded-lg border border-gray-200 dark:border-gray-600 shadow-lg select-none",draggable:!1})},T))}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:h,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200","aria-label":"Previous image",children:a.jsx(uh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200","aria-label":"Next image",children:a.jsx(ku,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full",children:[e+1,"/",t.length]})]}),t.length>1&&a.jsx("div",{className:"flex justify-center space-x-1.5",children:t.map((_,T)=>a.jsx("button",{onClick:()=>{n||(s(!0),r(T),setTimeout(()=>s(!1),300))},className:`w-2 h-2 rounded-full transition-all duration-200 ${T===e?"bg-gray-700 dark:bg-gray-300 scale-110":"bg-gray-400 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-400"}`,"aria-label":`Go to image ${T+1}`},T))})]})}function Hje({isOpen:t,onClose:e,initialQuery:r}){const[n,s]=x.useState([]),[i,o]=x.useState(""),[c,u]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(null),v=x.useRef(null),j=()=>{var k;(k=v.current)==null||k.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{j()},[n]),x.useEffect(()=>{t&&r&&r.trim()&&n.length===0&&T(r)},[t,r]);const w=k=>k.split(/(```[\s\S]*?```)/g).map((S,A)=>S.startsWith("```")&&S.endsWith("```")?{type:"code",content:S.replace(/^```(?:javascript)?\n?/,"").replace(/\n?```$/,""),index:A}:{type:"text",content:S,index:A}).filter(S=>S.content.trim()),b=(k,C)=>{navigator.clipboard.writeText(k).then(()=>{g(C),setTimeout(()=>g(null),2e3)}).catch(S=>{console.error("Failed to copy text: ",S)})},{data:_}=Na({queryKey:["/api/ai-context"],enabled:t}),T=async k=>{const C=k||i.trim();if(!C)return;const S={id:Date.now().toString(),role:"user",content:C,timestamp:new Date};s(A=>[...A,S]),o(""),u(!0);try{const A=await td("/api/gemini/chat","POST",{message:C,context:"trading"}),R={id:(Date.now()+1).toString(),role:"assistant",content:A.response||"I can help you with trading analysis and strategy generation.",timestamp:new Date};s(D=>[...D,R])}catch(A){console.error("AI Chat error:",A);const R={id:(Date.now()+1).toString(),role:"assistant",content:"I apologize, but I encountered an error processing your request. Please try again.",timestamp:new Date};s(D=>[...D,R])}finally{u(!1)}},E=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),T())};return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(xt,{className:`w-full max-w-4xl bg-white dark:bg-gray-900 shadow-2xl transition-all duration-300 ${f?"h-16":"h-[80vh]"}`,children:[a.jsx(Bi,{className:"border-b border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ro,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Zs,{className:"w-6 h-6 text-indigo-500"}),a.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent font-bold",children:"#1 BATTU AI"}),a.jsx("span",{className:"text-xs bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full font-semibold animate-pulse",children:"ULTRA-SMART"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:f?a.jsx(ZF,{className:"w-4 h-4"}):a.jsx(eB,{className:"w-4 h-4"})}),a.jsx(H,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(La,{className:"w-4 h-4"})})]})]})}),!f&&a.jsxs(bt,{className:"flex flex-col h-full p-0",children:[a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:a.jsxs("div",{className:"space-y-4",children:[n.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zs,{className:"w-16 h-16 text-indigo-500 mx-auto mb-4"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold animate-pulse",children:"#1"})]}),a.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Welcome to #1 BATTU AI!"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"The world's smartest trading assistant with 50% text match intelligence"}),a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-4 mb-6",children:[a.jsx("h4",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 mb-3",children:" Ultra-Smart Commands:"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs mb-3",children:[a.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 py-1 rounded border border-indigo-200 dark:border-indigo-700",children:'"code"'}),a.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 py-1 rounded border border-indigo-200 dark:border-indigo-700",children:'"rsi code"'}),a.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 py-1 rounded border border-indigo-200 dark:border-indigo-700",children:'"reliance"'}),a.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 py-1 rounded border border-indigo-200 dark:border-indigo-700",children:'"macd"'})]}),a.jsxs("div",{className:"border-t border-indigo-200 dark:border-indigo-700 pt-3",children:[a.jsx("h5",{className:"text-xs font-semibold text-green-600 dark:text-green-400 mb-2",children:" NEW: Advanced Multi-Indicator Combinations:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsx("span",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 px-2 py-1 rounded border border-green-200 dark:border-green-700 text-green-700 dark:text-green-300",children:'"rsi,macd code"'}),a.jsx("span",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 px-2 py-1 rounded border border-green-200 dark:border-green-700 text-green-700 dark:text-green-300",children:'"ema,rsi code"'})]}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2 italic",children:" Trades only when ALL indicators agree!"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-indigo-600 dark:text-indigo-400 bg-white dark:bg-gray-800 p-3 rounded-lg border border-indigo-200 dark:border-indigo-700",children:[a.jsx(oa,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Smart Stock Analysis"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Live prices + fundamentals"})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-white dark:bg-gray-800 p-3 rounded-lg border border-green-200 dark:border-green-700",children:[a.jsx(YF,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Code Generation"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Trading strategies + bots"})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-purple-600 dark:text-purple-400 bg-white dark:bg-gray-800 p-3 rounded-lg border border-purple-200 dark:border-purple-700",children:[a.jsx(ya,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"50% Text Matching"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Understands short phrases"})]})]})]}),n.map(k=>a.jsxs("div",{className:`flex gap-3 ${k.role==="user"?"justify-end":"justify-start"}`,children:[k.role==="assistant"&&a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(Zs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-3 ${k.role==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gradient-to-r from-gray-50 to-indigo-50 dark:from-gray-800 dark:to-indigo-900/20 text-gray-800 dark:text-gray-200 border border-indigo-200 dark:border-indigo-800"}`,children:[a.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:k.role==="assistant"?a.jsx("div",{className:"space-y-2",children:w(k.content).map((C,S)=>a.jsx("div",{children:C.type==="text"?a.jsx("div",{className:"bg-slate-700 text-gray-200 px-3 py-2 rounded-lg text-sm whitespace-pre-wrap",children:C.content}):a.jsxs("div",{className:"bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-slate-800 px-3 py-2 border-b border-slate-600",children:[a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"Strategy Code"}),a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>b(C.content,parseInt(k.id)*100+S),className:"h-6 px-2 text-xs text-gray-400 hover:text-white hover:bg-slate-700",children:m===parseInt(k.id)*100+S?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-3 h-3 mr-1"}),"Copy"]})})]}),a.jsx("div",{className:"p-3",children:a.jsx("pre",{className:"text-xs text-gray-300 font-mono overflow-x-auto whitespace-pre-wrap",children:C.content})})]})},S))}):a.jsx("div",{className:"text-white",children:k.content})}),a.jsx("span",{className:"text-xs opacity-70 mt-2 block",children:k.timestamp.toLocaleTimeString()})]}),k.role==="user"&&a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(rp,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]},k.id)),c&&a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0",children:a.jsx(Zs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex items-center gap-3 py-3 px-4 bg-gradient-to-r from-slate-800 to-slate-700 border border-purple-500/30 rounded-lg animate-pulse",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]}),a.jsx("span",{className:"text-xs text-slate-300 font-medium animate-pulse",children:"BATTU AI is thinking..."})]})]}),a.jsx("div",{ref:v})]})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(qr,{value:i,onChange:k=>o(k.target.value),onKeyPress:E,placeholder:"Ask me about stocks, market news, your trades, or any finance question...",className:"flex-1",disabled:c}),a.jsx(H,{onClick:()=>T(),disabled:!i.trim()||c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:a.jsx(dw,{className:"w-4 h-4"})})]})})]})]})}):null}function Kje({isOpen:t,onClose:e,onSuccess:r}){const[n,s]=x.useState(""),[i,o]=x.useState(""),[c,u]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(!1),[v,j]=x.useState(null),[w,b]=x.useState(""),[_,T]=x.useState(!1),{toast:E}=$s(),k=Array.from({length:31},(B,F)=>String(F+1).padStart(2,"0")),C=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],S=new Date().getFullYear(),A=Array.from({length:100},(B,F)=>String(S-F)),R=i&&c&&f?`${f}-${c}-${i}`:"";x.useEffect(()=>{const F=setTimeout(async()=>{if(n.length<3){j(null),b("");return}if(!/^[a-zA-Z0-9_]{3,20}$/.test(n)){j(!1),b("Username must be 3-20 characters (letters, numbers, underscore only)");return}g(!0);try{const X=await(await fetch(`/api/user/check-username/${n}`)).json();j(X.available),b(X.message)}catch(z){console.error("Error checking username:",z),j(null),b("")}finally{g(!1)}},500);return()=>clearTimeout(F)},[n]);const D=async()=>{if(!v){E({description:"Please provide a valid username",variant:"destructive"});return}if(!R){E({description:"Please provide your date of birth",variant:"destructive"});return}T(!0);try{const B=os.currentUser;if(!B)throw new Error("Not authenticated");console.log(" Getting Firebase ID token...");const F=await B.getIdToken();console.log(" ID token obtained"),console.log(" Sending profile save request:",{username:n.toLowerCase(),dob:R});const z=new AbortController,X=setTimeout(()=>z.abort(),3e4);try{const V=await fetch("/api/user/profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({username:n.toLowerCase(),dob:R}),signal:z.signal});clearTimeout(X),console.log(" Response status:",V.status,V.statusText);const Z=await V.text();console.log(" Response text:",Z.substring(0,200));let ee;try{ee=JSON.parse(Z)}catch{throw console.error(" Failed to parse response as JSON"),new Error("Server returned an invalid response. Please try again.")}if(!V.ok)throw new Error(ee.message||"Failed to save profile");console.log(" Profile saved successfully:",ee),E({description:"Profile created successfully!"}),r(n.toLowerCase()),e()}catch(V){throw clearTimeout(X),V.name==="AbortError"?(console.error(" Request timed out after 30 seconds"),new Error("Request timed out. Please check your connection and try again.")):V}}catch(B){console.error(" Error saving profile:",B),E({description:B.message||"Failed to save profile. Please try again.",variant:"destructive"})}finally{T(!1)}};return a.jsx(ha,{open:t,onOpenChange:e,children:a.jsxs(ca,{className:"sm:max-w-lg bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","data-testid":"dialog-userid-setup",children:[a.jsxs(Nne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",onClick:e,"data-testid":"button-close-dialog",children:[a.jsx(La,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),a.jsxs(ba,{className:"space-y-2",children:[a.jsx(wa,{className:"text-xl font-semibold text-gray-900 dark:text-white","data-testid":"text-dialog-title",children:"Complete Your Profile"}),a.jsx(uT,{className:"text-sm text-gray-600 dark:text-gray-400","data-testid":"text-dialog-description",children:"Choose a unique username and provide your date of birth"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{htmlFor:"username",className:"text-sm font-medium text-gray-700 dark:text-gray-300","data-testid":"label-username",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(qr,{id:"username","data-testid":"input-username",placeholder:"e.g., crypto_trader",value:n,onChange:B=>s(B.target.value.toLowerCase()),className:"pr-10 bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400"}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[m&&a.jsx(_b,{className:"h-4 w-4 animate-spin text-gray-400","data-testid":"icon-checking"}),!m&&v===!0&&a.jsx(pd,{className:"h-4 w-4 text-green-500","data-testid":"icon-available"}),!m&&v===!1&&a.jsx(La,{className:"h-4 w-4 text-red-500","data-testid":"icon-unavailable"})]})]}),w&&a.jsx("p",{className:`text-xs ${v?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,"data-testid":"text-username-message",children:w})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300","data-testid":"label-dob",children:"Date of Birth"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx("div",{children:a.jsxs(Xs,{value:c,onValueChange:u,children:[a.jsx(Is,{className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white","data-testid":"select-month",children:a.jsx(Qs,{placeholder:"Month"})}),a.jsx(Os,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-[200px]",children:C.map(B=>a.jsx(Ir,{value:B.value,className:"text-gray-900 dark:text-white",children:B.label},B.value))})]})}),a.jsx("div",{children:a.jsxs(Xs,{value:i,onValueChange:o,children:[a.jsx(Is,{className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white","data-testid":"select-day",children:a.jsx(Qs,{placeholder:"Day"})}),a.jsx(Os,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-[200px]",children:k.map(B=>a.jsx(Ir,{value:B,className:"text-gray-900 dark:text-white",children:B},B))})]})}),a.jsx("div",{children:a.jsxs(Xs,{value:f,onValueChange:h,children:[a.jsx(Is,{className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white","data-testid":"select-year",children:a.jsx(Qs,{placeholder:"Year"})}),a.jsx(Os,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-[200px]",children:A.map(B=>a.jsx(Ir,{value:B,className:"text-gray-900 dark:text-white",children:B},B))})]})})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(H,{variant:"outline",onClick:e,className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancel"}),a.jsx(H,{onClick:D,disabled:!v||!R||_,"data-testid":"button-save",className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:_?a.jsxs(a.Fragment,{children:[a.jsx(_b,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Profile"})]})]})})}function Gje(){var E,k;const{currentUser:t}=Rw(),{toast:e}=$s(),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,c]=x.useState(!1),[u,f]=x.useState(null),[h,m]=x.useState(""),[g,v]=x.useState("");x.useEffect(()=>{const C=async()=>{var A,R,D;const S=os.currentUser;if(S)try{const B=await S.getIdToken(),F=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${B}`}});if(F.ok){const z=await F.json();console.log(" Profile data received:",z.profile),z.profile&&(f({username:z.profile.username||((A=t.email)==null?void 0:A.split("@")[0])||"user",displayName:z.profile.displayName||((R=t.email)==null?void 0:R.split("@")[0])||"User",email:z.profile.email||t.email||"",bio:z.profile.bio||"",followers:z.profile.followers||0,following:z.profile.following||0,dob:z.profile.dob}),m(z.profile.bio||""),v(z.profile.displayName||((D=t.email)==null?void 0:D.split("@")[0])||"User"))}}catch(B){console.error("Error loading profile:",B)}};t.email&&C()},[t.email]);const j=async()=>{if(!g.trim()){e({description:"Display name cannot be empty",variant:"destructive"});return}c(!0);try{const C=os.currentUser;if(!C)throw new Error("Not authenticated");const S=await C.getIdToken(),A=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({displayName:g.trim(),bio:h.trim()})});if(!A.ok)throw new Error("Failed to update profile");const R=await A.json();f(D=>D?{...D,displayName:g.trim(),bio:h.trim()}:null),i(!1),e({description:"Profile updated successfully!"})}catch(C){console.error("Error updating profile:",C),e({description:C.message||"Failed to update profile",variant:"destructive"})}finally{c(!1)}},w=async()=>{try{localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserEmail"),Object.keys(localStorage).filter(S=>S.startsWith("firebase:")).forEach(S=>localStorage.removeItem(S)),await os.signOut(),window.location.href="/"}catch(C){console.error("Error logging out:",C),e({description:"Failed to logout",variant:"destructive"})}},b=C=>C.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2),_=(u==null?void 0:u.displayName)||t.displayName||((E=t.email)==null?void 0:E.split("@")[0])||"User",T=(u==null?void 0:u.username)||t.username||((k=t.email)==null?void 0:k.split("@")[0])||"user";return a.jsxs(a.Fragment,{children:[a.jsxs(mq,{children:[a.jsx(pq,{asChild:!0,children:a.jsx(H,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0 hover:bg-gray-100 dark:hover:bg-gray-700","data-testid":"button-profile-avatar",children:a.jsx(Au,{className:"h-10 w-10 border-2 border-gray-200 dark:border-gray-600",children:a.jsx(Iu,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white font-semibold text-sm",children:b(_)})})})}),a.jsxs(NT,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",align:"end",children:[a.jsxs(gq,{className:"font-normal",children:[a.jsxs("div",{className:"flex items-start gap-3 py-2",children:[a.jsx(Au,{className:"h-12 w-12 border-2 border-gray-200 dark:border-gray-600",children:a.jsx(Iu,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white font-semibold",children:b(_)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:_}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",T]})]})]}),(u==null?void 0:u.bio)&&a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:u.bio}),a.jsxs("div",{className:"flex gap-4 mt-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(u==null?void 0:u.following)||0}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Following"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(u==null?void 0:u.followers)||0}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Followers"})]})]})]}),a.jsx(q3,{className:"bg-gray-200 dark:bg-gray-700"}),a.jsxs(fh,{onClick:()=>n(!0),className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700","data-testid":"menu-item-view-profile",children:[a.jsx(rp,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"View Profile"})]}),a.jsxs(fh,{onClick:()=>{n(!0),i(!0)},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700","data-testid":"menu-item-edit-profile",children:[a.jsx(fl,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Edit Profile"})]}),a.jsx(q3,{className:"bg-gray-200 dark:bg-gray-700"}),a.jsxs(fh,{onClick:w,className:"cursor-pointer text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20","data-testid":"menu-item-logout",children:[a.jsx(JF,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]}),a.jsx(ha,{open:r,onOpenChange:C=>{n(C),C||(i(!1),m((u==null?void 0:u.bio)||""),v((u==null?void 0:u.displayName)||""))},children:a.jsxs(ca,{className:"sm:max-w-lg bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsxs(ba,{children:[a.jsx(wa,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s?"Edit Profile":"Profile"}),a.jsx(uT,{className:"text-sm text-gray-600 dark:text-gray-400",children:s?"Update your profile information":"Your profile details"})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Au,{className:"h-24 w-24 border-4 border-gray-200 dark:border-gray-600",children:a.jsx(Iu,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white font-bold text-2xl",children:b(_)})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Name"}),s?a.jsx(qr,{value:g,onChange:C=>v(C.target.value),className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600",placeholder:"Your display name","data-testid":"input-display-name"}):a.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:(u==null?void 0:u.displayName)||"Not set"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["@",T]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),s?a.jsx(Du,{value:h,onChange:C=>m(C.target.value),className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 min-h-[100px]",placeholder:"Tell us about yourself...",maxLength:200,"data-testid":"textarea-bio"}):a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:(u==null?void 0:u.bio)||"No bio added yet"}),s&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-right",children:[h.length,"/200"]})]}),a.jsxs("div",{className:"flex gap-6 py-4 border-t border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.following)||0}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Following"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.followers)||0}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Followers"})]})]})]}),a.jsx("div",{className:"flex justify-end gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(H,{variant:"outline",onClick:()=>{i(!1),m((u==null?void 0:u.bio)||""),v((u==null?void 0:u.displayName)||"")},className:"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600",children:"Cancel"}),a.jsx(H,{onClick:j,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-save-profile",children:o?a.jsxs(a.Fragment,{children:[a.jsx(_b,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]}):a.jsxs(H,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(fl,{className:"mr-2 h-4 w-4"}),"Edit Profile"]})})]})})]})}function Yje({content:t,author:e,selectedPostIds:r=[],selectedPosts:n=[],timestamp:s,likes:i=0,comments:o=0,isLiked:c=!1}){const[u,f]=x.useState(!1),[h,m]=x.useState(c),[g,v]=x.useState(i),[j,w]=x.useState(()=>{console.log(" AudioMinicastCard Initializing:",{selectedPostsCount:n.length,selectedPostIdsCount:r.length,hasPosts:n.length>0});const A=[{id:"main",type:"main",content:t,colorIndex:0}];return n.length>0?(console.log(" Using selectedPosts with actual content"),n.forEach((R,D)=>{var B,F;console.log(`  Card ${D+1}:`,{id:R.id,contentLength:((B=R.content)==null?void 0:B.length)||0,contentPreview:((F=R.content)==null?void 0:F.substring(0,50))+"..."}),A.push({id:`post-${R.id}`,type:"post",content:R.content,postId:R.id,colorIndex:(D+1)%5})})):(console.warn(" No selectedPosts, falling back to placeholder content"),r.forEach((R,D)=>{A.push({id:`post-${R}`,type:"post",content:`Selected Post ${D+1}`,postId:R,colorIndex:(D+1)%5})})),console.log(" Total cards created:",A.length),A}),b=A=>{const D=Math.floor((new Date().getTime()-A.getTime())/(1e3*60*60));return D<1?"now":D<24?`${D}h`:`${Math.floor(D/24)}d`},_=A=>{w(R=>{const D=[...R];if(A==="right"){const B=D.shift();B&&D.push(B)}else{const B=D.pop();B&&D.unshift(B)}return D})},[T,E]=x.useState(0),k=A=>{const R=[{from:"from-blue-500",to:"to-blue-600",label:"AUDIO MINICAST",icon:""},{from:"from-purple-500",to:"to-purple-600",label:"POST 1",icon:""},{from:"from-pink-500",to:"to-pink-600",label:"POST 2",icon:""},{from:"from-indigo-500",to:"to-indigo-600",label:"POST 3",icon:""},{from:"from-cyan-500",to:"to-cyan-600",label:"POST 4",icon:""}];return R[A%R.length]},C=()=>{if(u)window.speechSynthesis.cancel(),f(!1);else{const A=j[0],R=A?A.content:t;console.log(" Playing audio:",{currentCardId:A==null?void 0:A.id,currentCardType:A==null?void 0:A.type,textLength:(R==null?void 0:R.length)||0,textPreview:(R==null?void 0:R.substring(0,100))+"..."});const D=new SpeechSynthesisUtterance(R);D.rate=1,D.pitch=1,D.volume=1,D.onend=()=>{f(!1)},D.onerror=()=>{f(!1)},window.speechSynthesis.speak(D),f(!0)}},S=()=>{m(!h),v(A=>h?A-1:A+1)};return a.jsx(xt,{className:"border-0 border-b border-gray-200 dark:border-gray-700 rounded-none overflow-hidden",children:a.jsxs(bt,{className:"p-0",children:[a.jsxs("div",{className:"p-4 flex items-center gap-3 bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-blue-500 flex items-center justify-center text-white font-semibold",children:e.displayName.charAt(0)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.displayName}),a.jsx(Qm,{className:"h-3 w-3 text-purple-500"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["@",e.username]}),a.jsx("span",{children:""}),a.jsx("span",{children:b(s)})]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/30 pb-6 flex items-center justify-center",children:a.jsx("div",{className:"relative w-28 h-40",style:{perspective:"1000px"},children:j.slice(0,5).map((A,R)=>{const D=R===0,B=R===1,F=R===2,z=R===3,X=R===4,V=k(A.colorIndex);let Z="",ee=1,W=40;if(!D){const K=R*3,G=R*8,Q=1-R*.03,$=R*-2;Z=`translateY(${G}px) translateX(${$}px) rotate(${K}deg) scale(${Q})`,ee=B?.95:F?.85:z?.75:X?.65:.5,W=B?30:F?20:z?15:X?10:5}return a.jsx("div",{"data-card-index":R,style:{transform:Z,transition:"transform 0.3s ease-out, opacity 0.3s ease-out",opacity:ee,zIndex:W},className:`absolute inset-0 ${D?"cursor-grab active:cursor-grabbing":""}`,onMouseDown:K=>{if(!D)return;const G=K.clientX,Q=K.clientY,$=K.currentTarget;let U=!1;const ie=he=>{const we=he.clientX-G,re=he.clientY-Q;if(!U&&(Math.abs(we)>5||Math.abs(re)>5)&&(U=!0),U){const pe=we*.1;$.style.transform=`translate(${we}px, ${re}px) rotate(${pe}deg)`,$.style.opacity=String(Math.max(.3,1-Math.abs(we)/300)),E(we)}},ce=he=>{if(U){const we=he.clientX-G;if(E(0),Math.abs(we)>40){const re=we>0?"right":"left";if(re==="right"){const pe="150%",ue="30deg";$.style.transform=`translate(${pe}, ${we*.5}px) rotate(${ue})`,$.style.opacity="0",setTimeout(()=>{$.style.transform="",$.style.opacity="",_(re)},300)}else $.style.transform="",$.style.opacity="",_(re),setTimeout(()=>{var ue;const pe=(ue=$.parentElement)==null?void 0:ue.querySelector('[data-card-index="0"]');pe&&(pe.style.transform="translate(150%, 0) rotate(30deg)",pe.style.opacity="0",setTimeout(()=>{pe.style.transform="",pe.style.opacity="",pe.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{pe.style.transition=""},300)},10))},10)}else $.style.transform="",$.style.opacity=""}document.removeEventListener("mousemove",ie),document.removeEventListener("mouseup",ce)};document.addEventListener("mousemove",ie),document.addEventListener("mouseup",ce)},onTouchStart:K=>{if(!D)return;const G=K.touches[0].clientX,Q=K.touches[0].clientY,$=K.currentTarget;let U=!1;const ie=he=>{const we=he.touches[0].clientX-G,re=he.touches[0].clientY-Q;if(!U&&(Math.abs(we)>5||Math.abs(re)>5)&&(U=!0),U){he.preventDefault();const pe=we*.1;$.style.transform=`translate(${we}px, ${re}px) rotate(${pe}deg)`,$.style.opacity=String(Math.max(.3,1-Math.abs(we)/300)),E(we)}},ce=he=>{if(U){const we=he.changedTouches[0].clientX-G;if(E(0),Math.abs(we)>40){const re=we>0?"right":"left";if(re==="right"){const pe="150%",ue="30deg";$.style.transform=`translate(${pe}, ${we*.5}px) rotate(${ue})`,$.style.opacity="0",setTimeout(()=>{$.style.transform="",$.style.opacity="",_(re)},300)}else $.style.transform="",$.style.opacity="",_(re),setTimeout(()=>{var ue;const pe=(ue=$.parentElement)==null?void 0:ue.querySelector('[data-card-index="0"]');pe&&(pe.style.transform="translate(150%, 0) rotate(30deg)",pe.style.opacity="0",setTimeout(()=>{pe.style.transform="",pe.style.opacity="",pe.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{pe.style.transition=""},300)},10))},10)}else $.style.transform="",$.style.opacity=""}document.removeEventListener("touchmove",ie),document.removeEventListener("touchend",ce)};document.addEventListener("touchmove",ie,{passive:!1}),document.addEventListener("touchend",ce)},children:a.jsxs("div",{className:`bg-gradient-to-br ${V.from} ${V.to} rounded-xl p-3 h-full relative overflow-hidden border-2 border-white/10`,style:{boxShadow:D?"0 20px 40px rgba(0,0,0,0.4), 0 10px 20px rgba(0,0,0,0.3)":`0 ${8+R*4}px ${16+R*8}px rgba(0,0,0,${.3+R*.1})`},children:[a.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 opacity-30",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/20 to-white/10 rounded-full"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-[8px] text-white/80 mb-1 uppercase tracking-wide font-medium",children:V.label}),a.jsx("h3",{className:"text-xs font-bold text-white mb-2 leading-tight",children:A.type==="main"?a.jsxs(a.Fragment,{children:["Latest in",a.jsx("br",{}),e.displayName.toLowerCase()]}):a.jsxs(a.Fragment,{children:["Post #",A.postId,a.jsx("br",{}),"selected"]})}),a.jsx("button",{className:"bg-white text-gray-800 hover:bg-gray-100 px-2 py-1 rounded-full text-[10px] font-medium shadow-lg",onClick:K=>{K.stopPropagation(),D&&C()},"data-testid":"button-play-audio-card",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ca,{className:"w-2 h-2"}),a.jsx("span",{children:u?"Playing":"Play Now"})]})})]}),a.jsx("div",{className:"absolute top-2 right-2 text-sm filter drop-shadow-lg",children:V.icon}),!D&&a.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-2xl"})]})},A.id)})})}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs(H,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20","data-testid":"button-comment-audio",children:[a.jsx(od,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm",children:o})]}),a.jsxs(H,{variant:"ghost",size:"sm",onClick:S,className:`${h?"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,"data-testid":"button-like-audio",children:[a.jsx(Xm,{className:`h-5 w-5 mr-1 ${h?"fill-current":""}`}),a.jsx("span",{className:"text-sm",children:g})]}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20","data-testid":"button-share-audio",children:a.jsx(rB,{className:"h-5 w-5"})})]})]})})}function Xje({snippets:t,onTap:e}){const[r,n]=x.useState([]),[s,i]=x.useState(0),[o,c]=x.useState(!1);x.useEffect(()=>{const f=r.map(g=>g.id),h=t.map(g=>g.id),m=t.filter(g=>!f.includes(g.id));if(m.length>0){c(!0);const g=m.map((v,j)=>({...v,colorIndex:(s+j)%5}));n(v=>[...g,...v.filter(j=>h.includes(j.id))]),i((s+m.length)%5),setTimeout(()=>c(!1),600)}else f.length!==h.length&&n(g=>g.filter(v=>h.includes(v.id)))},[t]);const u=f=>{const h=[{from:"from-blue-500",to:"to-blue-600"},{from:"from-purple-500",to:"to-purple-600"},{from:"from-pink-500",to:"to-pink-600"},{from:"from-indigo-500",to:"to-indigo-600"},{from:"from-cyan-500",to:"to-cyan-600"}];return h[f%h.length]};return r.length===0?null:a.jsxs("div",{className:"fixed bottom-24 right-4 z-40 cursor-pointer transition-all duration-300 md:bottom-4",onClick:e,"data-testid":"audio-selected-preview",children:[a.jsx("div",{className:"relative w-16 h-20",style:{perspective:"1000px"},children:r.slice(0,5).map((f,h)=>{const m=h===0,g=u(f.colorIndex);let v="",j=1,w=40;if(!m){const _=h*4,T=h*4,E=1-h*.05,k=h*-2;v=`translateY(${T}px) translateX(${k}px) rotate(${_}deg) scale(${E})`,j=1-h*.15,w=40-h*10}const b=o&&m?"translateY(-50px) scale(0.5) rotate(-15deg)":v;return a.jsxs("div",{className:`absolute inset-0 bg-gradient-to-br ${g.from} ${g.to} rounded-lg shadow-lg border-2 border-white dark:border-gray-800 transition-all hover:scale-105`,style:{transform:b,opacity:j,zIndex:w,transition:o&&m?"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.5s ease-out":"transform 0.3s ease-out, opacity 0.3s ease-out"},children:[m&&r.length>1&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-md",children:r.length}),a.jsx("div",{className:"p-2 h-full flex flex-col justify-center items-center",children:a.jsx("div",{className:"text-white text-xs font-bold text-center leading-tight",children:m?"":""})})]},f.id)})}),a.jsx("div",{className:"absolute inset-0 rounded-lg animate-pulse opacity-30 pointer-events-none",children:a.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-lg"})})]})}function Qje({post:t,isVisible:e,onClose:r}){const[n,s]=x.useState(""),[i,o]=x.useState([]),[c,u]=x.useState(null),{toast:f}=$s(),h=ug(),{getUserDisplayName:m}=Rw(),{data:g,isLoading:v}=Na({queryKey:[`/api/social-posts/${t.id}/comments`],queryFn:async()=>{const k=await fetch(`/api/social-posts/${t.id}/comments`);if(!k.ok)throw new Error("Failed to fetch comments");return k.json()},enabled:e}),j=bi({mutationFn:async k=>{const C=await fetch(`/api/social-posts/${t.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:k})});if(!C.ok){const S=await C.json();throw new Error(S.error||"Failed to add comment")}return C.json()},onSuccess:k=>{const C=m(),S={id:Date.now().toString(),author:C,avatar:C.charAt(0).toUpperCase(),content:n,timestamp:"now"};o(A=>[...A,S]),h.invalidateQueries({queryKey:["/api/social-posts"]}),h.invalidateQueries({queryKey:[`/api/social-posts/${t.id}/comments`]}),s(""),f({description:"Comment added successfully!"})},onError:k=>{f({description:k.message||"Failed to add comment",variant:"destructive"})}}),w=k=>{k.preventDefault(),n.trim()&&j.mutate(n.trim())},b=k=>{o(C=>C.filter(S=>S.id!==k)),u(null),f({description:"Comment deleted"})};if(!e)return null;const E=[...g||[{id:"1",author:"Trading Pro",avatar:"T",content:"Great analysis! I agree with your bullish sentiment on this stock.",timestamp:"2h ago"},{id:"2",author:"Market Watcher",avatar:"M",content:"Interesting perspective. What are your thoughts on the volume patterns?",timestamp:"1h ago"},{id:"3",author:"Stock Guru",avatar:"S",content:"Thanks for sharing! This aligns with my technical analysis as well.",timestamp:"45m ago"}],...i];return a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 overflow-x-hidden",children:[E.length>0&&a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"max-h-60 overflow-y-auto overflow-x-hidden space-y-4",children:E.map(k=>{var S;const C=k.author===m();return a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-start gap-3 px-4 py-2",children:[a.jsx(Au,{className:"w-7 h-7 flex-shrink-0",children:a.jsx(Iu,{className:"text-xs bg-gray-200 dark:bg-gray-600",children:k.avatar||((S=k.author)==null?void 0:S.charAt(0))||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:k.author||"Anonymous"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.timestamp||"now"})]}),C&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>u(c===k.id?null:k.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-colors",children:a.jsx(XF,{className:"h-4 w-4 text-gray-400"})}),c===k.id&&a.jsx("div",{className:"absolute right-0 top-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-1 z-10",children:a.jsxs("button",{onClick:()=>b(k.id),className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 w-full text-left",children:[a.jsx(gs,{className:"h-4 w-4"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 break-words",children:k.content})]})]})},k.id)})})}),a.jsx("form",{onSubmit:w,className:"space-y-4",children:a.jsxs("div",{className:"flex items-start gap-4 px-4",children:[a.jsx(Au,{className:"w-8 h-8 flex-shrink-0",children:a.jsx(Iu,{className:"text-xs bg-gray-200 dark:bg-gray-600",children:"U"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Du,{placeholder:"Write your comment...",value:n,onChange:k=>s(k.target.value),className:"min-h-[60px] text-sm bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 resize-none",disabled:j.isPending}),a.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:r,disabled:j.isPending,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Cancel"}),a.jsx(H,{type:"submit",size:"sm",disabled:!n.trim()||j.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white px-4",children:j.isPending?"Posting...":"Post"})]})]})]})})]})}function Jje({isOpen:t,onClose:e,post:r}){const{toast:n}=$s(),s=`${window.location.origin}/post/${r.id}`,o=[{name:"Copy Link",icon:qa,action:async()=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(s),n({description:"Link copied to clipboard!"});else{const c=document.createElement("textarea");c.value=s,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),n({description:"Link copied to clipboard!"})}e()}catch(c){console.error("Copy failed:",c),n({description:"Failed to copy link",variant:"destructive"})}},description:"Copy post link to clipboard"},{name:"Open in New Tab",icon:HC,action:()=>{window.open(s,"_blank"),e()},description:"Open post in new tab"}];return a.jsx(ha,{open:t,onOpenChange:e,children:a.jsxs(ca,{className:"max-w-md transition-none",children:[a.jsx(ba,{children:a.jsx(wa,{children:"Share Post"})}),a.jsx("div",{className:"space-y-2",children:o.map(c=>a.jsxs(H,{variant:"ghost",className:"w-full justify-start gap-3 p-4 h-auto",onClick:c.action,children:[a.jsx(c.icon,{className:"h-5 w-5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:c.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:c.description})]})]},c.name))})]})})}function Zje({ticker:t,analysisData:e}){const[r,n]=x.useState("1D"),{data:s=[],isLoading:i}=Na({queryKey:["stock-chart",t,r],queryFn:()=>fetch(`/api/stock-chart-data/${t}?timeframe=${r}`).then(v=>v.json()),refetchInterval:r==="1D"?6e4:3e5,staleTime:r==="1D"?3e4:18e4,gcTime:6e5,refetchOnMount:!1,refetchOnWindowFocus:!1}),o=e.priceData.close||2695.8,u=(()=>{var v,j,w,b,_,T;if(!s||s.length===0)return e.priceData.open||o;switch(r){case"1D":return((v=s[0])==null?void 0:v.price)||e.priceData.open||o;case"5D":return((j=s[0])==null?void 0:j.price)||o;case"1M":return((w=s[0])==null?void 0:w.price)||o;case"6M":return((b=s[0])==null?void 0:b.price)||o;case"1Y":return((_=s[0])==null?void 0:_.price)||o;default:return((T=s[0])==null?void 0:T.price)||o}})(),f=o-u,h=u!==0?(f/u*100).toFixed(2):"0.00",m=f>=0,g=["1D","5D","1M","6M","1Y"];return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"text-green-400 text-sm",children:""}),a.jsx("span",{className:"text-green-400 font-medium",children:"Price Chart"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-gray-900 dark:text-white text-xl font-bold",children:["",o.toFixed(2)]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"INR"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:`text-sm font-medium ${m?"text-green-400":"text-red-400"}`,children:[m?"":""," ",Math.abs(f).toFixed(2)," (",m?"+":"",h,"%)"]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r==="1D"?"vs prev close":r==="5D"?"vs 5 days ago":r==="1M"?"vs 1 month ago":r==="6M"?"vs 6 months ago":r==="1Y"?"vs 1 year ago":"today"})]})]}),a.jsx("div",{className:"flex gap-1 mb-3",children:g.map(v=>a.jsx(H,{variant:r===v?"default":"ghost",size:"sm",onClick:()=>n(v),className:`px-3 py-1 text-xs ${r===v?"bg-blue-600 hover:bg-blue-700 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:v},v))}),a.jsx("div",{className:"h-40 mb-4",children:i?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-sm flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-300 dark:border-gray-600 border-t-blue-500 rounded-full"}),"Loading real ",r," chart data..."]})}):s&&s.length>0?a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:s,margin:{top:5,right:20,left:1.5,bottom:5},children:[a.jsx(yi,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickCount:8}),a.jsx(Js,{domain:["dataMin - 10","dataMax + 10"],axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},width:35}),a.jsx(Ha,{content:({active:v,payload:j,label:w})=>{if(!v||!j||!j.length)return null;const b=j[0].value;return a.jsxs("div",{style:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"6px",color:"#e2e8f0",padding:"8px 16px",fontSize:"13px",minWidth:"140px",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",display:"flex",alignItems:"center",gap:"12px"},children:[a.jsxs("span",{style:{fontSize:"13px",fontWeight:"500"},children:["",Number(b).toFixed(2)]}),a.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:"#475569"}}),a.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:w})]})}}),a.jsx(ga,{type:"linear",dataKey:"price",stroke:m?"#10b981":"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,fill:m?"#10b981":"#ef4444"}}),a.jsx(gh,{y:u,stroke:"#64748b",strokeDasharray:"2 2",strokeWidth:1})]})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:" Real chart data from Yahoo Finance & Google Finance"})})})]}),a.jsx("div",{children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Open"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",e.priceData.open]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"High"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",e.priceData.high]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Low"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",e.priceData.low]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Vol"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:e.priceData.volume})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"52W High"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",e.priceData.high52W]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"52W Low"}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",e.priceData.low52W]})]})]})})]})}function K4({onAllClick:t,isRefreshing:e,selectedFilter:r,onFilterChange:n,searchQuery:s,setSearchQuery:i,onSearch:o,showAppBar:c,onBackClick:u}){const[f,h]=x.useState(!1),[m,g]=x.useState(""),v=b=>{const _=b.target.value;i(_)},j=()=>{s.trim(),o()},w=()=>{s.trim()&&(g(s),h(!0))};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:`flex items-center justify-between mb-4 transition-all duration-300 ${c?"md:flex":"md:flex hidden"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center border border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"text-gray-700 dark:text-gray-300 font-bold text-sm",children:""})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 dark:text-white font-bold text-xl",children:"NeoFeed"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"AI-Powered Trading Network"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-700 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(KF,{className:"h-5 w-5"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-700 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(od,{className:"h-5 w-5"})}),a.jsx(Gje,{})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 h-4 w-4"}),a.jsx(qr,{placeholder:"Ask me about stocks, market news, IPOs, trading strategies...",value:s,onChange:v,onKeyPress:b=>b.key==="Enter"&&j(),className:"pl-10 pr-20 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-blue-500 focus:ring-blue-500","data-testid":"input-neo-feed-search"}),a.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:s.trim()?a.jsxs(a.Fragment,{children:[a.jsx(H,{onClick:j,size:"sm",className:"h-7 w-7 p-0 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md flex items-center justify-center",children:a.jsx(Cu,{className:"h-3.5 w-3.5"})}),a.jsx(H,{onClick:w,size:"sm",className:"h-7 w-7 p-0 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md flex items-center justify-center",children:a.jsx(Zs,{className:"h-3.5 w-3.5"})})]}):a.jsxs(H,{onClick:w,size:"sm",className:"h-7 px-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md font-medium flex items-center gap-1 text-xs",children:[a.jsx(Zs,{className:"h-3 w-3"}),"AI"]})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pb-2",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:["All","Bullish","Bearish","Profile"].map((b,_)=>a.jsx(H,{onClick:b==="All"?t:()=>n(b),variant:r===b?"default":"ghost",disabled:b==="All"&&e,className:`px-4 py-2 rounded-full whitespace-nowrap ${r===b?`bg-blue-600 hover:bg-blue-700 text-white ${b==="All"&&e?"opacity-80":""}`:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[_===0&&e&&a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),b]})},b))}),u&&a.jsx(H,{onClick:u,variant:"ghost",size:"icon",className:"flex-shrink-0 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","data-testid":"button-back-to-home",children:a.jsx(jb,{className:"h-5 w-5"})})]})]})}),a.jsx(Hje,{isOpen:f,onClose:()=>h(!1),initialQuery:m})]})}function eSe(){var S;const t=os.currentUser,[e,r]=x.useState("Posts"),[n,s]=x.useState(null),[i,o]=x.useState(0),[c,u]=x.useState(!0),[f,h]=x.useState(!1);$s(),x.useEffect(()=>{(async()=>{const R=os.currentUser;if(!R){u(!1);return}try{const D=await R.getIdToken(),B=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${D}`}});if(B.ok){const F=await B.json();F.profile&&s(F.profile)}}catch(D){console.error("Error loading profile data:",D)}finally{u(!1)}})()},[]);const{data:m=[],refetch:g}=Na({queryKey:["/api/social-posts"],queryFn:async()=>{const A=await fetch(`/api/social-posts?refresh=${Date.now()}`);if(!A.ok)throw new Error("Failed to fetch posts");return await A.json()}}),v=m.filter(A=>n&&A.authorUsername===n.username);x.useEffect(()=>{n&&o(v.length)},[v.length,n]);const j=(n==null?void 0:n.displayName)||(t==null?void 0:t.displayName)||"",w=(n==null?void 0:n.username)||((S=t==null?void 0:t.email)==null?void 0:S.split("@")[0])||"",b=(n==null?void 0:n.bio)||"",_=(n==null?void 0:n.following)||0,T=(n==null?void 0:n.followers)||0,E=n==null?void 0:n.profilePicUrl,k=n==null?void 0:n.coverPicUrl,C=j?j.charAt(0).toUpperCase():w.charAt(0).toUpperCase();return c?a.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 mb-6 animate-pulse",children:[a.jsx("div",{className:"h-48 bg-gray-300 dark:bg-gray-700"}),a.jsxs("div",{className:"pt-20 px-4 pb-4",children:[a.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-48 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-32"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:`h-48 relative ${k?"":"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}`,children:[k&&a.jsx("img",{src:k,alt:"Cover",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute -bottom-16 left-4",children:a.jsx(Au,{className:"w-32 h-32 border-4 border-white dark:border-gray-800",children:E?a.jsx(MK,{src:E}):a.jsx(Iu,{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white text-4xl font-bold",children:C})})})]}),a.jsxs("div",{className:"pt-20 px-4 pb-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-gray-900 dark:text-white font-bold text-2xl flex items-center gap-2",children:[j||w,(n==null?void 0:n.verified)&&a.jsx(pd,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 fill-current"})]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["@",w]})]}),a.jsx(H,{variant:"outline",className:"rounded-full px-6 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>h(!0),"data-testid":"button-edit-profile",children:"Edit profile"})]}),b&&a.jsx("p",{className:"text-gray-900 dark:text-white mb-4 text-base",children:b}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600 dark:text-gray-400 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(FZ,{className:"w-4 h-4"}),a.jsx("span",{children:"India"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oo,{className:"w-4 h-4"}),a.jsxs("span",{children:["Joined ",new Date().getFullYear()]})]})]}),a.jsxs("div",{className:"flex gap-4 text-sm mb-4",children:[a.jsxs("button",{className:"hover:underline",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:_}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-1",children:"Following"})]}),a.jsxs("button",{className:"hover:underline",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:T}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-1",children:"Followers"})]})]}),a.jsx("div",{className:"flex gap-8 border-b border-gray-200 dark:border-gray-700",children:[`Posts ${i>0?`(${i})`:""}`,"Media","Likes"].map(A=>a.jsxs("button",{onClick:()=>r(A.split(" ")[0]),className:`pb-3 px-2 font-medium transition-colors relative ${e===A.split(" ")[0]?"text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,"data-testid":`button-tab-${A.split(" ")[0].toLowerCase()}`,children:[A,e===A.split(" ")[0]&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-600 rounded-t-full"})]},A))})]})]}),e==="Posts"&&a.jsx("div",{className:"space-y-4 mb-6",children:v.length===0?a.jsx(xt,{className:"p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No posts yet"})}):v.map(A=>a.jsx(RK,{post:A,currentUserUsername:w},A.id))}),a.jsx(tSe,{isOpen:f,onClose:()=>h(!1),profileData:n,onSuccess:()=>{h(!1),window.location.reload()}})]})}function tSe({isOpen:t,onClose:e,profileData:r,onSuccess:n}){const[s,i]=x.useState((r==null?void 0:r.username)||""),[o,c]=x.useState((r==null?void 0:r.displayName)||""),[u,f]=x.useState((r==null?void 0:r.bio)||""),[h,m]=x.useState(!1),[g,v]=x.useState((r==null?void 0:r.profilePicUrl)||""),[j,w]=x.useState((r==null?void 0:r.coverPicUrl)||""),{toast:b}=$s(),_=os.currentUser;x.useEffect(()=>{r&&(i(r.username||""),c(r.displayName||""),f(r.bio||""),v(r.profilePicUrl||""),w(r.coverPicUrl||""))},[r]);const T=async(k,C)=>{if(k){m(!0);try{const S=new FormData;S.append("file",k),S.append("type",C);const A=await(_==null?void 0:_.getIdToken()),R=await fetch("/api/upload-profile-image",{method:"POST",headers:{Authorization:`Bearer ${A}`},body:S});if(!R.ok)throw new Error("Upload failed");const{url:D}=await R.json();C==="profile"?v(D):w(D),b({description:`${C==="profile"?"Profile":"Cover"} photo uploaded successfully!`})}catch{b({description:"Failed to upload image",variant:"destructive"})}finally{m(!1)}}},E=async()=>{try{const k=await(_==null?void 0:_.getIdToken());if(!(await fetch("/api/user/profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({username:s,displayName:o,bio:u,profilePicUrl:g,coverPicUrl:j})})).ok)throw new Error("Failed to update profile");b({description:"Profile updated successfully!"}),n()}catch{b({description:"Failed to update profile",variant:"destructive"})}};return a.jsx(ha,{open:t,onOpenChange:e,children:a.jsxs(ca,{className:"max-w-2xl",children:[a.jsx(ba,{children:a.jsx(wa,{children:"Edit Profile"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),a.jsx(qr,{value:s,onChange:k=>i(k.target.value),placeholder:"Enter username","data-testid":"input-username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),a.jsx(qr,{value:o,onChange:k=>c(k.target.value),placeholder:"Enter display name","data-testid":"input-displayname"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),a.jsx(Du,{value:u,onChange:k=>f(k.target.value),placeholder:"Tell us about yourself",rows:3,"data-testid":"textarea-bio"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Picture"}),a.jsx(qr,{type:"file",accept:"image/*",onChange:k=>{var C;return((C=k.target.files)==null?void 0:C[0])&&T(k.target.files[0],"profile")},disabled:h,"data-testid":"input-profile-pic"}),g&&a.jsx("img",{src:g,alt:"Profile preview",className:"mt-2 w-20 h-20 rounded-full object-cover"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cover Picture"}),a.jsx(qr,{type:"file",accept:"image/*",onChange:k=>{var C;return((C=k.target.files)==null?void 0:C[0])&&T(k.target.files[0],"cover")},disabled:h,"data-testid":"input-cover-pic"}),j&&a.jsx("img",{src:j,alt:"Cover preview",className:"mt-2 w-full h-32 rounded-lg object-cover"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(H,{variant:"outline",onClick:e,"data-testid":"button-cancel-profile",children:"Cancel"}),a.jsx(H,{onClick:E,disabled:h,"data-testid":"button-save-profile",children:h?"Uploading...":"Save"})]})]})]})})}function rSe({ticker:t,isOpen:e,onClose:r}){var f,h,m,g,v,j,w,b,_,T,E,k,C,S,A,R,D,B,F,z,X,V,Z;if(!e)return null;const n=t.replace("$",""),{data:s,isLoading:i}=Na({queryKey:[`/api/stock-analysis/${n}`],queryFn:async()=>{const ee=await fetch(`/api/stock-analysis/${n}`);if(!ee.ok)throw new Error("Failed to fetch stock analysis");return await ee.json()},enabled:e}),{data:o,isLoading:c}=Na({queryKey:[`/api/stock-news/${n}`],queryFn:async()=>{const ee=await fetch(`/api/stock-news/${n}?refresh=${Date.now()}`);if(!ee.ok)throw new Error("Failed to fetch stock news");return await ee.json()},enabled:e,staleTime:6e4,gcTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:3e5}),u={priceData:(s==null?void 0:s.priceData)||{open:0,high:0,low:0,close:0,volume:"N/A",high52W:0,low52W:0},valuation:(s==null?void 0:s.valuation)||{marketCap:"N/A",peRatio:0,pbRatio:0,psRatio:0,evEbitda:0,pegRatio:0},financialHealth:(s==null?void 0:s.financialHealth)||{eps:0,bookValue:0,dividendYield:"N/A",roe:"N/A",roa:"N/A",deRatio:0},technicalIndicators:(s==null?void 0:s.technicalIndicators)||{rsi:null},growthMetrics:(s==null?void 0:s.growthMetrics)||{revenueGrowth:"N/A",epsGrowth:"N/A",profitMargin:"N/A",ebitdaMargin:"N/A",freeCashFlowYield:"N/A"},additionalIndicators:(s==null?void 0:s.additionalIndicators)||{beta:0,currentRatio:0,quickRatio:0,priceToSales:0,enterpriseValue:"N/A"},marketSentiment:(s==null?void 0:s.marketSentiment)||{score:.5,trend:"Neutral",volumeSpike:!1,confidence:"Medium"},news:o||[]};return a.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-xl backdrop-blur-sm ",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ya,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 "}),a.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold ",children:"Fundamental Analysis"}),i&&a.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-gray-600 dark:border-gray-400 border-t-transparent rounded-full animate-spin "})]}),a.jsxs("div",{className:"space-y-4 max-h-80 overflow-y-auto bg-gray-50 dark:bg-gray-700/60 rounded-xl p-4 scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-200 dark:scrollbar-track-gray-800 ",children:[a.jsx(Zje,{ticker:t,analysisData:u}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_u,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Valuation"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Market Cap"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.marketCap})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"P/E Ratio"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.peRatio})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"P/B Ratio"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.pbRatio})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"EV/EBITDA"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.evEbitda})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"P/S Ratio"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.psRatio})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"PEG Ratio"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.valuation.pegRatio})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gl,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Financial Health"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"EPS"}),a.jsxs("span",{className:"text-gray-900 dark:text-white ",children:["",u.financialHealth.eps]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Book Value"}),a.jsxs("span",{className:"text-gray-900 dark:text-white ",children:["",u.financialHealth.bookValue]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Dividend Yield"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 ",children:u.financialHealth.dividendYield})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"ROE"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 ",children:u.financialHealth.roe})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"ROA"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 ",children:u.financialHealth.roa})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"D/E Ratio"}),a.jsx("span",{className:"text-gray-900 dark:text-white ",children:u.financialHealth.deRatio})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gl,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Technical Indicators"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"RSI (14)"}),a.jsx("span",{className:`font-medium ${(f=u.technicalIndicators)!=null&&f.rsi?u.technicalIndicators.rsi>70?"text-red-400":u.technicalIndicators.rsi<30?"text-green-400":"text-yellow-400":"text-slate-400"}`,children:(h=u.technicalIndicators)!=null&&h.rsi?u.technicalIndicators.rsi.toFixed(1):"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"EMA 50"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:((m=u.technicalIndicators)==null?void 0:m.ema50)||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(oa,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Market Sentiment"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Sentiment Score"}),a.jsx("span",{className:`font-medium ${(g=u.marketSentiment)!=null&&g.score?u.marketSentiment.score>.6?"text-green-400":u.marketSentiment.score<.4?"text-red-400":"text-yellow-400":"text-slate-400"}`,children:(v=u.marketSentiment)!=null&&v.score?`${(u.marketSentiment.score*100).toFixed(0)}%`:"Neutral"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Trend"}),a.jsx("span",{className:`font-medium ${((j=u.marketSentiment)==null?void 0:j.trend)==="Bullish"?"text-green-400":((w=u.marketSentiment)==null?void 0:w.trend)==="Bearish"?"text-red-400":"text-yellow-400"}`,children:((b=u.marketSentiment)==null?void 0:b.trend)||"Neutral"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Volume Spike"}),a.jsx("span",{className:`font-medium ${(_=u.marketSentiment)!=null&&_.volumeSpike?"text-orange-400":"text-slate-400"}`,children:(T=u.marketSentiment)!=null&&T.volumeSpike?"Yes":"No"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Confidence"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:((E=u.marketSentiment)==null?void 0:E.confidence)||"Medium"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(oa,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Growth Metrics"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Revenue Growth"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(k=u.growthMetrics)==null?void 0:k.revenueGrowth})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"EPS Growth"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(C=u.growthMetrics)==null?void 0:C.epsGrowth})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Profit Margin"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(S=u.growthMetrics)==null?void 0:S.profitMargin})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"EBITDA Margin"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(A=u.growthMetrics)==null?void 0:A.ebitdaMargin})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"FCF Yield"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(R=u.growthMetrics)==null?void 0:R.freeCashFlowYield})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gl,{className:"h-4 w-4 text-gray-700 dark:text-gray-400 "}),a.jsx("span",{className:"text-gray-800 dark:text-gray-400 font-medium ",children:"Additional Indicators"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Beta"}),a.jsx("span",{className:`font-medium ${(D=u.additionalIndicators)!=null&&D.beta?u.additionalIndicators.beta>1.2?"text-red-400":u.additionalIndicators.beta<.8?"text-green-400":"text-yellow-400":"text-slate-400"}`,children:((B=u.additionalIndicators)==null?void 0:B.beta)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Current Ratio"}),a.jsx("span",{className:`font-medium ${(F=u.additionalIndicators)!=null&&F.currentRatio?u.additionalIndicators.currentRatio>1.5?"text-green-400":u.additionalIndicators.currentRatio<1?"text-red-400":"text-yellow-400":"text-slate-400"}`,children:((z=u.additionalIndicators)==null?void 0:z.currentRatio)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Quick Ratio"}),a.jsx("span",{className:`font-medium ${(X=u.additionalIndicators)!=null&&X.quickRatio?u.additionalIndicators.quickRatio>1?"text-green-400":u.additionalIndicators.quickRatio<.7?"text-red-400":"text-yellow-400":"text-slate-400"}`,children:((V=u.additionalIndicators)==null?void 0:V.quickRatio)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 ",children:"Enterprise Value"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium ",children:(Z=u.additionalIndicators)==null?void 0:Z.enterpriseValue})]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-xl backdrop-blur-sm ",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(_u,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 "}),a.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold ",children:"Related News"}),c&&a.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-gray-600 dark:border-gray-400 border-t-transparent rounded-full animate-spin "})]}),a.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto bg-gray-50 dark:bg-gray-700/60 rounded-xl p-4 scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-200 dark:scrollbar-track-gray-800 ",children:u.news&&u.news.length>0?u.news.map((ee,W)=>a.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-600/60 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600/70 transition-colors backdrop-blur-sm shadow-sm cursor-pointer",onClick:()=>window.open(ee.url,"_blank","noopener,noreferrer"),children:[a.jsxs("h4",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm mb-1 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[ee.title," "]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs ",children:ee.source}),a.jsx("span",{className:"text-gray-500 dark:text-gray-500 text-xs ",children:ee.time})]})]},W)):a.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400 ",children:[a.jsx(_u,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No recent news available for this stock"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1 ",children:"Check back later for updates"})]})})]})]})}function RK({post:t,currentUserUsername:e}){var ce,he,we,re,pe,ue,Ie,qe,Ne,rt,_e,Ct,Qt,Ar,Ln,Sn,oe;const[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,c]=x.useState(!1),[u,f]=x.useState(!1),[h,m]=x.useState(!1),[g,v]=x.useState(!1),[j,w]=x.useState(!1),[b,_]=x.useState(!1),[T,E]=x.useState(!1),[k,C]=x.useState(t.content),[S,A]=x.useState(!1),{toast:R}=$s(),D=ug(),B=os.currentUser,F=e&&(t.authorUsername===e||((ce=t.user)==null?void 0:ce.handle)===e),z=((he=t.user)==null?void 0:he.handle)||t.authorUsername||"user",{data:X}=Na({queryKey:[`/api/users/${z}/follow-status`],queryFn:async()=>{if(!B||F)return{isFollowing:!1};const le=await B.getIdToken(),ge=await fetch(`/api/users/${z}/follow-status`,{headers:{Authorization:`Bearer ${le}`}});return ge.ok?ge.json():{isFollowing:!1}},enabled:!!B&&!F});x.useEffect(()=>{X&&A(X.isFollowing||!1)},[X]);const{isAudioMode:V,selectedTextSnippets:Z,addTextSnippet:ee}=RT(),W=150,K=()=>{var Se,He;if(!V)return;if(Z.length>=5){R({description:"Maximum 5 posts allowed",variant:"destructive"});return}const le=t.content;if(!le||le.trim().length===0)return;const ge=typeof t.id=="string"?t.id:String(t.id);ee({postId:ge,text:le,authorUsername:((Se=t.user)==null?void 0:Se.handle)||t.authorUsername||"Unknown",authorDisplayName:((He=t.user)==null?void 0:He.username)||t.authorDisplayName||"Unknown User"})},G=bi({mutationFn:async()=>{const le=os.currentUser;if(!le)throw new Error("Not authenticated");const ge=await le.getIdToken(),Se=s?"DELETE":"POST",He=await fetch(`/api/social-posts/${t.id}/like`,{method:Se,headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`}});if(!He.ok)throw new Error("Failed to update like");return He.json()},onMutate:async()=>{await D.cancelQueries({queryKey:["/api/social-posts"]});const le=D.getQueryData(["/api/social-posts"]);return D.setQueryData(["/api/social-posts"],ge=>ge==null?void 0:ge.map(Se=>Se.id===t.id?{...Se,likes:s?(Se.likes||0)-1:(Se.likes||0)+1,metrics:Se.metrics?{...Se.metrics,likes:s?(Se.metrics.likes||0)-1:(Se.metrics.likes||0)+1}:void 0}:Se)),i(!s),{previousPosts:le}},onError:(le,ge,Se)=>{i(!s),D.setQueryData(["/api/social-posts"],Se==null?void 0:Se.previousPosts),R({description:"Failed to update like",variant:"destructive"})},onSettled:()=>{D.invalidateQueries({queryKey:["/api/social-posts"]})}}),Q=bi({mutationFn:async()=>{const le=os.currentUser;if(!le)throw new Error("Not authenticated");const ge=await le.getIdToken(),Se=o?"DELETE":"POST",He=await fetch(`/api/social-posts/${t.id}/repost`,{method:Se,headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`}});if(!He.ok)throw new Error("Failed to update repost");return He.json()},onMutate:async()=>{await D.cancelQueries({queryKey:["/api/social-posts"]});const le=D.getQueryData(["/api/social-posts"]);return D.setQueryData(["/api/social-posts"],ge=>ge==null?void 0:ge.map(Se=>Se.id===t.id?{...Se,reposts:o?(Se.reposts||0)-1:(Se.reposts||0)+1,metrics:Se.metrics?{...Se.metrics,reposts:o?(Se.metrics.reposts||0)-1:(Se.metrics.reposts||0)+1}:void 0}:Se)),c(!o),{previousPosts:le}},onError:(le,ge,Se)=>{c(!o),D.setQueryData(["/api/social-posts"],Se==null?void 0:Se.previousPosts),R({description:"Failed to update repost",variant:"destructive"})},onSettled:()=>{D.invalidateQueries({queryKey:["/api/social-posts"]})}}),$=bi({mutationFn:async le=>{if(!B)throw new Error("Not authenticated");const ge=await B.getIdToken(),Se=await fetch(`/api/social-posts/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({content:le})});if(!Se.ok)throw new Error("Failed to update post");return Se.json()},onSuccess:()=>{D.invalidateQueries({queryKey:["/api/social-posts"]}),_(!1),w(!1),R({description:"Post updated successfully!"})},onError:()=>{R({description:"Failed to update post",variant:"destructive"})}}),U=bi({mutationFn:async()=>{if(!B)throw new Error("Not authenticated");const le=await B.getIdToken(),ge=await fetch(`/api/social-posts/${t.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}});if(!ge.ok)throw new Error("Failed to delete post");return ge.json()},onSuccess:()=>{D.invalidateQueries({queryKey:["/api/social-posts"]}),E(!1),w(!1),R({description:"Post deleted successfully!"})},onError:()=>{R({description:"Failed to delete post",variant:"destructive"})}}),ie=bi({mutationFn:async()=>{if(!B)throw new Error("Not authenticated");const le=await B.getIdToken(),ge=S?"DELETE":"POST",Se=await fetch(`/api/users/${z}/follow`,{method:ge,headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}});if(!Se.ok)throw new Error(`Failed to ${S?"unfollow":"follow"}`);return Se.json()},onMutate:async()=>(A(!S),await D.cancelQueries({queryKey:[`/api/users/${z}/follow-status`]}),{previousFollowing:S}),onSuccess:()=>{D.invalidateQueries({queryKey:[`/api/users/${z}/follow-status`]}),D.invalidateQueries({queryKey:["/api/user/profile"]}),D.invalidateQueries({queryKey:["/api/social-posts"]}),R({description:S?"Unfollowed successfully!":"Following!"})},onError:(le,ge,Se)=>{A((Se==null?void 0:Se.previousFollowing)||!1),R({description:`Failed to ${S?"unfollow":"follow"}`,variant:"destructive"})}});if(t.isAudioPost){console.log(" Audio Minicast Post Detected:",{postId:t.id,selectedPostIds:t.selectedPostIds,hasSavedSelectedPosts:!!t.selectedPosts&&t.selectedPosts.length>0});let le=[];if(t.selectedPosts&&t.selectedPosts.length>0)console.log(" Using saved selectedPosts from post data"),le=t.selectedPosts.map(ge=>({id:ge.id,content:ge.content}));else if(t.selectedPostIds&&t.selectedPostIds.length>0){console.log(" Falling back to cache lookup for selectedPosts");const ge=D.getQueryData(["/api/social-posts"])||[];le=(t.selectedPostIds||[]).map(Se=>{const He=ge.find(ze=>{var nt;return ze.id===Se||((nt=ze.id)==null?void 0:nt.toString())===(Se==null?void 0:Se.toString())});return He?{id:He.id,content:He.content||""}:null}).filter(Se=>Se!==null)}return console.log(" Final selectedPosts array:",{count:le.length,posts:le.map(ge=>({id:ge.id,contentLength:ge.content.length}))}),a.jsx(Yje,{content:t.content,author:{displayName:((we=t.user)==null?void 0:we.username)||t.authorDisplayName||"Unknown User",username:((re=t.user)==null?void 0:re.handle)||t.authorUsername||"user"},selectedPostIds:t.selectedPostIds,selectedPosts:le,timestamp:t.createdAt?new Date(t.createdAt):new Date,likes:t.likes||((pe=t.metrics)==null?void 0:pe.likes)||0,comments:t.comments||((ue=t.metrics)==null?void 0:ue.comments)||0,isLiked:s})}return a.jsx(xt,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md mb-4 transition-none",children:a.jsxs(bt,{className:"p-3 xl:p-4 transition-none",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 xl:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 xl:gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Au,{className:"w-10 h-10 border border-gray-200 dark:border-gray-600 ",children:a.jsx(Iu,{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-bold text-sm ",children:((Ie=t.user)==null?void 0:Ie.initial)||((qe=t.authorDisplayName)==null?void 0:qe.charAt(0))||((Ne=t.authorUsername)==null?void 0:Ne.charAt(0))||"U"})}),((rt=t.user)==null?void 0:rt.online)&&a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white shadow-lg animate-pulse ring-1 ring-emerald-400/40"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-900 dark:text-white font-bold text-lg ",children:((_e=t.user)==null?void 0:_e.username)||t.authorDisplayName||t.authorUsername||"Unknown User"}),(((Ct=t.user)==null?void 0:Ct.verified)||t.authorVerified)&&a.jsx(pd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 fill-current"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 text-sm font-medium ",children:[a.jsxs("span",{children:["@",((Qt=t.user)==null?void 0:Qt.handle)||t.authorUsername||"user"]}),t.authorUsername!=="finance_news"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:t.timestamp||(t.createdAt?new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"now")})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!F&&B&&a.jsx(H,{variant:S?"ghost":"default",size:"sm",onClick:()=>ie.mutate(),disabled:ie.isPending,className:`rounded-full px-4 text-xs font-semibold ${S?"border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,"data-testid":`button-follow-${t.id}`,children:ie.isPending?"...":S?"Following":"Follow"}),V&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium",children:[a.jsx(ub,{className:"w-3 h-3"}),a.jsx("span",{children:"Select text"})]}),F&&a.jsxs("div",{className:"relative",children:[a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>w(!j),"data-testid":`button-options-${t.id}`,children:a.jsx(XF,{className:"h-5 w-5"})}),j&&a.jsxs("div",{className:"absolute right-0 top-10 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-1 z-50 min-w-[120px]",children:[a.jsxs("button",{onClick:()=>{C(t.content),_(!0),w(!1)},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 w-full text-left transition-colors","data-testid":`button-edit-${t.id}`,children:[a.jsx(KC,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>{E(!0),w(!1)},className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 w-full text-left transition-colors","data-testid":`button-delete-${t.id}`,children:[a.jsx(gs,{className:"h-4 w-4"}),"Delete"]})]})]})]})]}),a.jsxs("div",{className:"mb-2 xl:mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:`text-gray-900 dark:text-white leading-relaxed mb-2 xl:mb-3 text-base font-medium ${V?"cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors rounded-lg p-2 -m-2":""}`,onClick:K,children:g||t.content.length<=W?t.content:`${t.content.substring(0,W)}...`}),t.content.length>W&&a.jsx("button",{onClick:()=>v(!g),className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium mt-1 transition-colors","data-testid":`button-expand-${t.id}`,children:g?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Show less"}),a.jsx(Sb,{className:"w-4 h-4"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Show more"}),a.jsx(Ep,{className:"w-4 h-4"})]})})]}),t.ticker&&a.jsxs("div",{className:"flex items-center gap-2 mb-2 xl:mb-3",children:[a.jsx(Dr,{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800 px-4 py-2 font-bold ",children:t.ticker}),a.jsxs(Dr,{className:`px-4 py-2 border font-bold ${t.sentiment==="bullish"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800":t.sentiment==="bearish"?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-800"}`,children:[t.sentiment==="bullish"&&a.jsx(oa,{className:"w-4 h-4 mr-1"}),t.sentiment==="bearish"&&a.jsx(iu,{className:"w-4 h-4 mr-1"}),t.sentiment==="neutral"&&a.jsx(gl,{className:"w-4 h-4 mr-1"}),(t.sentiment||"neutral").charAt(0).toUpperCase()+(t.sentiment||"neutral").slice(1)]})]}),(t.hasMedia||t.imageUrl)&&a.jsx("div",{className:"my-4",children:(()=>{let le=[];if(t.imageUrl)try{const ge=JSON.parse(t.imageUrl);le=Array.isArray(ge)?ge:[t.imageUrl]}catch{le=[t.imageUrl]}return le.length===1?a.jsx("img",{src:le[0],alt:"Post image",className:"w-full h-48 object-cover rounded-lg border border-gray-200 dark:border-gray-600 shadow-lg",onError:ge=>{console.error("Failed to load image:",le[0]),ge.target.style.display="none"}}):le.length>1?a.jsx(Wje,{images:le}):null})()}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(Ar=t.tags)==null?void 0:Ar.map((le,ge)=>a.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm hover:text-blue-700 dark:hover:text-blue-300 cursor-pointer transition-colors",children:le},`${t.id}-tag-${ge}-${le}`))})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-cyan-400/30 bg-gradient-to-r from-black/40 to-indigo-900/40 py-4 rounded-b-lg",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>f(!u),className:"flex items-center gap-2 text-black dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-500/20  backdrop-blur-sm px-3 py-2 rounded-lg","data-testid":`button-comment-${t.id}`,children:[a.jsx(od,{className:"h-5 w-5"}),a.jsx("span",{children:((Ln=t.metrics)==null?void 0:Ln.comments)||t.comments||0})]}),a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>Q.mutate(),disabled:Q.isPending,className:`flex items-center gap-2  backdrop-blur-sm hover:bg-gray-500/20 px-3 py-2 rounded-lg ${o?"text-black dark:text-white":"text-black dark:text-white hover:text-gray-700 dark:hover:text-gray-300"}`,"data-testid":`button-repost-${t.id}`,children:[a.jsx(UZ,{className:"h-5 w-5"}),a.jsx("span",{children:((Sn=t.metrics)==null?void 0:Sn.reposts)||t.reposts||0})]}),a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>G.mutate(),disabled:G.isPending,className:`flex items-center gap-2  backdrop-blur-sm hover:bg-gray-500/20 px-3 py-2 rounded-lg ${s?"text-black dark:text-white":"text-black dark:text-white hover:text-gray-700 dark:hover:text-gray-300"}`,"data-testid":`button-like-${t.id}`,children:[a.jsx(Xm,{className:`h-5 w-5 ${s?"fill-current":""}`}),a.jsx("span",{children:((oe=t.metrics)==null?void 0:oe.likes)||t.likes||0})]}),t.ticker&&a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:`flex items-center gap-2  backdrop-blur-sm hover:bg-gray-500/20 px-3 py-2 rounded-lg ${r?"text-black dark:text-white":"text-black dark:text-white hover:text-gray-700 dark:hover:text-gray-300"}`,children:a.jsx(ya,{className:"h-5 w-5"})})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>m(!0),className:"text-black dark:text-white hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-500/20  backdrop-blur-sm p-2 rounded-lg","data-testid":`button-share-${t.id}`,children:a.jsx(rB,{className:"h-5 w-5"})})]}),r&&t.ticker&&a.jsx(rSe,{ticker:t.ticker,isOpen:r,onClose:()=>n(!1)}),a.jsx(Qje,{post:t,isVisible:u,onClose:()=>f(!1)}),a.jsx(Jje,{isOpen:h,onClose:()=>m(!1),post:t}),a.jsx(ha,{open:b,onOpenChange:_,children:a.jsxs(ca,{children:[a.jsx(ba,{children:a.jsx(wa,{children:"Edit Post"})}),a.jsx(Du,{value:k,onChange:le=>C(le.target.value),rows:4,className:"resize-none","data-testid":"textarea-edit-content"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(H,{variant:"outline",onClick:()=>_(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsx(H,{onClick:()=>$.mutate(k),disabled:$.isPending||!k.trim(),"data-testid":"button-save-edit",children:$.isPending?"Saving...":"Save"})]})]})}),a.jsx(ha,{open:T,onOpenChange:E,children:a.jsxs(ca,{children:[a.jsx(ba,{children:a.jsx(wa,{children:"Delete Post"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Are you sure you want to delete this post? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(H,{variant:"outline",onClick:()=>E(!1),"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(H,{variant:"destructive",onClick:()=>U.mutate(),disabled:U.isPending,"data-testid":"button-confirm-delete",children:U.isPending?"Deleting...":"Delete"})]})]})})]})})}function nSe({onBackClick:t}){const[e,r]=x.useState("All"),[n,s]=x.useState(!0),[i,o]=x.useState(""),[c,u]=x.useState(!1),[f,h]=x.useState(""),m=x.useRef(null),[g,v]=x.useState(!0),[j,w]=x.useState(0),[b,_]=x.useState(!0),[T,E]=x.useState(!0),[k,C]=x.useState(!1),[S,A]=x.useState(!1),{toast:R}=$s(),{selectedTextSnippets:D}=RT();x.useEffect(()=>{let re;const pe=()=>{const ue=window.scrollY;typeof window.pauseBannerYouTube=="function"&&window.pauseBannerYouTube(),ue>j&&ue>100?(_(!1),E(!1)):(_(!0),E(!0)),clearTimeout(re),re=setTimeout(()=>{_(!0),E(!0)},150),w(ue),s(ue<50)};return window.addEventListener("scroll",pe,{passive:!0}),()=>{window.removeEventListener("scroll",pe),clearTimeout(re)}},[j]);const{data:B=[],isLoading:F,error:z,isFetching:X,refetch:V}=Na({queryKey:["/api/social-posts"],queryFn:async()=>{const re=await fetch(`/api/social-posts?refresh=${Date.now()}`);if(!re.ok)throw new Error("Failed to fetch posts");return await re.json()},staleTime:3e5,gcTime:6e5,refetchInterval:18e4,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,networkMode:"offlineFirst"});x.useEffect(()=>{const re=()=>{s(window.scrollY<100)};return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[]),x.useEffect(()=>{(async()=>{var ue,Ie,qe;const pe=os.currentUser;if(!pe){console.log("No user logged in");return}try{console.log(" Checking profile for Firebase user:",{uid:pe.uid,email:pe.email});const Ne=await pe.getIdToken(),rt=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${Ne}`}});if(rt.ok){const _e=await rt.json();console.log(" Profile check response:",{userId:_e.userId,email:_e.email,hasProfile:!!_e.profile,hasUsername:!!((ue=_e.profile)!=null&&ue.username),hasDOB:!!((Ie=_e.profile)!=null&&Ie.dob),profileData:_e.profile}),(qe=_e.profile)!=null&&qe.username&&h(_e.profile.username),!_e.profile||!_e.profile.username||!_e.profile.dob?(console.log(" Profile incomplete (missing username or DOB), showing profile dialog"),u(!0)):console.log(" Profile complete, user can use social feed")}else console.error(" Profile check failed with status:",rt.status)}catch(Ne){console.error("Error checking profile:",Ne)}})()},[]);const Z=()=>{r("All"),n?V():window.scrollTo({top:0,behavior:"smooth"})},ee=re=>{r(re),window.scrollTo({top:0,behavior:"smooth"})},W=()=>{window.scrollTo({top:0,behavior:"smooth"})},K=B.map(re=>{var pe,ue,Ie;return{id:re.id.toString(),user:{initial:((ue=(pe=re.authorDisplayName)==null?void 0:pe[0])==null?void 0:ue.toUpperCase())||"U",username:re.authorDisplayName,handle:re.authorUsername,verified:re.authorVerified,online:!0,avatar:re.authorAvatar||void 0},content:re.content,timestamp:we(re.createdAt),tags:re.tags||[],sentiment:re.sentiment||"neutral",ticker:(Ie=re.stockMentions)!=null&&Ie[0]?`$${re.stockMentions[0]}`:"",metrics:{comments:re.comments,reposts:re.reposts,likes:re.likes},hasMedia:re.hasImage||!1,imageUrl:re.imageUrl||void 0,imageUrls:re.imageUrl?[re.imageUrl]:[],stockMentions:re.stockMentions||[],isAudioPost:re.isAudioPost||!1,selectedPostIds:re.selectedPostIds||[],authorUsername:re.authorUsername,authorDisplayName:re.authorDisplayName,createdAt:re.createdAt}}),G=re=>{let pe=re.trim().toLowerCase();return pe=pe.replace(/\s*source:\s*[^,.\n]*[,.\n]?/gi,"").replace(/source:\s*[^,.\n]*[,.\n]?/gi,"").replace(/-\s*[^,.\n]*(?:today|times|watch|news|india|business)[^,.\n]*[,.\n]?/gi,"").replace(/\([^)]*(?:today|times|watch|news|india|business)[^)]*\)/gi,"").replace(/\s+/g," ").trim(),pe=pe.replace(/^\s*/gi,"").replace(/^news:\s*/gi,"").replace(/^breaking:\s*/gi,"").trim(),pe},Q=new Set,$=new Set,U=K.filter(re=>{const pe=re.id.toString();if(Q.has(pe))return!1;Q.add(pe);const ue=G(re.content);return $.has(ue)?(console.log(` Duplicate content filtered: "${re.content.substring(0,100)}..."`),!1):($.add(ue),!0)});let ie=U;if(i.trim()){const re=i.toLowerCase().trim();ie=U.filter(pe=>{var ue,Ie,qe,Ne,rt;return pe.content.toLowerCase().includes(re)||((Ie=(ue=pe.user)==null?void 0:ue.username)==null?void 0:Ie.toLowerCase().includes(re))||((qe=pe.ticker)==null?void 0:qe.toLowerCase().includes(re))||((Ne=pe.stockMentions)==null?void 0:Ne.some(_e=>_e.toLowerCase().includes(re)))||((rt=pe.tags)==null?void 0:rt.some(_e=>_e.toLowerCase().includes(re)))})}const he=(e==="All"?ie:e==="Symbol"?ie.filter(re=>re.stockMentions&&re.stockMentions.length>0):e==="Bullish"?ie.filter(re=>re.sentiment==="bullish"):e==="Bearish"?ie.filter(re=>re.sentiment==="bearish"):e==="Profile"?ie.filter(re=>{var pe;return re.authorUsername===f||((pe=re.user)==null?void 0:pe.handle)===f}):ie.filter(re=>{var pe;return(pe=re.tags)==null?void 0:pe.some(ue=>ue.toLowerCase().includes(e.toLowerCase()))})).sort((re,pe)=>{const ue=re.stockMentions&&re.stockMentions.length>0,Ie=re.ticker&&re.ticker.length>0,qe=pe.stockMentions&&pe.stockMentions.length>0,Ne=pe.ticker&&pe.ticker.length>0;if((ue||Ie)&&!(qe||Ne))return-1;if(!(ue||Ie)&&(qe||Ne))return 1;const rt=new Date(re.timestamp||0).getTime();return new Date(pe.timestamp||0).getTime()-rt});function we(re){const pe=new Date(re),Ie=new Date().getTime()-pe.getTime(),qe=Ie/(1e3*60),Ne=Ie/(1e3*60*60),rt=Ie/(1e3*60*60*24);if(qe<1)return"now";if(Ne<1)return`${Math.floor(qe)}m`;if(Ne<24)return`${Math.floor(Ne)}h`;if(rt<7)return`${Math.floor(rt)}d`;const _e=String(pe.getDate()).padStart(2,"0"),Ct=String(pe.getMonth()+1).padStart(2,"0"),Qt=pe.getFullYear();return`${_e}-${Ct}-${Qt}`}return F&&B.length===0?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-background dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 text-foreground",children:[a.jsx(K4,{onAllClick:Z,isRefreshing:X,selectedFilter:e,onFilterChange:ee,searchQuery:i,setSearchQuery:o,onSearch:W,showAppBar:b,onBackClick:t}),a.jsx("div",{className:"max-w-3xl mx-auto px-3 py-3",children:a.jsx("div",{className:"space-y-4",children:[...Array(8)].map((re,pe)=>a.jsx(xt,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 animate-pulse shadow-sm",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-32 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"w-24 h-3 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("div",{className:"w-full h-4 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"w-3/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"w-1/2 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[a.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"}),a.jsx("div",{className:"w-16 h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},pe))})})]}):z?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-background dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 text-foreground",children:[a.jsx(K4,{onAllClick:Z,isRefreshing:X,selectedFilter:e,onFilterChange:ee,searchQuery:i,setSearchQuery:o,onSearch:W,showAppBar:b,onBackClick:t}),a.jsx("div",{className:"max-w-3xl mx-auto px-3 py-3",children:a.jsx(xt,{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 shadow-sm",children:a.jsx(bt,{className:"p-4 text-center",children:a.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load posts. Please try again later."})})})})]}):(he.length>0,a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-background dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",ref:m,children:[t&&a.jsx(H,{onClick:t,variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","data-testid":"button-back-to-home-neofeed",children:a.jsx(jb,{className:"h-6 w-6"})}),a.jsx(K4,{onAllClick:Z,isRefreshing:X,selectedFilter:e,onFilterChange:ee,searchQuery:i,setSearchQuery:o,onSearch:W,showAppBar:b,onBackClick:t}),e!=="Profile"&&a.jsx("div",{className:"px-4 py-4 max-w-7xl mx-auto",children:a.jsx(Zce,{})}),a.jsxs("div",{className:"flex-1 flex gap-2 xl:gap-4 px-2 md:px-3 py-2 md:py-3 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex-1 max-w-4xl",children:[e==="Profile"&&a.jsx(eSe,{}),a.jsx("div",{className:"space-y-3 xl:space-y-6",children:he.map(re=>a.jsx(RK,{post:re,currentUserUsername:f},re.id))})]}),a.jsx("div",{className:"hidden md:block w-80 xl:w-96 flex-shrink-0",children:a.jsx("div",{className:"sticky top-[140px] xl:top-[200px] z-30",children:a.jsx(KN,{})})})]}),a.jsx(Kje,{isOpen:c,onClose:()=>u(!1),onSuccess:re=>{localStorage.setItem("currentUsername",re),u(!1),R({title:"Profile Created!",description:"You can now post and interact on the social feed."}),setTimeout(()=>window.location.reload(),500)}}),a.jsx(ha,{open:k,onOpenChange:C,children:a.jsx(ca,{className:"max-w-[95vw] max-h-[90vh] overflow-y-auto p-0",children:a.jsx("div",{className:"p-4",children:a.jsx(KN,{hideAudioMode:!0})})})}),a.jsx(ha,{open:S,onOpenChange:A,children:a.jsx(ca,{className:"max-w-[95vw] max-h-[90vh] overflow-y-auto p-0",children:a.jsx("div",{className:"p-4",children:a.jsx(KN,{initialViewMode:"audio",onMinimize:()=>A(!1)})})})}),a.jsx("div",{className:"md:hidden",children:a.jsx(Xje,{snippets:D,onTap:()=>A(!0)})}),a.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 z-50 pb-4 px-6 pointer-events-none transition-all duration-300 ${T?"translate-y-0 opacity-100":"translate-y-24 opacity-0"}`,children:a.jsx("div",{className:"max-w-xs mx-auto bg-white/90 dark:bg-gray-900/90 backdrop-blur-md rounded-full shadow-lg border border-gray-200/50 dark:border-gray-700/50 pointer-events-auto",children:a.jsxs("div",{className:"flex items-center justify-around px-1.5 py-1.5",children:[a.jsx("button",{onClick:()=>ee("All"),className:"flex items-center justify-center flex-1 rounded-full px-4 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all duration-200","data-testid":"button-home-mobile",children:a.jsx(kb,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>C(!0),className:"flex items-center justify-center flex-1 rounded-full px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-md transition-all duration-200","data-testid":"button-create-mobile",children:a.jsx(rc,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>A(!0),className:"flex items-center justify-center flex-1 rounded-full px-4 py-2 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all duration-200","data-testid":"button-cards-mobile",children:a.jsx(DZ,{className:"h-5 w-5"})})]})})}),a.jsx("div",{className:"md:hidden h-20"})]}))}function DK({onBackClick:t}){return a.jsx(Xce,{children:a.jsx(nSe,{onBackClick:t})})}var b8=1,aSe=.9,sSe=.8,iSe=.17,G4=.1,Y4=.999,oSe=.9999,lSe=.99,cSe=/[\\\/_+.#"@\[\(\{&]/,dSe=/[\\\/_+.#"@\[\(\{&]/g,uSe=/[\s-]/,LK=/[\s-]/g;function xC(t,e,r,n,s,i,o){if(i===e.length)return s===t.length?b8:lSe;var c=`${s},${i}`;if(o[c]!==void 0)return o[c];for(var u=n.charAt(i),f=r.indexOf(u,s),h=0,m,g,v,j;f>=0;)m=xC(t,e,r,n,f+1,i+1,o),m>h&&(f===s?m*=b8:cSe.test(t.charAt(f-1))?(m*=sSe,v=t.slice(s,f-1).match(dSe),v&&s>0&&(m*=Math.pow(Y4,v.length))):uSe.test(t.charAt(f-1))?(m*=aSe,j=t.slice(s,f-1).match(LK),j&&s>0&&(m*=Math.pow(Y4,j.length))):(m*=iSe,s>0&&(m*=Math.pow(Y4,f-s))),t.charAt(f)!==e.charAt(i)&&(m*=oSe)),(m<G4&&r.charAt(f-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(f-1)!==n.charAt(i))&&(g=xC(t,e,r,n,f+1,i+2,o),g*G4>m&&(m=g*G4)),m>h&&(h=m),f=r.indexOf(u,f+1);return o[c]=h,h}function w8(t){return t.toLowerCase().replace(LK," ")}function fSe(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,xC(t,e,w8(t),w8(e),0,0,{})}var M0='[cmdk-group=""]',X4='[cmdk-group-items=""]',hSe='[cmdk-group-heading=""]',$K='[cmdk-item=""]',N8=`${$K}:not([aria-disabled="true"])`,yC="cmdk-item-select",Vm="data-value",mSe=(t,e,r)=>fSe(t,e,r),FK=x.createContext(void 0),Vy=()=>x.useContext(FK),BK=x.createContext(void 0),MP=()=>x.useContext(BK),UK=x.createContext(void 0),zK=x.forwardRef((t,e)=>{let r=Wm(()=>{var U,ie;return{search:"",value:(ie=(U=t.value)!=null?U:t.defaultValue)!=null?ie:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Wm(()=>new Set),s=Wm(()=>new Map),i=Wm(()=>new Map),o=Wm(()=>new Set),c=qK(t),{label:u,children:f,value:h,onValueChange:m,filter:g,shouldFilter:v,loop:j,disablePointerSelection:w=!1,vimBindings:b=!0,..._}=t,T=Ds(),E=Ds(),k=Ds(),C=x.useRef(null),S=kSe();Eh(()=>{if(h!==void 0){let U=h.trim();r.current.value=U,A.emit()}},[h]),Eh(()=>{S(6,X)},[]);let A=x.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>r.current,setState:(U,ie,ce)=>{var he,we,re,pe;if(!Object.is(r.current[U],ie)){if(r.current[U]=ie,U==="search")z(),B(),S(1,F);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ue=document.getElementById(k);ue?ue.focus():(he=document.getElementById(T))==null||he.focus()}if(S(7,()=>{var ue;r.current.selectedItemId=(ue=V())==null?void 0:ue.id,A.emit()}),ce||S(5,X),((we=c.current)==null?void 0:we.value)!==void 0){let ue=ie??"";(pe=(re=c.current).onValueChange)==null||pe.call(re,ue);return}}A.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),R=x.useMemo(()=>({value:(U,ie,ce)=>{var he;ie!==((he=i.current.get(U))==null?void 0:he.value)&&(i.current.set(U,{value:ie,keywords:ce}),r.current.filtered.items.set(U,D(ie,ce)),S(2,()=>{B(),A.emit()}))},item:(U,ie)=>(n.current.add(U),ie&&(s.current.has(ie)?s.current.get(ie).add(U):s.current.set(ie,new Set([U]))),S(3,()=>{z(),B(),r.current.value||F(),A.emit()}),()=>{i.current.delete(U),n.current.delete(U),r.current.filtered.items.delete(U);let ce=V();S(4,()=>{z(),(ce==null?void 0:ce.getAttribute("id"))===U&&F(),A.emit()})}),group:U=>(s.current.has(U)||s.current.set(U,new Set),()=>{i.current.delete(U),s.current.delete(U)}),filter:()=>c.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:T,inputId:k,labelId:E,listInnerRef:C}),[]);function D(U,ie){var ce,he;let we=(he=(ce=c.current)==null?void 0:ce.filter)!=null?he:mSe;return U?we(U,r.current.search,ie):0}function B(){if(!r.current.search||c.current.shouldFilter===!1)return;let U=r.current.filtered.items,ie=[];r.current.filtered.groups.forEach(he=>{let we=s.current.get(he),re=0;we.forEach(pe=>{let ue=U.get(pe);re=Math.max(ue,re)}),ie.push([he,re])});let ce=C.current;Z().sort((he,we)=>{var re,pe;let ue=he.getAttribute("id"),Ie=we.getAttribute("id");return((re=U.get(Ie))!=null?re:0)-((pe=U.get(ue))!=null?pe:0)}).forEach(he=>{let we=he.closest(X4);we?we.appendChild(he.parentElement===we?he:he.closest(`${X4} > *`)):ce.appendChild(he.parentElement===ce?he:he.closest(`${X4} > *`))}),ie.sort((he,we)=>we[1]-he[1]).forEach(he=>{var we;let re=(we=C.current)==null?void 0:we.querySelector(`${M0}[${Vm}="${encodeURIComponent(he[0])}"]`);re==null||re.parentElement.appendChild(re)})}function F(){let U=Z().find(ce=>ce.getAttribute("aria-disabled")!=="true"),ie=U==null?void 0:U.getAttribute(Vm);A.setState("value",ie||void 0)}function z(){var U,ie,ce,he;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let we=0;for(let re of n.current){let pe=(ie=(U=i.current.get(re))==null?void 0:U.value)!=null?ie:"",ue=(he=(ce=i.current.get(re))==null?void 0:ce.keywords)!=null?he:[],Ie=D(pe,ue);r.current.filtered.items.set(re,Ie),Ie>0&&we++}for(let[re,pe]of s.current)for(let ue of pe)if(r.current.filtered.items.get(ue)>0){r.current.filtered.groups.add(re);break}r.current.filtered.count=we}function X(){var U,ie,ce;let he=V();he&&(((U=he.parentElement)==null?void 0:U.firstChild)===he&&((ce=(ie=he.closest(M0))==null?void 0:ie.querySelector(hSe))==null||ce.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function V(){var U;return(U=C.current)==null?void 0:U.querySelector(`${$K}[aria-selected="true"]`)}function Z(){var U;return Array.from(((U=C.current)==null?void 0:U.querySelectorAll(N8))||[])}function ee(U){let ie=Z()[U];ie&&A.setState("value",ie.getAttribute(Vm))}function W(U){var ie;let ce=V(),he=Z(),we=he.findIndex(pe=>pe===ce),re=he[we+U];(ie=c.current)!=null&&ie.loop&&(re=we+U<0?he[he.length-1]:we+U===he.length?he[0]:he[we+U]),re&&A.setState("value",re.getAttribute(Vm))}function K(U){let ie=V(),ce=ie==null?void 0:ie.closest(M0),he;for(;ce&&!he;)ce=U>0?jSe(ce,M0):SSe(ce,M0),he=ce==null?void 0:ce.querySelector(N8);he?A.setState("value",he.getAttribute(Vm)):W(U)}let G=()=>ee(Z().length-1),Q=U=>{U.preventDefault(),U.metaKey?G():U.altKey?K(1):W(1)},$=U=>{U.preventDefault(),U.metaKey?ee(0):U.altKey?K(-1):W(-1)};return x.createElement(Bt.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:U=>{var ie;(ie=_.onKeyDown)==null||ie.call(_,U);let ce=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||ce))switch(U.key){case"n":case"j":{b&&U.ctrlKey&&Q(U);break}case"ArrowDown":{Q(U);break}case"p":case"k":{b&&U.ctrlKey&&$(U);break}case"ArrowUp":{$(U);break}case"Home":{U.preventDefault(),ee(0);break}case"End":{U.preventDefault(),G();break}case"Enter":{U.preventDefault();let he=V();if(he){let we=new Event(yC);he.dispatchEvent(we)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:CSe},u),h2(t,U=>x.createElement(BK.Provider,{value:A},x.createElement(FK.Provider,{value:R},U))))}),pSe=x.forwardRef((t,e)=>{var r,n;let s=Ds(),i=x.useRef(null),o=x.useContext(UK),c=Vy(),u=qK(t),f=(n=(r=u.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Eh(()=>{if(!f)return c.item(s,o==null?void 0:o.id)},[f]);let h=VK(s,i,[t.value,t.children,i],t.keywords),m=MP(),g=Lu(S=>S.value&&S.value===h.current),v=Lu(S=>f||c.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);x.useEffect(()=>{let S=i.current;if(!(!S||t.disabled))return S.addEventListener(yC,j),()=>S.removeEventListener(yC,j)},[v,t.onSelect,t.disabled]);function j(){var S,A;w(),(A=(S=u.current).onSelect)==null||A.call(S,h.current)}function w(){m.setState("value",h.current,!0)}if(!v)return null;let{disabled:b,value:_,onSelect:T,forceMount:E,keywords:k,...C}=t;return x.createElement(Bt.div,{ref:hd(i,e),...C,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!g,"data-disabled":!!b,"data-selected":!!g,onPointerMove:b||c.getDisablePointerSelection()?void 0:w,onClick:b?void 0:j},t.children)}),gSe=x.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,o=Ds(),c=x.useRef(null),u=x.useRef(null),f=Ds(),h=Vy(),m=Lu(v=>s||h.filter()===!1?!0:v.search?v.filtered.groups.has(o):!0);Eh(()=>h.group(o),[]),VK(o,c,[t.value,t.heading,u]);let g=x.useMemo(()=>({id:o,forceMount:s}),[s]);return x.createElement(Bt.div,{ref:hd(c,e),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&x.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),h2(t,v=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},x.createElement(UK.Provider,{value:g},v))))}),xSe=x.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=x.useRef(null),i=Lu(o=>!o.search);return!r&&!i?null:x.createElement(Bt.div,{ref:hd(s,e),...n,"cmdk-separator":"",role:"separator"})}),ySe=x.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=MP(),o=Lu(f=>f.search),c=Lu(f=>f.selectedItemId),u=Vy();return x.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),x.createElement(Bt.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:s?t.value:o,onChange:f=>{s||i.setState("search",f.target.value),r==null||r(f.target.value)}})}),vSe=x.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=x.useRef(null),o=x.useRef(null),c=Lu(f=>f.selectedItemId),u=Vy();return x.useEffect(()=>{if(o.current&&i.current){let f=o.current,h=i.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let v=f.offsetHeight;h.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(m),g.unobserve(f)}}},[]),x.createElement(Bt.div,{ref:hd(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":n,id:u.listId},h2(t,f=>x.createElement("div",{ref:hd(o,u.listInnerRef),"cmdk-list-sizer":""},f)))}),bSe=x.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...c}=t;return x.createElement(gU,{open:r,onOpenChange:n},x.createElement(xU,{container:o},x.createElement(cT,{"cmdk-overlay":"",className:s}),x.createElement(dT,{"aria-label":t.label,"cmdk-dialog":"",className:i},x.createElement(zK,{ref:e,...c}))))}),wSe=x.forwardRef((t,e)=>Lu(r=>r.filtered.count===0)?x.createElement(Bt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),NSe=x.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return x.createElement(Bt.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},h2(t,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Vi=Object.assign(zK,{List:vSe,Item:pSe,Input:ySe,Group:gSe,Separator:xSe,Dialog:bSe,Empty:wSe,Loading:NSe});function jSe(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function SSe(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function qK(t){let e=x.useRef(t);return Eh(()=>{e.current=t}),e}var Eh=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Wm(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function Lu(t){let e=MP(),r=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,r,r)}function VK(t,e,r,n=[]){let s=x.useRef(),i=Vy();return Eh(()=>{var o;let c=(()=>{var f;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(f=h.current.textContent)==null?void 0:f.trim():s.current}})(),u=n.map(f=>f.trim());i.value(t,c,u),(o=e.current)==null||o.setAttribute(Vm,c),s.current=c}),s}var kSe=()=>{let[t,e]=x.useState(),r=Wm(()=>new Map);return Eh(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function _Se(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function h2({asChild:t,children:e},r){return t&&x.isValidElement(e)?x.cloneElement(_Se(e),{ref:e.ref},r(e.props.children)):r(e)}var CSe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const vC=x.forwardRef(({className:t,...e},r)=>a.jsx(Vi,{ref:r,className:Nt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));vC.displayName=Vi.displayName;const bC=x.forwardRef(({className:t,...e},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Cu,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(Vi.Input,{ref:r,className:Nt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));bC.displayName=Vi.Input.displayName;const wC=x.forwardRef(({className:t,...e},r)=>a.jsx(Vi.List,{ref:r,className:Nt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));wC.displayName=Vi.List.displayName;const NC=x.forwardRef((t,e)=>a.jsx(Vi.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));NC.displayName=Vi.Empty.displayName;const jC=x.forwardRef(({className:t,...e},r)=>a.jsx(Vi.Group,{ref:r,className:Nt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));jC.displayName=Vi.Group.displayName;const TSe=x.forwardRef(({className:t,...e},r)=>a.jsx(Vi.Separator,{ref:r,className:Nt("-mx-1 h-px bg-border",t),...e}));TSe.displayName=Vi.Separator.displayName;const SC=x.forwardRef(({className:t,...e},r)=>a.jsx(Vi.Item,{ref:r,className:Nt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));SC.displayName=Vi.Item.displayName;var m2="Popover",[WK]=zi(m2,[zu]),Wy=zu(),[PSe,ef]=WK(m2),HK=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,c=Wy(e),u=x.useRef(null),[f,h]=x.useState(!1),[m,g]=md({prop:n,defaultProp:s??!1,onChange:i,caller:m2});return a.jsx(aT,{...c,children:a.jsx(PSe,{scope:e,contentId:Ds(),triggerRef:u,open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>h(!0),[]),onCustomAnchorRemove:x.useCallback(()=>h(!1),[]),modal:o,children:r})})};HK.displayName=m2;var KK="PopoverAnchor",ESe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ef(KK,r),i=Wy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return x.useEffect(()=>(o(),()=>c()),[o,c]),a.jsx(jy,{...i,...n,ref:e})});ESe.displayName=KK;var GK="PopoverTrigger",YK=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ef(GK,r),i=Wy(r),o=dn(e,s.triggerRef),c=a.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eG(s.open),...n,ref:o,onClick:pt(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(jy,{asChild:!0,...i,children:c})});YK.displayName=GK;var RP="PopoverPortal",[ASe,ISe]=WK(RP,{forceMount:void 0}),XK=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=ef(RP,e);return a.jsx(ASe,{scope:e,forceMount:r,children:a.jsx(uo,{present:r||i.open,children:a.jsx(hg,{asChild:!0,container:s,children:n})})})};XK.displayName=RP;var sg="PopoverContent",QK=x.forwardRef((t,e)=>{const r=ISe(sg,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=ef(sg,t.__scopePopover);return a.jsx(uo,{present:n||i.open,children:i.modal?a.jsx(MSe,{...s,ref:e}):a.jsx(RSe,{...s,ref:e})})});QK.displayName=sg;var OSe=Ou("PopoverContent.RemoveScroll"),MSe=x.forwardRef((t,e)=>{const r=ef(sg,t.__scopePopover),n=x.useRef(null),s=dn(e,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return ww(o)},[]),a.jsx(ky,{as:OSe,allowPinchZoom:!0,children:a.jsx(JK,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:pt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),RSe=x.forwardRef((t,e)=>{const r=ef(sg,t.__scopePopover),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(JK,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JK=x.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,...m}=t,g=ef(sg,r),v=Wy(r);return vw(),a.jsx(Sy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(pw,{"data-state":eG(g.open),role:"dialog",id:g.contentId,...v,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZK="PopoverClose",DSe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ef(ZK,r);return a.jsx(Bt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});DSe.displayName=ZK;var LSe="PopoverArrow",$Se=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Wy(r);return a.jsx(gw,{...s,...n,ref:e})});$Se.displayName=LSe;function eG(t){return t?"open":"closed"}var FSe=HK,BSe=YK,USe=XK,tG=QK;const Ks=FSe,Gs=BSe,Es=x.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>a.jsx(USe,{children:a.jsx(tG,{ref:s,align:e,sideOffset:r,className:Nt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));Es.displayName=tG.displayName;var p2="Tabs",[zSe]=zi(p2,[Cw]),rG=Cw(),[qSe,DP]=zSe(p2),nG=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:u="automatic",...f}=t,h=jw(c),[m,g]=md({prop:n,onChange:s,defaultProp:i??"",caller:p2});return a.jsx(qSe,{scope:r,baseId:Ds(),value:m,onValueChange:g,orientation:o,dir:h,activationMode:u,children:a.jsx(Bt.div,{dir:h,"data-orientation":o,...f,ref:e})})});nG.displayName=p2;var aG="TabsList",sG=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=DP(aG,r),o=rG(r);return a.jsx(vz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Bt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});sG.displayName=aG;var iG="TabsTrigger",oG=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=DP(iG,r),c=rG(r),u=dG(o.baseId,n),f=uG(o.baseId,n),h=n===o.value;return a.jsx(bz,{asChild:!0,...c,focusable:!s,active:h,children:a.jsx(Bt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:pt(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:pt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:pt(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(n)})})})});oG.displayName=iG;var lG="TabsContent",cG=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,c=DP(lG,r),u=dG(c.baseId,n),f=uG(c.baseId,n),h=n===c.value,m=x.useRef(h);return x.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(uo,{present:s||h,children:({present:g})=>a.jsx(Bt.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});cG.displayName=lG;function dG(t,e){return`${t}-trigger-${e}`}function uG(t,e){return`${t}-content-${e}`}var VSe=nG,fG=sG,hG=oG,mG=cG;const pG=VSe,LP=x.forwardRef(({className:t,...e},r)=>a.jsx(fG,{ref:r,className:Nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));LP.displayName=fG.displayName;const du=x.forwardRef(({className:t,...e},r)=>a.jsx(hG,{ref:r,className:Nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));du.displayName=hG.displayName;const uu=x.forwardRef(({className:t,...e},r)=>a.jsx(mG,{ref:r,className:Nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));uu.displayName=mG.displayName;const ax=x.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Nt("w-full caption-bottom text-sm",t),...e})}));ax.displayName="Table";const sx=x.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:Nt("[&_tr]:border-b",t),...e}));sx.displayName="TableHeader";const ix=x.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:Nt("[&_tr:last-child]:border-0",t),...e}));ix.displayName="TableBody";const WSe=x.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:Nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WSe.displayName="TableFooter";const Ql=x.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:Nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ql.displayName="TableRow";const sn=x.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:Nt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));sn.displayName="TableHead";const vn=x.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:Nt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));vn.displayName="TableCell";const HSe=x.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:Nt("mt-4 text-sm text-muted-foreground",t),...e}));HSe.displayName="TableCaption";function j8({height:t,onPointsChange:e,selectedPoints:r,onReset:n,isExpanded:s}){const i=x.useRef(null),o=x.useRef(null),[c,u]=x.useState([]),[f,h]=x.useState(3),[m,g]=x.useState("#00ff00"),[v,j]=x.useState("sketch"),[w,b]=x.useState(!1),[_,T]=x.useState([]);x.useEffect(()=>{const W=i.current;if(!W)return;const K=W.getBoundingClientRect(),G=window.devicePixelRatio||1;W.width=K.width*G,W.height=t*G;const Q=W.getContext("2d");Q&&(Q.scale(G,G),Q.lineCap="round",Q.lineJoin="round",o.current=Q,E())},[t]);const E=()=>{const W=o.current,K=i.current;!W||!K||(W.fillStyle="#000000",W.fillRect(0,0,K.clientWidth,K.clientHeight))},k=W=>{if(v!=="path")return;const K=i.current,G=o.current;if(!K||!G)return;const Q=K.getBoundingClientRect(),$=W.clientX-Q.left,U=W.clientY-Q.top,ie={x:$,y:U,price:(K.clientHeight-U)/K.clientHeight*1e3+24e3,timestamp:Date.now()+c.length*6e4,index:c.length,type:U<K.clientHeight/2?"high":"low",pointNumber:c.length+1,label:`${c.length+1}`,cornerType:"clicked"},ce=[...c,ie];u(ce),e(ce),R()},C=W=>{if(v!=="sketch")return;b(!0);const K=i.current;if(!K)return;const G=K.getBoundingClientRect(),Q=W.clientX-G.left,$=W.clientY-G.top,U=Date.now();T([{x:Q,y:$,t:U}])},S=W=>{if(!w||v!=="sketch")return;const K=i.current,G=o.current;if(!K||!G)return;const Q=K.getBoundingClientRect(),$=W.clientX-Q.left,U=W.clientY-Q.top,ie=Date.now(),ce=_[_.length-1];if(ce&&Math.abs($-ce.x)<2&&Math.abs(U-ce.y)<2)return;const he=[..._,{x:$,y:U,t:ie}];T(he),X(G,he)},A=()=>{if(!(!w||v!=="sketch")){if(b(!1),_.length>3){const W=V(_),K=[...c,...W];u(K),e(K)}T([]),R()}},R=()=>{const W=o.current;if(W&&(E(),c.length!==0)){if(c.length>1){W.strokeStyle=m,W.lineWidth=f,W.beginPath(),W.moveTo(c[0].x,c[0].y);for(let K=1;K<c.length;K++)W.lineTo(c[K].x,c[K].y);W.stroke()}c.forEach((K,G)=>{D(W,K.x,K.y,G+1)})}},D=(W,K,G,Q)=>{W.fillStyle="#10b981",W.strokeStyle="#ffffff",W.lineWidth=2,W.beginPath(),W.arc(K,G,8,0,2*Math.PI),W.fill(),W.stroke(),W.fillStyle="#ffffff",W.font="bold 12px Arial",W.textAlign="center",W.fillText(Q.toString(),K,G+4)},B=()=>{if(c.length===0)return;const W=c.slice(0,-1);u(W),e(W),R()},F=()=>{E(),u([]),e([])},z=()=>{B()},X=(W,K)=>{if(!(K.length<2)){if(E(),c.length>1){W.strokeStyle=m,W.lineWidth=f,W.beginPath(),W.moveTo(c[0].x,c[0].y);for(let G=1;G<c.length;G++)W.lineTo(c[G].x,c[G].y);W.stroke()}c.forEach((G,Q)=>{D(W,G.x,G.y,Q+1)}),W.strokeStyle=m,W.lineWidth=f,W.lineCap="round",W.lineJoin="round",W.beginPath(),W.moveTo(K[0].x,K[0].y);for(let G=1;G<K.length-1;G++){const Q=K[G],$=K[G+1],U=(Q.x+$.x)/2,ie=(Q.y+$.y)/2;W.quadraticCurveTo(Q.x,Q.y,U,ie)}if(K.length>1){const G=K[K.length-1];W.lineTo(G.x,G.y)}W.stroke()}},V=W=>{if(W.length<3)return[];const G=Z(W,8),Q=[],$=i.current;if(!$)return[];const U=G[0],ie=G[G.length-1],ce=[U];if(G.length>2)for(let he=1;he<G.length-1;he++){const we=G[he-1],re=G[he],pe=G[he+1],ue=Math.atan2(re.y-we.y,re.x-we.x),Ie=Math.atan2(pe.y-re.y,pe.x-re.x);let qe=Math.abs(Ie-ue);qe>Math.PI&&(qe=2*Math.PI-qe),qe>Math.PI/6&&ce.push(re)}return ce.push(ie),ce.forEach((he,we)=>{Q.push({x:he.x,y:he.y,price:($.clientHeight-he.y)/$.clientHeight*1e3+24e3,timestamp:he.t||Date.now()+we*6e4,index:c.length+we,type:he.y<$.clientHeight/2?"high":"low",pointNumber:c.length+we+1,label:`${c.length+we+1}`,cornerType:"curve"})}),Q},Z=(W,K)=>{if(W.length<=2)return W;let G=0,Q=0;const $=W[0],U=W[W.length-1];for(let ie=1;ie<W.length-1;ie++){const ce=ee(W[ie],$,U);ce>G&&(G=ce,Q=ie)}if(G>K){const ie=Z(W.slice(0,Q+1),K),ce=Z(W.slice(Q),K);return[...ie.slice(0,-1),...ce]}else return[$,U]},ee=(W,K,G)=>{const Q=G.y-K.y,$=K.x-G.x,U=G.x*K.y-K.x*G.y;return Math.abs(Q*W.x+$*W.y+U)/Math.sqrt(Q*Q+$*$)};return x.useEffect(()=>{R()},[c]),i.current,a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 p-1 bg-gray-800/50 rounded border border-gray-600/50",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(KC,{className:"h-3 w-3 text-green-400"}),a.jsx("span",{className:"text-xs text-white font-medium",children:"Drawing"}),a.jsxs("div",{className:"flex bg-gray-700 rounded p-0.5 ml-2",children:[a.jsx("button",{onClick:()=>j("sketch"),className:`px-1 py-0.5 text-[10px] rounded ${v==="sketch"?"bg-green-500 text-white":"text-gray-300 hover:text-white"}`,children:""}),a.jsx("button",{onClick:()=>j("path"),className:`px-1 py-0.5 text-[10px] rounded ${v==="path"?"bg-green-500 text-white":"text-gray-300 hover:text-white"}`,children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"range",min:"1",max:"10",value:f,onChange:W=>h(Number(W.target.value)),className:"w-8 h-1 bg-gray-600 rounded appearance-none cursor-pointer"}),a.jsx("input",{type:"color",value:m,onChange:W=>g(W.target.value),className:"w-4 h-4 rounded border border-gray-600 cursor-pointer"}),a.jsx(H,{variant:"outline",size:"sm",onClick:z,className:"text-yellow-400 border-yellow-400 hover:bg-yellow-400/10 h-5 w-5 p-0",disabled:c.length===0,"data-testid":"button-undo",children:a.jsx(KZ,{className:"h-2 w-2"})}),a.jsx(H,{variant:"outline",size:"sm",onClick:F,className:"text-red-400 border-red-400 hover:bg-red-400/10 h-5 w-5 p-0","data-testid":"button-clear",children:a.jsx(gs,{className:"h-2 w-2"})})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("canvas",{ref:i,className:"w-full border border-gray-600 rounded cursor-crosshair bg-black",style:{height:`${t}px`},onClick:v==="path"?k:void 0,onMouseDown:v==="sketch"?C:void 0,onMouseMove:v==="sketch"?S:void 0,onMouseUp:v==="sketch"?A:void 0,onMouseLeave:v==="sketch"?A:void 0,"data-testid":"blackboard-canvas"}),c.map((W,K)=>{var G;return a.jsx("div",{className:"absolute w-3 h-3 bg-green-400 rounded-full border-2 border-white flex items-center justify-center text-xs font-bold text-black",style:{left:`${W.x-6}px`,top:`${W.y-6}px`,zIndex:10},title:`Point ${K+1}: ${(G=W.price)==null?void 0:G.toFixed(2)}`,children:K+1},K)})]}),a.jsx("div",{className:"mt-1 p-1 bg-gray-800/50 rounded border border-gray-600/50 text-[10px] text-gray-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{children:["Points: ",c.length]}),a.jsxs("span",{children:[f,"px  ",m]})]})})]})}var KSe="Separator",S8="horizontal",GSe=["horizontal","vertical"],gG=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=S8,...s}=t,i=YSe(n)?n:S8,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Bt.div,{"data-orientation":i,...c,...s,ref:e})});gG.displayName=KSe;function YSe(t){return GSe.includes(t)}var xG=gG;const yG=x.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>a.jsx(xG,{ref:s,decorative:r,orientation:e,className:Nt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));yG.displayName=xG.displayName;const Q4=[{value:"NSE:NIFTY50-INDEX",label:"NIFTY 50",display:"NIFTY 50"},{value:"NSE:RELIANCE-EQ",label:"RELIANCE",display:"Reliance Industries"},{value:"NSE:INFY-EQ",label:"INFOSYS",display:"Infosys Limited"},{value:"NSE:TCS-EQ",label:"TCS",display:"Tata Consultancy Services"},{value:"NSE:HDFCBANK-EQ",label:"HDFC BANK",display:"HDFC Bank Limited"},{value:"NSE:ICICIBANK-EQ",label:"ICICI BANK",display:"ICICI Bank Limited"},{value:"NSE:SBIN-EQ",label:"SBI",display:"State Bank of India"}],XSe=[{value:"1",label:"1m",color:"#6b7280"},{value:"5",label:"5m",color:"#6b7280"},{value:"15",label:"15m",color:"#6b7280"},{value:"30",label:"30m",color:"#6b7280"},{value:"60",label:"1h",color:"#6b7280"},{value:"240",label:"4h",color:"#6b7280"},{value:"1D",label:"1D",color:"#6b7280"}];function QSe({height:t=500,defaultSymbol:e="NSE:NIFTY50-INDEX",interval:r="15"}){const n=x.useRef(null),[s,i]=x.useState(e),[o,c]=x.useState(r),[u,f]=x.useState(new Date),[h,m]=x.useState({x:0,y:0,visible:!1}),g=Q4.find(k=>k.value===s)||Q4[0],{data:v,isLoading:j,refetch:w,error:b}=Na({queryKey:["tradingview-chart-data",s,o,u.toISOString().split("T")[0]],queryFn:async()=>{console.log(` TradingView Chart: Fetching data for ${s} (${o})`);const k=[],C=new Date(u);for(let A=0;A<7;A++){const R=new Date(C);R.setDate(C.getDate()-A);const D=R.getDay();if(D!==0&&D!==6&&k.push(R.toISOString().split("T")[0]),k.length>=5)break}let S=null;for(const A of k)try{const D=await fetch("/api/historical-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:s,resolution:o==="1D"?"D":o,range_from:A,range_to:A})});if(D.ok){const B=await D.json();if(B&&B.candles&&B.candles.length>0)return console.log(` Found data for ${A}: ${B.candles.length} candles`),B}S=new Error(`No data available for ${A}`)}catch(R){S=R,console.log(` Failed to fetch data for ${A}:`,R)}throw S||new Error("No historical data available for any recent trading days")},refetchInterval:6e4,retry:1}),{data:_}=Na({queryKey:["/api/market-data"],refetchInterval:5e3,enabled:!0,retry:1});_==null||_.find(k=>{var C;return k.symbol===((C=s.split(":")[1])==null?void 0:C.split("-")[0])||k.code===s}),x.useEffect(()=>{if(!n.current||!(v!=null&&v.candles))return;const k=n.current.querySelector("canvas");if(k)k.width=n.current.clientWidth,k.height=t-140,T(k,v.candles);else{const C=document.createElement("canvas");C.width=n.current.clientWidth,C.height=t-140,C.style.cursor="crosshair",C.addEventListener("mousemove",S=>{const A=C.getBoundingClientRect();m({x:S.clientX-A.left,y:S.clientY-A.top,visible:!0})}),C.addEventListener("mouseleave",()=>{m(S=>({...S,visible:!1}))}),n.current.appendChild(C),T(C,v.candles)}},[v,t,h]);const T=(k,C)=>{const S=k.getContext("2d");if(!S||!C.length)return;const A=k.width,R=k.height,D={background:"#131722",grid:"#2A2E39",text:"#D1D4DC",textSecondary:"#6C7883",green:"#089981",red:"#F23645"};S.fillStyle=D.background,S.fillRect(0,0,A,R);const B={top:20,right:80,bottom:80,left:60},F=A-B.left-B.right,z=R-B.top-B.bottom-60,X=60,V=C.flatMap(ce=>[ce.open,ce.high,ce.low,ce.close]),Z=C.map(ce=>ce.volume||0),ee=Math.min(...V),W=Math.max(...V),K=Math.max(...Z),G=W-ee;S.strokeStyle=D.grid,S.lineWidth=1;for(let ce=0;ce<=8;ce++){const he=B.top+z*ce/8;S.beginPath(),S.moveTo(B.left,he),S.lineTo(A-B.right,he),S.stroke();const we=W-G*ce/8;S.fillStyle=D.textSecondary,S.font='11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',S.textAlign="left";const re=we.toFixed(2);S.fillText(re,A-B.right+5,he+4)}const Q=Math.min(C.length,80),$=F/Q,U=Math.max(0,C.length-Q);for(let ce=0;ce<Q;ce+=Math.ceil(Q/6)){const he=B.left+ce*$;S.beginPath(),S.moveTo(he,B.top),S.lineTo(he,R-B.bottom),S.stroke()}for(let ce=U;ce<C.length;ce++){const he=C[ce],we=B.left+(ce-U)*$,re=we+$/2,pe=B.top+(W-he.high)/G*z,ue=B.top+(W-he.low)/G*z,Ie=B.top+(W-he.open)/G*z,qe=B.top+(W-he.close)/G*z,Ne=he.close>=he.open,rt=Math.min(Ie,qe),_e=Math.max(Ie,qe),Ct=Math.max(1,_e-rt);S.strokeStyle=Ne?D.green:D.red,S.lineWidth=1,S.beginPath(),S.moveTo(re,pe),S.lineTo(re,ue),S.stroke();const Qt=Math.max(1,$-2);Ne?(S.strokeStyle=D.green,S.lineWidth=1,S.strokeRect(we+1,rt,Qt,Ct)):(S.fillStyle=D.red,S.fillRect(we+1,rt,Qt,Ct))}const ie=R-B.bottom+10;for(let ce=U;ce<C.length;ce++){const he=C[ce],we=B.left+(ce-U)*$,pe=(he.volume||0)/K*X,ue=he.close>=he.open;S.fillStyle=ue?D.green+"60":D.red+"60",S.fillRect(we+1,ie+X-pe,$-2,pe)}if(h.visible&&(S.strokeStyle=D.textSecondary,S.lineWidth=1,S.setLineDash([4,4]),S.beginPath(),S.moveTo(h.x,B.top),S.lineTo(h.x,R-B.bottom),S.stroke(),S.beginPath(),S.moveTo(B.left,h.y),S.lineTo(A-B.right,h.y),S.stroke(),S.setLineDash([])),S.fillStyle=D.text,S.font='bold 16px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',S.textAlign="left",S.fillText(g.display,B.left,15),C.length>0){const ce=C[C.length-1],he=ce.close>=ce.open;S.fillStyle=he?D.green:D.red,S.font='bold 14px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',S.fillText(`${ce.close.toFixed(2)}`,B.left+200,15);const we=ce.close-ce.open,re=we/ce.open*100;S.font='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',S.fillText(`${we>=0?"+":""}${we.toFixed(2)} (${re.toFixed(2)}%)`,B.left+320,15)}S.fillStyle=D.textSecondary,S.font='11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',S.fillText("Volume",B.left,ie-5)},E=()=>{f(new Date),w()};return a.jsxs("div",{className:"w-full h-full bg-[#131722] border border-gray-700 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-700 bg-[#1E222D]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",placeholder:"Search stocks (e.g., RELIANCE, NIFTY, TCS)",className:"w-64 px-3 py-2 bg-[#131722] border border-gray-600 rounded text-white placeholder-gray-400 text-sm focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400",onChange:k=>{const C=k.target.value.toUpperCase(),S=Q4.find(A=>A.label.includes(C)||A.display.toUpperCase().includes(C));S&&i(S.value)}})}),a.jsx(yG,{orientation:"vertical",className:"h-6 bg-gray-600"}),a.jsx("div",{className:"flex gap-1",children:XSe.map(k=>a.jsx(H,{variant:o===k.value?"default":"ghost",size:"sm",className:`h-8 px-3 text-xs ${o===k.value?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-300 hover:bg-[#2A2E39] hover:text-white"}`,onClick:()=>c(k.value),children:k.label},k.value))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:E,className:"text-gray-300 hover:text-white hover:bg-[#2A2E39]",children:a.jsx(xi,{className:"h-4 w-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white hover:bg-[#2A2E39]",children:a.jsx(qZ,{className:"h-4 w-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white hover:bg-[#2A2E39]",children:a.jsx(BZ,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"relative",children:[j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#131722] bg-opacity-75 z-10",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Loading TradingView chart..."})]})}),b&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#131722] bg-opacity-75 z-10",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"text-sm text-red-400",children:"Failed to load chart data"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Please try again"}),a.jsxs(H,{variant:"outline",size:"sm",onClick:E,className:"border-gray-600 text-gray-300 hover:text-white",children:[a.jsx(xi,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}),a.jsx("div",{ref:n,className:"w-full bg-[#131722]",style:{height:t-140}})]}),a.jsx("div",{className:"px-3 py-2 border-t border-gray-700 bg-[#1E222D]",children:a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nB,{className:"h-3 w-3"}),a.jsx("span",{children:"Real-time Fyers Data"})]}),(v==null?void 0:v.candles)&&a.jsxs("span",{children:[v.candles.length," candles  ",o," timeframe"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"NSE  Asia/Kolkata"}),a.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full animate-pulse"})]})]})})]})}function Il(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ah(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const vG=6048e5,JSe=864e5;let ZSe={};function g2(){return ZSe}function ey(t,e){var c,u,f,h;const r=g2(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=Il(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function U1(t){return ey(t,{weekStartsOn:1})}function bG(t){const e=Il(t),r=e.getFullYear(),n=Ah(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=U1(n),i=Ah(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=U1(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function k8(t){const e=Il(t);return e.setHours(0,0,0,0),e}function _8(t){const e=Il(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function eke(t,e){const r=k8(t),n=k8(e),s=+r-_8(r),i=+n-_8(n);return Math.round((s-i)/JSe)}function tke(t){const e=bG(t),r=Ah(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),U1(r)}function rke(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nke(t){if(!rke(t)&&typeof t!="number")return!1;const e=Il(t);return!isNaN(Number(e))}function ake(t){const e=Il(t),r=Ah(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ske={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ike=(t,e,r)=>{let n;const s=ske[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function J4(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const oke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dke={date:J4({formats:oke,defaultWidth:"full"}),time:J4({formats:lke,defaultWidth:"full"}),dateTime:J4({formats:cke,defaultWidth:"full"})},uke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fke=(t,e,r,n)=>uke[t];function R0(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const hke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vke=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bke={ordinalNumber:vke,era:R0({values:hke,defaultWidth:"wide"}),quarter:R0({values:mke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:R0({values:pke,defaultWidth:"wide"}),day:R0({values:gke,defaultWidth:"wide"}),dayPeriod:R0({values:xke,defaultWidth:"wide",formattingValues:yke,defaultFormattingWidth:"wide"})};function D0(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?Nke(c,m=>m.test(o)):wke(c,m=>m.test(o));let f;f=t.valueCallback?t.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const h=e.slice(o.length);return{value:f,rest:h}}}function wke(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Nke(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function jke(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}const Ske=/^(\d+)(th|st|nd|rd)?/i,kke=/\d+/i,_ke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cke={any:[/^b/i,/^(a|c)/i]},Tke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pke={any:[/1/i,/2/i,/3/i,/4/i]},Eke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ake={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ike={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dke={ordinalNumber:jke({matchPattern:Ske,parsePattern:kke,valueCallback:t=>parseInt(t,10)}),era:D0({matchPatterns:_ke,defaultMatchWidth:"wide",parsePatterns:Cke,defaultParseWidth:"any"}),quarter:D0({matchPatterns:Tke,defaultMatchWidth:"wide",parsePatterns:Pke,defaultParseWidth:"any",valueCallback:t=>t+1}),month:D0({matchPatterns:Eke,defaultMatchWidth:"wide",parsePatterns:Ake,defaultParseWidth:"any"}),day:D0({matchPatterns:Ike,defaultMatchWidth:"wide",parsePatterns:Oke,defaultParseWidth:"any"}),dayPeriod:D0({matchPatterns:Mke,defaultMatchWidth:"any",parsePatterns:Rke,defaultParseWidth:"any"})},Lke={code:"en-US",formatDistance:ike,formatLong:dke,formatRelative:fke,localize:bke,match:Dke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $ke(t){const e=Il(t);return eke(e,ake(e))+1}function Fke(t){const e=Il(t),r=+U1(e)-+tke(e);return Math.round(r/vG)+1}function wG(t,e){var h,m,g,v;const r=Il(t),n=r.getFullYear(),s=g2(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(g=s.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ah(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=ey(o,e),u=Ah(t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const f=ey(u,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Bke(t,e){var c,u,f,h;const r=g2(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=wG(t,e),i=Ah(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ey(i,e)}function Uke(t,e){const r=Il(t),n=+ey(r,e)-+Bke(r,e);return Math.round(n/vG)+1}function Mn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Zd={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Mn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Mn(r+1,2)},d(t,e){return Mn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Mn(t.getHours()%12||12,e.length)},H(t,e){return Mn(t.getHours(),e.length)},m(t,e){return Mn(t.getMinutes(),e.length)},s(t,e){return Mn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mn(s,e.length)}},Fm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Zd.y(t,e)},Y:function(t,e,r,n){const s=wG(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Mn(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mn(i,e.length)},R:function(t,e){const r=bG(t);return Mn(r,e.length)},u:function(t,e){const r=t.getFullYear();return Mn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Mn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Mn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Zd.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Mn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Uke(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Mn(s,e.length)},I:function(t,e,r){const n=Fke(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Mn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Zd.d(t,e)},D:function(t,e,r){const n=$ke(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Mn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Mn(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Mn(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Fm.noon:n===0?s=Fm.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Fm.evening:n>=12?s=Fm.afternoon:n>=4?s=Fm.morning:s=Fm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Zd.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Zd.s(t,e)},S:function(t,e){return Zd.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return P8(n);case"XXXX":case"XX":return Wf(n);case"XXXXX":case"XXX":default:return Wf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return P8(n);case"xxxx":case"xx":return Wf(n);case"xxxxx":case"xxx":default:return Wf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+T8(n,":");case"OOOO":default:return"GMT"+Wf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+T8(n,":");case"zzzz":default:return"GMT"+Wf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Mn(n,e.length)},T:function(t,e,r){const n=t.getTime();return Mn(n,e.length)}};function T8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Mn(i,2)}function P8(t,e){return t%60===0?(t>0?"-":"+")+Mn(Math.abs(t)/60,2):Wf(t,e)}function Wf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Mn(Math.trunc(n/60),2),i=Mn(n%60,2);return r+s+e+i}const E8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},NG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zke=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return E8(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",E8(n,e)).replace("{{time}}",NG(s,e))},qke={p:NG,P:zke},Vke=/^D+$/,Wke=/^Y+$/,Hke=["D","DD","YY","YYYY"];function Kke(t){return Vke.test(t)}function Gke(t){return Wke.test(t)}function Yke(t,e,r){const n=Xke(t,e,r);if(console.warn(n),Hke.includes(t))throw new RangeError(n)}function Xke(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zke=/^'([^]*?)'?$/,e4e=/''/g,t4e=/[a-zA-Z]/;function Ts(t,e,r){var h,m,g,v;const n=g2(),s=n.locale??Lke,i=n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,c=Il(t);if(!nke(c))throw new RangeError("Invalid time value");let u=e.match(Jke).map(j=>{const w=j[0];if(w==="p"||w==="P"){const b=qke[w];return b(j,s.formatLong)}return j}).join("").match(Qke).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:r4e(j)};if(C8[w])return{isToken:!0,value:j};if(w.match(t4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(j=>{if(!j.isToken)return j.value;const w=j.value;(Gke(w)||Kke(w))&&Yke(w,e,String(t));const b=C8[w[0]];return b(c,w,s.localize,f)}).join("")}function r4e(t){const e=t.match(Zke);return e?e[1].replace(e4e,"'"):t}function ox(t,e){const r=2/(e+1),n=[];if(t.length===0)return n;for(let s=0;s<e-1;s++)n.push(null);if(t.length>=e){let s=0;for(let i=0;i<e;i++)s+=t[i];n.push(s/e);for(let i=e;i<t.length;i++){const o=n[i-1];n.push(t[i]*r+o*(1-r))}}return n}function Hy(t,e){const r=[];if(t.length===0||e<=0)return r;for(let n=0;n<e-1;n++)r.push(null);for(let n=e-1;n<t.length;n++){const s=t.slice(n-e+1,n+1).reduce((i,o)=>i+o,0);r.push(s/e)}return r}function n4e(t,e=14){const r=[];if(t.length===0||e<=0)return r;const n=[],s=[];for(let i=1;i<t.length;i++){const o=t[i]-t[i-1];n.push(o>0?o:0),s.push(o<0?Math.abs(o):0)}for(let i=0;i<e;i++)r.push(null);if(n.length>=e){let i=n.slice(0,e).reduce((u,f)=>u+f,0)/e,o=s.slice(0,e).reduce((u,f)=>u+f,0)/e;const c=i/(o||1e-4);r.push(100-100/(1+c));for(let u=e;u<n.length;u++){i=(i*(e-1)+n[u])/e,o=(o*(e-1)+s[u])/e;const f=i/(o||1e-4);r.push(100-100/(1+f))}}return r}function a4e(t,e){const r=[];if(t.length===0||e<=0)return r;for(let n=0;n<e-1;n++)r.push(null);for(let n=e-1;n<t.length;n++){let s=0,i=0;for(let o=0;o<e;o++){const c=o+1;s+=t[n-e+1+o]*c,i+=c}r.push(s/i)}return r}function s4e(t,e=12,r=26,n=9){if(t.length<r+n)return null;const s=ox(t,e),i=ox(t,r),o=[];for(let h=r-1;h<t.length;h++)s[h]!==null&&i[h]!==null&&o.push(s[h]-i[h]);const u=ox(o,n).filter(h=>h!==null),f=[];for(let h=0;h<u.length;h++){const m=o[h+n-1]-u[h];f.push(Math.round(m*1e4)/1e4)}return{macd:o.map(h=>Math.round(h*1e4)/1e4),signal:u.map(h=>Math.round(h*1e4)/1e4),histogram:f}}function i4e(t,e=20,r=2){const n=Hy(t,e),s=[],i=[];for(let o=0;o<t.length;o++)if(o<e-1)s.push(null),i.push(null);else{const c=t.slice(o-e+1,o+1),u=n[o],f=c.reduce((m,g)=>m+Math.pow(g-u,2),0)/e,h=Math.sqrt(f);s.push(u+r*h),i.push(u-r*h)}return{upper:s,middle:n,lower:i}}function o4e(t,e=14){const r=[],n=[];if(t.length===0)return r;for(let i=0;i<t.length;i++)if(i===0)n.push(t[i].high-t[i].low);else{const o=t[i].high-t[i].low,c=Math.abs(t[i].high-t[i-1].close),u=Math.abs(t[i].low-t[i-1].close);n.push(Math.max(o,c,u))}return Hy(n,e)}function l4e(t,e=14,r=3){const n=[];for(let c=0;c<t.length;c++)if(c<e-1)n.push(null);else{const u=t.slice(c-e+1,c+1),f=Math.max(...u.map(v=>v.high)),h=Math.min(...u.map(v=>v.low)),g=(t[c].close-h)/(f-h)*100;n.push(g)}const s=n.filter(c=>c!==null),i=Hy(s,r),o=[];for(let c=0;c<e-1;c++)o.push(null);return o.push(...i),{k:n,d:o}}function c4e(t,e=20){const r=[],n=[];for(const i of t)n.push((i.high+i.low+i.close)/3);const s=Hy(n,e);for(let i=0;i<t.length;i++)if(i<e-1)r.push(null);else{const o=n.slice(i-e+1,i+1),c=s[i],u=o.reduce((h,m)=>h+Math.abs(m-c),0)/e,f=(n[i]-c)/(.015*u);r.push(f)}return r}function d4e(t,e=14){const r=[],n=[];for(let s=0;s<t.length;s++){const o=(t[s].high+t[s].low+t[s].close)/3*t[s].volume;n.push(o)}for(let s=0;s<t.length;s++)if(s<e)r.push(null);else{let i=0,o=0;for(let f=s-e+1;f<=s;f++){const h=(t[f].high+t[f].low+t[f].close)/3,m=(t[f-1].high+t[f-1].low+t[f-1].close)/3;h>m?i+=n[f]:h<m&&(o+=n[f])}const u=100-100/(1+i/(o||1));r.push(u)}return r}function u4e(t,e=14){const r=[];for(let n=0;n<t.length;n++)if(n<e-1)r.push(null);else{const s=t.slice(n-e+1,n+1),i=Math.max(...s.map(f=>f.high)),o=Math.min(...s.map(f=>f.low)),c=t[n].close,u=(i-c)/(i-o)*-100;r.push(u)}return r}function f4e(t,e=12){const r=[];for(let n=0;n<t.length;n++)if(n<e)r.push(null);else{const s=t[n],i=t[n-e],o=(s-i)/i*100;r.push(o)}return r}function h4e(t,e=14){const r=[],n=[],s=[],i=[];for(let o=0;o<t.length;o++)if(o===0)n.push(t[o].high-t[o].low),s.push(0),i.push(0);else{const c=t[o].high-t[o].low,u=Math.abs(t[o].high-t[o-1].close),f=Math.abs(t[o].low-t[o-1].close);n.push(Math.max(c,u,f));const h=t[o].high-t[o-1].high,m=t[o-1].low-t[o].low;s.push(h>m&&h>0?h:0),i.push(m>h&&m>0?m:0)}for(let o=0;o<t.length;o++)if(o<e*2)r.push(null);else{const c=n.slice(o-e+1,o+1).reduce((v,j)=>v+j,0)/e,u=s.slice(o-e+1,o+1).reduce((v,j)=>v+j,0)/e,f=i.slice(o-e+1,o+1).reduce((v,j)=>v+j,0)/e,h=u/c*100,m=f/c*100,g=Math.abs(h-m)/(h+m)*100;r.push(g)}return r}function m4e(t,e=.02,r=.2){const n=[];if(t.length<2)return n;let s=t[1].close>t[0].close,i=s?t[0].low:t[0].high,o=s?t[1].high:t[1].low,c=e;n.push(null),n.push(i);for(let u=2;u<t.length;u++){const f=i;i=f+c*(o-f),s?(t[u].high>o&&(o=t[u].high,c=Math.min(c+e,r)),t[u].low<=i&&(s=!1,i=o,o=t[u].low,c=e)):(t[u].low<o&&(o=t[u].low,c=Math.min(c+e,r)),t[u].high>=i&&(s=!0,i=o,o=t[u].high,c=e)),n.push(i)}return n}function p4e(t){const e=[];let r=0,n=0;for(const s of t){const i=(s.high+s.low+s.close)/3;r+=i*s.volume,n+=s.volume;const o=r/n;e.push(o)}return e}const g4e=()=>{const t=new Date,e=t.getDate(),r=t.getMonth(),n=t.getFullYear(),s=new Date(n,r+1,0);let i=new Date(s);for(;i.getDay()!==4;)i.setDate(i.getDate()-1);if(i.getDate()<e){const h=new Date(n,r+2,0);for(i=new Date(h);i.getDay()!==4;)i.setDate(i.getDate()-1)}const o=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],c=i.getDate().toString().padStart(2,"0"),u=o[i.getMonth()],f=i.getFullYear().toString().slice(-2);return`${c}${u}${f}`},x4e=()=>{const t=g4e();return[{value:`NSE:NIFTY${t}-FUT`,label:`NIFTY 50 FUT ${t}`},{value:`NSE:BANKNIFTY${t}-FUT`,label:`BANK NIFTY FUT ${t}`}]},sb=[{value:"NSE:NIFTY50-INDEX",label:"NIFTY 50"},{value:"NSE:NIFTYBANK-INDEX",label:"NIFTY BANK"},...x4e(),{value:"NSE:RELIANCE-EQ",label:"RELIANCE"},{value:"NSE:TCS-EQ",label:"TCS"},{value:"NSE:HDFCBANK-EQ",label:"HDFC BANK"},{value:"NSE:ICICIBANK-EQ",label:"ICICI BANK"},{value:"NSE:INFY-EQ",label:"INFOSYS"},{value:"NSE:ITC-EQ",label:"ITC"},{value:"NSE:HINDUNILVR-EQ",label:"HINDUSTAN UNILEVER"},{value:"NSE:LT-EQ",label:"LARSEN & TOUBRO"},{value:"NSE:SBIN-EQ",label:"STATE BANK OF INDIA"},{value:"NSE:BHARTIARTL-EQ",label:"BHARTI AIRTEL"},{value:"NSE:ASIANPAINT-EQ",label:"ASIAN PAINTS"},{value:"NSE:MARUTI-EQ",label:"MARUTI SUZUKI"},{value:"NSE:AXISBANK-EQ",label:"AXIS BANK"},{value:"NSE:COALINDIA-EQ",label:"COAL INDIA"},{value:"NSE:NTPC-EQ",label:"NTPC"},{value:"NSE:POWERGRID-EQ",label:"POWER GRID CORP"},{value:"NSE:ULTRACEMCO-EQ",label:"ULTRATECH CEMENT"},{value:"NSE:SUNPHARMA-EQ",label:"SUN PHARMA"},{value:"NSE:TITAN-EQ",label:"TITAN COMPANY"},{value:"NSE:ADANIENT-EQ",label:"ADANI ENTERPRISES"},{value:"NSE:ONGC-EQ",label:"ONGC"},{value:"NSE:WIPRO-EQ",label:"WIPRO"},{value:"NSE:DIVISLAB-EQ",label:"DIVIS LAB"},{value:"NSE:TECHM-EQ",label:"TECH MAHINDRA"},{value:"NSE:HCLTECH-EQ",label:"HCL TECHNOLOGIES"},{value:"NSE:KOTAKBANK-EQ",label:"KOTAK MAHINDRA BANK"},{value:"NSE:BAJFINANCE-EQ",label:"BAJAJ FINANCE"},{value:"NSE:INDUSINDBK-EQ",label:"INDUSIND BANK"}];function y4e({optionChainData:t,selectedStrike:e,onStrikeChange:r,selectedExpiry:n}){var j,w,b,_,T,E,k,C,S,A,R,D,B,F,z,X,V,Z,ee,W,K,G,Q,$,U,ie,ce,he,we,re,pe;const[s,i]=x.useState("summary"),[o,c]=x.useState("call"),{data:u,isLoading:f,error:h}=Na({queryKey:["/api/options/atm-ohlc",e,n],queryFn:async()=>(await fetch(`/api/options/atm-ohlc?strike=${e}&expiry=${n}`)).json(),refetchInterval:3e4,retry:2});if(f)return a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(xi,{className:"h-6 w-6 text-blue-500 animate-spin mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Loading Strike ",e," OHLC data..."]})]})})});if(h||!u||!u.success)return a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(su,{className:"h-12 w-12 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Failed to load Strike OHLC data"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Check your connection and try again"})]})})});const{data:m}=u||{};if(!m||!m.call&&!m.put)return a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(su,{className:"h-12 w-12 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"No Strike OHLC data available"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Try selecting a different strike price"})]})})});const g=o==="call"?m.call:m.put,v=(g==null?void 0:g.ohlcData)||[];return a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Strike Selection OHLC Data & Greeks"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dr,{variant:"secondary",className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:"Sep 9th Expiry"}),a.jsxs(Dr,{variant:"outline",children:[v.length," Candles"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Strike Price"}),a.jsx("select",{value:e,onChange:ue=>r(Number(ue.target.value)),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:((j=t==null?void 0:t.strikes)==null?void 0:j.map(ue=>a.jsxs("option",{value:ue,children:["",ue.toLocaleString()]},ue)))||a.jsx("option",{value:24750,children:"24,750"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:s==="summary"?"default":"outline",size:"sm",onClick:()=>i("summary"),children:"Summary"}),a.jsx(H,{variant:s==="candles"?"default":"outline",size:"sm",onClick:()=>i("candles"),children:"Detailed Candles"})]}),s==="candles"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{variant:o==="call"?"default":"outline",size:"sm",className:o==="call"?"bg-green-600 hover:bg-green-700":"",onClick:()=>c("call"),children:[e," CE"]}),a.jsxs(H,{variant:o==="put"?"default":"outline",size:"sm",className:o==="put"?"bg-red-600 hover:bg-red-700":"",onClick:()=>c("put"),children:[e," PE"]})]})]}),s==="summary"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-white",children:"NIFTY 50"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",((b=(w=m.underlying)==null?void 0:w.price)==null?void 0:b.toLocaleString())||"24,750"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-sm font-medium ${(((_=m.underlying)==null?void 0:_.change)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((T=m.underlying)==null?void 0:T.change)||0)>=0?"+":"",(((E=m.underlying)==null?void 0:E.change)||0).toFixed(2)]}),a.jsxs("p",{className:`text-xs ${(((k=m.underlying)==null?void 0:k.changePercent)||0)>=0?"text-green-600":"text-red-600"}`,children:["(",(((C=m.underlying)==null?void 0:C.changePercent)||0)>=0?"+":"",(((S=m.underlying)==null?void 0:S.changePercent)||0).toFixed(2),"%)"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-semibold text-green-600",children:[e," CE"]}),a.jsx(Dr,{variant:"outline",className:"text-green-600 border-green-600",children:"CALL"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"LTP"}),a.jsxs("span",{className:"font-medium",children:["",((R=(A=m.call)==null?void 0:A.currentPrice)==null?void 0:R.toLocaleString())||"0"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Candles"}),a.jsx("span",{className:"font-medium",children:((D=m.call)==null?void 0:D.totalCandles)||((F=(B=m.call)==null?void 0:B.ohlcData)==null?void 0:F.length)||0})]})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"Current Greeks"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Delta"}),a.jsx("span",{className:"font-medium",children:((V=(X=(z=m.call)==null?void 0:z.greeks)==null?void 0:X.delta)==null?void 0:V.toFixed(3))||"0.000"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"IV"}),a.jsxs("span",{className:"font-medium",children:[((W=(ee=(Z=m.call)==null?void 0:Z.greeks)==null?void 0:ee.impliedVolatility)==null?void 0:W.toFixed(1))||"0.0","%"]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-semibold text-red-600",children:[e," PE"]}),a.jsx(Dr,{variant:"outline",className:"text-red-600 border-red-600",children:"PUT"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"LTP"}),a.jsxs("span",{className:"font-medium",children:["",((G=(K=m.put)==null?void 0:K.currentPrice)==null?void 0:G.toLocaleString())||"0"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Candles"}),a.jsx("span",{className:"font-medium",children:((Q=m.put)==null?void 0:Q.totalCandles)||((U=($=m.put)==null?void 0:$.ohlcData)==null?void 0:U.length)||0})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-red-800 dark:text-red-200 mb-2",children:"Current Greeks"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Delta"}),a.jsx("span",{className:"font-medium",children:((he=(ce=(ie=m.put)==null?void 0:ie.greeks)==null?void 0:ce.delta)==null?void 0:he.toFixed(3))||"0.000"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"IV"}),a.jsxs("span",{className:"font-medium",children:[((pe=(re=(we=m.put)==null?void 0:we.greeks)==null?void 0:re.impliedVolatility)==null?void 0:pe.toFixed(1))||"0.0","%"]})]})]})]})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:"ATM Options Analysis"})}),a.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-[460px] border custom-thin-scrollbar",children:[a.jsxs(ax,{children:[a.jsx(sx,{className:"sticky top-0 bg-gray-50 dark:bg-gray-700 z-10",children:a.jsxs(Ql,{children:[a.jsx(sn,{className:"min-w-[80px]",children:"Time"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Open"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"High"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Low"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Close"}),a.jsx(sn,{className:"text-right min-w-[80px]",children:"Volume"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Delta"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Gamma"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Theta"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"Vega"}),a.jsx(sn,{className:"text-right min-w-[70px]",children:"IV %"})]})}),a.jsx(ix,{children:v.map((ue,Ie)=>{var rt,_e,Ct,Qt,Ar;const Ne=new Date(ue.timestamp*1e3).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",timeZone:"Asia/Kolkata"});return a.jsxs(Ql,{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx(vn,{className:"font-medium text-xs",children:Ne}),a.jsxs(vn,{className:"text-right",children:["",ue.open.toFixed(2)]}),a.jsxs(vn,{className:"text-right text-green-600",children:["",ue.high.toFixed(2)]}),a.jsxs(vn,{className:"text-right text-red-600",children:["",ue.low.toFixed(2)]}),a.jsxs(vn,{className:"text-right font-medium",children:["",ue.close.toFixed(2)]}),a.jsx(vn,{className:"text-right text-gray-600",children:ue.volume.toLocaleString()}),a.jsx(vn,{className:"text-right text-blue-600",children:((rt=ue.greeks)==null?void 0:rt.delta.toFixed(3))||"-"}),a.jsx(vn,{className:"text-right text-purple-600",children:((_e=ue.greeks)==null?void 0:_e.gamma.toFixed(3))||"-"}),a.jsx(vn,{className:"text-right text-orange-600",children:((Ct=ue.greeks)==null?void 0:Ct.theta.toFixed(3))||"-"}),a.jsx(vn,{className:"text-right text-indigo-600",children:((Qt=ue.greeks)==null?void 0:Qt.vega.toFixed(3))||"-"}),a.jsxs(vn,{className:"text-right text-pink-600",children:[((Ar=ue.greeks)==null?void 0:Ar.impliedVolatility.toFixed(1))||"-","%"]})]},Ie)})})]}),v.length===0&&a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(su,{className:"h-8 w-8 mr-2"}),a.jsx("span",{children:"No candle data available"})]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:"From Market Open  Updated every 30s  Each candle includes Greeks"}),a.jsxs("span",{children:["Strike: ",m.strike,"  Expiry: ",m.expiry]})]})})]})})}function v4e({onConfigChange:t,onBackClick:e}={}){var yf,Jg,Zg,vf,e0,vo,bf,im,t0,av,tl,Rc,Dc,wf,Nf,li,ci,Wl,bo,wo,Hl,r0,om,lm,qs,Vs,Wn,Ei,n0,a0,cm,dm,s0,jf,i0,Lc,um,sv,Dd,Sf,o0,l0,$c,c0,kf,_f,Fc,fm,hm,mm,pm,Bc,di,Kl,gm,d0,No,rl,xm,u0,jo,nl,Cf,f0,Tf,h0,Ld,Xi,$d,Fd,Gl,ym,Uc,m0,vm,Jn,Pf,bm,wm,Ef,Nm,Yl,Zn,Sa,Ma,Af,Bd,Ud,iv,Za,jm,Sm,km;const[r,n]=x.useState("1d"),[s,i]=x.useState(24750),[o,c]=x.useState("NSE:NIFTY50-INDEX"),u=N=>{switch(N){case"5m":case"15m":case"30m":return[555,930];case"1h":case"4h":return[540,960];case"1d":case"1w":case"1M":return[540,1020];default:return[555,930]}},[f,h]=x.useState(!1),[m,g]=x.useState(""),[v,j]=x.useState(!1),[w,b]=x.useState(!1),[_,T]=x.useState(""),E=async()=>{var _t,It,ur,Gt,St,Ot,xn;const N=(Fe==null?void 0:Fe.candles)||[],M=Object.keys(qn).join(", ")||"None",L=(Re?cr(N,Re):N).map(Xe=>Xe.close||Xe.price||0),te=(Cn==null?void 0:Cn.reduce((Xe,hr)=>(Xe[hr.label]||(Xe[hr.label]=hr),Xe),{}))||{},ae={sl:((_t=te.SL)==null?void 0:_t.price)||null,breakout:((It=te.Breakout)==null?void 0:It.price)||null,target:((ur=te.Target)==null?void 0:ur.price)||null,slPoint:((Gt=te.SL)==null?void 0:Gt.pointNumber)||null,breakoutPoint:((St=te.Breakout)==null?void 0:St.pointNumber)||null,targetPoint:((Ot=te.Target)==null?void 0:Ot.pointNumber)||null};if(console.log(" USER PATTERN STRUCTURE:",ae),!ae.sl||!ae.breakout||!ae.target){alert("Please assign SL, Breakout, and Target rays before generating code!");return}const ne=Math.abs(ae.breakout-ae.sl),Te=Math.abs(ae.target-ae.breakout),Pe=Te/ne;console.log(` GENERATING CODE: User Pattern - SL:${ae.sl}, Breakout:${ae.breakout}, Target:${ae.target}`),console.log(` Risk/Reward: ${Pe.toFixed(2)}:1`);const We=`# Advanced Trading Strategy - User-Defined Pattern Analysis
# Generated on ${new Date().toLocaleString()}
# Symbol: NIFTY50 | Timeframe: ${r}
# Active Indicators: ${M}
# User Pattern: SL-${ae.slPoint} | Breakout-${ae.breakoutPoint} | Target-${ae.targetPoint}

import pandas as pd
import numpy as np
from typing import Dict, List, Tuple, Optional

class UserPatternAnalyzer:
    """
    User-Defined Pattern Trading System
    Executes trades based on your exact pattern structure
    """
    
    def __init__(self, data: pd.DataFrame):
        self.data = data
        self.current_price = ${((xn=L[L.length-1])==null?void 0:xn.toFixed(2))||"N/A"}
        
        # USER'S EXACT PATTERN STRUCTURE
        self.stop_loss = ${ae.sl.toFixed(2)}      # Point ${ae.slPoint}
        self.breakout_level = ${ae.breakout.toFixed(2)}  # Point ${ae.breakoutPoint}
        self.target_level = ${ae.target.toFixed(2)}     # Point ${ae.targetPoint}
        
        # CALCULATED METRICS FROM YOUR PATTERN
        self.risk_amount = ${ne.toFixed(2)}
        self.reward_amount = ${Te.toFixed(2)}
        self.risk_reward_ratio = ${Pe.toFixed(2)}
        
        # PATTERN VALIDATION
        self.pattern_valid = self.validate_pattern()
        
    def validate_pattern(self) -> bool:
        """Validates user's pattern structure for logical consistency"""
        # Check if pattern makes logical sense
        if self.stop_loss == self.breakout_level or self.breakout_level == self.target_level:
            return False
            
        # Check risk/reward ratio is favorable (at least 1:1)
        if self.risk_reward_ratio < 1.0:
            return False
            
        return True
    
    def execute_user_pattern_strategy(self) -> Dict:
        """Executes trading strategy based on your exact pattern"""
        if not self.pattern_valid:
            return {"status": "error", "message": "Invalid pattern structure"}
        
        current_price = float(self.current_price)
        
        # DETERMINE TRADE DIRECTION BASED ON YOUR PATTERN
        if self.target_level > self.breakout_level:
            trade_direction = "LONG"
            entry_condition = current_price >= self.breakout_level
        else:
            trade_direction = "SHORT" 
            entry_condition = current_price <= self.breakout_level
        
        return {
            'pattern_type': self.get_dominant_pattern(),
            'strength': self.calculate_pattern_strength(),
            'reliability': self.calculate_reliability_score(),
            "trade_direction": trade_direction,
            "entry_price": self.breakout_level,
            "stop_loss": self.stop_loss,
            "target": self.target_level,
            "current_price": current_price,
            "entry_signal": "BUY" if entry_condition and trade_direction == "LONG" else "SELL" if entry_condition and trade_direction == "SHORT" else "WAIT",
            "risk_amount": self.risk_amount,
            "reward_amount": self.reward_amount,
            "risk_reward_ratio": f"1:{self.risk_reward_ratio:.2f}",
            "pattern_points": f"SL-{userPattern.slPoint}, Breakout-{userPattern.breakoutPoint}, Target-{userPattern.targetPoint}",
            "pattern_valid": self.pattern_valid
        }
    
    def identify_support_resistance(self) -> Dict[str, List[float]]:
        """Support & Resistance Identification - Automatically finds key levels"""
        highs = self.data['high'].rolling(window=5).max()
        lows = self.data['low'].rolling(window=5).min()
        
        # Dynamic support/resistance with market structure
        support_levels = self.find_significant_levels(lows, 'support')
        resistance_levels = self.find_significant_levels(highs, 'resistance')
        
        return {
            'support_levels': support_levels,
            'resistance_levels': resistance_levels,
            'current_zone': self.determine_current_zone(),
            'next_target': self.calculate_next_target()
        }
    
    def recognize_patterns(self) -> Dict:
        """Pattern Recognition - Detects bullish/bearish signals"""
        patterns = {
            'bullish_breakout': self.detect_bullish_breakout(),
            'bearish_breakdown': self.detect_bearish_breakdown(),
            'hammer_reversal': self.detect_hammer_reversal(),
            'consolidation': self.detect_consolidation(),
            'trending_momentum': self.analyze_momentum()
        }
        
        return {
            'active_patterns': [k for k, v in patterns.items() if v['signal']],
            'pattern_confidence': self.calculate_pattern_confidence(patterns),
            'trade_direction': self.determine_trade_direction(patterns),
            'entry_signals': self.generate_entry_signals(patterns)
        }
    
    def analyze_volatility(self) -> Dict:
        """Volatility Analysis - Dynamic risk management based on market conditions"""
        atr = self.calculate_atr(period=14)
        volatility_regime = self.classify_volatility_regime()
        
        return {
            'current_volatility': atr,
            'atr_value': atr,
            'volatility_regime': volatility_regime,
            'risk_adjustment': self.calculate_risk_adjustment(),
            'position_sizing': self.dynamic_position_sizing(),
            'stop_loss_distance': atr * 2,  # Dynamic SL based on volatility
            'take_profit_ratio': self.calculate_optimal_rr_ratio()
        }
    
    def analyze_price_action(self) -> Dict:
        """Price Action Analysis - Reads candle body strength and directional bias"""
        recent_candles = self.data.tail(10)
        
        return {
            'candle_strength': self.calculate_candle_strength(recent_candles),
            'directional_bias': self.determine_directional_bias(recent_candles),
            'momentum_quality': self.assess_momentum_quality(recent_candles),
            'volume_confirmation': self.analyze_volume_confirmation(recent_candles),
            'rejection_levels': self.identify_rejection_levels(recent_candles)
        }
    
    # Core Analysis Methods
    def detect_bullish_breakout(self) -> Dict:
        """Detects bullish breakout patterns with volume confirmation"""
        price_above_resistance = self.current_price > self.resistance_level
        volume_surge = True  # Add volume analysis if available
        momentum_positive = self.calculate_momentum() > 0
        
        return {
            'signal': price_above_resistance and volume_surge and momentum_positive,
            'confidence': 0.85 if all([price_above_resistance, volume_surge, momentum_positive]) else 0.3,
            'target_price': self.resistance_level * 1.02,
            'stop_loss': self.resistance_level * 0.995
        }
    
    def detect_bearish_breakdown(self) -> Dict:
        """Detects bearish breakdown patterns"""
        price_below_support = self.current_price < self.support_level
        momentum_negative = self.calculate_momentum() < 0
        
        return {
            'signal': price_below_support and momentum_negative,
            'confidence': 0.8 if price_below_support and momentum_negative else 0.25,
            'target_price': self.support_level * 0.98,
            'stop_loss': self.support_level * 1.005
        }
    
    def detect_hammer_reversal(self) -> Dict:
        """Detects hammer reversal patterns at key levels"""
        last_candle = self.data.iloc[-1]
        body_size = abs(last_candle['close'] - last_candle['open'])
        lower_shadow = last_candle['open'] - last_candle['low'] if last_candle['close'] > last_candle['open'] else last_candle['close'] - last_candle['low']
        total_range = last_candle['high'] - last_candle['low']
        
        is_hammer = (lower_shadow > body_size * 2) and (body_size < total_range * 0.3)
        at_support = abs(self.current_price - self.support_level) < self.support_level * 0.01
        
        return {
            'signal': is_hammer and at_support,
            'confidence': 0.75 if is_hammer and at_support else 0.2,
            'reversal_type': 'bullish_hammer' if is_hammer and at_support else 'none'
        }
    
    def detect_consolidation(self) -> Dict:
        """Detects consolidation patterns and ranges"""
        price_range = (self.resistance_level - self.support_level) / self.support_level
        low_volatility = self.volatility < 0.02  # 2% volatility threshold
        
        return {
            'signal': price_range < 0.05 and low_volatility,  # 5% range threshold
            'range_bound': True if price_range < 0.05 else False,
            'breakout_imminent': self.volatility < 0.015,  # Very low volatility suggests breakout coming
            'direction_bias': self.calculate_breakout_direction_bias()
        }
    
    # Risk Management
    def dynamic_position_sizing(self) -> float:
        """Calculate position size based on volatility and risk"""
        base_risk_percent = 0.02  # 2% base risk
        volatility_adjustment = max(0.5, min(2.0, 1 / (self.volatility * 50)))
        return base_risk_percent * volatility_adjustment
    
    def calculate_optimal_rr_ratio(self) -> float:
        """Calculate optimal risk-reward ratio based on market conditions"""
        if self.volatility > 0.03:  # High volatility
            return 1.5
        elif self.volatility < 0.015:  # Low volatility
            return 2.5
        else:
            return 2.0  # Normal conditions
    
    # Utility Methods
    def calculate_momentum(self) -> float:
        """Calculate price momentum"""
        if len(self.data) < 10:
            return 0
        recent_prices = self.data['close'].tail(10)
        return (recent_prices.iloc[-1] - recent_prices.iloc[0]) / recent_prices.iloc[0]
    
    def get_trading_signal(self) -> Dict:
        """Generate final trading signal based on all analysis"""
        fingerprint = self.detect_chart_fingerprint()
        patterns = self.recognize_patterns()
        volatility_analysis = self.analyze_volatility()
        price_action = self.analyze_price_action()
        
        # Combine all signals for final decision
        signal_strength = (
            fingerprint['strength'] * 0.3 +
            patterns['pattern_confidence'] * 0.4 +
            price_action['momentum_quality'] * 0.3
        )
        
        return {
            'action': 'BUY' if signal_strength > 0.6 else 'SELL' if signal_strength < 0.4 else 'HOLD',
            'confidence': signal_strength,
            'position_size': volatility_analysis['position_sizing'],
            'stop_loss': volatility_analysis['stop_loss_distance'],
            'take_profit': volatility_analysis['take_profit_ratio'],
            'analysis_summary': {
                'chart_fingerprint': fingerprint,
                'pattern_analysis': patterns,
                'volatility_regime': volatility_analysis,
                'price_action_score': price_action
            }
        }

# Example Usage
if __name__ == "__main__":
    # Load your OHLCV data
    # data = pd.read_csv('your_data.csv')  # Replace with actual data loading
    
    # Initialize analyzer
    analyzer = AdvancedChartAnalyzer(data)
    
    # Get comprehensive analysis
    trading_signal = analyzer.get_trading_signal()
    support_resistance = analyzer.identify_support_resistance()
    
    print(f"Trading Signal: {trading_signal['action']}")
    print(f"Confidence: {trading_signal['confidence']:.2f}")
    print(f"Current Price: {analyzer.current_price}")
    print(f"Support: {analyzer.support_level:.2f}")
    print(f"Resistance: {analyzer.resistance_level:.2f}")
    print(f"Volatility: {analyzer.volatility:.4f}")
    
    # Display full analysis
    for key, value in trading_signal['analysis_summary'].items():
        print(f"\\n{key.replace('_', ' ').title()}:")
        print(value)

"""
Advanced Features Implemented:
 Real Chart Fingerprint Detection - Analyzes actual price patterns, not just indicators
 Support & Resistance Identification - Automatically finds key levels
 Pattern Recognition - Detects bullish breakouts, bearish breakdowns, hammer reversals, consolidations
 Volatility Analysis - Dynamic risk management based on market conditions
 Price Action Analysis - Reads candle body strength and directional bias

This code provides institutional-grade analysis for professional trading decisions.
Risk Warning: Past performance does not guarantee future results. Trade responsibly.
"""`;T(We),b(!0)},[k,C]=x.useState(()=>{if(typeof window<"u"){const N=localStorage.getItem("deletedStrategies");return N?JSON.parse(N):[]}return[]}),S=N=>{const M=[...k,N];C(M),localStorage.setItem("deletedStrategies",JSON.stringify(M))},A=N=>{const M={name:N.name,indicator:N.indicator,period:N.period,entryCondition:N.entryCondition,slCondition:N.slCondition,exitRule:N.exitRule,trailSL:N.trailSL,timestamp:Date.now()};return btoa(JSON.stringify(M))},R=N=>{try{const M=N.trim();if(/^[A-Za-z0-9+/=]+$/.test(M)){console.log(" Detected base64 format, decoding...");const I=JSON.parse(atob(M));return console.log(" Successfully decoded base64 strategy:",I.name),{name:I.name||"Imported Strategy",indicator:I.indicator||"EMA",period:I.period||"14",entryCondition:I.entryCondition||"above",slCondition:I.slCondition||"prev_low",exitRule:I.exitRule||"1:1",trailSL:I.trailSL||!1,isImported:!0,dateAdded:new Date().toLocaleDateString(),importedAt:new Date().toISOString()}}else throw new Error("Invalid strategy code format. Please use only base64 encoded strategy codes from BATTU AI or Top Traders.")}catch(M){throw console.error(" Decode error:",M),new Error("Invalid strategy code format. Please copy the base64 code from the Strategy Code section (not JavaScript code).")}},D=N=>{W(N);const M=N.period||"";Qt({name:N.name||"",indicator:N.indicator||"",entryCondition:N.entryCondition||"above",slCondition:N.slCondition||"prev_low",exitRule:N.exitRule||"1:1",trailSL:N.trailSL||!1}),Ln(M),Z(!0)},B=N=>{const M=A(N);g(M),h(!0)},F=()=>{navigator.clipboard.writeText(m).then(()=>{console.log("Strategy code copied to clipboard")}).catch(()=>{console.log("Failed to copy, please copy manually")})},z=async N=>{Fr(M=>{const I=new Set(M);return I.add(N.id),I});try{const M=Ar||N.period||"14",I=parseInt(M);console.log(` Testing strategy: ${N.name} with ${N.indicator} indicator, Period: ${M}`);const L=dt||"NSE:ICICIBANK-EQ",te=nr||"1",ae=Vr||"2025-09-08",ne=Tr||"2025-09-08";console.log(` Testing with: Symbol=${L}, Timeframe=${te}, From=${ae}, To=${ne}`);const Te=await fetch("/api/historical-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:L,resolution:te,range_from:ae,range_to:ne})});if(!Te.ok){const Xe=await Te.text();throw new Error(`Failed to fetch data: ${Te.status} - ${Xe}`)}const Pe=await Te.json();if(!(Pe!=null&&Pe.candles)||Pe.candles.length===0)throw new Error("No candle data available");const We=Pe.candles,_t=We.map(Xe=>Xe.close),It=We.map(Xe=>Xe.high),ur=We.map(Xe=>Xe.low),Gt=We.map(Xe=>Xe.volume);let St=[];const Ot=[];switch(N.indicator){case"EMA":St=ox(_t,I);break;case"SMA":St=Hy(_t,I);break;case"WMA":St=a4e(_t,I);break;case"RSI":St=n4e(_t,I);break;case"BB":St=i4e(_t,I).middle;break;case"ATR":St=o4e(We,I);break;case"Stoch":St=l4e(We,I).k;break;case"CCI":St=c4e(We,I);break;case"MFI":St=d4e(We,I);break;case"Williams %R":St=u4e(We,I);break;case"ROC":St=f4e(_t,I);break;case"ADX":St=h4e(We,I);break;case"PSAR":St=m4e(We);break;case"VWAP":St=p4e(We);break;case"MACD":const Ur=s4e(_t);St=(Ur==null?void 0:Ur.macd)||[];break;default:St=ox(_t,I)}for(let Xe=1;Xe<We.length;Xe++){const hr=We[Xe],Ur=We[Xe-1];if(St[Xe]!==null&&St[Xe-1]!==null){const Ut=St[Xe],Xt=St[Xe-1];if(["RSI","MFI","Williams %R","Stoch"].includes(N.indicator)){const sa=N.indicator==="Williams %R"?-20:70,So=N.indicator==="Williams %R"?-80:30;Xt<=So&&Ut>So&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_ABOVE",indicator:`${N.indicator}-${I}`,indicatorValue:Ut}),Xt>=sa&&Ut<sa&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_BELOW",indicator:`${N.indicator}-${I}`,indicatorValue:Ut})}else N.indicator==="CCI"?(Xt<=-100&&Ut>-100&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_ABOVE",indicator:`${N.indicator}-${I}`,indicatorValue:Ut}),Xt>=100&&Ut<100&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_BELOW",indicator:`${N.indicator}-${I}`,indicatorValue:Ut})):(Ur.close<=Xt&&hr.close>Ut&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_ABOVE",indicator:`${N.indicator}-${I}`,indicatorValue:Ut}),Ur.close>=Xt&&hr.close<Ut&&Ot.push({timestamp:hr.timestamp,time:Ts(new Date(hr.timestamp*1e3),"HH:mm:ss"),price:hr.close,type:"EMA_CROSS_BELOW",indicator:`${N.indicator}-${I}`,indicatorValue:Ut}))}}const xn=Ot.map((Xe,hr)=>{const Ur=Xe.type==="EMA_CROSS_ABOVE"?"BUY":"SELL",Ut=Xe.price;let Xt=Ut,sa="market_close";const So=We.findIndex(_m=>_m.timestamp===Xe.timestamp),If=N.exitRule||"market_close",Of=N.slCondition||"prev_low",ov=N.trailSL||!1;if(!(Of==="none"||!Of)||!(If==="none"||If==="market_close")){const _m=We[So],p0=So>0?We[So-1]:_m,Cm=Math.abs(Ut-(Ur==="BUY"?p0.low:p0.high));for(let Mf=So+1;Mf<We.length;Mf++){const Qi=We[Mf],lv=We[Mf-1];if(Of==="prev_low"&&Ur==="BUY"){const Ji=lv.low;if(Qi.low<=Ji){Xt=Ji,sa="stop_loss";break}}else if(Of==="prev_high"&&Ur==="SELL"){const Ji=lv.high;if(Qi.high>=Ji){Xt=Ji,sa="stop_loss";break}}if(If.includes(":")){const[Ji,zd]=If.split(":").map(Number),ui=Ur==="BUY"?Ut+Cm*zd/Ji:Ut-Cm*zd/Ji;if(Ur==="BUY"&&Qi.high>=ui||Ur==="SELL"&&Qi.low<=ui){Xt=ui,sa="target_reached";break}}if(ov){const Ji=Cm*.5,zd=Ur==="BUY"?Math.max(Qi.low-Ji,Xt):Math.min(Qi.high+Ji,Xt);if(Ur==="BUY"&&Qi.low<=zd||Ur==="SELL"&&Qi.high>=zd){Xt=zd,sa="trailing_stop";break}}}}if(sa==="market_close"&&We.length>0&&(Xt=We[We.length-1].close),Ut===Xt)return null;const M2=parseFloat((Ur==="BUY"?(Xt-Ut)*100:(Ut-Xt)*100).toFixed(2));return{id:Date.now()+Math.random()+hr,strategyName:N.name,symbol:dt,timeframe:nr==="1"?"1min":`${nr}min`,indicator:`EMA-${I}`,entryPrice:Ut,exitPrice:Xt,pnl:M2,direction:Ur,status:"completed",timestamp:new Date(Xe.timestamp*1e3).toISOString(),exitReason:sa,conditions:{entry:N.entryCondition||"cross_above",stopLoss:N.slCondition||"prev_low",exit:N.exitRule||"market_close"},crossingData:{type:Xe.type,time:Xe.time,indicatorValue:Xe.indicatorValue,usingPeriod:I}}}).filter(Xe=>Xe!==null);if(xn.length>0)He(Xe=>[...xn,...Xe]),console.log(` Strategy test completed with ${dt} ${nr}min EMA-${I}:`,xn);else{const Xe={id:Date.now()+Math.random(),strategyName:N.name,symbol:dt,timeframe:nr==="1"?"1min":`${nr}min`,indicator:`EMA-${I}`,entryPrice:0,exitPrice:0,pnl:0,direction:"NONE",status:"no_trades",timestamp:new Date().toISOString(),exitReason:"no_signals_generated",conditions:{entry:N.entryCondition||"cross_above",stopLoss:N.slCondition||"prev_low",exit:N.exitRule||"market_close"},crossingData:{type:"NO_CROSSINGS_DETECTED",time:"N/A",indicatorValue:0,usingPeriod:I}};He(hr=>[Xe,...hr]),console.log(` Strategy test completed with ${dt} ${nr}min EMA-${I}: 0 trades generated`)}ge(!0)}catch(M){console.error(" Strategy test failed:",M),console.error(" Error details:",{message:M.message||String(M),stack:M.stack,strategyName:N.name,indicator:N.indicator})}finally{Fr(M=>{const I=new Set(M);return I.delete(N.id),I})}},X=async()=>{if(!Sn.trim()){alert("Please enter a strategy code");return}try{const N=Sn.trim();console.log(" Attempting to import strategy code:",N.substring(0,50)+"...");const M=R(N),I={...M,isImported:!0,dateAdded:new Date().toLocaleDateString(),importedAt:new Date().toISOString()};console.log(" Successfully decoded strategy:",I.name),await pe(I),oe(""),Z(!1),alert(` Successfully imported "${M.name}" strategy!`)}catch(N){console.error(" Import failed:",N),alert(" Invalid strategy code format. Please check the code and try again.")}},[V,Z]=x.useState(!1),[ee,W]=x.useState(null),[K,G]=x.useState([]),[Q,$]=x.useState(!1),[U,ie]=x.useState("main"),[ce,he]=x.useState(!1),we=async()=>{try{$(!0),console.log(" Fetching strategies from Google Cloud...");const M=await(await fetch("/api/strategies")).json();if(M.success)if(M.data&&M.data.length>0)console.log(` Retrieved ${M.data.length} strategies from Google Cloud`),G(M.data.map(I=>({...I,dateAdded:I.dateAdded||new Date(I.createdAt).toLocaleDateString()})));else{console.log(" Using localStorage fallback for strategies");const I=localStorage.getItem("customStrategies");if(I){const L=JSON.parse(I);console.log(` Retrieved ${L.length} strategies from localStorage`),G(L)}else G([])}else{console.error(" Failed to fetch strategies:",M.error);const I=localStorage.getItem("customStrategies");if(I){const L=JSON.parse(I);console.log(` Using localStorage fallback: ${L.length} strategies`),G(L)}else G([])}}catch(N){console.error(" Error fetching strategies, using localStorage fallback:",N);const M=localStorage.getItem("customStrategies");if(M){const I=JSON.parse(M);console.log(` Using localStorage fallback: ${I.length} strategies`),G(I)}else G([])}finally{$(!1)}},re=()=>{try{console.log(" COMPLETELY CLEARING ALL LOCAL STRATEGIES..."),localStorage.removeItem("customStrategies"),G([]),console.log(" COMPLETE DATABASE WIPE - All strategies removed from localStorage"),console.log(" Preventing auto-reload for 5 seconds..."),localStorage.setItem("preventFetch","true"),setTimeout(()=>{localStorage.removeItem("preventFetch"),console.log(" Auto-reload protection removed - database is clean")},5e3),alert(" COMPLETE DATABASE WIPE! All strategies removed. Start fresh now.")}catch(N){console.error(" Error clearing all local strategies:",N),alert(" Failed to clear strategies")}};x.useEffect(()=>{U==="backtest"&&(localStorage.getItem("preventFetch")?console.log(" Fetch prevented - clear operation in progress"):we())},[U]);const pe=async N=>{try{console.log(" Saving strategy to Google Cloud...");const I=await(await fetch("/api/strategies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).json();if(I.success){if(I.fallback){console.log(" Using localStorage fallback for strategy save");const L={...N,id:I.id,createdAt:new Date().toISOString()},te=localStorage.getItem("customStrategies"),ae=te?JSON.parse(te):[];ae.push(L),localStorage.setItem("customStrategies",JSON.stringify(ae)),console.log(` Added new strategy: ${L.name}`),G(ae)}else console.log(` Successfully saved strategy: ${I.id}`),await we();return I.id}else{console.error(" Failed to save strategy, using localStorage fallback:",I.error);const L="local_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),te={...N,id:L,createdAt:new Date().toISOString()},ae=localStorage.getItem("customStrategies"),ne=ae?JSON.parse(ae):[];return ne.push(te),localStorage.setItem("customStrategies",JSON.stringify(ne)),console.log(` Added new strategy (fallback): ${te.name}`),G(ne),L}}catch(M){console.error(" Error saving strategy, using localStorage fallback:",M);const I="local_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),L={...N,id:I,createdAt:new Date().toISOString()},te=localStorage.getItem("customStrategies"),ae=te?JSON.parse(te):[];return ae.push(L),localStorage.setItem("customStrategies",JSON.stringify(ae)),console.log(` Added new strategy (error fallback): ${L.name}`),G(ae),I}},ue=async(N,M)=>{try{console.log(` Updating strategy ${N} in Google Cloud...`);const L=await(await fetch(`/api/strategies/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).json();if(L.success)return console.log(` Successfully updated strategy: ${N}`),await we(),!0;throw console.error(" Failed to update strategy in Google Cloud:",L.error),new Error(L.error)}catch(I){throw console.error(" Error updating strategy in Google Cloud:",I),I}},Ie=async N=>{try{console.log(` Deleting strategy ${N} from Google Cloud...`);const I=await(await fetch(`/api/strategies/${N}`,{method:"DELETE"})).json();if(I.success)return console.log(` Successfully deleted strategy: ${N}`),G(L=>L.filter(te=>te.id!==N)),!0;throw console.error(" Failed to delete strategy from Google Cloud:",I.error),new Error(I.error)}catch(M){throw console.error(" Error deleting strategy from Google Cloud:",M),M}},qe=async(N,M)=>{try{const L={jack_linton:{name:"EMA+RSI Multi Strategy",indicators:["EMA","RSI"],period:"14,20",entryCondition:"all_match",slCondition:"prev_low",exitRule:"1:3",trailSL:!0,isMultiStrategy:!0,conditions:"EMA(20) above EMA(14) AND RSI below 30"},samuel_waters:{name:"SMA+MACD Power Combo",indicators:["SMA","MACD"],period:"21,12,26",entryCondition:"all_match",slCondition:"dynamic",exitRule:"1:2",trailSL:!0,isMultiStrategy:!0,conditions:"SMA(21) trending up AND MACD(12,26) bullish crossover"},henry_mercer:{name:"RSI+Bollinger Bands",indicators:["RSI","Bollinger"],period:"14,20",entryCondition:"all_match",slCondition:"bollinger_lower",exitRule:"2:3",trailSL:!1,isMultiStrategy:!0,conditions:"RSI oversold AND price touches lower Bollinger Band"},amelia_rowann:{name:"Triple EMA + Volume",indicators:["EMA","Volume"],period:"9,21,55",entryCondition:"all_match",slCondition:"ema_support",exitRule:"1:4",trailSL:!0,isMultiStrategy:!0,conditions:"Triple EMA alignment AND volume spike > 150%"}}[N];if(L){const te={...L,dateAdded:Ts(new Date,"dd MMM"),isImported:!0,importedFrom:N,importedAt:new Date().toISOString()};await pe(te);const ae={name:L.name,indicator:L.indicators[0],period:L.period,entryCondition:L.entryCondition,slCondition:L.slCondition,exitRule:L.exitRule,trailSL:L.trailSL,timestamp:Date.now()},ne=btoa(JSON.stringify(ae));navigator.clipboard.writeText(ne).then(()=>{console.log(" Strategy code copied successfully!")}).catch(Te=>{console.error(" Failed to copy strategy code:",Te)}),alert(` Successfully copied "${M}" strategy!

 Strategy Code copied to clipboard!
 Paste it in Build Patterns  Import Code`),console.log(` Strategy Code for ${M}:`,ne)}}catch(I){console.error(" Error copying follower strategy:",I),alert(" Failed to copy strategy. Please try again.")}},Ne=N=>{alert(` Now following user: ${N}`)},[rt,_e]=x.useState(()=>{if(typeof window<"u"){const N=localStorage.getItem("defaultStrategies");if(N)return JSON.parse(N)}return[{id:1,name:"BATTU Scanner",indicator:"BATTU",period:"pattern",entryCondition:"breakout",slCondition:"prev_low",exitRule:"1:2",trailSL:!0,dateAdded:"15 Mar",isDefault:!0},{id:2,name:"RSI Divergence",indicator:"RSI",period:"14",entryCondition:"below",slCondition:"prev_low",exitRule:"1:2",trailSL:!1,dateAdded:"12 Mar",isDefault:!0}]}),[Ct,Qt]=x.useState({name:"",indicator:"",entryCondition:"above",slCondition:"prev_low",exitRule:"1:1",trailSL:!1}),[Ar,Ln]=x.useState(""),[Sn,oe]=x.useState(""),[le,ge]=x.useState(!1),[Se,He]=x.useState([]),ze=x.useMemo(()=>{const N=parseFloat(Se.filter(ne=>ne.pnl>0).reduce((ne,Te)=>ne+Te.pnl,0).toFixed(2)),M=parseFloat(Se.filter(ne=>ne.pnl<0).reduce((ne,Te)=>ne+Math.abs(Te.pnl),0).toFixed(2)),I=parseFloat(Se.reduce((ne,Te)=>ne+Te.pnl,0).toFixed(2)),L=Se.length,te=Se.filter(ne=>ne.pnl>0).length,ae=L>0?Math.round(te/L*100):0;return{totalProfit:N,totalLoss:M,netPnL:I,totalTrades:L,winRate:ae,activeStrategies:rt.length+K.length}},[Se,rt.length,K.length]),[nt,Fr]=x.useState(new Set),[Mr,pa]=x.useState(null),[Fs,Fa]=x.useState(!1),Wi=x.useRef(null),ri=x.useRef(null),[Bs,Vo]=x.useState(!0),bs=x.useRef(Date.now()),[Ci,ve]=x.useState("NSE:NIFTY50-INDEX"),[Oe,ht]=x.useState("2025-09-19"),[at,ct]=x.useState(""),[Le,tr]=x.useState(null),[Y,Pt]=x.useState(null),[Dt,_r]=x.useState(!1),[Me,Yr]=x.useState(!1),[en,bn]=x.useState(null),Wt=()=>{console.log(" WebSocket streaming disabled for performance optimization"),Fa(!1)},sr=()=>{ri.current&&(clearInterval(ri.current),ri.current=null)};x.useEffect(()=>{const N=()=>{bs.current=Date.now(),Bs||(Vo(!0),console.log(" User active - resuming streaming"),Wt())},M=()=>{const ae=Date.now()-bs.current<3e5;ae!==Bs&&(Vo(ae),ae||(console.log(" User inactive - stopping streaming to save costs"),sr(),Wi.current&&Wi.current.close()))},I=["mousedown","mousemove","keypress","scroll","touchstart","click"];I.forEach(te=>document.addEventListener(te,N,!0));const L=setInterval(M,6e4);return Wt(),()=>{I.forEach(te=>document.removeEventListener(te,N,!0)),clearInterval(L),sr(),Wi.current&&Wi.current.close()}},[Bs]),x.useEffect(()=>{Ci&&(el(),Ac())},[Ci]),x.useEffect(()=>{if(Le!=null&&Le.expiry_dates&&Le.expiry_dates.length>0){const N=[...Le.expiry_dates].sort((I,L)=>new Date(I).getTime()-new Date(L).getTime()),M=N[N.length-1];Oe!==M&&(console.log(` Auto-updating expiry from ${Oe} to latest: ${M}`),ht(M))}},[Le==null?void 0:Le.expiry_dates]);const Jt=()=>{const N=new Date,M=N.getDay();if(M===0||M===6){const Pe=new Date(N),We=M===0?2:1;return Pe.setDate(Pe.getDate()-We),Pe}const I=N.getHours(),L=N.getMinutes();if(I*60+L>=555-60)return N;const ne=new Date(N);ne.setDate(ne.getDate()-1);const Te=ne.getDay();return Te===0?ne.setDate(ne.getDate()-2):Te===6&&ne.setDate(ne.getDate()-1),ne},[dt,wr]=x.useState("NSE:ICICIBANK-EQ"),[nr,jt]=x.useState("1"),[nn,Nr]=x.useState(!1),_n=Jt(),[Vr,pn]=x.useState(Ts(_n,"yyyy-MM-dd")),[Tr,fr]=x.useState(Ts(_n,"yyyy-MM-dd")),[Ve,et]=x.useState(!1),[Re,ut]=x.useState(u("1d"));x.useEffect(()=>{const N=u(r);ut(N)},[r]);const Qe=N=>{const M=Math.floor(N/60),I=N%60;return`${M.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},Ht=N=>{const M=Math.floor(N/60),I=N%60,L=M>=12?"PM":"AM";return`${M%12||12}:${I.toString().padStart(2,"0")} ${L}`},cr=(N,M)=>{if(!N||!M||M.length!==2)return[];const[I,L]=M,te=(_t,It=new Date)=>{const ur=new Date(It);return ur.setHours(0,0,0,0),ur.setMinutes(_t),Math.floor(ur.getTime()/1e3)},ae=N[0];if(!ae)return[];const ne=ae.timestamp||ae.time||Date.now()/1e3,Te=new Date(typeof ne=="string"?ne:ne*1e3),Pe=te(I,Te),We=te(L,Te);return N.filter(_t=>{const It=_t.timestamp||_t.time||0,ur=typeof It=="string"?new Date(It).getTime()/1e3:It;return ur>=Pe&&ur<=We})};Qe(Re[0]),Qe(Re[1]);const[Lt,ir]=x.useState(0),[Br,jr]=x.useState(null),[Pr,br]=x.useState(null),[Ea,zn]=x.useState([]),[qn,Aa]=x.useState({sma:[],ema:[],ma:[],rsi:[],bollinger:[],macd:[]}),Xa={sma:{period:20},ema:{period:20},ma:{period:20},rsi:{period:14,overbought:70,oversold:30},bollinger:{period:20,stdDev:2},macd:{fast:12,slow:26,signal:9}},[Qa,ni]=x.useState(!1),[ua,Ol]=x.useState(null),[$n,Hi]=x.useState(null),[ar,fa]=x.useState([]),[Cd,Wo]=x.useState(!1),[qh,fo]=x.useState(null),[Cr,Ho]=x.useState(0);x.useCallback(N=>{fa(N)},[]);const tf=x.useCallback(()=>{fa([]),fo(null),Ho(N=>N+1)},[]),rf=x.useCallback(()=>{Wo(N=>!N)},[]),Tg=x.useCallback((N,M)=>{fa(I=>I.map((L,te)=>te===N?{...L,label:M}:L))},[]),[nf,Xy]=x.useState("candles"),[Cn,Ml]=x.useState([]),[Xr,ai]=x.useState([]),[wn,ho]=x.useState(""),[mo,Ti]=x.useState([]),{toast:Sr}=$s(),ws={head_shoulders:{name:"Head & Shoulders",description:"Classic reversal pattern with head higher than shoulders"},double_top:{name:"Double Top",description:"Two peaks at similar levels - bearish reversal"},double_bottom:{name:"Double Bottom",description:"Two troughs at similar levels - bullish reversal"},ascending_triangle:{name:"Ascending Triangle",description:"Higher lows with equal highs - bullish continuation"},descending_triangle:{name:"Descending Triangle",description:"Lower highs with equal lows - bearish continuation"}},Ko=N=>{var M;return((M=ws[N])==null?void 0:M.name)||N};x.useCallback(async N=>{const M=ws[N];if(!M){Sr({title:" Detection Failed",description:"Pattern not found.",variant:"destructive"});return}if(!(Fe!=null&&Fe.candles)||Fe.candles.length===0){Sr({title:" No Chart Data",description:"Please load chart data first before detecting patterns.",variant:"destructive"});return}try{console.log(` Starting professional pattern detection for ${M.name}...`),console.log(` Using ${Fe.candles.length} candles from live chart`);const I=await fetch("/api/pattern-detection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:o||"UNKNOWN",candles:Fe.candles,timeframe:"1min",patterns:[N],minConfidence:75})});if(!I.ok)throw new Error(`API Error: ${I.status} ${I.statusText}`);const L=await I.json();if(!L.success)throw new Error(L.error||"Pattern detection failed");console.log(" Pattern Detection API Response:",L);const te=L.patterns||[],ae=L.swingPoints||[];if(Ti(te),ae.length>0&&console.log(` Found ${ae.length} swing points for pattern analysis`),te.length>0){const ne=te.filter(Te=>Te.confidence>=75);Sr({title:" Professional Pattern Detection Success!",description:`Found ${ne.length} high-confidence ${M.name} pattern(s) using swing point analysis. Swing points: ${ae.length}`}),console.log(" Professional Pattern Detection Results:",{pattern:M.name,detectedInstances:ne.length,swingPointsUsed:ae.length,totalCandles:L.totalCandles,analysisMethod:"ZigZag + Swing Point Relationships"})}else Sr({title:" No High-Confidence Patterns Found",description:`No instances of ${M.name} detected above 75% confidence using professional swing point analysis. Swing points analyzed: ${ae.length}`}),console.log(" Pattern Detection Stats:",{pattern:M.name,swingPointsFound:ae.length,totalCandles:L.totalCandles,patternsFound:te.length,highConfidencePatterns:0,threshold:"75%+"})}catch(I){console.error(" Professional pattern detection failed:",I),Sr({title:" Pattern Detection Error",description:I instanceof Error?I.message:"Unknown error occurred during pattern detection",variant:"destructive"})}},[ws,o,Ti,Sr]);const Vh=x.useCallback(async N=>{var te,ae,ne;if(console.log(` 4C PATTERN SELECTED: "${N.name}" with ${((te=N.metadata)==null?void 0:te.totalPoints)||0} points`),!N.points||N.points.length<4){Sr({title:" Invalid Pattern",description:`Pattern "${N.name}" needs at least 4 points. Current: ${((ae=N.points)==null?void 0:ae.length)||0} points.`,variant:"destructive"});return}const M=((ne=N.metadata)==null?void 0:ne.totalPoints)||N.points.length,I={name:N.name,points:N.points,relationships:wc(N.points),metadata:N.metadata};console.log(` Generated relationships for ${M} points:`,I.relationships);const L=document.querySelector('canvas[data-testid="visual-chart"]');if(L&&L._detectDynamicPattern){console.log(` Calling 4C dynamic pattern detection for ${M} candles...`);const Te=L._detectDynamicPattern(I,M);Sr(Te?{title:" 4C Pattern Detected!",description:`Found "${N.name}" with ${(Te.confidence*100).toFixed(1)}% confidence using authentic 4C candle logic. ${M} points = ${M} candles.`}:{title:" No 4C Match Found",description:`Pattern "${N.name}" (${M} candles) did not find matches 75% confidence using 4C logic.`,variant:"destructive"})}else Sr({title:" 4C Logic Unavailable",description:"Visual chart canvas not ready. Please try again after chart loads.",variant:"destructive"})},[Sr]),wc=N=>{if(!N||N.length<4)return[];const M=[];for(let te=0;te<N.length-1;te++){const ae=N[te],ne=N[te+1];ae.price>ne.price?M.push(`${te+1}>${te+2}`):ae.price<ne.price?M.push(`${te+1}<${te+2}`):M.push(`${te+1}=${te+2}`)}const I=N[0],L=N[N.length-1];return I.price>L.price?M.push(`1>${N.length}`):I.price<L.price?M.push(`1<${N.length}`):M.push(`1=${N.length}`),M};x.useCallback(async()=>{var M,I,L,te,ae,ne,Te,Pe,We,_t;if(!wn||wn==="clear"){Sr({title:" No Pattern Selected",description:"Please select a custom pattern from the dropdown first.",variant:"destructive"});return}const N=Xr.find(It=>It.id===wn);if(!N){Sr({title:" Pattern Not Found",description:"Selected pattern could not be found.",variant:"destructive"});return}try{console.log(` DYNAMIC PATTERN DETECTION: "${N.name}" with ${((M=N.points)==null?void 0:M.length)||0} points`),console.log(` Pattern relationships: ${((I=N.relationships)==null?void 0:I.join(", "))||"None"}`);const It=document.querySelector('canvas[data-testid="visual-chart"]');if(It&&It._detectDynamicPattern){console.log(` Calling Visual Chart dynamic pattern detection for ${((L=N.points)==null?void 0:L.length)||0} points...`);const Xe=It._detectDynamicPattern(N,((te=N.points)==null?void 0:te.length)||5);Sr(Xe?{title:" Pattern Detection Complete",description:`Applied "${N.name}" with ${((ae=N.points)==null?void 0:ae.length)||0} points using same 4C logic. Found ${(Xe.confidence*100).toFixed(1)}% confidence match.`}:{title:" No Match Found",description:`Pattern "${N.name}" with ${((ne=N.points)==null?void 0:ne.length)||0} points did not find any matches 75% confidence.`,variant:"destructive"});return}const ur=(()=>{try{return window.cbConnectChartData||[]}catch{return[]}})();if(console.log(` Chart data available: ${ur.length} candles`),ur.length===0){Sr({title:" No Chart Data",description:"Please load chart data first before detecting patterns.",variant:"destructive"});return}const Gt=ur.map(Xe=>Array.isArray(Xe)?{timestamp:Xe[0],open:Xe[1],high:Xe[2],low:Xe[3],close:Xe[4],volume:Xe[5]||0}:{timestamp:Xe.timestamp||Xe.time,open:Xe.open||Xe.price,high:Xe.high||Xe.price,low:Xe.low||Xe.price,close:Xe.close||Xe.price,volume:Xe.volume||0}),Ot=await(await fetch("/api/pattern-detection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:o,candles:Gt,timeframe:"1m",relationships:N.relationships,tolerancePercent:3,minConfidence:75})})).json();if(!Ot.success)throw new Error(Ot.error||"Pattern detection failed");console.log(` Support/Resistance API Result: ${Ot.patternsAfterFiltering} patterns found`,Ot),console.log(` Found ${((Te=Ot.supportResistanceLevels)==null?void 0:Te.length)||0} Support/Resistance levels`,Ot.supportResistanceLevels);const xn=((Pe=Ot.patterns)==null?void 0:Pe.filter(Xe=>{var hr;return Xe.type==="relationship_sequence"||["head_shoulders","double_top","double_bottom","ascending_triangle","descending_triangle"].includes(Xe.type)||Xe.points&&Xe.points.length>0&&((hr=Xe.points[0])==null?void 0:hr.pointNumber)!=null}))||[];if(console.log(` Filtered ${((We=Ot.patterns)==null?void 0:We.length)||0} total patterns  ${xn.length} swing-based patterns`),xn.length>0){const Xe=xn.sort((Ur,Ut)=>Ut.confidence-Ur.confidence)[0];console.log(` Swing Pattern Match: ${Xe.confidence.toFixed(1)}% confidence`,Xe);const hr=((Xe==null?void 0:Xe.points)||[]).slice().sort((Ur,Ut)=>(Ur.index??Ur.candleIndex??0)-(Ut.index??Ut.candleIndex??0));if(hr.length>0){const Ur=hr.map((Ut,Xt)=>({candleIndex:Ut.index??Ut.candleIndex??Xt,price:Ut.price,timestamp:Ut.timestamp,pointNumber:Xt+1,label:`${Xt+1}`,type:Ut.type,strength:Ut.strength,swingPoint:!0}));console.log(` DEFENSIVE MAPPED ${Ur.length} swing points (sorted by candleIndex):`,Ur.map(Ut=>{var Xt;return`${Ut.pointNumber}:${(Xt=Ut.type)==null?void 0:Xt.toUpperCase()}@${Ut.price.toFixed(2)}[${Ut.candleIndex}]`}).join("  ")),fa(Ur),Sr({title:" Trendline Pattern Detected!",description:`Found "${N.name}" with ${Xe.confidence.toFixed(1)}% confidence using numbered swing points`})}else console.log(" Swing pattern has no valid points:",Xe)}else if(Ot.swingPoints&&Ot.swingPoints.length>0){const Xe=(Ot.swingPoints||[]).slice().sort((Ut,Xt)=>(Ut.index??Ut.candleIndex??0)-(Xt.index??Xt.candleIndex??0)),Ur=Xe.slice(-Math.min(5,Xe.length)).map((Ut,Xt)=>({candleIndex:Ut.index??Ut.candleIndex??Xt,price:Ut.price,timestamp:Ut.timestamp,pointNumber:Xt+1,label:`${Xt+1}`,type:Ut.type,strength:Ut.strength||1,swingPoint:!0}));console.log(` FALLBACK: Using ${Ur.length} ZigZag points as numbered trendline (sorted):`,Ur.map(Ut=>{var Xt;return`${Ut.pointNumber}:${(Xt=Ut.type)==null?void 0:Xt.toUpperCase()}@${Ut.price.toFixed(2)}[${Ut.candleIndex}]`}).join("  ")),fa(Ur),Sr({title:" Using ZigZag Swing Points",description:`No swing pattern match. Showing last ${Ur.length} ZigZag points as numbered trendline.`})}else fa([]),Sr({title:" Insufficient Swing Points",description:`Need at least 3 swing points for trendline analysis. Found ${((_t=Ot.swingPoints)==null?void 0:_t.length)||0}.`})}catch(It){console.error(" Custom pattern detection failed:",It),Sr({title:" Detection Error",description:It instanceof Error?It.message:"Unknown error during pattern detection",variant:"destructive"})}},[wn,Xr,o,Sr]),x.useEffect(()=>{const N=I=>{const{selectedPoints:L,horizontalRays:te}=I.detail;fa(L||[]),Ml(te||[])};return window.addEventListener("visualAIPointsUpdated",N),fa(window.selectedPoints||[]),Ml(window.horizontalRays||[]),(()=>{try{const I=localStorage.getItem("tradingPatterns");I&&ai(JSON.parse(I))}catch(I){console.error("Failed to load saved patterns:",I)}})(),()=>{window.removeEventListener("visualAIPointsUpdated",N)}},[]);const na=x.useCallback(()=>{var I;if(!Us||!((I=Fe==null?void 0:Fe.candles)!=null&&I.length)||Xr.length===0)return;console.log(" Running auto-detection scan across",Xr.length,"saved patterns...");const N=Fe.candles,M=[];Xr.forEach(L=>{Ki(N,L).forEach(ae=>{ae.confidence>=.75&&M.push({...ae,patternId:L.id,patternName:L.name,detectedAt:new Date().toISOString()})})}),M.length>0?(console.log(` Auto-Detection: Found ${M.length} high-confidence matches!`),Gi(M),Ed(M.map(L=>({id:`overlay_${L.patternId}_${L.startIndex}`,patternName:L.patternName,confidence:L.confidence,startIndex:L.startIndex,endIndex:L.endIndex,visible:!0})))):(Gi([]),Ed([]))},[Xr]);x.useEffect(()=>{if(Us&&Xh){const N=setTimeout(na,1e3);return()=>clearTimeout(N)}},[na]);const Td=x.useCallback(N=>{try{console.log(" DELETE PATTERN CALLED with ID:",N),console.log(" Current savedPatterns length:",Xr.length);const M=Xr.find(L=>L.id===N);if(!M){console.warn(" Pattern not found for deletion:",N),Sr({title:" Pattern Not Found",description:"Pattern could not be found for deletion.",variant:"destructive"});return}console.log(" DELETING PATTERN:",M.name,"ID:",N);const I=Xr.filter(L=>L.id!==N);console.log(" Updated patterns length:",I.length),ai(I),localStorage.setItem("tradingPatterns",JSON.stringify(I)),console.log(" Pattern removed from localStorage"),Ed(L=>L.filter(te=>!te.id.includes(N))),Gi(L=>L.filter(te=>te.patternId!==N)),Ti(L=>L.filter(te=>te.id!==N)),wn===N&&(ho(""),console.log(" Cleared selected pattern")),setTimeout(()=>{Sr({title:" Pattern Deleted",description:`"${M.name}" completely removed from dropdown and chart.`})},100),console.log(" PATTERN DELETE COMPLETE. Remaining patterns:",I.length)}catch(M){console.error(" DELETE PATTERN ERROR:",M),Sr({title:" Delete Failed",description:"Failed to delete pattern. Please try again.",variant:"destructive"})}},[Xr,wn,Sr]),ja=N=>{try{const M=[...ar].sort((ne,Te)=>ne.pointNumber-Te.pointNumber),I=[];for(let ne=0;ne<M.length-1;ne++){const Te=M[ne],Pe=M[ne+1],We=Te.price>Pe.price?">":"<";I.push(`${Te.pointNumber}${We}${Pe.pointNumber}`)}const L=Cn.reduce((ne,Te)=>(ne[Te.label]||(ne[Te.label]=Te),ne),{}),te={id:Date.now().toString(),name:N,points:ar.map(ne=>({pointNumber:ne.pointNumber,price:ne.price,timestamp:ne.timestamp,relativePrice:0,relativeTime:0,x:ne.x,y:ne.y})),rays:{sl:L.SL||null,breakout:L.Breakout||null,target:L.Target||null},relationships:I,createdAt:new Date,metadata:{totalPoints:ar.length,priceRange:Math.max(...ar.map(ne=>ne.price))-Math.min(...ar.map(ne=>ne.price)),timeRange:ar.length>1?Math.max(...ar.map(ne=>ne.timestamp))-Math.min(...ar.map(ne=>ne.timestamp)):0,volatility:.1,avgSlope:0,direction:"neutral",complexity:ar.length<=3?"simple":"complex",symbol:"VISUAL_AI_PATTERN",timeframe:"1m",dateCreated:new Date().toISOString()}},ae=[...Xr,te];ai(ae),localStorage.setItem("tradingPatterns",JSON.stringify(ae)),console.log(` Pattern "${N}" saved successfully!`,te),Sr({title:" Pattern Saved",description:`Pattern "${N}" saved with ${ar.length} points and ${Object.keys(L).length} rays.`})}catch(M){console.error("Failed to save pattern:",M),Sr({title:" Save Failed",description:"Failed to save pattern. Please try again.",variant:"destructive"})}},Rl=N=>{try{const M=Xr.find(te=>te.id===N);if(!M){console.error("Pattern not found:",N);return}console.log(` Applying pattern "${M.name}" to chart...`,M);const I=(Fe==null?void 0:Fe.candles)||[];if(I.length<M.points.length){Sr({title:" Insufficient Data",description:`Chart has insufficient data points. Need at least ${M.points.length} candles.`,variant:"destructive"});return}const L=Ki(I,M);if(L.length>0){const te=L[0];console.log(` Found ${L.length} potential matches. Best match:`,te),te.confidence>=.75?(Wh(M,te),Sr({title:" Pattern Applied",description:`Pattern "${M.name}" applied! Match confidence: ${(te.confidence*100).toFixed(1)}%`})):Sr({title:" Low Confidence Match",description:`Match confidence: ${(te.confidence*100).toFixed(1)}%. Pattern not applied (need 75% for simple relationship matching).`,variant:"destructive"})}else Sr({title:" No Matches Found",description:`No matches found for pattern "${M.name}" in current chart data.`,variant:"destructive"})}catch(M){console.error("Failed to apply pattern:",M),Sr({title:" Pattern Application Failed",description:"Failed to apply pattern. Please try again.",variant:"destructive"})}},Ki=(N,M)=>{const I=[],L=M.points.length;for(let te=0;te<=N.length-L;te++){const ae=N.slice(te,te+L),ne=Go(ae,M);ne>.75&&I.push({startIndex:te,endIndex:te+L-1,confidence:ne,candles:ae})}return I.sort((te,ae)=>ae.confidence-te.confidence)},Go=(N,M)=>{var _t;console.log(" Original 15-pattern detection logic for window:",N.length,"candles vs pattern:",(_t=M.points)==null?void 0:_t.length,"points"),Dl(N);const I=N.map(It=>Array.isArray(It)?It[4]:It.close);if(!I||I.length===0||!M.points||M.points.length===0)return console.log(" Invalid data for confidence calculation"),0;let L=0,te=0;const ae=Pg(I,M);L+=ae*.4,te+=.4;const ne=af(I,M);L+=ne*.25,te+=.25;const Te=Pd(I,M);L+=Te*.2,te+=.2;const Pe=sf(N);L+=Pe*.15,te+=.15;const We=te>0?L/te:0;return console.log(` Original 15-Pattern Analysis: Relationships=${ae.toFixed(2)}, Geometric=${ne.toFixed(2)}, Trend=${Te.toFixed(2)}, Volume=${Pe.toFixed(2)}, Final=${We.toFixed(3)}`),We},Dl=N=>{const M=[],I=N.map(L=>Array.isArray(L)?L[4]:L.close);for(let L=1;L<I.length-1;L++){const te=I[L-1],ae=I[L],ne=I[L+1];ae>te&&ae>ne?M.push({index:L,price:ae,type:"high"}):ae<te&&ae<ne&&M.push({index:L,price:ae,type:"low"})}return M},Nc=N=>{const M=[];for(let I=0;I<N.length-1;I++){const L=N[I].price,te=N[I+1].price,ae=L>te?`${I+1}>${I+2}`:`${I+1}<${I+2}`;M.push(ae)}return M},Pg=(N,M)=>{const I=Nc(M.points),L=Nc(N.map((ne,Te)=>({pointNumber:Te+1,price:ne})));let te=0;const ae=Math.min(I.length,L.length);if(ae===0)return 0;for(let ne=0;ne<ae;ne++){const Te=I[ne],Pe=L[ne];Te===Pe&&(te++,ne>0&&I[ne-1]===L[ne-1]&&(te+=.2))}return Math.min(1,te/ae)},af=(N,M)=>{if(!M.points||M.points.length<3)return 0;const I=Gt=>{const St=Math.min(...Gt),xn=Math.max(...Gt)-St;return Gt.map(Xe=>xn>0?(Xe-St)/xn:0)},L=I(N),te=I(M.points.map(Gt=>Gt.price)),ae=Math.min(L.length,te.length);if(ae<3)return 0;let ne=0;const Te=L.slice(0,ae).reduce((Gt,St)=>Gt+St)/ae,Pe=te.slice(0,ae).reduce((Gt,St)=>Gt+St)/ae;let We=0,_t=0,It=0;for(let Gt=0;Gt<ae;Gt++){const St=L[Gt]-Te,Ot=te[Gt]-Pe;We+=St*Ot,_t+=St*St,It+=Ot*Ot}const ur=Math.sqrt(_t*It);return ne=ur>0?Math.abs(We/ur):0,Math.min(1,ne)},Pd=(N,M)=>{if(N.length<3||!M.points||M.points.length<3)return 0;const I=It=>{const ur=[];for(let Gt=1;Gt<It.length;Gt++)ur.push(It[Gt]>It[Gt-1]?1:-1);return ur},L=I(N),te=I(M.points.map(It=>It.price)),ae=Math.min(L.length,te.length);if(ae===0)return 0;let ne=0,Te=0,Pe=0;for(let It=0;It<ae;It++)L[It]===te[It]?(ne++,Te++,Pe=Math.max(Pe,Te)):Te=0;const We=ne/ae,_t=Pe/ae*.3;return Math.min(1,We+_t)},sf=(N,M)=>{if(!N||N.length===0)return .5;const I=N.map(Te=>Array.isArray(Te)&&Te.length>5?Te[5]:1),L=N.map(Te=>Array.isArray(Te)?Te[4]:Te.close);if(I.length<3||L.length<3)return .5;const te=[],ae=[];for(let Te=1;Te<Math.min(I.length,L.length);Te++){const Pe=(L[Te]-L[Te-1])/L[Te-1],We=I[Te]>0?(I[Te]-I[Te-1])/I[Te-1]:0;te.push(Pe),ae.push(We)}let ne=.5;for(let Te=0;Te<te.length;Te++){const Pe=Math.abs(te[Te]),We=ae[Te];Pe>.005&&(We>0?ne+=.1:ne-=.05)}return Math.max(0,Math.min(1,ne))},Wh=(N,M)=>{try{console.log(` Applying pattern "${N.name}" to visual chart...`,{pattern:N,match:M}),window.clearAll&&window.clearAll();const I=po(N,M);console.log(` Scaled ${I.length} points for pattern application:`,I);const L=I.map((ne,Te)=>{var _t;const Pe=M.startIndex+Te,We=(Fe==null?void 0:Fe.candles)||[];return Pe<We.length?{pointNumber:ne.pointNumber||Te+1,price:ne.price,timestamp:((_t=We[Pe])==null?void 0:_t.timestamp)||Date.now(),candleIndex:Pe,x:0,y:0,label:ne.label||void 0}:null}).filter(Boolean),te=[];N.rays&&Object.entries(N.rays).forEach(([ne,Te])=>{if(Te&&Te.price){const Pe=of(Te.price,N,M);te.push({id:`pattern_ray_${ne}_${Pe.toFixed(2)}_${M.startIndex}`,price:Pe,label:ne.toUpperCase(),color:Te.color||jc(ne),pointNumber:Te.pointNumber||0})}}),console.log(` Applying ${L.length} points and ${te.length} rays to chart state`),fa(L),Ml(te),window.selectedPoints=L,window.horizontalRays=te;const ae=new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:L,horizontalRays:te}});window.dispatchEvent(ae),console.log(` Pattern "${N.name}" successfully applied to chart with ${L.length} points and ${te.length} rays!`)}catch(I){console.error(" Failed to apply pattern to visual chart:",I)}},po=(N,M)=>{const I=N.points.map(We=>We.price),L=M.candles.map(We=>We.close),te=Math.min(...I),ae=Math.max(...I),ne=Math.min(...L),Pe=(Math.max(...L)-ne)/(ae-te);return N.points.map((We,_t)=>({...We,price:ne+(We.price-te)*Pe,x:M.startIndex+_t,y:ne+(We.price-te)*Pe}))},of=(N,M,I)=>{const L=M.points.map(_t=>_t.price),te=I.candles.map(_t=>_t.close),ae=Math.min(...L),ne=Math.max(...L),Te=Math.min(...te),We=(Math.max(...te)-Te)/(ne-ae);return Te+(N-ae)*We},jc=N=>{switch(N.toLowerCase()){case"sl":return"#ef4444";case"breakout":return"#f97316";case"target":return"#22c55e";default:return"#6b7280"}},Hh=(N,M)=>{if(!N||!N.candles)return N;const I=JSON.parse(JSON.stringify(N)),L=I.candles;switch(M){case 1:const te=Math.max(...L.map(Pe=>Math.max(Pe.high,Pe.low,Pe.open,Pe.close))),ae=Math.min(...L.map(Pe=>Math.min(Pe.high,Pe.low,Pe.open,Pe.close)));L.forEach(Pe=>{const We=St=>te+ae-St,_t=Pe.open,It=Pe.high,ur=Pe.low,Gt=Pe.close;Pe.open=We(_t),Pe.high=We(ur),Pe.low=We(It),Pe.close=We(Gt)});break;case 2:L.reverse();break;case 3:L.reverse();const ne=Math.max(...L.map(Pe=>Math.max(Pe.high,Pe.low,Pe.open,Pe.close))),Te=Math.min(...L.map(Pe=>Math.min(Pe.high,Pe.low,Pe.open,Pe.close)));L.forEach(Pe=>{const We=St=>ne+Te-St,_t=Pe.open,It=Pe.high,ur=Pe.low,Gt=Pe.close;Pe.open=We(_t),Pe.high=We(ur),Pe.low=We(It),Pe.close=We(Gt)});break;case 4:L.reverse(),L.forEach(Pe=>{const We=Pe.open,_t=Pe.close;Pe.open=_t,Pe.close=We});break;default:return N}return I},Yo=(N,M,I=20)=>{if(!M||N>=M.length)return[];const L=[],te=M[N];let ae=te.close;const ne=.015,Te=.3,Pe=.6,We=Math.random()>.5?1:-1,_t=Math.random()<Te;for(let It=0;It<I;It++){let ur;_t?ur=Math.random()*ne*2*We+(Math.random()-.5)*ne*.5:ur=-((ae-te.close)/te.close)*Pe+(Math.random()-.5)*ne;const Gt=ae,St=Gt*(1+ur),Ot=Math.random()*ne*.5,xn=Math.max(Gt,St)*(1+Ot),Xe=Math.min(Gt,St)*(1-Ot),Ur=(te.volume||1e3)*(.7+Math.random()*.6),Ut=new Date(te.timestamp||Date.now()),Xt=new Date(Ut.getTime()+(It+1)*6e4);L.push({timestamp:Xt.toISOString(),open:parseFloat(Gt.toFixed(2)),high:parseFloat(xn.toFixed(2)),low:parseFloat(Xe.toFixed(2)),close:parseFloat(St.toFixed(2)),volume:Math.round(Ur),isMock:!0}),ae=St}return L},Xo=N=>{if(Lt!==5)return;console.log(` Selected candle at index: ${N}`),br(N);const M=Br||Qr;if(M&&M.candles){const I=Yo(N,M.candles);zn(I),console.log(` Generated ${I.length} mock candles from index ${N}`)}},Kh=()=>{if(!Qr||!Qr.candles||Qr.candles.length===0){console.log(" No OHLC data available to transform");return}Lt===0&&!Br&&jr(Qr);const N=(Lt+1)%6;ir(N),Lt===5&&(br(null),zn([])),console.log(` Chart Transformation Mode ${N}: ${["Original","Inverted","Reversed","Inverted + Reversed","Horizontal Flip","Interactive Mock"][N]}`),console.log(` Transforming ${Qr.candles.length} candles for strategy validation`)},cs=x.useRef({symbol:dt,timeframe:nr,fromDate:Vr,toDate:Tr});x.useEffect(()=>{const N={symbol:dt,timeframe:nr,fromDate:Vr,toDate:Tr},M=cs.current;(N.symbol!==M.symbol||N.timeframe!==M.timeframe||N.fromDate!==M.fromDate||N.toDate!==M.toDate)&&(cs.current=N,t==null||t(N))},[dt,nr,Vr,Tr]);const Ll=ug(),lf=async(N,M)=>{var te;if(!N||N.length===0){console.log(" No candles data for sentiment analysis");return}console.log(" Starting cumulative sentiment analysis for",M,"with",N.length,"candles"),Dg(!0);const I=new AbortController,L=setTimeout(()=>I.abort(),6e4);try{console.log(" Processing ALL candles with cumulative context analysis");const ae=await fetch("/api/sentiment-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({candles:N,symbol:M.replace("NSE:","").replace("-EQ","")}),signal:I.signal});if(clearTimeout(L),ae.ok){const ne=await ae.json();console.log(" Cumulative sentiment analysis result:",ne),console.log(" Setting sentiment data for",((te=ne.sentiment)==null?void 0:te.length)||0,"candles"),ne.sentiment&&ne.sentiment.length>0?Ul(ne.sentiment):Ul([])}else{const ne=await ae.text();console.error(" Failed to analyze sentiment - HTTP",ae.status,ne),Ul([])}}catch(ae){clearTimeout(L),ae instanceof Error&&ae.name==="AbortError"?console.error(" Sentiment analysis timed out - try with fewer candles"):console.error(" Sentiment analysis error:",ae),Ul([])}finally{Dg(!1)}},[Ns,Sc]=x.useState(!1),[$l,cf]=x.useState("minutes"),[si,Fl]=x.useState(""),[J,ye]=x.useState([]),[Ce,De]=x.useState([]),[Be,Ae]=x.useState(!1),[Ue,vt]=x.useState(""),[it,ot]=x.useState(!1),[mt,xr]=x.useState([]),[dr,ft]=x.useState(""),[gn,rr]=x.useState(!1),[Er,ds]=x.useState({posts:[],trendingStocks:[],recentNews:[]}),[Yt,Xn]=x.useState(!1),[tn]=x.useState([{symbol:"NIFTY",action:"Buy",qty:10,entry:"18000"},{symbol:"BANKNIFTY",action:"Sell",qty:5,entry:"43000"}]),[At,lt]=x.useState(()=>typeof window<"u"&&localStorage.getItem("tradingNotes")||""),[on,kn]=x.useState(!1),[aa,Rr]=x.useState(At),[Kt,un]=x.useState(!1),[An,Ba]=x.useState(!1),[Ja,In]=x.useState(""),[Qn,ii]=x.useState([]),[Pi,kc]=x.useState(!1),[Eg,Qy]=x.useState(null),[Ag,Gh]=x.useState(!1),[_c,Cc]=x.useState(At),[Ia,df]=x.useState(!1),[Qo,Jy]=x.useState(!1),[Us,Yh]=x.useState(!1),[S2,Ig]=x.useState(!1),[Xh,Og]=x.useState(!1),[Mg,Ed]=x.useState([]),[k2,_2]=x.useState(!1),[js,Bl]=x.useState(null),[C2,T2]=x.useState(null),[Qh,Jh]=x.useState(""),[Zh,em]=x.useState(!1),[Ss,Gi]=x.useState([]),[Jo,Ul]=x.useState([]),[Rg,Dg]=x.useState(!1),[Lg,uf]=x.useState([]),[Vn,tm]=x.useState(()=>{if(typeof window<"u"){const N=localStorage.getItem("feedStocks");return N?JSON.parse(N):["RELIANCE","TCS","INFY","HDFCBANK","ICICIBANK"]}return["RELIANCE","TCS","INFY","HDFCBANK","ICICIBANK"]}),[rm,$g]=x.useState({}),[go]=x.useState(["RELIANCE","TCS","HDFCBANK","INFY","ITC"]),[Fg,Bg]=x.useState({}),[Zy,Ug]=x.useState(!1),[zl,ff]=x.useState(null),xo=x.useRef(null),[P2,nm]=x.useState(null),[Tc,E2]=x.useState({}),zg=()=>{Rr(At),kn(!0)},qg=()=>{lt(aa),localStorage.setItem("tradingNotes",aa),kn(!1)},Fn=()=>{Rr(At),kn(!1)},Vg=()=>{Cc(At),Gh(!0)},am=()=>{lt(_c),localStorage.setItem("tradingNotes",_c),Gh(!1)},hf=()=>{Cc(At),Gh(!1)},sm=async(N,M)=>{try{await navigator.clipboard.writeText(N),Qy(M),setTimeout(()=>Qy(null),2e3)}catch(I){console.error("Failed to copy:",I)}},mf=N=>N.split(/(```[\s\S]*?```)/g).map((I,L)=>I.startsWith("```")&&I.endsWith("```")?{type:"code",content:I.replace(/^```(?:javascript)?\n?/,"").replace(/\n?```$/,""),index:L}:{type:"text",content:I,index:L}).filter(I=>I.content.trim()),Ad=async N=>{try{const I=await(await fetch("/api/gemini/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:N,context:"trading"})})).json();if(I.success){const L={role:"assistant",content:I.response||"I can help you with trading analysis and market insights.",newsData:I.newsData,stockCount:I.stockCount};ii(te=>[...te,L])}else ii(L=>[...L,{role:"assistant",content:"I can help you with trading analysis. What would you like to know about the markets?"}])}catch(M){console.error("Error in sidebar AI response:",M),ii(I=>[...I,{role:"assistant",content:"I'm here to help with your trading questions. What can I assist you with today?"}])}finally{kc(!1)}},Pc=async N=>{xr(M=>[...M,{role:"assistant",content:"",isLoading:!0}]);try{const I=await(await fetch("/api/gemini/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:N,context:"trading"})})).json();if(I.success){const L={role:"assistant",content:I.response||"I can help you with trading analysis and market insights.",newsData:I.newsData,stockCount:I.stockCount};xr(te=>[...te.slice(0,-1),L])}else xr(L=>[...L.slice(0,-1),{role:"assistant",content:"I can help you with trading analysis. What would you like to know about the markets?"}])}catch(M){console.error("Error in Build Patterns AI response:",M),xr(I=>[...I.slice(0,-1),{role:"assistant",content:"I'm here to help with your trading questions. What can I assist you with today?"}])}finally{rr(!1)}},yo=N=>{if(!Vn.includes(N)){const M=[...Vn,N];tm(M),localStorage.setItem("feedStocks",JSON.stringify(M)),xr(I=>[...I])}},Id=N=>{const M=N.filter(I=>!Vn.includes(I));if(M.length>0){const I=[...Vn,...M];tm(I),localStorage.setItem("feedStocks",JSON.stringify(I)),xr(L=>[...L]),console.log(`Added ${M.length} new stocks to feed:`,M)}},A2=N=>{const M=Vn.filter(I=>I!==N);tm(M),localStorage.setItem("feedStocks",JSON.stringify(M)),nm(null)},ev=async N=>{try{const M=N.map(async ne=>{try{const Te=await fetch(`/api/live-quotes/NSE:${ne}-EQ`);if(Te.ok){const Pe=await Te.json();if(Pe.success&&Pe.data)return{symbol:ne,price:Pe.data.ltp,change:Pe.data.ch,changePercent:Pe.data.chp,isPositive:Pe.data.ch>=0,volume:Pe.data.volume,timestamp:Pe.data.timestamp,isLastTraded:!0}}}catch(Te){console.error(`Failed to fetch price for ${ne}:`,Te)}return null}),I=await Promise.all(M),L={},te={},ae={};I.forEach(ne=>{ne&&(ae[ne.symbol]=ne,Vn.includes(ne.symbol)&&(L[ne.symbol]=ne),go.includes(ne.symbol)&&(te[ne.symbol]=ne))}),Object.keys(ae).length>0&&(E2(ne=>({...ne,...ae})),console.log(" Stored last closed prices for fallback:",ae)),Object.keys(L).length>0&&($g(ne=>({...ne,...L})),console.log(" Updated feed prices with last traded:",L)),Object.keys(te).length>0&&(Bg(ne=>({...ne,...te})),console.log(" Updated watchlist prices with last traded:",te))}catch(M){console.error("Failed to fetch last traded prices:",M)}},[ql,pf]=x.useState(null),[Wg,Ec]=x.useState("disconnected"),Hg=N=>{ql&&ql.close();try{const M=N.map(L=>`NSE:${L}-EQ`);console.log(` Starting SSE live streaming for ${N.length} symbols:`,M),Ec("connecting");const I=new EventSource(`/api/live-price/stream?symbols=${M.join(",")}`);return I.onopen=()=>{console.log(" SSE connection established for real-time price streaming"),Ec("connected"),ff(null)},I.onmessage=L=>{try{const te=JSON.parse(L.data);if(te.type==="price_update"&&te.prices){console.log(" SSE received data:",te),console.log(" Prices structure:",te.prices);const ae={},ne={};Object.entries(te.prices).forEach(([Pe,We])=>{console.log(` Processing ${Pe}:`,We);const _t=Pe.replace("NSE:","").replace("-EQ",""),It=We.price||We.ltp||We.close||0,ur=We.change||We.ch||0,Gt=We.changePercent||We.chp||0,St=We.volume||0,Ot=ur>=0;console.log(` Mapped data for ${_t}: price=${It}, change=${ur}, changePercent=${Gt}`),Vn.includes(_t)&&(ae[_t]={symbol:_t,price:It,change:ur,changePercent:Gt,isPositive:Ot,volume:St,timestamp:Date.now()}),go.includes(_t)&&(ne[_t]={symbol:_t,price:It,change:ur,changePercent:Gt,isPositive:Ot,volume:St,timestamp:Date.now()})});const Te=Object.entries(te.prices).filter(([Pe,We])=>(We.price||We.ltp||We.close||0)===0).map(([Pe])=>Pe.replace("NSE:","").replace("-EQ",""));Object.keys(ae).length>0&&$g(Pe=>({...Pe,...ae})),Object.keys(ne).length>0&&Bg(Pe=>({...Pe,...ne})),Te.length>0&&(console.log(" Detected zero prices, fetching last traded prices for:",Te),ev(Te)),console.log(` Real-time SSE update: ${Object.keys(te.prices).length} symbols via WebSocket`)}}catch(te){console.error("Error parsing SSE data:",te)}},I.onerror=L=>{console.error(" SSE connection error:",L),Ec("error"),ff("Real-time streaming connection failed")},pf(I),I}catch(M){return console.error("Error initializing SSE stream:",M),Ec("error"),ff("Failed to start real-time streaming"),null}},Kg=()=>{xo.current&&(clearInterval(xo.current),xo.current=null),Ug(!0);const N=Array.from(new Set([...Vn,...go]));if(N.length===0){console.log(" No symbols to stream, stopping");return}console.log(" Starting SSE real-time streaming for stocks:",N),Hg(N),console.log(" Real-time SSE streaming enabled")},Gg=()=>{ql&&(ql.close(),pf(null)),xo.current&&(clearInterval(xo.current),xo.current=null),Ug(!1),Ec("disconnected"),console.log(" Stopped SSE real-time streaming")};x.useEffect(()=>((Vn.length>0||go.length>0)&&Kg(),()=>{Gg()}),[Vn,go]),x.useEffect(()=>()=>{ql&&ql.close(),xo.current&&clearInterval(xo.current)},[ql]),x.useEffect(()=>{const N=Array.from(new Set([...Vn,...go]));if(N.length===0)return;console.log(" Fetching last traded prices for fallback...",N);const M=setTimeout(()=>{ev(N)},100);return()=>clearTimeout(M)},[Vn.length,go.length]);const[Yg,Xg]=x.useState(null),tv=(N,M)=>{Xg({x:N,stock:M}),nm(null)},rv=(N,M)=>{if(!Yg||Yg.stock!==M)return;const I=N-Yg.x;I<-80?nm(M):I>-20&&nm(null)},gf=()=>{Xg(null)},oi=x.useMemo(()=>{const N=Se.length>0?Se:[{profit:2850,loss:0},{profit:0,loss:-1200},{profit:1500,loss:0},{profit:0,loss:-800},{profit:3200,loss:0}];let M,I,L,te,ae,ne,Te,Pe,We,_t,It,ur,Gt,St;if(Se.length>0){M=Se.length;const Ot=Se.filter(Xt=>Xt.pnl>0),xn=Se.filter(Xt=>Xt.pnl<0);I=Ot.length,L=xn.length,te=Ot.reduce((Xt,sa)=>Xt+sa.pnl,0),ae=Math.abs(xn.reduce((Xt,sa)=>Xt+sa.pnl,0)),ne=te-ae,Te=M>0?I/M*100:0,Pe=I>0?te/I:0,We=L>0?ae/L:0,_t=Math.max(...Se.map(Xt=>Xt.pnl)),It=Math.min(...Se.map(Xt=>Xt.pnl)),St=ae>0?te/ae:te>0?999:0;const Xe=Se.map(Xt=>{var sa;return(sa=Xt.crossingData)!=null&&sa.time,30});ur=Xe.length>0?Xe.reduce((Xt,sa)=>Xt+sa,0)/Xe.length:0;let hr=0,Ur=0,Ut=0;Se.forEach(Xt=>{hr+=Xt.pnl,hr>Ur&&(Ur=hr);const sa=Ur-hr;sa>Ut&&(Ut=sa)}),Gt=Ut}else M=N.length,I=N.filter(Ot=>Ot.profit>0).length,L=M-I,te=N.reduce((Ot,xn)=>Ot+xn.profit,0),ae=N.reduce((Ot,xn)=>Ot+Math.abs(xn.loss),0),ne=te-ae,Te=M>0?I/M*100:0,Pe=I>0?te/I:0,We=L>0?ae/L:0,_t=Math.max(...N.map(Ot=>Ot.profit)),It=Math.min(...N.map(Ot=>Ot.loss)),St=ae>0?te/ae:te>0?999:0,ur=45,Gt=1500;return{totalTrades:M,winningTrades:I,losingTrades:L,totalProfit:te,totalLoss:ae,netPnL:ne,winRate:Te.toFixed(1),avgWin:Pe.toFixed(0),avgLoss:We.toFixed(0),bestTrade:_t.toFixed(0),worstTrade:It.toFixed(0),profitFactor:St.toFixed(2),avgTradeDuration:Math.round(ur),maxDrawdown:Gt.toFixed(0),sharpeRatio:ne>0&&Gt>0?(ne/Gt).toFixed(2):"0.00"}},[Se]),{data:ks=[],isLoading:Od}=Na({queryKey:["stock-chart","NIFTY50",r],queryFn:()=>fetch(`/api/stock-chart-data/NIFTY50?timeframe=${r}`).then(N=>N.json()),refetchInterval:r==="1D"?6e4:3e5,staleTime:r==="1D"?3e4:18e4,gcTime:6e5,refetchOnMount:!1,refetchOnWindowFocus:!1}),{data:Qr}=Na({queryKey:["/api/historical-data",dt,Vr,Tr,nr,Re,Ve],enabled:!0,refetchInterval:!1,retry:!1,staleTime:3e5,gcTime:6e5});x.useEffect(()=>{Qr!=null&&Qr.candles&&Qr.candles.length>0&&lf(Qr.candles,dt)},[Qr,dt]),x.useEffect(()=>{console.log(" Trading Master: Auto-fetching ICICI Bank 1-min data on load"),Zo.mutate()},[]);const Zo=bi({mutationFn:async()=>{const N=await fetch("/api/historical-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:dt,resolution:nr,range_from:Vr,range_to:Tr})});if(!N.ok){const M=await N.json();throw new Error(M.message||"Failed to fetch historical data")}return N.json()},onSuccess:N=>{Ll.setQueryData(["/api/historical-data",dt,Vr,Tr,nr,Re,Ve],N)}}),Fe=x.useMemo(()=>{if(!Qr)return null;let N=Qr;if(Ve&&Qr.candles){const M=Re[0],I=Re[1],L=Qr.candles.filter(te=>{const ae=new Date(te.timestamp*1e3),ne=ae.getHours()*60+ae.getMinutes();return ne>=M&&ne<=I});N={...Qr,candles:L}}if(Lt===5){const M=Br||N;if(Pr!==null&&Ea.length>0){const L=[...M.candles.slice(0,Pr+1),...Ea];return{...M,candles:L}}return M}else if(Lt>0&&Br)return Hh(Br,Lt);return N},[Qr,Lt,Br,Pr,Ea,Ve,Re]);x.useEffect(()=>{Fe!=null&&Fe.candles?(window.cbConnectChartData=Fe.candles,console.log(` Exposed ${Fe.candles.length} candles globally for pattern detection`)):window.cbConnectChartData=[]},[Fe]);const Qg=(N,M)=>{const I=parseInt(M);if(isNaN(I)||I<=0)return"1";switch(N){case"minutes":return I.toString();case"hr":return(I*60).toString();case"d":return`${I}D`;case"m":return`${I}M`;case"w":return`${I}W`;default:return"1"}},I2=(N,M)=>{const I=parseInt(M);switch(N){case"minutes":return`${I}min`;case"hr":return`${I}hr`;case"d":return`${I}d`;case"m":return`${I}m`;case"w":return`${I}w`;default:return`${I}min`}},nv=N=>N>=1e7?`${(N/1e7).toFixed(1)}Cr`:N>=1e5?`${(N/1e5).toFixed(1)}L`:N>=1e3?`${(N/1e3).toFixed(1)}K`:N.toString(),el=async()=>{if(Ci){_r(!0),bn(null);try{let M=`/api/options/chain/${Ci.replace("NSE:","").replace("-INDEX","").replace("-EQ","")}`;Oe&&Oe!=="all"&&(M+=`?expiry=${Oe}`);const I=await fetch(M);if(!I.ok){const te=await I.json();throw new Error(te.error||"Failed to fetch option chain")}const L=await I.json();if(L.success)tr(L.data),console.log(" Option chain data fetched:",L.data);else throw new Error(L.error||"Invalid response format")}catch(N){console.error(" Failed to fetch option chain:",N),bn(N instanceof Error?N.message:"Failed to fetch option chain")}finally{_r(!1)}}},Ac=async()=>{Yr(!0);try{const N=await fetch("/api/options/analytics");if(!N.ok)throw new Error(`Failed to fetch options analytics: ${N.status}`);const M=await N.json();if(M.success)Pt(M.data),console.log(" Options analytics data fetched:",M.data);else throw new Error(M.error||"Invalid response format")}catch(N){console.error(" Error fetching options analytics:",N)}finally{Yr(!1)}},Ic=N=>{J.some(I=>I.value===N)?ye(I=>I.filter(L=>L.value!==N)):De(I=>[...I,N]),nr===N&&jt("1")},xf=N=>N==="1D"?1440:N.endsWith("D")?parseInt(N)*1440:N.endsWith("W")?parseInt(N)*10080:N.endsWith("M")?parseInt(N)*43200:parseInt(N)||0,Md=()=>[...[{value:"1",label:"1min",deletable:!1},{value:"5",label:"5min",deletable:!1},{value:"10",label:"10min",deletable:!0},{value:"15",label:"15min",deletable:!0},{value:"20",label:"20min",deletable:!0},{value:"30",label:"30min",deletable:!0},{value:"40",label:"40min",deletable:!0},{value:"60",label:"1hr",deletable:!0},{value:"80",label:"80min",deletable:!0},{value:"120",label:"2hr",deletable:!0},{value:"1D",label:"1D",deletable:!0}].filter(L=>!Ce.includes(L.value)),...J].sort((L,te)=>{const ae=xf(L.value),ne=xf(te.value);return ae-ne}),Rd=()=>{Nr(!1),Zo.mutate()},Vl=()=>{if(!Qr||!Qr.candles||Qr.candles.length===0)return;const M=[["Date","Time","Open","High","Low","Close","Volume"].join(","),...Qr.candles.map(We=>{const _t=new Date(We.timestamp*1e3),It=Ts(_t,"d/M/yyyy"),ur=Ts(_t,"HH:mm:ss");return[It,ur,We.open.toFixed(2),We.high.toFixed(2),We.low.toFixed(2),We.close.toFixed(2),We.volume.toString()].join(",")})].join(`
`),I=new Blob([M],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),te=URL.createObjectURL(I);L.setAttribute("href",te);const ae=dt.replace("NSE:","").replace("-EQ","").replace("-INDEX",""),ne=nr==="1"?"1min":`${nr}min`,Te=Vr===Tr?Vr:`${Vr}_to_${Tr}`,Pe=`${ae}_${ne}_${Te}_OHLC.csv`;L.setAttribute("download",Pe),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)},On={priceData:{open:24500,close:ks.length>0&&((yf=ks[ks.length-1])==null?void 0:yf.price)||24650}},fn=On.priceData.close,Oa=(()=>{var N,M,I,L,te,ae;if(!ks||ks.length===0)return On.priceData.open;switch(r){case"1D":return((N=ks[0])==null?void 0:N.price)||On.priceData.open;case"5D":return((M=ks[0])==null?void 0:M.price)||fn;case"1M":return((I=ks[0])==null?void 0:I.price)||fn;case"6M":return((L=ks[0])==null?void 0:L.price)||fn;case"1Y":return((te=ks[0])==null?void 0:te.price)||fn;default:return((ae=ks[0])==null?void 0:ae.price)||fn}})(),us=fn-Oa,Mc=Oa!==0?(us/Oa*100).toFixed(2):"0.00",Yi=us>=0,zs=["1D","5D","1M","6M","1Y"];return a.jsxs("div",{className:"h-full bg-background flex",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"bg-muted/30 border-b border-border px-6 pt-4",children:a.jsxs(pG,{value:U,onValueChange:ie,className:"w-full",children:[a.jsxs(LP,{className:"grid w-full grid-cols-5 max-w-3xl",children:[a.jsxs(du,{value:"main",className:"flex items-center gap-2","data-testid":"button-tab-main",children:[a.jsx(ya,{className:"h-4 w-4"}),"Main"]}),a.jsxs(du,{value:"trade",className:"flex items-center gap-2","data-testid":"button-tab-trade",children:[a.jsx(oa,{className:"h-4 w-4"}),"Trade"]}),a.jsxs(du,{value:"backtest",className:"flex items-center gap-2","data-testid":"button-tab-backtest",children:[a.jsx(xl,{className:"h-4 w-4"}),"Build Patterns"]}),a.jsxs(du,{value:"options",className:"flex items-center gap-2","data-testid":"button-tab-options",children:[a.jsx(su,{className:"h-4 w-4"}),"Options"]}),a.jsxs(du,{value:"visualai",className:"flex items-center gap-2","data-testid":"button-tab-visualai",children:[a.jsx(ro,{className:"h-4 w-4"}),"Test AI"]})]}),a.jsxs(uu,{value:"main",className:"p-3 md:p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Trading Overview"}),a.jsx(Dr,{variant:"outline",children:"Today"})]}),a.jsxs("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-3",children:[a.jsx(xt,{className:"bg-slate-100 dark:bg-slate-800 border-0 shadow-sm",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Trades"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"7,265"}),a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx("span",{className:"text-sm font-medium",children:"+11.03%"}),a.jsx(oa,{className:"h-4 w-4"})]})]})]})})}),a.jsx(xt,{className:"bg-slate-100 dark:bg-slate-800 border-0 shadow-sm",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Winning Trades"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"3,671"}),a.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[a.jsx("span",{className:"text-sm font-medium",children:"-0.03%"}),a.jsx(iu,{className:"h-4 w-4"})]})]})]})})}),a.jsx(xt,{className:"bg-slate-100 dark:bg-slate-800 border-0 shadow-sm",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Profit Trades"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"256"}),a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx("span",{className:"text-sm font-medium",children:"+15.03%"}),a.jsx(oa,{className:"h-4 w-4"})]})]})]})})}),a.jsx(xt,{className:"bg-slate-100 dark:bg-slate-800 border-0 shadow-sm",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active Positions"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"2,318"}),a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx("span",{className:"text-sm font-medium",children:"+6.08%"}),a.jsx(oa,{className:"h-4 w-4"})]})]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4",children:[a.jsx("div",{className:"xl:col-span-2",children:a.jsx(xt,{className:"h-80 bg-slate-900 dark:bg-slate-900 border-slate-700",children:a.jsx(bt,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Nifty 50 Index"}),Fs&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs text-green-400",children:"Live 700ms"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:zs.map(N=>a.jsx(H,{variant:r===N?"default":"ghost",size:"sm",onClick:()=>n(N),className:`px-3 py-1 text-xs ${r===N?"bg-blue-600 hover:bg-blue-700 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:N},N))})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),a.jsxs("span",{className:`font-mono transition-colors duration-200 ${Mr?"text-green-400":"text-slate-400"}`,children:["",(Mr||fn).toFixed(2)]}),Mr&&a.jsx("span",{className:"text-xs text-green-300 animate-pulse",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${Yi?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:Yi?"text-green-400":"text-red-400",children:[Yi?"":""," ",Math.abs(us).toFixed(2)," (",Yi?"+":"",Mc,"%)"]})]})]})]}),a.jsx("div",{className:"h-48",children:Od?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-slate-400 text-sm flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-slate-600 border-t-purple-500 rounded-full"}),"Loading real ",r," chart data..."]})}):ks&&ks.length>0?a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:ks,margin:{top:5,right:20,left:1.5,bottom:5},children:[a.jsx(yi,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickCount:8}),a.jsx(Js,{domain:["dataMin - 10","dataMax + 10"],axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},width:35}),a.jsx(Ha,{content:({active:N,payload:M,label:I})=>{if(!N||!M||!M.length)return null;const L=M[0].value;return a.jsxs("div",{style:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"6px",color:"#e2e8f0",padding:"8px 16px",fontSize:"13px",minWidth:"140px",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",display:"flex",alignItems:"center",gap:"12px"},children:[a.jsxs("span",{style:{fontSize:"13px",fontWeight:"500"},children:["",Number(L).toFixed(2)]}),a.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:"#475569"}}),a.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:I})]})}}),a.jsx(ga,{type:"linear",dataKey:"price",stroke:Yi?"#10b981":"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,fill:Yi?"#10b981":"#ef4444"}}),a.jsx(gh,{y:Oa,stroke:"#64748b",strokeDasharray:"2 2",strokeWidth:1})]})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-slate-400 text-sm",children:" Real chart"})})})]})})})}),a.jsx("div",{children:a.jsx(xt,{className:"h-80 bg-slate-900 dark:bg-slate-900 border-slate-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:a.jsx(oa,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-white",children:"Feed Stocks"}),Zy&&!zl&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs text-green-400",children:"Live"})]})]}),a.jsx("p",{className:"text-xs text-slate-400",children:"Real-time stock updates"})]})]}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-thin-scrollbar",children:Vn.length>0?Vn.map((N,M)=>{const I=rm[N],L=Tc[N],te=I||L,ae=te?{price:te.price,change:te.change,changePercent:te.changePercent,isPositive:te.isPositive,volume:te.volume,isLastTraded:te.isLastTraded||!1}:{price:0,change:0,changePercent:0,isPositive:!0,isLastTraded:!1};return a.jsxs("div",{className:"relative bg-slate-800 rounded overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-red-600 flex items-center justify-end pr-4",children:a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>A2(N),className:"text-white hover:text-white hover:bg-red-700/50 flex items-center gap-2",children:[a.jsx(gs,{className:"w-4 h-4"}),"Delete"]})}),a.jsxs("div",{className:`relative bg-slate-800 flex items-center justify-between p-2 transition-transform duration-200 cursor-pointer select-none ${P2===N?"transform -translate-x-[20%]":"transform translate-x-0"}`,onTouchStart:ne=>{ne.preventDefault(),tv(ne.touches[0].clientX,N)},onTouchMove:ne=>{ne.preventDefault(),rv(ne.touches[0].clientX,N)},onTouchEnd:ne=>{gf()},onMouseDown:ne=>{ne.preventDefault(),tv(ne.clientX,N)},onMouseMove:ne=>{rv(ne.clientX,N)},onMouseUp:ne=>{gf()},onMouseLeave:ne=>{gf()},children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-slate-200",children:N}),a.jsx("span",{className:"text-xs text-slate-400",children:"NSE"})]}),a.jsx("div",{className:"flex flex-col items-end",children:te?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:"text-sm font-mono text-white",children:["",ae.price.toLocaleString("en-IN",{minimumFractionDigits:2})]}),ae.isLastTraded?a.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}):a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:`text-xs ${ae.isPositive?"text-green-400":"text-red-400"}`,children:[ae.isPositive?"+":"",ae.change.toFixed(2)]}),a.jsxs("span",{className:`text-xs ${ae.isPositive?"text-green-400":"text-red-400"}`,children:[ae.isPositive?"+":"",ae.changePercent.toFixed(2),"%"]}),ae.isPositive?a.jsx(oa,{className:"w-3 h-3 text-green-400"}):a.jsx(iu,{className:"w-3 h-3 text-red-400"})]}),ae.isLastTraded&&a.jsx("span",{className:"text-[10px] text-orange-400",children:"Last Close"})]}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"animate-pulse bg-slate-600 h-4 w-16 rounded"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx("div",{className:"animate-pulse bg-slate-600 h-3 w-12 rounded"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Loading..."})]})]})})]})]},M)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx(oa,{className:"w-8 h-8 text-slate-600 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500",children:"No stocks added yet"}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:'Use "News AI" to discover stocks'})]})})]})})})}),a.jsx("div",{children:a.jsx(xt,{className:"h-80 bg-slate-900 dark:bg-slate-900 border-slate-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Watchlist Stocks"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800",children:go.map((N,M)=>{const I=Fg[N],L=Tc[N],te=I||L,ae=te?{price:te.price,change:te.change,changePercent:te.changePercent,isPositive:te.isPositive,volume:te.volume,isLastTraded:te.isLastTraded||!1}:{price:0,change:0,changePercent:0,isPositive:!0,isLastTraded:!1};return a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-slate-200",children:N}),a.jsx("span",{className:"text-xs text-slate-400",children:"NSE"})]}),a.jsx("div",{className:"flex flex-col items-end",children:te?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:"text-sm font-mono text-white",children:["",ae.price.toLocaleString("en-IN",{minimumFractionDigits:2})]}),ae.isLastTraded?a.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"}):a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:`text-xs ${ae.isPositive?"text-green-400":"text-red-400"}`,children:[ae.isPositive?"+":"",ae.change.toFixed(2)]}),a.jsxs("span",{className:`text-xs ${ae.isPositive?"text-green-400":"text-red-400"}`,children:[ae.isPositive?"+":"",ae.changePercent.toFixed(2),"%"]}),ae.isPositive?a.jsx(oa,{className:"w-3 h-3 text-green-400"}):a.jsx(iu,{className:"w-3 h-3 text-red-400"})]}),ae.isLastTraded&&a.jsx("span",{className:"text-[10px] text-orange-400",children:"Last Close"})]}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"animate-pulse bg-slate-600 h-4 w-16 rounded"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx("div",{className:"animate-pulse bg-slate-600 h-3 w-12 rounded"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Loading..."})]})]})})]},M)})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(xt,{className:"bg-slate-900 dark:bg-slate-900 border-slate-700",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"OHLC Data"}),Lt>0&&a.jsxs("div",{className:"flex items-center gap-1 bg-purple-600 text-white px-2 py-1 rounded-md text-xs font-bold animate-pulse",children:[a.jsx(kE,{className:"w-3 h-3"}),a.jsxs("span",{children:["MODE ",Lt,": ",["","INVERTED","REVERSED","INVERTED+REVERSED","HORIZONTAL FLIP","INTERACTIVE MOCK"][Lt]]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ks,{open:Be,onOpenChange:Ae,children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":Be,className:"w-40 h-8 justify-between bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-xs px-2",children:[dt?((Jg=sb.find(N=>N.value===dt))==null?void 0:Jg.label)||dt:"Select symbol...",a.jsx(Dv,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),a.jsx(Es,{className:"w-72 p-0 bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:a.jsxs(vC,{children:[a.jsx(bC,{placeholder:"Search stocks...",value:Ue,onValueChange:vt,className:"text-xs bg-white dark:bg-black text-gray-900 dark:text-white border-none"}),a.jsxs(wC,{className:"bg-white dark:bg-black",children:[a.jsx(NC,{className:"text-gray-900 dark:text-white py-3 text-center text-xs",children:"No stock found."}),a.jsx(jC,{className:"bg-white dark:bg-black",children:sb.filter(N=>N.label.toLowerCase().includes(Ue.toLowerCase())||N.value.toLowerCase().includes(Ue.toLowerCase())).map(N=>a.jsxs(SC,{value:N.value,onSelect:M=>{wr(M===dt?"":M),Ae(!1),vt("")},className:"flex items-center px-2 py-1.5 text-xs text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900 cursor-pointer",children:[a.jsx($i,{className:Nt("mr-2 h-3 w-3 flex-shrink-0",dt===N.value?"opacity-100":"opacity-0")}),a.jsx("span",{className:"truncate",children:N.label})]},N.value))})]})]})})]}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",className:"w-20 h-8 justify-between bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs px-2",children:[((Zg=Md().find(N=>N.value===nr))==null?void 0:Zg.label)||nr,a.jsx(Dv,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),a.jsx(Es,{className:"w-40 p-1 bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600",children:a.jsxs("div",{className:"grid gap-1",children:[Md().map(N=>a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 group",children:[a.jsx("button",{className:"flex-1 text-left text-xs text-gray-900 dark:text-slate-300",onClick:()=>{jt(N.value)},children:N.label}),N.deletable&&a.jsx("button",{className:"ml-1 w-4 h-4 flex items-center justify-center hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-500 text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",onClick:M=>{M.stopPropagation(),Ic(N.value)},title:"Delete timeframe",children:""})]},N.value)),a.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 mt-1 pt-1",children:a.jsx("button",{className:"w-full text-left px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 text-xs text-gray-900 dark:text-slate-300",onClick:()=>Sc(!0),children:"+ Add Custom"})})]})})]}),a.jsx(H,{onClick:()=>Nr(!nn),variant:"outline",size:"sm",className:`h-8 px-2 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 md:hidden ${nn?"bg-gray-100 dark:bg-slate-700":""}`,title:"Select Date Range",children:a.jsx(oo,{className:"h-3 w-3"})}),a.jsx(H,{onClick:Kh,disabled:!Qr||!Qr.candles||Qr.candles.length===0,variant:Lt>0?"default":"outline",size:"sm",className:`h-8 px-2 transition-all duration-300 ${Lt>0?"bg-purple-600 hover:bg-purple-700 text-white shadow-lg border-purple-500":"border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900"}`,title:Lt>0?`Transformation Mode ${Lt}: ${["","Inverted","Reversed","Inverted+Reversed","Horizontal Flip","Interactive Mock"][Lt]} - Click for next mode`:"6-Stage Chart Transformation - Progressive strategy testing",children:a.jsx(kE,{className:`h-3 w-3 ${Lt>0?"animate-pulse":""}`})}),a.jsx(H,{onClick:Rd,disabled:Zo.isPending,size:"sm",className:"h-8 px-2 bg-green-600 hover:bg-green-700",title:Zo.isPending?"Fetching...":"Fetch Data",children:a.jsx($i,{className:"h-3 w-3"})}),a.jsx(H,{onClick:Vl,disabled:!Qr||!Qr.candles||Qr.candles.length===0,variant:"outline",size:"sm",className:"h-8 px-2 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700",title:"Download OHLC CSV",children:a.jsx(k3,{className:"h-3 w-3"})})]})]}),nn&&a.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hr,{className:"text-gray-700 dark:text-slate-300 text-xs font-medium min-w-[40px]",children:"From:"}),a.jsx(qr,{type:"date",value:Vr,onChange:N=>pn(N.target.value),className:"flex-1 h-8 bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hr,{className:"text-gray-700 dark:text-slate-300 text-xs font-medium min-w-[40px]",children:"To:"}),a.jsx(qr,{type:"date",value:Tr,onChange:N=>fr(N.target.value),className:"flex-1 h-8 bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs"})]}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400 text-center",children:Vr===Tr?a.jsxs("div",{children:[a.jsxs("div",{children:[" Single day: ",Vr]}),a.jsx("div",{className:"mt-1 text-green-600 dark:text-green-400 font-medium",children:Ts(new Date,"yyyy-MM-dd")===Vr?" Today's market data":" Last trading day"})]}):` Range: ${Vr} to ${Tr}`})]}),Zo.isPending?a.jsx("div",{className:"h-96 border border-slate-700 rounded-lg bg-slate-800/30 flex items-center justify-center",children:a.jsxs("div",{className:"text-slate-400 text-sm flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-slate-600 border-t-purple-500 rounded-full"}),"Loading 1-minute OHLC data..."]})}):Fe&&Fe.candles&&Fe.candles.length>0?a.jsxs("div",{className:"h-96 overflow-auto border border-slate-700 relative custom-thin-scrollbar",children:[Lt>0&&a.jsxs("div",{className:"absolute top-2 right-2 z-10 bg-purple-600 text-white px-2 py-1 rounded-md text-xs font-bold shadow-lg animate-pulse",children:[" MODE ",Lt,": ",["","INVERTED","REVERSED","INV+REV","H-FLIP","INTERACTIVE"][Lt]]}),a.jsxs(ax,{children:[a.jsx(sx,{className:"sticky top-0 z-10",children:a.jsxs(Ql,{className:"border-slate-700",children:[a.jsx(sn,{className:"text-slate-300 min-w-[140px]",children:"Date/Time"}),a.jsx(sn,{className:"text-right text-slate-300 min-w-[80px]",children:"Open"}),a.jsx(sn,{className:"text-right text-slate-300 min-w-[80px]",children:"High"}),a.jsx(sn,{className:"text-right text-slate-300 min-w-[80px]",children:"Low"}),a.jsx(sn,{className:"text-right text-slate-300 min-w-[80px]",children:"Close"}),a.jsx(sn,{className:"text-right text-slate-300 min-w-[90px]",children:"Volume"}),a.jsx(sn,{className:"text-center text-slate-300 min-w-[100px]",children:"Sentiment"})]})}),a.jsx(ix,{children:Fe.candles.map((N,M)=>a.jsxs(Ql,{className:"border-slate-700 hover:bg-slate-700/50",children:[a.jsx(vn,{className:"font-medium text-slate-300 text-xs font-mono",children:new Date(N.timestamp*1e3).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),a.jsx(vn,{className:"text-right text-slate-300",children:N.open.toFixed(2)}),a.jsx(vn,{className:"text-right text-slate-300",children:N.high.toFixed(2)}),a.jsx(vn,{className:"text-right text-slate-300",children:N.low.toFixed(2)}),a.jsx(vn,{className:"text-right text-slate-300",children:N.close.toFixed(2)}),a.jsx(vn,{className:"text-right text-slate-300",children:N.volume.toLocaleString()}),a.jsx(vn,{className:"text-center",children:Rg?a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-purple-500"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Analyzing..."})]}):Jo[M]?a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`text-xs font-semibold px-2 py-1 rounded ${Jo[M].signal==="BUY"?"bg-green-100 text-green-800":Jo[M].signal==="SELL"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Jo[M].signal}),a.jsxs("div",{className:"text-xs text-slate-400",children:[Jo[M].confidence,"%"]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1",children:a.jsx("div",{className:`h-1 rounded-full ${Jo[M].score>0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.abs(Jo[M].score)*100}%`}})})]}):a.jsx("span",{className:"text-xs text-slate-400",children:"-"})})]},M))})]})]}):a.jsx("div",{className:"h-96 border border-slate-700 rounded-lg bg-slate-800/30 flex items-center justify-center",children:a.jsxs("div",{className:"text-slate-400 text-sm text-center",children:[a.jsx("div",{children:"No OHLC data loaded"}),a.jsx("div",{className:"text-xs mt-1",children:'Click "Fetch" to load 1-minute data'})]})})]})})}),a.jsx("div",{children:a.jsx(xt,{className:"bg-slate-900 dark:bg-slate-900 border-slate-700 h-full",children:a.jsxs(bt,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Visual Chart"}),Lt===5&&a.jsxs("div",{className:"flex items-center gap-2 bg-green-600 text-white px-3 py-1 rounded-md text-sm font-medium animate-pulse",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{children:"Click any candle to generate mock future data"})]}),Object.values(qn).some(N=>N.length>0)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Active:"}),a.jsxs("div",{className:"flex gap-1 flex-wrap",children:[qn.sma.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-yellow-400/20 text-yellow-400 border-yellow-400/30 flex items-center gap-1",children:["SMA(",N.period,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,sma:I.sma.filter(L=>L.id!==N.id)}))},className:"ml-1 text-yellow-400 hover:text-yellow-200","data-testid":`remove-sma-${N.id}`,children:""})]},N.id)),qn.ema.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-blue-400/20 text-blue-400 border-blue-400/30 flex items-center gap-1",children:["EMA(",N.period,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,ema:I.ema.filter(L=>L.id!==N.id)}))},className:"ml-1 text-blue-400 hover:text-blue-200","data-testid":`remove-ema-${N.id}`,children:""})]},N.id)),qn.ma.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-green-400/20 text-green-400 border-green-400/30 flex items-center gap-1",children:["MA(",N.period,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,ma:I.ma.filter(L=>L.id!==N.id)}))},className:"ml-1 text-green-400 hover:text-green-200","data-testid":`remove-ma-${N.id}`,children:""})]},N.id)),qn.rsi.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-orange-400/20 text-orange-400 border-orange-400/30 flex items-center gap-1",children:["RSI(",N.period,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,rsi:I.rsi.filter(L=>L.id!==N.id)}))},className:"ml-1 text-orange-400 hover:text-orange-200","data-testid":`remove-rsi-${N.id}`,children:""})]},N.id)),qn.bollinger.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-pink-400/20 text-pink-400 border-pink-400/30 flex items-center gap-1",children:["BB(",N.period,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,bollinger:I.bollinger.filter(L=>L.id!==N.id)}))},className:"ml-1 text-pink-400 hover:text-pink-200","data-testid":`remove-bollinger-${N.id}`,children:""})]},N.id)),qn.macd.map(N=>a.jsxs(Dr,{variant:"secondary",className:"text-xs bg-purple-400/20 text-purple-400 border-purple-400/30 flex items-center gap-1",children:["MACD(",N.fast,",",N.slow,")",a.jsx("button",{onClick:M=>{M.stopPropagation(),Aa(I=>({...I,macd:I.macd.filter(L=>L.id!==N.id)}))},className:"ml-1 text-purple-400 hover:text-purple-200","data-testid":`remove-macd-${N.id}`,children:""})]},N.id))]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>j(!v),className:"w-48 h-8 bg-green-600 hover:bg-green-700 text-white border border-green-500 rounded-md px-3 flex items-center justify-between text-sm font-medium","data-testid":"button-pattern-dropdown",children:[a.jsx("span",{children:wn&&((vf=Xr.find(N=>N.id===wn))==null?void 0:vf.name)||"Pattern "}),a.jsx(Ep,{className:"w-4 h-4"})]}),v&&a.jsxs("div",{className:"absolute top-full left-0 w-48 mt-1 bg-slate-800 border border-slate-600 rounded-md shadow-lg z-50",children:[a.jsx("button",{onClick:()=>{console.log(" Clear Pattern: Removing all patterns from chart"),ho(""),j(!1),Ig(!0),console.log(" Auto-detection suppressed until next user interaction"),window.clearAll&&window.clearAll(),Ed([]),Gi([]),Ti([]),fa([]),Ml([]),Sr({title:" Chart Cleared",description:"All patterns removed from chart. Chart restored to original state."})},className:"w-full px-3 py-2 text-left text-white hover:bg-slate-700 text-sm border-b border-slate-600","data-testid":"option-clear-pattern",children:"Clear Pattern"}),Xr.map(N=>a.jsxs("div",{className:"group flex items-center justify-between px-3 py-2 text-white hover:bg-slate-700",children:[a.jsxs("button",{onClick:()=>{console.log(" Pattern selected for application:",N.id),ho(N.id),j(!1),Vh(N),Ig(!1),Sr({title:" Pattern Applied",description:`Pattern "${N.name}" has been applied to the chart.`})},className:"flex items-center gap-2 text-left text-sm flex-1","data-testid":`option-pattern-${N.id}`,children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),N.name]}),a.jsx("button",{onClick:M=>{M.stopPropagation(),console.log(" PERFECT DELETE CLICKED - Pattern:",N.name,"ID:",N.id),Td(N.id)},className:"w-4 h-4 flex items-center justify-center hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-500 text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity ml-2",title:"Delete pattern","data-testid":`delete-pattern-${N.id}`,children:""})]},N.id)),Xr.length===0&&a.jsx("div",{className:"px-3 py-4 text-slate-400 text-sm text-center",children:"No saved patterns"})]})]}),a.jsxs(Xs,{onValueChange:N=>{Ol(N),Hi({...Xa[N]}),ni(!0)},children:[a.jsx(Is,{className:"w-32 h-6 text-xs bg-slate-800 border-slate-600 text-white",children:a.jsx(Qs,{placeholder:"Add Indicator"})}),a.jsxs(Os,{className:"bg-slate-800 border-slate-600",children:[a.jsx(Ir,{value:"sma",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.sma.length>0?"bg-yellow-400":"bg-gray-400"}`}),"Add SMA (",Xa.sma.period,")"]})}),a.jsx(Ir,{value:"ema",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.ema.length>0?"bg-blue-400":"bg-gray-400"}`}),"Add EMA (",Xa.ema.period,")"]})}),a.jsx(Ir,{value:"ma",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.ma.length>0?"bg-green-400":"bg-gray-400"}`}),"Add MA (",Xa.ma.period,")"]})}),a.jsx(Ir,{value:"rsi",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.rsi.length>0?"bg-orange-400":"bg-gray-400"}`}),"Add RSI (",Xa.rsi.period,")"]})}),a.jsx(Ir,{value:"bollinger",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.bollinger.length>0?"bg-pink-400":"bg-gray-400"}`}),"Add Bollinger (",Xa.bollinger.period,")"]})}),a.jsx(Ir,{value:"macd",className:"text-white hover:bg-slate-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qn.macd.length>0?"bg-purple-400":"bg-gray-400"}`}),"Add MACD (",Xa.macd.fast,",",Xa.macd.slow,")"]})})]})]}),a.jsxs(H,{size:"sm",variant:"ghost",className:"text-xs text-gray-400 hover:text-white hover:bg-slate-800 h-6 px-2","data-testid":"button-market-settings",children:[a.jsx(oa,{className:"w-3 h-3 mr-1"}),"Settings"]})]})]}),a.jsxs("div",{className:"flex-1 relative",children:[Lt===5&&Pr!==null&&a.jsxs("div",{className:"absolute top-2 left-2 z-20 bg-green-600 text-white px-2 py-1 rounded-md text-xs font-bold shadow-lg",children:[" Selection: Candle ",Pr+1," |  Mock: ",Ea.length," candles"]}),a.jsx(hz,{height:320,ohlcData:(Fe==null?void 0:Fe.candles)||[],symbol:dt,isInteractiveMode:Lt===5,onCandleClick:Xo,selectionLineIndex:Pr,mockStartIndex:Pr!==null?Pr+1:null,timeRange:Re,indicators:qn,chartType:nf,externalSelectedPoints:ar,enablePointSelection:!wn,onSelectActivated:()=>{console.log(" Auto-switching to Visual AI mode with Notes AI"),un(!0)}})]}),a.jsxs("div",{className:"mt-3 border-t border-slate-700 pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>et(!Ve),className:"text-xs h-6 px-2 bg-blue-600/10 hover:bg-blue-600/20 border-blue-500/30 text-blue-400","data-testid":"toggle-time-filter",children:[a.jsx(SN,{className:"h-3 w-3 mr-1"}),Ve?"Hide":"Show"," Time Filter"]}),Ve&&a.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:" Real-time filtering"})]}),Ve&&a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-semibold",children:Ht(Re[0])}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:" Time Range"}),a.jsx("div",{className:"bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-semibold",children:Ht(Re[1])})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden",children:a.jsx("div",{className:"absolute h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg transition-all duration-150",style:{left:`${(Re[0]-540)/420*100}%`,width:`${(Re[1]-Re[0])/420*100}%`}})}),a.jsx("input",{type:"range",min:"540",max:"960",step:"15",value:Re[0],onChange:N=>{const M=parseInt(N.target.value);M<Re[1]&&(ut([M,Re[1]]),console.log(` Real-time filter: Start time changed to ${Ht(M)}`))},className:"absolute top-0 left-0 w-full h-2 bg-transparent appearance-none cursor-pointer slider-thumb-blue",style:{background:"transparent"},"data-testid":"start-time-slider"}),a.jsx("input",{type:"range",min:"540",max:"960",step:"15",value:Re[1],onChange:N=>{const M=parseInt(N.target.value);M>Re[0]&&(ut([Re[0],M]),console.log(` Real-time filter: End time changed to ${Ht(M)}`))},className:"absolute top-0 left-0 w-full h-2 bg-transparent appearance-none cursor-pointer slider-thumb-purple",style:{background:"transparent"},"data-testid":"end-time-slider"})]}),a.jsxs("div",{className:"flex gap-1 justify-center",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ut([555,930]),className:"text-xs h-5 px-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-300 dark:border-green-700",children:"Full"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ut([555,720]),className:"text-xs h-5 px-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-300 dark:border-orange-700",children:"AM"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ut([720,930]),className:"text-xs h-5 px-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border-purple-300 dark:border-purple-700",children:"PM"})]}),a.jsx("div",{className:"text-xs text-center",children:Fe&&Ve&&a.jsxs("div",{className:"text-green-600 dark:text-green-400",children:[" ",((e0=Fe.candles)==null?void 0:e0.length)||0," candles filtered"]})})]})})]})]})})}),a.jsx("div",{children:a.jsx(xt,{className:"bg-slate-900 dark:bg-slate-900 border-slate-700 h-full",children:a.jsxs(bt,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:Ia?" Visual AI":Kt?"AI":"Notes AI"}),Kt&&!Ia&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Social Feed AI"}),Ia&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Chart Analysis"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>df(!Ia),className:`text-xs h-8 px-2 py-0 ${Ia?"text-blue-400 hover:text-blue-300 hover:bg-blue-950":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-visual-ai",title:Ia?"Switch to Notes AI":"Switch to Visual AI",children:Ia?a.jsx(CN,{className:"w-4 h-4"}):a.jsx(_N,{className:"w-4 h-4"})}),a.jsxs(H,{size:"sm",variant:Kt?"default":"ghost",onClick:()=>un(!Kt),className:`text-xs h-8 px-2 py-0 ${Kt?"bg-purple-600 hover:bg-purple-700 text-white":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-ai",children:[a.jsx(ro,{className:"w-6 h-6 mr-1"}),"AI"]}),!Kt&&!Ia&&(on?a.jsxs(a.Fragment,{children:[a.jsxs(H,{size:"sm",variant:"ghost",onClick:Fn,className:"text-xs text-red-400 hover:text-red-300 hover:bg-red-950 h-6 px-2","data-testid":"button-cancel-notes",children:[a.jsx(La,{className:"w-3 h-3 mr-1"}),"Cancel"]}),a.jsxs(H,{size:"sm",onClick:qg,className:"text-xs bg-green-600 hover:bg-green-700 text-white h-6 px-2","data-testid":"button-save-notes",children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Save"]})]}):a.jsxs(H,{size:"sm",variant:"ghost",onClick:zg,className:"text-xs text-gray-400 hover:text-white hover:bg-slate-800 h-6 px-2","data-testid":"button-edit-notes",children:[a.jsx(fl,{className:"w-3 h-3 mr-1"}),"Edit"]}))]})]}),a.jsx("div",{className:"h-96",children:Ia?a.jsx("div",{className:"h-full overflow-y-auto relative",children:a.jsxs("div",{className:"flex flex-col min-h-full",children:[a.jsx("div",{className:"h-80 flex-shrink-0",children:a.jsx(j8,{height:320,selectedPoints:ar||[],onPointsChange:N=>{fa(N),console.log(" Blackboard points updated:",N)},onReset:()=>fa([]),isExpanded:!0})}),a.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-slate-500 to-transparent my-4"}),a.jsxs("div",{className:"px-4 py-3 bg-slate-800/30 border border-slate-600/20 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-orange-400 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Point Management"]}),ar&&ar.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:ar.map((N,M)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs bg-slate-700/50 p-2 rounded",children:[a.jsxs("span",{className:"text-yellow-400 min-w-[20px] font-medium",children:["#",N.pointNumber]}),a.jsxs("span",{className:"text-white min-w-[60px]",children:["",N.price.toFixed(2)]}),a.jsxs("select",{value:N.label||"",onChange:I=>{window.labelPoint&&window.labelPoint(N.pointNumber,I.target.value||null)},className:"bg-slate-600 text-white px-2 py-1 rounded text-xs border-none flex-1","data-testid":`select-point-label-${N.pointNumber}`,children:[a.jsx("option",{value:"none",children:"Select Label"}),a.jsx("option",{value:"Entry",children:" Entry"}),a.jsx("option",{value:"SL",children:" Stop Loss"}),a.jsx("option",{value:"Target",children:" Target"}),a.jsx("option",{value:"Breakout",children:" Breakout"})]}),N.label&&a.jsx("button",{onClick:()=>{window.addHorizontalRay&&window.addHorizontalRay(N.price,N.label,N.pointNumber)},className:"bg-orange-600 hover:bg-orange-500 text-white px-2 py-1 rounded text-xs","data-testid":`button-add-ray-${N.pointNumber}`,children:""})]},M))}),a.jsxs("div",{className:"border-t border-slate-600/50 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Quick Ray Add:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("SL")},className:"px-3 py-1 rounded text-xs bg-red-700 hover:bg-red-600 text-white","data-testid":"button-add-sl-ray",children:" SL"}),a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("Target")},className:"px-3 py-1 rounded text-xs bg-green-700 hover:bg-green-600 text-white","data-testid":"button-add-target-ray",children:" Target"}),a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("Breakout")},className:"px-3 py-1 rounded text-xs bg-orange-700 hover:bg-orange-600 text-white","data-testid":"button-add-breakout-ray",children:" Breakout"})]})]}),Cn&&Cn.length>0&&a.jsxs("div",{className:"border-t border-slate-600/50 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Active Rays:"}),a.jsx("div",{className:"max-h-20 overflow-y-auto space-y-1",children:Cn.reduce((M,I)=>(M.find(te=>te.label===I.label&&Math.abs(te.price-I.price)<.01)||M.push(I),M),[]).map(M=>a.jsxs("div",{className:"flex items-center gap-2 text-xs bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{style:{color:M.color},className:"min-w-[50px] font-medium",children:M.label}),a.jsxs("span",{className:"text-white",children:["",M.price.toFixed(2)]}),M.pointNumber&&a.jsxs("span",{className:"text-yellow-400",children:["#",M.pointNumber]}),a.jsx("button",{onClick:()=>{window.removeHorizontalRay&&window.removeHorizontalRay(M.id)},className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs ml-auto","data-testid":`button-remove-ray-${M.id}`,children:""})]},M.id))})]})]}):a.jsx("div",{className:"text-xs text-slate-400 text-center py-4",children:"Click on the chart below to add manual points for pattern analysis"})]}),ar&&ar.length>=2&&a.jsxs("div",{className:"px-4 py-3 bg-slate-900/40 border border-blue-600/20 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-blue-400 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Smart Pattern Analysis"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-xs text-slate-300 mb-2",children:"Point Relationships:"}),a.jsx("div",{className:"bg-slate-800/50 p-3 rounded text-xs font-mono",children:(()=>{const N=[...ar].sort((I,L)=>I.pointNumber-L.pointNumber),M=[];for(let I=0;I<N.length;I++){const L=N[I],te=N[I+1];if(te){const ae=L.price>te.price?">":"<",ne=ae===">"?"text-red-400":"text-green-400";M.push(a.jsxs("span",{className:ne,children:[L.pointNumber,ae,te.pointNumber]},`${L.pointNumber}-${te.pointNumber}`))}}if(N.length>2){const I=N[N.length-1],L=N[0],te=I.price>L.price?">":"<",ae=te===">"?"text-red-400":"text-green-400";M.push(a.jsxs("span",{className:ae,children:[I.pointNumber,te,L.pointNumber]},`${I.pointNumber}-${L.pointNumber}`))}return M.map((I,L)=>a.jsxs("span",{children:[I,L<M.length-1&&a.jsx("span",{className:"text-slate-500",children:", "})]},L))})()})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-xs text-slate-300",children:"Active Pattern Structure:"}),a.jsxs("div",{className:"flex gap-2",children:[!wn&&ar.length>0&&a.jsx("button",{onClick:()=>{const N=ar.slice(0,-1);fa(N),window.selectedPoints=N,window.dispatchEvent(new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:N,horizontalRays:Cn}})),console.log(` Deleted last point. Remaining: ${N.length} points`)},className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs font-medium","data-testid":"button-delete-point",children:" Delete"}),Cn&&Cn.length>0&&ar.length>=3&&a.jsx("button",{onClick:()=>{const N=prompt("Enter pattern name:");N&&N.trim()&&ja(N.trim())},className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1 rounded text-xs font-medium","data-testid":"button-save-pattern",children:" Save"})]})]}),a.jsx("div",{className:"bg-slate-800/50 p-3 rounded",children:(()=>{if(!Cn||Cn.length===0)return a.jsx("div",{className:"text-xs text-slate-400 italic",children:"Use Quick Ray buttons or label points to create your pattern structure"});const N=Cn.reduce((te,ae)=>(te[ae.label]||(te[ae.label]=ae),te),{}),M=N.SL,I=N.Breakout,L=N.Target;return a.jsxs("div",{className:"space-y-2",children:[M&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-red-400 font-medium",children:[" SL-",M.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",M.price.toFixed(2)]})]}),I&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-orange-400 font-medium",children:[" Breakout-",I.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",I.price.toFixed(2)]})]}),L&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-green-400 font-medium",children:[" Target-",L.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",L.price.toFixed(2)]})]}),!M&&!I&&!L&&a.jsx("div",{className:"text-xs text-slate-400 italic",children:"No SL, Breakout, or Target rays assigned yet"})]})})()})]}),ar.length>=3&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-300 mb-2",children:"Pattern Metrics:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:(()=>{const N=[...ar].sort((ne,Te)=>ne.pointNumber-Te.pointNumber),M=N.map(ne=>ne.price),I=Math.max(...M)-Math.min(...M),L=M.reduce((ne,Te)=>ne+Te,0)/M.length,te=(I/L*100).toFixed(1),ae=(I*.6/(I*.3)).toFixed(1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Range:"}),a.jsxs("span",{className:"text-white ml-1",children:["",I.toFixed(2)]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Volatility:"}),a.jsxs("span",{className:`ml-1 ${parseFloat(te)>2?"text-red-400":"text-green-400"}`,children:[te,"%"]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"R:R Ratio:"}),a.jsxs("span",{className:"text-blue-400 ml-1",children:["1:",ae]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Points:"}),a.jsx("span",{className:"text-yellow-400 ml-1",children:N.length})]})]})})()})]})]}),a.jsxs("div",{className:"px-4 py-3 bg-slate-800/50 border border-slate-600/30 rounded-lg",children:[a.jsxs("div",{className:"text-xs font-medium text-blue-400 mb-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"AI Chart Analysis"]}),a.jsx("div",{className:"flex items-center gap-1 bg-slate-700 rounded p-1",children:a.jsx("span",{className:"h-5 px-2 text-[10px] bg-blue-600 text-white rounded text-center flex items-center",children:" Candles"})})]}),a.jsxs("div",{className:"text-xs text-slate-300 leading-relaxed space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Period:"})," "," ",a.jsx("span",{className:"text-white font-medium",children:`${(()=>{switch(r){case"1":return"1min";case"5":return"5min";case"15":return"15min";case"30":return"30min";case"60":return"1hr";case"240":return"4hr";case"1440":return"1d";default:return r}})()} Timeframe`}),a.jsxs("span",{className:"ml-2 text-slate-400",children:["(",((vo=Fe==null?void 0:Fe.candles)==null?void 0:vo.length)||0," candles)"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Price Movement:"})," "," ",(()=>{var ae,ne,Te,Pe,We,_t,It,ur,Gt;if(!Re||!((ae=Fe==null?void 0:Fe.candles)!=null&&ae.length)){const St=(Fe==null?void 0:Fe.candles)||[];if(St.length===0)return a.jsx("span",{className:"text-slate-500",children:"No data available"});const Ot=((ne=St[0])==null?void 0:ne.close)||((Te=St[0])==null?void 0:Te.price)||0,xn=((Pe=St[St.length-1])==null?void 0:Pe.close)||((We=St[St.length-1])==null?void 0:We.price)||0,Xe=xn-Ot,hr=Ot?(Xe/Ot*100).toFixed(2):"0.00";return a.jsxs("span",{className:Xe>=0?"text-green-400 font-medium":"text-red-400 font-medium",children:["",Ot.toFixed(2),"  ",xn.toFixed(2)," (",Xe>=0?"+":"",hr,"%)"]})}const N=cr(Fe.candles,Re);if(N.length===0)return a.jsx("span",{className:"text-slate-500",children:"No data in range"});const M=((_t=N[0])==null?void 0:_t.close)||((It=N[0])==null?void 0:It.price)||0,I=((ur=N[N.length-1])==null?void 0:ur.close)||((Gt=N[N.length-1])==null?void 0:Gt.price)||0,L=I-M,te=M?(L/M*100).toFixed(2):"0.00";return a.jsxs("span",{className:L>=0?"text-green-400 font-medium":"text-red-400 font-medium",children:["",M.toFixed(2),"  ",I.toFixed(2)," (",L>=0?"+":"",te,"%)"]})})()]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Active Indicators:"})," "," ",Object.keys(qn).length>0?a.jsx("span",{className:"text-purple-400 font-medium",children:Object.entries(qn).map(([N,M])=>`${N.toUpperCase()}(${M.length})`).join(", ")}):a.jsx("span",{className:"text-slate-500",children:"None applied"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Trend Analysis:"})," "," ",(()=>{const N=Re?cr((Fe==null?void 0:Fe.candles)||[],Re):(Fe==null?void 0:Fe.candles)||[];if(N.length<3)return a.jsx("span",{className:"text-slate-500",children:"Insufficient data"});const I=N.slice(-3).map(ae=>ae.close||ae.price||0),L=I[2]>I[1]&&I[1]>I[0]?"Bullish":I[2]<I[1]&&I[1]<I[0]?"Bearish":"Sideways",te=L==="Bullish"?"text-green-400":L==="Bearish"?"text-red-400":"text-yellow-400";return a.jsxs("span",{className:`${te} font-medium`,children:[L," momentum detected"]})})()]})]})]})]})}):Kt?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto p-3 space-y-3 bg-slate-800 rounded-lg border border-slate-700",children:mt.length===0?a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-2",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-2",children:" Social Feed Stocks"}),a.jsx("div",{className:"flex flex-wrap gap-1 justify-center mb-3",children:Vn.map(N=>a.jsx(Dr,{variant:"outline",className:"text-[10px] px-2 py-1 bg-green-50 text-green-700 border-green-200 dark:bg-green-900 dark:text-green-300 dark:border-green-700",children:N},N))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("generate strategy code"),className:"text-[10px] h-6 px-2 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-lg",children:" Generate strategy code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("emi code"),className:"text-[10px] h-6 px-2 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-lg",children:" EMI code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("rsi,ema code"),className:"text-[10px] h-6 px-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-lg",children:" RSI,EMA code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("show performance"),className:"text-[10px] h-6 px-2 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-lg",children:" Show performance"})]})]}):mt.map((N,M)=>a.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] p-2 rounded-lg text-xs relative ${N.role==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gradient-to-r from-slate-700 to-slate-800 text-slate-100 border border-indigo-600/20"}`,children:N.isLoading?a.jsxs("div",{className:"flex items-center gap-3 py-2 px-4 bg-gradient-to-r from-slate-800 to-slate-700 border border-purple-500/30 rounded-lg animate-pulse",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]}),a.jsx("span",{className:"text-xs text-slate-300 font-medium animate-pulse",children:"BATTU AI is thinking..."})]}):N.isStockMessage&&N.stocks?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs text-slate-200 mb-3",children:N.content}),N.stocks.map((I,L)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded border border-slate-600 text-xs",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:I.symbol}),a.jsx("span",{className:"text-[10px] text-slate-400",children:I.exchange})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"font-bold text-white",children:["",I.price.toLocaleString("en-IN",{minimumFractionDigits:2})]}),a.jsxs("span",{className:`text-[10px] font-medium ${I.changePercentage>=0?"text-green-400":"text-red-400"}`,children:[I.changePercentage>=0?"+":"",I.change.toFixed(2)," ",I.changePercentage>=0?"+":"",I.changePercentage.toFixed(2),"%"]})]})]}),a.jsx(H,{size:"sm",variant:"outline",onClick:()=>yo(I.symbol),disabled:Vn.includes(I.symbol),className:"text-[10px] h-6 px-2 ml-2 text-orange-600 border-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:border-orange-400 dark:hover:bg-orange-900 disabled:opacity-50 disabled:cursor-not-allowed","data-testid":`button-add-${I.symbol}`,children:Vn.includes(I.symbol)?"":"+"})]},L)),a.jsx("div",{className:"mt-3 pt-2 border-t border-slate-600",children:a.jsx(H,{size:"sm",variant:"outline",onClick:()=>Id(N.stocks.map(I=>I.symbol)),className:"text-[10px] h-6 px-3 w-full text-orange-600 border-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:border-orange-400 dark:hover:bg-orange-900","data-testid":"button-add-all-stocks",children:"+ Add All Stocks to Feed"})}),N.role==="assistant"&&a.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{const I=N.content+`

`+N.stocks.map(L=>`${L.symbol}: ${L.price} (${L.changePercentage>=0?"+":""}${L.changePercentage.toFixed(2)}%)`).join(`
`);navigator.clipboard.writeText(I)},className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(qa,{className:"w-2.5 h-2.5"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(U0,{className:"w-2.5 h-2.5"})})]}),N.role==="assistant"&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-slate-600",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Analyze RELIANCE stock"),className:"text-[9px] h-5 px-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-md",children:" Analyze RELIANCE stock"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Market news today"),className:"text-[9px] h-5 px-1.5 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-md",children:" Market news today"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Best stocks to buy"),className:"text-[9px] h-5 px-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-md",children:" Best stocks to buy"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Upcoming IPOs"),className:"text-[9px] h-5 px-1.5 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-md",children:" Upcoming IPOs"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Bond market trends"),className:"text-[9px] h-5 px-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:hover:bg-indigo-800 dark:text-indigo-300 dark:border-indigo-700 rounded-md",children:" Bond market trends"})]})]}):a.jsxs("div",{children:[N.role==="assistant"?a.jsx("div",{className:"space-y-2",children:mf(N.content).map((I,L)=>a.jsx("div",{children:I.type==="text"?a.jsx("div",{className:"bg-slate-700 text-gray-200 px-3 py-2 rounded-lg text-sm whitespace-pre-wrap",children:I.content}):a.jsxs("div",{className:"bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-slate-800 px-3 py-2 border-b border-slate-600",children:[a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"Strategy Code"}),a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>sm(I.content,M*100+L),className:"h-6 px-2 text-xs text-gray-400 hover:text-white hover:bg-slate-700",children:Eg===M*100+L?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-3 h-3 mr-1"}),"Copy"]})})]}),a.jsx("div",{className:"p-4 h-32 overflow-y-auto",children:a.jsx("pre",{className:"text-sm text-gray-100 font-mono whitespace-pre-wrap leading-relaxed tracking-wide break-all",children:I.content})})]})},L))}):a.jsx("div",{className:"mb-2 pr-16",children:N.content}),N.role==="assistant"&&N.newsData&&N.newsData.stocks&&a.jsxs("div",{className:"mt-4 space-y-2",children:[N.newsData.stocks.map((I,L)=>{const te=I.change&&I.change>=0?"text-green-400":"text-red-400",ae=I.change&&I.change>=0?"":"";return a.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-white",children:I.symbol}),a.jsx("span",{className:"text-xs text-slate-400",children:I.exchange||"NSE"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-lg font-bold text-white",children:["",I.price]}),a.jsxs("span",{className:`text-sm ${te} flex items-center gap-1`,children:[ae,I.change>=0?"+":"",I.change||0," ",I.changePercent>=0?"+":"",(I.changePercent||0).toFixed(2),"%"]})]})]}),a.jsx(H,{size:"sm",onClick:()=>yo(I.symbol),className:"h-8 w-8 rounded-full bg-purple-600 hover:bg-purple-700 text-white p-0 flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold",children:"+"})})]},L)}),a.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:a.jsxs(H,{onClick:()=>{const I=N.newsData.stocks.map(L=>L.symbol);Id(I)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-1.5 px-3 rounded text-sm flex items-center justify-center gap-1",children:[a.jsx("span",{className:"text-sm font-bold",children:"+"}),"Add All (",N.newsData.stocks.filter(I=>!Vn.includes(I.symbol)).length,")"]})})]}),N.role==="assistant"&&a.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(N.content),className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(qa,{className:"w-2.5 h-2.5"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(U0,{className:"w-2.5 h-2.5"})})]}),N.role==="assistant"&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-slate-600",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("generate strategy code"),className:"text-[9px] h-5 px-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-md",children:" Generate strategy code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("emi code"),className:"text-[9px] h-5 px-1.5 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-md",children:" EMI code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("rsi+ema code"),className:"text-[9px] h-5 px-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-md",children:" RSI+EMA code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("show performance"),className:"text-[9px] h-5 px-1.5 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-md",children:" Show performance"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("optimize my strategy"),className:"text-[9px] h-5 px-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:hover:bg-indigo-800 dark:text-indigo-300 dark:border-indigo-700 rounded-md",children:" Optimize strategy"})]})]})})},M))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{value:dr,onChange:N=>ft(N.target.value),onKeyPress:N=>{N.key==="Enter"&&!gn&&dr.trim()&&(xr(M=>[...M,{role:"user",content:dr}]),rr(!0),Pc(dr),ft(""))},placeholder:"Ask strategy AI: generate strategy code, show performance...",className:"flex-1 px-3 py-2 text-xs border border-slate-600 rounded-lg bg-slate-800 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:gn}),a.jsx(H,{size:"sm",onClick:()=>{dr.trim()&&!gn&&(xr(N=>[...N,{role:"user",content:dr}]),rr(!0),Pc(dr),ft(""))},disabled:gn||!dr.trim(),className:"h-8 px-3 bg-purple-600 hover:bg-purple-700 text-white text-xs",children:"Send"})]})]}):on?a.jsx("textarea",{value:aa,onChange:N=>Rr(N.target.value),placeholder:"Write your trading notes, strategies, observations...",className:"w-full h-full p-3 text-sm border border-slate-600 rounded-lg bg-slate-800 text-white placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"textarea-notes"}):a.jsx("div",{className:"h-full p-3 text-sm border border-slate-700 rounded-lg bg-slate-800 text-white overflow-y-auto",children:At?a.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:At}):a.jsx("p",{className:"text-slate-400 italic",children:"No trading notes yet. Click Edit to add your first note."})})})]})})})]}),a.jsx(ha,{open:Ns,onOpenChange:Sc,children:a.jsxs(ca,{className:"sm:max-w-md bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsx(ba,{className:"text-center",children:a.jsx(wa,{className:"text-gray-900 dark:text-white text-center",children:"Add custom interval"})}),a.jsxs("div",{className:"grid gap-4 py-4 px-2",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Hr,{htmlFor:"timeframe-type",className:"text-gray-700 dark:text-gray-300 text-sm font-medium",children:"Type"}),a.jsxs(Xs,{value:$l,onValueChange:cf,children:[a.jsx(Is,{className:"w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:a.jsx(Qs,{})}),a.jsxs(Os,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[a.jsx(Ir,{value:"minutes",children:"minutes"}),a.jsx(Ir,{value:"hr",children:"hr"}),a.jsx(Ir,{value:"d",children:"d"}),a.jsx(Ir,{value:"m",children:"m"}),a.jsx(Ir,{value:"w",children:"w"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Hr,{htmlFor:"timeframe-interval",className:"text-gray-700 dark:text-gray-300 text-sm font-medium",children:"Interval"}),a.jsx(qr,{id:"timeframe-interval",placeholder:"Enter number",value:si,onChange:N=>Fl(N.target.value),className:"w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]})]}),a.jsxs("div",{className:"flex justify-center gap-3 pt-2",children:[a.jsx(H,{variant:"outline",onClick:()=>{Sc(!1),Fl("")},className:"flex-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",children:"Cancel"}),a.jsx(H,{onClick:()=>{if(si&&parseInt(si)>0){const N=Qg($l,si),M=I2($l,si);ye(I=>I.some(te=>te.value===N)?I:[...I,{value:N,label:M,deletable:!0}]),jt(N),Sc(!1),Fl("")}},disabled:!si||parseInt(si)<=0,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Add"})]})]})})]}),a.jsx(uu,{value:"trade",className:"p-0 -mx-6 h-[calc(100vh-120px)]",children:a.jsxs("div",{className:"flex h-full gap-0",children:[a.jsx("div",{className:"flex-[75] border-r border-border bg-[#131722]",children:a.jsx("div",{className:"h-full flex flex-col",children:a.jsx("div",{className:"flex-1 p-0",children:a.jsx(QSe,{height:typeof window<"u"?window.innerHeight-200:600,defaultSymbol:"NSE:NIFTY50-INDEX",interval:"15"})})})}),a.jsx("div",{className:"flex-[25] bg-muted/30",children:a.jsxs("div",{className:"h-full flex flex-col",children:[!Kt&&a.jsx("div",{className:"flex-1 border-b border-border p-3 overflow-hidden",children:a.jsx(xt,{className:"h-full bg-slate-900 dark:bg-slate-900 border-slate-700",children:a.jsxs(bt,{className:"p-4 h-full flex flex-col",children:[a.jsx("h3",{className:"text-base font-semibold mb-3 text-white",children:"Watchlist"}),a.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800",children:go.map((N,M)=>{const I=Fg[N],L=Tc[N],te=I||L,ae=te?{price:te.price,change:te.change,changePercent:te.changePercent,isPositive:te.isPositive,volume:te.volume,isLastTraded:te.isLastTraded||!1}:{price:0,changePercent:0,isPositive:!0,isLastTraded:!1};return a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded hover-elevate",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-medium text-slate-200",children:N}),a.jsx("span",{className:"text-[10px] text-slate-400",children:"NSE"})]}),a.jsx("div",{className:"flex flex-col items-end",children:te?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:"text-xs font-mono text-white",children:["",ae.price.toLocaleString("en-IN",{minimumFractionDigits:2})]}),ae.isLastTraded?a.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}):a.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("span",{className:`text-[10px] ${ae.isPositive?"text-green-400":"text-red-400"}`,children:[ae.isPositive?"+":"",ae.changePercent.toFixed(2),"%"]}),ae.isPositive?a.jsx(oa,{className:"w-2 h-2 text-green-400"}):a.jsx(iu,{className:"w-2 h-2 text-red-400"})]})]}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("div",{className:"animate-pulse bg-slate-600 h-3 w-12 rounded mb-1"}),a.jsx("span",{className:"text-[10px] text-slate-500",children:"Loading..."})]})})]},M)})})]})})}),a.jsx("div",{className:`${Kt||Ia?"h-full":"flex-1"} p-3 overflow-hidden`,children:a.jsx(xt,{className:"bg-slate-900 dark:bg-slate-900 border-slate-700 h-full",children:a.jsxs(bt,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:Ia?" Visual AI":Kt?"AI":"Notes AI"}),Kt&&!Ia&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Social Feed AI"}),Ia&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Chart Analysis"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>df(!Ia),className:`text-xs h-8 px-2 py-0 ${Ia?"text-blue-400 hover:text-blue-300 hover:bg-blue-950":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-visual-ai",title:Ia?"Switch to Notes AI":"Switch to Visual AI",children:Ia?a.jsx(CN,{className:"w-4 h-4"}):a.jsx(_N,{className:"w-4 h-4"})}),a.jsxs(H,{size:"sm",variant:Kt?"default":"ghost",onClick:()=>un(!Kt),className:`text-xs h-8 px-2 py-0 ${Kt?"bg-purple-600 hover:bg-purple-700 text-white":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-ai",children:[a.jsx(ro,{className:"w-6 h-6 mr-1"}),"AI"]}),!Kt&&!Ia&&(on?a.jsxs(a.Fragment,{children:[a.jsxs(H,{size:"sm",variant:"ghost",onClick:Fn,className:"text-xs text-red-400 hover:text-red-300 hover:bg-red-950 h-6 px-2","data-testid":"button-cancel-notes",children:[a.jsx(La,{className:"w-3 h-3 mr-1"}),"Cancel"]}),a.jsxs(H,{size:"sm",onClick:qg,className:"text-xs bg-green-600 hover:bg-green-700 text-white h-6 px-2","data-testid":"button-save-notes",children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Save"]})]}):a.jsxs(H,{size:"sm",variant:"ghost",onClick:zg,className:"text-xs text-gray-400 hover:text-white hover:bg-slate-800 h-6 px-2","data-testid":"button-edit-notes",children:[a.jsx(fl,{className:"w-3 h-3 mr-1"}),"Edit"]}))]})]}),a.jsx("div",{className:"h-96",children:Ia?a.jsx("div",{className:"h-full overflow-y-auto relative",children:a.jsxs("div",{className:"flex flex-col min-h-full",children:[a.jsx("div",{className:"h-80 flex-shrink-0",children:a.jsx(j8,{height:320,selectedPoints:ar||[],onPointsChange:N=>{fa(N),console.log(" Blackboard points updated:",N)},onReset:()=>fa([]),isExpanded:!0})}),a.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-slate-500 to-transparent my-4"}),a.jsxs("div",{className:"px-4 py-3 bg-slate-800/30 border border-slate-600/20 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-orange-400 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full"}),"Point Management"]}),ar&&ar.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:ar.map((N,M)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs bg-slate-700/50 p-2 rounded",children:[a.jsxs("span",{className:"text-yellow-400 min-w-[20px] font-medium",children:["#",N.pointNumber]}),a.jsxs("span",{className:"text-white min-w-[60px]",children:["",N.price.toFixed(2)]}),a.jsxs("select",{value:N.label||"",onChange:I=>{window.labelPoint&&window.labelPoint(N.pointNumber,I.target.value||null)},className:"bg-slate-600 text-white px-2 py-1 rounded text-xs border-none flex-1","data-testid":`select-point-label-${N.pointNumber}`,children:[a.jsx("option",{value:"none",children:"Select Label"}),a.jsx("option",{value:"Entry",children:" Entry"}),a.jsx("option",{value:"SL",children:" Stop Loss"}),a.jsx("option",{value:"Target",children:" Target"}),a.jsx("option",{value:"Breakout",children:" Breakout"})]}),N.label&&a.jsx("button",{onClick:()=>{window.addHorizontalRay&&window.addHorizontalRay(N.price,N.label,N.pointNumber)},className:"bg-orange-600 hover:bg-orange-500 text-white px-2 py-1 rounded text-xs","data-testid":`button-add-ray-${N.pointNumber}`,children:""})]},M))}),a.jsxs("div",{className:"border-t border-slate-600/50 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Quick Ray Add:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("SL")},className:"px-3 py-1 rounded text-xs bg-red-700 hover:bg-red-600 text-white","data-testid":"button-add-sl-ray",children:" SL"}),a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("Target")},className:"px-3 py-1 rounded text-xs bg-green-700 hover:bg-green-600 text-white","data-testid":"button-add-target-ray",children:" Target"}),a.jsx("button",{onClick:()=>{window.setIsAddingRay&&window.setIsAddingRay("Breakout")},className:"px-3 py-1 rounded text-xs bg-orange-700 hover:bg-orange-600 text-white","data-testid":"button-add-breakout-ray",children:" Breakout"})]})]}),Cn&&Cn.length>0&&a.jsxs("div",{className:"border-t border-slate-600/50 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Active Rays:"}),a.jsx("div",{className:"max-h-20 overflow-y-auto space-y-1",children:Cn.reduce((M,I)=>(M.find(te=>te.label===I.label&&Math.abs(te.price-I.price)<.01)||M.push(I),M),[]).map(M=>a.jsxs("div",{className:"flex items-center gap-2 text-xs bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{style:{color:M.color},className:"min-w-[50px] font-medium",children:M.label}),a.jsxs("span",{className:"text-white",children:["",M.price.toFixed(2)]}),M.pointNumber&&a.jsxs("span",{className:"text-yellow-400",children:["#",M.pointNumber]}),a.jsx("button",{onClick:()=>{window.removeHorizontalRay&&window.removeHorizontalRay(M.id)},className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs ml-auto","data-testid":`button-remove-ray-${M.id}`,children:""})]},M.id))})]})]}):a.jsx("div",{className:"text-xs text-slate-400 text-center py-4",children:"Click on the chart below to add manual points for pattern analysis"})]}),ar&&ar.length>=2&&a.jsxs("div",{className:"px-4 py-3 bg-slate-900/40 border border-blue-600/20 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-blue-400 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Smart Pattern Analysis"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-xs text-slate-300 mb-2",children:"Point Relationships:"}),a.jsx("div",{className:"bg-slate-800/50 p-3 rounded text-xs font-mono",children:(()=>{const N=[...ar].sort((I,L)=>I.pointNumber-L.pointNumber),M=[];for(let I=0;I<N.length;I++){const L=N[I],te=N[I+1];if(te){const ae=L.price>te.price?">":"<",ne=ae===">"?"text-red-400":"text-green-400";M.push(a.jsxs("span",{className:ne,children:[L.pointNumber,ae,te.pointNumber]},`${L.pointNumber}-${te.pointNumber}`))}}if(N.length>2){const I=N[N.length-1],L=N[0],te=I.price>L.price?">":"<",ae=te===">"?"text-red-400":"text-green-400";M.push(a.jsxs("span",{className:ae,children:[I.pointNumber,te,L.pointNumber]},`${I.pointNumber}-${L.pointNumber}`))}return M.map((I,L)=>a.jsxs("span",{children:[I,L<M.length-1&&a.jsx("span",{className:"text-slate-500",children:", "})]},L))})()})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"text-xs text-slate-300",children:"Active Pattern Structure:"}),a.jsxs("div",{className:"flex gap-2",children:[!wn&&ar.length>0&&a.jsx("button",{onClick:()=>{const N=ar.slice(0,-1);fa(N),window.selectedPoints=N,window.dispatchEvent(new CustomEvent("visualAIPointsUpdated",{detail:{selectedPoints:N,horizontalRays:Cn}})),console.log(` Deleted last point. Remaining: ${N.length} points`)},className:"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded text-xs font-medium","data-testid":"button-delete-point",children:" Delete"}),Cn&&Cn.length>0&&ar.length>=3&&a.jsx("button",{onClick:()=>{const N=prompt("Enter pattern name:");N&&N.trim()&&ja(N.trim())},className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1 rounded text-xs font-medium","data-testid":"button-save-pattern",children:" Save"})]})]}),a.jsx("div",{className:"bg-slate-800/50 p-3 rounded",children:(()=>{if(!Cn||Cn.length===0)return a.jsx("div",{className:"text-xs text-slate-400 italic",children:"Use Quick Ray buttons or label points to create your pattern structure"});const N=Cn.reduce((te,ae)=>(te[ae.label]||(te[ae.label]=ae),te),{}),M=N.SL,I=N.Breakout,L=N.Target;return a.jsxs("div",{className:"space-y-2",children:[M&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-red-400 font-medium",children:[" SL-",M.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",M.price.toFixed(2)]})]}),I&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-orange-400 font-medium",children:[" Breakout-",I.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",I.price.toFixed(2)]})]}),L&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("span",{className:"text-green-400 font-medium",children:[" Target-",L.pointNumber||"Ray"]}),a.jsxs("span",{className:"text-slate-400",children:["",L.price.toFixed(2)]})]}),!M&&!I&&!L&&a.jsx("div",{className:"text-xs text-slate-400 italic",children:"No SL, Breakout, or Target rays assigned yet"})]})})()})]}),ar.length>=3&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-300 mb-2",children:"Pattern Metrics:"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:(()=>{const N=[...ar].sort((ne,Te)=>ne.pointNumber-Te.pointNumber),M=N.map(ne=>ne.price),I=Math.max(...M)-Math.min(...M),L=M.reduce((ne,Te)=>ne+Te,0)/M.length,te=(I/L*100).toFixed(1),ae=(I*.6/(I*.3)).toFixed(1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Range:"}),a.jsxs("span",{className:"text-white ml-1",children:["",I.toFixed(2)]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Volatility:"}),a.jsxs("span",{className:`ml-1 ${parseFloat(te)>2?"text-red-400":"text-green-400"}`,children:[te,"%"]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"R:R Ratio:"}),a.jsxs("span",{className:"text-blue-400 ml-1",children:["1:",ae]})]}),a.jsxs("div",{className:"bg-slate-700/30 p-2 rounded",children:[a.jsx("span",{className:"text-slate-400",children:"Points:"}),a.jsx("span",{className:"text-yellow-400 ml-1",children:N.length})]})]})})()})]})]}),a.jsxs("div",{className:"px-4 py-3 bg-slate-800/50 border border-slate-600/30 rounded-lg",children:[a.jsxs("div",{className:"text-xs font-medium text-blue-400 mb-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"AI Chart Analysis"]}),a.jsx("div",{className:"flex items-center gap-1 bg-slate-700 rounded p-1",children:a.jsx("span",{className:"h-5 px-2 text-[10px] bg-blue-600 text-white rounded text-center flex items-center",children:" Candles"})})]}),a.jsxs("div",{className:"text-xs text-slate-300 leading-relaxed space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Period:"})," "," ",a.jsx("span",{className:"text-white font-medium",children:`${(()=>{switch(r){case"1":return"1min";case"5":return"5min";case"15":return"15min";case"30":return"30min";case"60":return"1hr";case"240":return"4hr";case"1440":return"1d";default:return r}})()} Timeframe`}),a.jsxs("span",{className:"ml-2 text-slate-400",children:["(",((bf=Fe==null?void 0:Fe.candles)==null?void 0:bf.length)||0," candles)"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Price Movement:"})," "," ",(()=>{var ae,ne,Te,Pe,We,_t,It,ur,Gt;if(!Re||!((ae=Fe==null?void 0:Fe.candles)!=null&&ae.length)){const St=(Fe==null?void 0:Fe.candles)||[];if(St.length===0)return a.jsx("span",{className:"text-slate-500",children:"No data available"});const Ot=((ne=St[0])==null?void 0:ne.close)||((Te=St[0])==null?void 0:Te.price)||0,xn=((Pe=St[St.length-1])==null?void 0:Pe.close)||((We=St[St.length-1])==null?void 0:We.price)||0,Xe=xn-Ot,hr=Ot?(Xe/Ot*100).toFixed(2):"0.00";return a.jsxs("span",{className:Xe>=0?"text-green-400 font-medium":"text-red-400 font-medium",children:["",Ot.toFixed(2),"  ",xn.toFixed(2)," (",Xe>=0?"+":"",hr,"%)"]})}const N=cr(Fe.candles,Re);if(N.length===0)return a.jsx("span",{className:"text-slate-500",children:"No data in range"});const M=((_t=N[0])==null?void 0:_t.close)||((It=N[0])==null?void 0:It.price)||0,I=((ur=N[N.length-1])==null?void 0:ur.close)||((Gt=N[N.length-1])==null?void 0:Gt.price)||0,L=I-M,te=M?(L/M*100).toFixed(2):"0.00";return a.jsxs("span",{className:L>=0?"text-green-400 font-medium":"text-red-400 font-medium",children:["",M.toFixed(2),"  ",I.toFixed(2)," (",L>=0?"+":"",te,"%)"]})})()]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Active Indicators:"})," "," ",Object.keys(qn).length>0?a.jsx("span",{className:"text-purple-400 font-medium",children:Object.entries(qn).map(([N,M])=>`${N.toUpperCase()}(${M.length})`).join(", ")}):a.jsx("span",{className:"text-slate-500",children:"None applied"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-400",children:"Trend Analysis:"})," "," ",(()=>{const N=Re?cr((Fe==null?void 0:Fe.candles)||[],Re):(Fe==null?void 0:Fe.candles)||[];if(N.length<3)return a.jsx("span",{className:"text-slate-500",children:"Insufficient data"});const I=N.slice(-3).map(ae=>ae.close||ae.price||0),L=I[2]>I[1]&&I[1]>I[0]?"Bullish":I[2]<I[1]&&I[1]<I[0]?"Bearish":"Sideways",te=L==="Bullish"?"text-green-400":L==="Bearish"?"text-red-400":"text-yellow-400";return a.jsxs("span",{className:`${te} font-medium`,children:[L," momentum detected"]})})()]})]})]})]})}):Kt?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto p-3 space-y-3 bg-slate-800 rounded-lg border border-slate-700",children:mt.length===0?a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-2",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-2",children:" Social Feed Stocks"}),a.jsx("div",{className:"flex flex-wrap gap-1 justify-center mb-3",children:Vn.map(N=>a.jsx(Dr,{variant:"outline",className:"text-[10px] px-2 py-1 bg-green-50 text-green-700 border-green-200 dark:bg-green-900 dark:text-green-300 dark:border-green-700",children:N},N))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("generate strategy code"),className:"text-[10px] h-6 px-2 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-lg",children:" Generate strategy code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("emi code"),className:"text-[10px] h-6 px-2 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-lg",children:" EMI code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("rsi,ema code"),className:"text-[10px] h-6 px-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-lg",children:" RSI,EMA code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("show performance"),className:"text-[10px] h-6 px-2 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-lg",children:" Show performance"})]})]}):mt.map((N,M)=>a.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[80%] p-2 rounded-lg text-xs relative ${N.role==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gradient-to-r from-slate-700 to-slate-800 text-slate-100 border border-indigo-600/20"}`,children:N.isLoading?a.jsxs("div",{className:"flex items-center gap-3 py-2 px-4 bg-gradient-to-r from-slate-800 to-slate-700 border border-purple-500/30 rounded-lg animate-pulse",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),a.jsx("div",{className:"w-2.5 h-2.5 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]}),a.jsx("span",{className:"text-xs text-slate-300 font-medium animate-pulse",children:"BATTU AI is thinking..."})]}):N.isStockMessage&&N.stocks?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs text-slate-200 mb-3",children:N.content}),N.stocks.map((I,L)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded border border-slate-600 text-xs",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:I.symbol}),a.jsx("span",{className:"text-[10px] text-slate-400",children:I.exchange})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"font-bold text-white",children:["",I.price.toLocaleString("en-IN",{minimumFractionDigits:2})]}),a.jsxs("span",{className:`text-[10px] font-medium ${I.changePercentage>=0?"text-green-400":"text-red-400"}`,children:[I.changePercentage>=0?"+":"",I.change.toFixed(2)," ",I.changePercentage>=0?"+":"",I.changePercentage.toFixed(2),"%"]})]})]}),a.jsx(H,{size:"sm",variant:"outline",onClick:()=>yo(I.symbol),disabled:Vn.includes(I.symbol),className:"text-[10px] h-6 px-2 ml-2 text-orange-600 border-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:border-orange-400 dark:hover:bg-orange-900 disabled:opacity-50 disabled:cursor-not-allowed","data-testid":`button-add-${I.symbol}`,children:Vn.includes(I.symbol)?"":"+"})]},L)),a.jsx("div",{className:"mt-3 pt-2 border-t border-slate-600",children:a.jsx(H,{size:"sm",variant:"outline",onClick:()=>Id(N.stocks.map(I=>I.symbol)),className:"text-[10px] h-6 px-3 w-full text-orange-600 border-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:border-orange-400 dark:hover:bg-orange-900","data-testid":"button-add-all-stocks",children:"+ Add All Stocks to Feed"})}),N.role==="assistant"&&a.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{const I=N.content+`

`+N.stocks.map(L=>`${L.symbol}: ${L.price} (${L.changePercentage>=0?"+":""}${L.changePercentage.toFixed(2)}%)`).join(`
`);navigator.clipboard.writeText(I)},className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(qa,{className:"w-2.5 h-2.5"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(U0,{className:"w-2.5 h-2.5"})})]}),N.role==="assistant"&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-slate-600",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Analyze RELIANCE stock"),className:"text-[9px] h-5 px-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-md",children:" Analyze RELIANCE stock"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Market news today"),className:"text-[9px] h-5 px-1.5 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-md",children:" Market news today"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Best stocks to buy"),className:"text-[9px] h-5 px-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-md",children:" Best stocks to buy"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Upcoming IPOs"),className:"text-[9px] h-5 px-1.5 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-md",children:" Upcoming IPOs"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("Bond market trends"),className:"text-[9px] h-5 px-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:hover:bg-indigo-800 dark:text-indigo-300 dark:border-indigo-700 rounded-md",children:" Bond market trends"})]})]}):a.jsxs("div",{children:[N.role==="assistant"?a.jsx("div",{className:"space-y-2",children:mf(N.content).map((I,L)=>a.jsx("div",{children:I.type==="text"?a.jsx("div",{className:"bg-slate-700 text-gray-200 px-3 py-2 rounded-lg text-sm whitespace-pre-wrap",children:I.content}):a.jsxs("div",{className:"bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-slate-800 px-3 py-2 border-b border-slate-600",children:[a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"Strategy Code"}),a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>sm(I.content,M*100+L),className:"h-6 px-2 text-xs text-gray-400 hover:text-white hover:bg-slate-700",children:Eg===M*100+L?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-3 h-3 mr-1"}),"Copy"]})})]}),a.jsx("div",{className:"p-4 h-32 overflow-y-auto",children:a.jsx("pre",{className:"text-sm text-gray-100 font-mono whitespace-pre-wrap leading-relaxed tracking-wide break-all",children:I.content})})]})},L))}):a.jsx("div",{className:"mb-2 pr-16",children:N.content}),N.role==="assistant"&&N.newsData&&N.newsData.stocks&&a.jsxs("div",{className:"mt-4 space-y-2",children:[N.newsData.stocks.map((I,L)=>{const te=I.change&&I.change>=0?"text-green-400":"text-red-400",ae=I.change&&I.change>=0?"":"";return a.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-white",children:I.symbol}),a.jsx("span",{className:"text-xs text-slate-400",children:I.exchange||"NSE"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-lg font-bold text-white",children:["",I.price]}),a.jsxs("span",{className:`text-sm ${te} flex items-center gap-1`,children:[ae,I.change>=0?"+":"",I.change||0," ",I.changePercent>=0?"+":"",(I.changePercent||0).toFixed(2),"%"]})]})]}),a.jsx(H,{size:"sm",onClick:()=>yo(I.symbol),className:"h-8 w-8 rounded-full bg-purple-600 hover:bg-purple-700 text-white p-0 flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold",children:"+"})})]},L)}),a.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:a.jsxs(H,{onClick:()=>{const I=N.newsData.stocks.map(L=>L.symbol);Id(I)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-1.5 px-3 rounded text-sm flex items-center justify-center gap-1",children:[a.jsx("span",{className:"text-sm font-bold",children:"+"}),"Add All (",N.newsData.stocks.filter(I=>!Vn.includes(I.symbol)).length,")"]})})]}),N.role==="assistant"&&a.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(N.content),className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(qa,{className:"w-2.5 h-2.5"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"h-5 w-5 p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-600",children:a.jsx(U0,{className:"w-2.5 h-2.5"})})]}),N.role==="assistant"&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-slate-600",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("generate strategy code"),className:"text-[9px] h-5 px-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-md",children:" Generate strategy code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("emi code"),className:"text-[9px] h-5 px-1.5 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-md",children:" EMI code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("rsi+ema code"),className:"text-[9px] h-5 px-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-md",children:" RSI+EMA code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("show performance"),className:"text-[9px] h-5 px-1.5 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-md",children:" Show performance"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>ft("optimize my strategy"),className:"text-[9px] h-5 px-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900 dark:hover:bg-indigo-800 dark:text-indigo-300 dark:border-indigo-700 rounded-md",children:" Optimize strategy"})]})]})})},M))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{value:dr,onChange:N=>ft(N.target.value),onKeyPress:N=>{N.key==="Enter"&&!gn&&dr.trim()&&(xr(M=>[...M,{role:"user",content:dr}]),rr(!0),Pc(dr),ft(""))},placeholder:"Ask strategy AI: generate strategy code, show performance...",className:"flex-1 px-3 py-2 text-xs border border-slate-600 rounded-lg bg-slate-800 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:gn}),a.jsx(H,{size:"sm",onClick:()=>{dr.trim()&&!gn&&(xr(N=>[...N,{role:"user",content:dr}]),rr(!0),Pc(dr),ft(""))},disabled:gn||!dr.trim(),className:"h-8 px-3 bg-purple-600 hover:bg-purple-700 text-white text-xs",children:"Send"})]})]}):on?a.jsx("textarea",{value:aa,onChange:N=>Rr(N.target.value),placeholder:"Write your trading notes, strategies, observations...",className:"w-full h-full p-3 text-sm border border-slate-600 rounded-lg bg-slate-800 text-white placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"textarea-notes"}):a.jsx("div",{className:"h-full p-3 text-sm border border-slate-700 rounded-lg bg-slate-800 text-white overflow-y-auto",children:At?a.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:At}):a.jsx("p",{className:"text-slate-400 italic",children:"No trading notes yet. Click Edit to add your first note."})})})]})})})]})})]})}),a.jsxs(uu,{value:"backtest",className:"p-6 flex gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Cu,{className:"absolute left-3 top-1/2 transform -y-1/2 text-gray-400 h-4 w-4"}),a.jsx(qr,{placeholder:"Search strategy...",className:"pl-10 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","data-testid":"input-search-strategy"})]}),a.jsx(H,{variant:"outline",size:"sm",className:"text-gray-600 dark:text-gray-300","data-testid":"button-sort-by",children:"Sort by"}),a.jsx(H,{variant:"outline",size:"sm",className:"text-gray-600 dark:text-gray-300","data-testid":"button-filters",children:"Filters"}),a.jsx(H,{variant:"outline",size:"sm",className:"text-gray-600 dark:text-gray-300","data-testid":"button-my-strategies",children:"My Strategies"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(H,{variant:"outline",size:"sm",className:"text-gray-600 dark:text-gray-300","data-testid":"button-visual-chart",onClick:()=>ge(!0),children:"Visual Chart"}),a.jsx(H,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300","data-testid":"button-clear-all",onClick:re,children:" Clear All"}),a.jsx(H,{className:"bg-gray-800 hover:bg-gray-900 text-white","data-testid":"button-add-strategy",onClick:()=>Z(!0),children:"+ Add Strategy"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Strategy Performance"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${oi.netPnL>=0?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-xs text-gray-500",children:oi.netPnL>=0?"Profitable":"Not Profitable"})]})]}),a.jsx("div",{className:"h-20",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(bb,{data:(()=>{if(Se.length>0){let N=0;return Se.map((M,I)=>{var L;return N+=M.pnl,{trade:I+1,pnl:N,time:((L=M.crossingData)==null?void 0:L.time)||`T${I+1}`}})}else{const N=[{pnl:2850},{pnl:-1200},{pnl:1500},{pnl:-800},{pnl:3200},{pnl:-900},{pnl:1800},{pnl:-1500}];let M=0;return N.map((I,L)=>(M+=I.pnl,{trade:L+1,pnl:M,time:`T${L+1}`}))}})(),children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"strategyPerformanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:oi.netPnL>=0?"#16a34a":"#e5e7eb",stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:oi.netPnL>=0?"#16a34a":"#e5e7eb",stopOpacity:.2})]})}),a.jsx(yi,{dataKey:"trade",axisLine:!1,tickLine:!1,tick:!1,height:0}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:9,fill:"#9ca3af"},width:30,tickFormatter:N=>Math.abs(N)>=1e3?`${N>=0?"":"-"}${Math.abs(N/1e3).toFixed(0)}K`:N.toString()}),a.jsx(Ha,{content:({active:N,payload:M,label:I})=>{if(N&&M&&M.length){const L=M[0].payload;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border text-xs shadow-lg",children:[a.jsxs("p",{className:"font-medium",children:["Trade ",I]}),a.jsxs("p",{className:`${L.pnl>=0?"text-green-600":"text-red-600"}`,children:["",L.pnl.toLocaleString("en-IN")]}),a.jsx("p",{className:"text-gray-500",children:L.time})]})}return null}}),a.jsx(kl,{type:"monotone",dataKey:"pnl",stroke:oi.netPnL>=0?"#16a34a":"#1f2937",strokeWidth:2,fill:"url(#strategyPerformanceGradient)",fillOpacity:1,dot:!1,activeDot:{r:3,fill:oi.netPnL>=0?"#16a34a":"#dc2626"}}),a.jsx(gh,{y:0,stroke:"#9ca3af",strokeDasharray:"2 2",strokeWidth:1})]})})}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Se.length>0?Se.length:ze.totalTrades," strategies tested"]})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-3",children:[a.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[a.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 80 80",children:[a.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#e5e7eb",strokeWidth:"4",fill:"none"}),a.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#374151",strokeWidth:"4",fill:"none",strokeDasharray:`${ze.winRate*2.26} ${226.2}`,className:ze.winRate>50?"text-green-500":"text-red-500"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[ze.winRate,"%"]})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Win Rate"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Profitable trades"})]})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Active Strategies"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:ze.totalTrades}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Trades"})]}),a.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-lg font-bold text-green-600",children:ze.totalTrades>0?Se.filter(N=>N.pnl>0).length:0}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Win Trades"})]}),a.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-lg font-bold text-red-600",children:ze.totalTrades>0?Se.filter(N=>N.pnl<0).length:0}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Loss Trades"})]})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total Profit"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",ze.totalProfit.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Winning trades"}),a.jsx("span",{className:"text-xs text-green-600",children:""})]})]})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total Loss"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold text-red-600",children:["",ze.totalLoss.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Losing trades"}),a.jsx("span",{className:"text-xs text-red-600",children:""})]})]})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Net P&L"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:`text-2xl font-bold ${ze.netPnL>=0?"text-green-600":"text-red-600"}`,children:["",ze.netPnL.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Overall"}),a.jsx("span",{className:`text-xs ${ze.netPnL>=0?"text-green-600":"text-red-600"}`,children:""})]})]})]})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-900 p-3 rounded-lg",children:[a.jsxs(Ks,{open:Be,onOpenChange:Ae,children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":Be,className:"w-40 h-8 justify-between bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-xs px-2",children:[dt?((im=sb.find(N=>N.value===dt))==null?void 0:im.label)||dt:"Select symbol...",a.jsx(Dv,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),a.jsx(Es,{className:"w-72 p-0 bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:a.jsxs(vC,{children:[a.jsx(bC,{placeholder:"Search stocks...",value:Ue,onValueChange:vt,className:"text-xs bg-white dark:bg-black text-gray-900 dark:text-white border-none"}),a.jsxs(wC,{className:"bg-white dark:bg-black",children:[a.jsx(NC,{className:"text-gray-900 dark:text-white py-3 text-center text-xs",children:"No stock found."}),a.jsx(jC,{className:"bg-white dark:bg-black",children:sb.filter(N=>N.label.toLowerCase().includes(Ue.toLowerCase())||N.value.toLowerCase().includes(Ue.toLowerCase())).map(N=>a.jsxs(SC,{value:N.value,onSelect:M=>{wr(M===dt?"":M),Ae(!1),vt("")},className:"flex items-center px-2 py-1.5 text-xs text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900 cursor-pointer",children:[a.jsx($i,{className:Nt("mr-2 h-3 w-3 flex-shrink-0",dt===N.value?"opacity-100":"opacity-0")}),a.jsx("span",{className:"truncate",children:N.label})]},N.value))})]})]})})]}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",className:"w-20 h-8 justify-between bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs px-2",children:[((t0=Md().find(N=>N.value===nr))==null?void 0:t0.label)||nr,a.jsx(Dv,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),a.jsx(Es,{className:"w-40 p-1 bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600",children:a.jsxs("div",{className:"grid gap-1",children:[Md().map(N=>a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 group",children:[a.jsx("button",{className:"flex-1 text-left text-xs text-gray-900 dark:text-slate-300",onClick:()=>{jt(N.value)},children:N.label}),N.deletable&&a.jsx("button",{className:"ml-1 w-4 h-4 flex items-center justify-center hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-500 text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",onClick:M=>{M.stopPropagation(),Ic(N.value)},title:"Delete timeframe",children:""})]},N.value)),a.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 mt-1 pt-1",children:a.jsx("button",{className:"w-full text-left px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-slate-700 text-xs text-gray-900 dark:text-slate-300",onClick:()=>Sc(!0),children:"+ Add Custom"})})]})})]}),a.jsx(H,{onClick:()=>Nr(!nn),variant:"outline",size:"sm",className:`h-8 px-2 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 ${nn?"bg-gray-100 dark:bg-slate-700":""}`,title:"Select Date Range",children:a.jsx(oo,{className:"h-3 w-3"})})]}),nn&&a.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hr,{className:"text-gray-700 dark:text-slate-300 text-xs font-medium min-w-[40px]",children:"From:"}),a.jsx(qr,{type:"date",value:Vr,onChange:N=>pn(N.target.value),className:"flex-1 h-8 bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hr,{className:"text-gray-700 dark:text-slate-300 text-xs font-medium min-w-[40px]",children:"To:"}),a.jsx(qr,{type:"date",value:Tr,onChange:N=>fr(N.target.value),className:"flex-1 h-8 bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-300 text-xs"})]}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400 text-center",children:Vr===Tr?a.jsxs("div",{children:[a.jsxs("div",{children:[" Single day: ",Vr]}),a.jsx("div",{className:"mt-1 text-green-600 dark:text-green-400 font-medium",children:Ts(new Date,"yyyy-MM-dd")===Vr?" Today's market data":" Last trading day"})]}):` Range: ${Vr} to ${Tr}`})]}),a.jsx("div",{className:"max-h-[600px] overflow-y-auto pr-2 custom-thin-scrollbar",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[!k.includes(1)&&rt.find(N=>N.id===1)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:(av=rt.find(N=>N.id===1))==null?void 0:av.name}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-40 p-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-indigo-600 hover:bg-indigo-50",onClick:()=>D(rt.find(N=>N.id===1)),children:[a.jsx(fl,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-blue-600 hover:bg-blue-50",onClick:()=>B(rt.find(N=>N.id===1)),children:[a.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(1),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pattern recognition and breakout strategy for intraday trading"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 15 Mar"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"2"}),a.jsx("span",{children:" 1"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-gray-100 hover:bg-gray-200 text-gray-700 border-0 px-3 py-1.5 text-xs rounded-md font-medium","data-testid":"button-test-strategy-1",onClick:()=>z(rt.find(N=>N.id===1)),disabled:nt.has(1),children:nt.has(1)?"Testing...":"Test"})]})}),!k.includes(2)&&rt.find(N=>N.id===2)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:(tl=rt.find(N=>N.id===2))==null?void 0:tl.name}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsxs(Es,{className:"w-32 p-1",children:[a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-indigo-600 hover:bg-indigo-50",onClick:()=>D(rt.find(N=>N.id===2)),children:[a.jsx(fl,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-blue-600 hover:bg-blue-50",onClick:()=>B(rt.find(N=>N.id===2)),children:[a.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(2),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Momentum strategy based on RSI divergence patterns"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 12 Mar"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"4"}),a.jsx("span",{children:" 3"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-2",onClick:()=>z(rt.find(N=>N.id===2)),disabled:nt.has(2),children:nt.has(2)?"Testing...":"Test"})]})}),!k.includes(4)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Bollinger Squeeze"}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-32 p-1",children:a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(4),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Volatility breakout strategy using Bollinger Bands"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 08 Mar"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"1"}),a.jsx("span",{children:" 4"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-4",onClick:()=>z(rt.find(N=>N.id===4)),disabled:nt.has(4),children:nt.has(4)?"Testing...":"Test"})]})}),!k.includes(5)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Mean Reversion"}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-32 p-1",children:a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(5),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Counter-trend strategy for oversold/overbought conditions"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 05 Mar"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"1"}),a.jsx("span",{children:" 2"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-5",onClick:()=>z(rt.find(N=>N.id===5)),disabled:nt.has(5),children:nt.has(5)?"Testing...":"Test"})]})}),!k.includes(6)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Momentum Breakout"}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-32 p-1",children:a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(6),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"High-momentum breakout strategy with volume confirmation"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 02 Mar"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"2"}),a.jsx("span",{children:" 5"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-6",onClick:()=>z(rt.find(N=>N.id===6)),disabled:nt.has(6),children:nt.has(6)?"Testing...":"Test"})]})}),!k.includes(7)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Grid Trading"}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-32 p-1",children:a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(7),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Automated grid-based trading system for sideways markets"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 28 Feb"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"4"}),a.jsx("span",{children:" 7"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-7",onClick:()=>z(rt.find(N=>N.id===7)),disabled:nt.has(7),children:nt.has(7)?"Testing...":"Test"})]})}),!k.includes(8)&&a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Arbitrage Scanner"}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-32 p-1",children:a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>S(8),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Cross-exchange arbitrage opportunities for risk-free profits"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:" 25 Feb"}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"4"}),a.jsx("span",{children:" 3"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-black border border-gray-300 px-3 py-1 text-xs rounded shadow-sm","data-testid":"button-test-strategy-8",onClick:()=>z(rt.find(N=>N.id===8)),disabled:nt.has(8),children:nt.has(8)?"Testing...":"Test"})]})}),K.map(N=>N.isImported?a.jsxs(xt,{className:"bg-slate-700 dark:bg-slate-800 border-slate-600 dark:border-slate-700 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-800 dark:bg-slate-900 px-4 py-3 border-b border-slate-600 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-medium text-lg",children:N.name}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-slate-400 hover:text-white",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-40 p-1 bg-slate-800 border-slate-600",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-indigo-400 hover:bg-slate-700",onClick:()=>D(N),children:[a.jsx(fl,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-blue-400 hover:bg-slate-700",onClick:()=>B(N),children:[a.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-400 hover:bg-slate-700",onClick:()=>Ie(N.id),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]})]}),a.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:[N.indicator," crossover strategy for trend following"]})]}),a.jsxs(bt,{className:"p-4 bg-slate-700 dark:bg-slate-800 text-white",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-green-400",children:""}),a.jsxs("span",{className:"text-slate-300",children:["Live since ",new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short"})]})]}),a.jsx(Dr,{className:"bg-slate-600 text-white text-xs px-2 py-0",children:"1"}),a.jsx("span",{className:"text-slate-400",children:"= 2"})]}),a.jsxs("div",{className:"text-xs text-slate-300 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:"rahul.sharma@trading.com"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs bg-slate-600 px-2 py-0.5 rounded",children:"RS"}),a.jsx("span",{className:"text-slate-400",children:"Rahul Sharma"})]})]}),a.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:[N.indicator,"-",N.period,"  ",N.entryCondition,"  SL: ",N.slCondition,"  Exit: ",N.exitRule]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-white hover:bg-gray-100 text-slate-800 border border-gray-300 px-3 py-1 text-xs rounded shadow-sm font-medium","data-testid":`button-test-strategy-${N.id}`,onClick:()=>z(N),disabled:nt.has(Number(N.id)),children:nt.has(Number(N.id))?"Testing...":"Test"})]})]},N.id):a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow relative",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:N.name}),a.jsxs(Ks,{children:[a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Es,{className:"w-40 p-1",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-indigo-600 hover:bg-indigo-50",onClick:()=>D(N),children:[a.jsx(fl,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-blue-600 hover:bg-blue-50",onClick:()=>B(N),children:[a.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(H,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>Ie(N.id),children:[a.jsx(gs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]})]}),a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[N.indicator,"-",N.period," ",N.entryCondition,"  Exit: ",N.exitRule]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsxs("span",{children:[" ",N.dateAdded]}),a.jsx(Dr,{variant:"outline",className:"text-xs",children:"Custom"})]})]}),a.jsx(H,{className:"absolute bottom-3 right-3 bg-gray-100 hover:bg-gray-200 text-gray-700 border-0 px-3 py-1.5 text-xs rounded-md font-medium","data-testid":`button-test-strategy-${N.id}`,onClick:()=>z(N),disabled:nt.has(Number(N.id)),children:nt.has(Number(N.id))?"Testing...":"Test"})]})},N.id))]})})]})]}),a.jsxs("div",{className:"w-80 bg-slate-900 border-l border-slate-700 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Trading Community"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Follow & copy strategies from top traders"})]}),a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:"ME"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-medium",children:"Your Profile"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Active trader"})]}),a.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-medium",children:"Online"})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 max-h-80",children:[a.jsxs("h3",{className:"text-white font-medium mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"Top Traders"}),a.jsx(Dr,{className:"bg-indigo-600 text-white",children:"4 Active"})]}),a.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 hover:bg-slate-750 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"JL"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium",children:"Jack Linton"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Day trader"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{size:"sm",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white text-xs",onClick:()=>qe("jack_linton","EMA+RSI Multi Strategy"),children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy Strategy"]}),a.jsx(H,{size:"sm",variant:"outline",className:"px-2 border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>Ne("jack_linton"),children:a.jsx(rc,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 hover:bg-slate-750 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"SW"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium",children:"Samuel Waters"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Active trader"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{size:"sm",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white text-xs",onClick:()=>qe("samuel_waters","SMA+MACD Power Combo"),children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy Strategy"]}),a.jsx(H,{size:"sm",variant:"outline",className:"px-2 border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>Ne("samuel_waters"),children:a.jsx(rc,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 hover:bg-slate-750 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"HM"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium",children:"Henry Mercer"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Active trader"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{size:"sm",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white text-xs",onClick:()=>qe("henry_mercer","RSI+Bollinger Bands"),children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy Strategy"]}),a.jsx(H,{size:"sm",variant:"outline",className:"px-2 border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>Ne("henry_mercer"),children:a.jsx(rc,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 hover:bg-slate-750 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"AR"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium",children:"Amelia Rowann"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Day trader"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{size:"sm",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white text-xs",onClick:()=>qe("amelia_rowann","Triple EMA + Volume"),children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy Strategy"]}),a.jsx(H,{size:"sm",variant:"outline",className:"px-2 border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>Ne("amelia_rowann"),children:a.jsx(rc,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"border-t border-slate-700 bg-slate-900",children:[a.jsx("div",{className:"p-4 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:Qo?" Visual AI":An?"AI":"Notes AI"}),An&&!Qo&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"strategy AI"}),Qo&&a.jsx(Dr,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Chart Analysis"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>Jy(!Qo),className:`text-xs h-8 px-2 py-0 ${Qo?"text-blue-400 hover:text-blue-300 hover:bg-blue-950":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-sidebar-visual-ai",title:Qo?"Switch to Notes AI":"Switch to Visual AI",children:Qo?a.jsx(CN,{className:"w-4 h-4"}):a.jsx(_N,{className:"w-4 h-4"})}),a.jsxs(H,{size:"sm",variant:An?"default":"ghost",onClick:()=>Ba(!An),className:`text-xs h-8 px-2 py-0 ${An?"bg-purple-600 hover:bg-purple-700 text-white":"text-gray-400 hover:text-white hover:bg-slate-800"}`,"data-testid":"button-toggle-ai",children:[a.jsx(ro,{className:"w-6 h-6 mr-1"}),"AI"]}),!An&&!Qo&&(Ag?a.jsxs(a.Fragment,{children:[a.jsxs(H,{size:"sm",variant:"ghost",onClick:hf,className:"text-xs text-red-400 hover:text-red-300 hover:bg-red-950 h-8 px-2","data-testid":"button-cancel-notes",children:[a.jsx(La,{className:"w-3 h-3 mr-1"}),"Cancel"]}),a.jsxs(H,{size:"sm",onClick:am,className:"text-xs bg-green-600 hover:bg-green-700 text-white h-8 px-2","data-testid":"button-save-notes",children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Save"]})]}):a.jsxs(H,{size:"sm",variant:"ghost",onClick:Vg,className:"text-xs text-gray-400 hover:text-white hover:bg-slate-800 h-8 px-2","data-testid":"button-edit-notes",children:[a.jsx(fl,{className:"w-3 h-3 mr-1"}),"Edit"]}))]})]})}),a.jsx("div",{className:"h-96",children:Qo?a.jsx("div",{className:"h-full p-2",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:(()=>{var M;if(!Re||!((M=Fe==null?void 0:Fe.candles)!=null&&M.length))return[];const N=cr(Fe.candles,Re);return N.map((I,L)=>({time:`${Math.floor((Re[0]+L*((Re[1]-Re[0])/N.length))/60)}:${String(Math.floor((Re[0]+L*((Re[1]-Re[0])/N.length))%60)).padStart(2,"0")}`,price:I.close||I.price||0}))})(),margin:{top:5,right:20,left:1.5,bottom:5},children:[a.jsx(yi,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickCount:8}),a.jsx(Js,{domain:["dataMin - 10","dataMax + 10"],axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},width:35}),a.jsx(Ha,{content:({active:N,payload:M,label:I})=>{if(!N||!M||!M.length)return null;const L=M[0].value;return a.jsxs("div",{style:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"6px",color:"#e2e8f0",padding:"8px 16px",fontSize:"13px",minWidth:"140px",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",display:"flex",alignItems:"center",gap:"12px"},children:[a.jsxs("span",{style:{fontSize:"13px",fontWeight:"500"},children:["",Number(L).toFixed(2)]}),a.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:"#475569"}}),a.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:I})]})}}),a.jsx(ga,{type:"linear",dataKey:"price",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#10b981"}}),a.jsx(gh,{y:(()=>{var M,I,L;if(!Re||!((M=Fe==null?void 0:Fe.candles)!=null&&M.length))return 0;const N=cr(Fe.candles,Re);return N.length===0?0:((I=N[0])==null?void 0:I.close)||((L=N[0])==null?void 0:L.price)||0})(),stroke:"#64748b",strokeDasharray:"2 2",strokeWidth:1})]})})}):An?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"flex-1 max-h-80 overflow-y-auto p-3 space-y-3 bg-slate-800 rounded-lg border border-slate-700 m-4",children:Qn.length===0?a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-2",children:[a.jsx("p",{className:"text-sm mb-4",children:" Strategy AI Ready"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[a.jsx(H,{variant:"outline",size:"sm",onClick:()=>In("generate strategy code"),className:"text-[10px] h-6 px-2 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300 dark:border-purple-700 rounded-lg",children:" Generate strategy code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>In("emi code"),className:"text-[10px] h-6 px-2 bg-green-50 hover:bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300 dark:border-green-700 rounded-lg",children:" EMI code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>In("rsi+ema code"),className:"text-[10px] h-6 px-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 dark:border-blue-700 rounded-lg",children:" RSI+EMA code"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>In("show performance"),className:"text-[10px] h-6 px-2 bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300 dark:border-orange-700 rounded-lg",children:" Show performance"})]}),a.jsx("p",{className:"text-[10px] text-purple-600 dark:text-purple-400 font-medium",children:"Generate unique trading strategies instantly!"})]}):a.jsxs("div",{className:"space-y-3",children:[Qn.map((N,M)=>a.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-md ${N.role==="user"?"":"w-full"}`,children:[N.role==="user"?a.jsx("div",{className:"bg-purple-600 text-white px-3 py-2 rounded-lg text-sm",children:N.content}):a.jsxs("div",{className:"space-y-2",children:[mf(N.content).map((I,L)=>a.jsx("div",{children:I.type==="text"?a.jsx("div",{className:"bg-slate-700 text-gray-200 px-3 py-2 rounded-lg text-sm whitespace-pre-wrap",children:I.content}):a.jsxs("div",{className:"bg-slate-900 border border-slate-600 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between bg-slate-800 px-3 py-2 border-b border-slate-600",children:[a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"Strategy Code"}),a.jsx(H,{size:"sm",variant:"ghost",onClick:()=>sm(I.content,M*100+L),className:"h-6 px-2 text-xs text-gray-400 hover:text-white hover:bg-slate-700",children:Eg===M*100+L?a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"w-3 h-3 mr-1"}),"Copy"]})})]}),a.jsx("div",{className:"p-4 h-32 overflow-y-auto",children:a.jsx("pre",{className:"text-sm text-gray-100 font-mono whitespace-pre-wrap leading-relaxed tracking-wide break-all",children:I.content})})]})},L)),N.role==="assistant"&&N.newsData&&N.newsData.stocks&&a.jsxs("div",{className:"mt-3 space-y-2",children:[N.newsData.stocks.map((I,L)=>{const te=I.change&&I.change>=0?"text-green-400":"text-red-400",ae=I.change&&I.change>=0?"":"";return a.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-white text-sm",children:I.symbol}),a.jsx("span",{className:"text-xs text-slate-400",children:I.exchange||"NSE"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-sm font-bold text-white",children:["",I.price]}),a.jsxs("span",{className:`text-xs ${te} flex items-center gap-1`,children:[ae,I.change>=0?"+":"",I.change||0," ",I.changePercent>=0?"+":"",(I.changePercent||0).toFixed(2),"%"]})]})]}),a.jsx(H,{size:"sm",onClick:()=>yo(I.symbol),className:"h-6 w-6 rounded-full bg-purple-600 hover:bg-purple-700 text-white p-0 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold",children:"+"})})]},L)}),a.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:a.jsxs(H,{onClick:()=>{const I=N.newsData.stocks.map(L=>L.symbol);Id(I)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-1.5 px-2 rounded text-xs flex items-center justify-center gap-1",children:[a.jsx("span",{className:"text-xs font-bold",children:"+"}),"Add All (",N.newsData.stocks.filter(I=>!Vn.includes(I.symbol)).length,")"]})})]})]}),N.isLoading&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 py-2 px-3 bg-gradient-to-r from-slate-800 to-slate-700 border border-purple-500/20 rounded-lg animate-pulse",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]}),a.jsx("span",{className:"text-xs text-slate-300 font-medium animate-pulse",children:"BATTU AI is thinking..."})]})]})},M)),Pi&&a.jsx("div",{className:"flex justify-start animate-fadeIn",children:a.jsx("div",{className:"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-200 max-w-sm px-4 py-3 rounded-lg border border-purple-500/30 animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]}),a.jsx("span",{className:"text-xs text-slate-300 font-medium animate-pulse",children:"BATTU AI is thinking..."})]})})})]})}),a.jsx("div",{className:"p-4 border-t border-slate-700",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Ask about trading patterns...",value:Ja,onChange:N=>In(N.target.value),onKeyPress:N=>{N.key==="Enter"&&!Pi&&Ja.trim()&&(ii(M=>[...M,{role:"user",content:Ja}]),kc(!0),Ad(Ja),In(""))},className:"flex-1 px-3 py-2 text-sm bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"}),a.jsx(H,{size:"sm",onClick:()=>{Ja.trim()&&!Pi&&(ii(N=>[...N,{role:"user",content:Ja}]),kc(!0),Ad(Ja),In(""))},disabled:Pi||!Ja.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4",children:a.jsx(dw,{className:"w-4 h-4"})})]})})]}):a.jsx("div",{className:"h-full flex flex-col p-4",children:a.jsx("div",{className:"flex-1 bg-slate-800 rounded-lg border border-slate-700",children:Ag?a.jsx("textarea",{value:_c,onChange:N=>Cc(N.target.value),placeholder:"Write your trading notes, strategies, observations...",className:"w-full h-full p-3 text-sm border-0 rounded-lg bg-slate-800 text-white placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"textarea-sidebar-notes"}):a.jsx("div",{className:"h-full p-3 overflow-y-auto",children:At?a.jsx("div",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:At}):a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Gm,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-sm mb-2",children:"No notes yet"}),a.jsx("p",{className:"text-xs",children:"Click Edit to add your trading insights"})]})})})})})})]})]})]}),a.jsxs(uu,{value:"options",className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Underlying:"}),a.jsx("span",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-md text-sm font-medium text-gray-800 dark:text-white border",children:"NIFTY"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry:"}),a.jsxs(Xs,{value:Oe,onValueChange:N=>{ht(N),ct(""),setTimeout(()=>{el(),Ac()},100)},children:[a.jsx(Is,{className:"w-[140px] h-10 text-sm","data-testid":"select-expiry",children:a.jsx(Qs,{placeholder:"Select expiry"})}),a.jsxs(Os,{children:[a.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:a.jsx("input",{type:"text",placeholder:"Search expiry dates...",value:at,onChange:N=>ct(N.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500","data-testid":"input-expiry-search",onClick:N=>N.stopPropagation(),onKeyDown:N=>N.stopPropagation()})}),((Le==null?void 0:Le.expiry_dates)||["2025-09-19","2025-09-26","2025-10-03","2025-10-10","2025-10-17","2025-10-24","2025-10-31"]).filter(N=>{if(!at)return!0;const M=at.toLowerCase();return new Date(N).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).toLowerCase().includes(M)||N.includes(M)}).map(N=>a.jsx(Ir,{value:N,children:new Date(N).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},N)),at&&((Le==null?void 0:Le.expiry_dates)||["2025-09-19","2025-09-26","2025-10-03","2025-10-10","2025-10-17","2025-10-24","2025-10-31"]).filter(N=>{const M=at.toLowerCase();return new Date(N).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).toLowerCase().includes(M)||N.includes(M)}).length===0&&a.jsx("div",{className:"p-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"No expiry dates found"})]})]})]}),a.jsxs(H,{onClick:()=>{el(),Ac()},disabled:Dt||Me,className:"flex items-center gap-2",children:[a.jsx(xi,{className:`h-4 w-4 ${Dt||Me?"animate-spin":""}`}),Dt||Me?"Loading...":"Refresh"]})]}),en&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(La,{className:"h-4 w-4 text-red-500"}),a.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:en})]})}),Dt&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{className:"h-4 w-4 text-blue-500 animate-spin"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:"Loading option chain data..."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:["",((Rc=Le==null?void 0:Le.spot_price)==null?void 0:Rc.toFixed(2))||"N/A"]}),a.jsx(oa,{className:"h-3 w-3 text-blue-500"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Spot Price"})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:nv((Le==null?void 0:Le.total_call_oi)||0)}),a.jsx(oa,{className:"h-3 w-3 text-green-500"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Call OI"})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:nv((Le==null?void 0:Le.total_put_oi)||0)}),a.jsx(iu,{className:"h-3 w-3 text-red-500"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Put OI"})]})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:((Dc=Le==null?void 0:Le.pcr)==null?void 0:Dc.toFixed(2))||"N/A"}),a.jsx("span",{className:`text-xs font-medium ${((Le==null?void 0:Le.pcr)||0)>1?"text-red-600":"text-green-600"}`,children:((Le==null?void 0:Le.pcr)||0)>1?"Bearish":"Bullish"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Put/Call Ratio"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Option Chain"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(SN,{className:"h-3 w-3 mr-1"}),"Filter"]}),a.jsxs(H,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(xi,{className:"h-3 w-3 mr-1"}),"Refresh"]}),a.jsx(H,{variant:"default",size:"sm",className:"text-xs bg-blue-600 hover:bg-blue-700",children:"Export"})]})]}),Dt?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(xi,{className:"h-6 w-6 text-blue-500 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading option chain..."})]}):Le!=null&&Le.strikes&&Le.strikes.length>0?a.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[460px] custom-thin-scrollbar",children:a.jsxs(ax,{children:[a.jsxs(sx,{className:"sticky top-0 bg-white dark:bg-gray-800 z-10",children:[a.jsxs(Ql,{className:"bg-gray-50 dark:bg-gray-700/50",children:[a.jsx(sn,{className:"text-center text-xs font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20",colSpan:4,children:"CALLS"}),a.jsx(sn,{className:"text-center text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600",children:"Strike"}),a.jsx(sn,{className:"text-center text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20",colSpan:5,children:"PUTS"})]}),a.jsxs(Ql,{className:"bg-gray-50 dark:bg-gray-700/50",children:[a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"OI Chg%"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"OI-lakh"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"Call OI"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"LTP"}),a.jsx(sn,{className:"text-xs font-medium text-gray-700 dark:text-gray-300 text-center bg-gray-100 dark:bg-gray-600"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"LTP"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"Put OI"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"IV"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"OI-lakh"}),a.jsx(sn,{className:"text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:"OI Chg%"})]})]}),a.jsx(ix,{children:(wf=Le.strikes)==null?void 0:wf.map((N,M)=>{var Pe,We,_t,It,ur,Gt,St;const I=(Pe=Le.calls)==null?void 0:Pe.find(Ot=>Ot.strike===N),L=(We=Le.puts)==null?void 0:We.find(Ot=>Ot.strike===N),te=(I==null?void 0:I.change_percentage)||0,ae=(L==null?void 0:L.change_percentage)||0,ne=I!=null&&I.open_interest?(I.open_interest/1e5).toFixed(1):"0.0",Te=L!=null&&L.open_interest?(L.open_interest/1e5).toFixed(1):"0.0";return a.jsxs(Ql,{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 text-xs",children:[a.jsxs(vn,{className:`text-center font-medium ${te>=0?"text-green-600":"text-red-600"}`,children:[te.toFixed(1),"%"]}),a.jsx(vn,{className:"text-center text-gray-700 dark:text-gray-300",children:ne}),a.jsx(vn,{className:"text-center text-gray-700 dark:text-gray-300",children:((_t=I==null?void 0:I.open_interest)==null?void 0:_t.toLocaleString())||"-"}),a.jsx(vn,{className:"text-center font-medium text-gray-800 dark:text-white",children:((It=I==null?void 0:I.ltp)==null?void 0:It.toFixed(2))||"-"}),a.jsx(vn,{className:"text-center font-bold text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-600",children:N}),a.jsx(vn,{className:"text-center font-medium text-gray-800 dark:text-white",children:((ur=L==null?void 0:L.ltp)==null?void 0:ur.toFixed(2))||"-"}),a.jsx(vn,{className:"text-center text-gray-700 dark:text-gray-300",children:((Gt=L==null?void 0:L.open_interest)==null?void 0:Gt.toLocaleString())||"-"}),a.jsx(vn,{className:"text-center text-gray-700 dark:text-gray-300",children:((St=L==null?void 0:L.implied_volatility)==null?void 0:St.toFixed(1))||"-"}),a.jsx(vn,{className:"text-center text-gray-700 dark:text-gray-300",children:Te}),a.jsxs(vn,{className:`text-center font-medium ${ae>=0?"text-green-600":"text-red-600"}`,children:[ae.toFixed(1),"%"]})]},N)})})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(su,{className:"h-12 w-12 text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"No option chain data available"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Select an underlying symbol and click Refresh to load data"})]})]})})}),a.jsx("div",{children:a.jsx(y4e,{optionChainData:Le,selectedStrike:s,onStrikeChange:i,selectedExpiry:Oe})})]}),a.jsx("div",{className:"mt-6",children:a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsx(bt,{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"w-full",children:a.jsx(xt,{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900/20 dark:to-blue-900/20 border-gray-200 dark:border-gray-800",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Combined Greeks Analysis - 25 15-Min Intervals"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),a.jsx("span",{children:"Delta CE %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),a.jsx("span",{children:"Delta PE %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{children:"Gamma %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("span",{children:"Theta %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Vega %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),a.jsx("span",{children:"IV %"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("span",{children:"Strike Price "})]})]})]}),a.jsx("div",{className:"h-96",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:(()=>{const N=Array.from({length:25},(I,L)=>{const ae=(Math.random()-.5)*100,ne=Math.floor(9+L*15/60),Te=(15+L*15)%60;return{time:L+1,timeLabel:`${ne}:${String(Te).padStart(2,"0")}`,rawCallDelta:.45+Math.random()*.1+L/25*.1,rawPutDelta:-.45-Math.random()*.1-L/25*.1,rawGamma:.008+Math.random()*.004+L/25*.002,rawTheta:-.03-Math.random()*.04-L/25*.02,rawVega:.15+Math.random()*.1+L/25*.05,rawCallIV:20+Math.random()*15+L/25*10,rawPutIV:22+Math.random()*13+L/25*8,strikePrice:24750+ae}}),M=N[0];return N.map((I,L)=>({...I,callDelta:(I.rawCallDelta-M.rawCallDelta)/Math.abs(M.rawCallDelta)*100,putDelta:(I.rawPutDelta-M.rawPutDelta)/Math.abs(M.rawPutDelta)*100,gamma:(I.rawGamma-M.rawGamma)/M.rawGamma*100,theta:(I.rawTheta-M.rawTheta)/Math.abs(M.rawTheta)*100,vega:(I.rawVega-M.rawVega)/M.rawVega*100,callIV:(I.rawCallIV-M.rawCallIV)/M.rawCallIV*100,putIV:(I.rawPutIV-M.rawPutIV)/M.rawPutIV*100}))})(),children:[a.jsx(yi,{dataKey:"time",axisLine:!0,tickLine:!0,tick:{fontSize:10},interval:3,tickFormatter:N=>{const M=N-1,I=Math.floor(9+M*15/60),L=(15+M*15)%60;return`${I}:${String(L).padStart(2,"0")}`}}),a.jsx(Js,{yAxisId:"left",axisLine:!0,tickLine:!0,tick:{fontSize:10},label:{value:"% Change",angle:-90,position:"insideLeft"}}),a.jsx(Js,{yAxisId:"right",orientation:"right",axisLine:!0,tickLine:!0,tick:{fontSize:10},label:{value:"Strike Price",angle:90,position:"insideRight"}}),a.jsx(Ha,{labelFormatter:N=>{const M=Number(N)-1,I=Math.floor(9+M*15/60),L=(15+M*15)%60;return`${I}:${String(L).padStart(2,"0")}`},formatter:(N,M)=>{const I=String(M),L=Number(N);return I==="Strike Price"?[""+L.toFixed(2),I]:[L.toFixed(2)+"%",I]}}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"callDelta",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Delta CE %"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"putDelta",stroke:"#ec4899",strokeWidth:2,dot:!1,name:"Delta PE %"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"gamma",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Gamma %"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"theta",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Theta %"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"vega",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"Vega %"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"callIV",stroke:"#6366f1",strokeWidth:2,dot:!1,strokeDasharray:"5 5",name:"IV% CE"}),a.jsx(ga,{yAxisId:"left",type:"monotone",dataKey:"putIV",stroke:"#8b5cf6",strokeWidth:2,dot:!1,strokeDasharray:"5 5",name:"IV% PE"}),a.jsx(ga,{yAxisId:"right",type:"monotone",dataKey:"strikePrice",stroke:"#ef4444",strokeWidth:3,dot:!1,name:"Strike Price"})]})})}),a.jsxs("div",{className:"grid grid-cols-7 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Delta CE %"}),a.jsx("div",{className:"text-sm font-bold text-purple-600",children:"+15.6%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Delta PE %"}),a.jsx("div",{className:"text-sm font-bold text-pink-600",children:"-12.3%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Gamma %"}),a.jsx("div",{className:"text-sm font-bold text-green-600",children:"+28.7%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Theta %"}),a.jsx("div",{className:"text-sm font-bold text-yellow-600",children:"-42.1%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Vega %"}),a.jsx("div",{className:"text-sm font-bold text-blue-600",children:"+18.9%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"IV %"}),a.jsx("div",{className:"text-sm font-bold text-indigo-600",children:"+24.3%"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Strike Price"}),a.jsx("div",{className:"text-sm font-bold text-red-600",children:"24,785"})]})]})]})})}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center pt-2 border-t border-gray-200 dark:border-gray-700",children:"25 15-Min Intervals Greeks Analysis  Market Hours 9:15 AM - 3:30 PM  Updated Real-time"})]})})})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 mt-6",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:[" Advanced Strike ",s.toLocaleString()," Analytics & Insights"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"outline",size:"sm",className:"h-8 text-xs",children:"Real-Time"}),a.jsx(H,{variant:"outline",size:"sm",className:"h-8 text-xs",children:"Auto-Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(xt,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-purple-800 dark:text-purple-200",children:" Delta-Hedged P&L"}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:"+2,340"})]}),a.jsx("div",{className:"h-32",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:[{time:"9:15",option:1200,hedge:-800,net:400},{time:"10:00",option:1800,hedge:-900,net:900},{time:"11:00",option:2200,hedge:-1100,net:1100},{time:"12:00",option:2800,hedge:-1200,net:1600},{time:"1:00",option:3400,hedge:-1e3,net:2400},{time:"2:00",option:3800,hedge:-1100,net:2700},{time:"3:00",option:4200,hedge:-1200,net:3e3}],children:[a.jsx(yi,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Ha,{}),a.jsx(ga,{type:"monotone",dataKey:"net",stroke:"#8b5cf6",strokeWidth:2,dot:!1}),a.jsx(ga,{type:"monotone",dataKey:"option",stroke:"#10b981",strokeWidth:1,strokeDasharray:"3 3",dot:!1}),a.jsx(ga,{type:"monotone",dataKey:"hedge",stroke:"#ef4444",strokeWidth:1,strokeDasharray:"3 3",dot:!1})]})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs mt-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-green-600 font-bold",children:"CE P&L"}),a.jsx("div",{children:"4,200"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 font-bold",children:"Hedge P&L"}),a.jsx("div",{children:"-1,200"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-purple-600 font-bold",children:"Net P&L"}),a.jsx("div",{children:"3,000"})]})]})]})}),a.jsx(xt,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200",children:" Gamma Scalping"}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:"12 Signals"})]}),a.jsx("div",{className:"h-32",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:[{time:"9:15",gamma:.008,signal:0,profit:0},{time:"9:30",gamma:.012,signal:1,profit:45},{time:"10:00",gamma:.015,signal:1,profit:78},{time:"10:30",gamma:.018,signal:0,profit:0},{time:"11:00",gamma:.022,signal:1,profit:92},{time:"11:30",gamma:.019,signal:1,profit:67},{time:"12:00",gamma:.025,signal:1,profit:115}],children:[a.jsx(yi,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Ha,{}),a.jsx(ga,{type:"monotone",dataKey:"gamma",stroke:"#10b981",strokeWidth:2,dot:!1}),a.jsx(ga,{type:"monotone",dataKey:"profit",stroke:"#f59e0b",strokeWidth:2,dot:!1})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mt-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-green-600 font-bold",children:"Signals Today"}),a.jsx("div",{children:"12 / 8 Profitable"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-yellow-600 font-bold",children:"Avg Profit"}),a.jsx("div",{children:"73 per signal"})]})]})]})}),a.jsx(xt,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border-blue-200 dark:border-blue-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:" IV Skew Analysis"}),a.jsx("span",{className:"text-sm font-bold text-red-600",children:"PUT SKEW"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"text-center p-2 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"24750 CE IV"}),a.jsxs("div",{className:"font-bold text-green-600",children:[((Wl=(ci=(li=(Nf=Y==null?void 0:Y.greeks)==null?void 0:Nf.data)==null?void 0:li[0])==null?void 0:ci.iv)==null?void 0:Wl.toFixed(1))||"16.7","%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-red-100 dark:bg-red-900/30 rounded",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"24750 PE IV"}),a.jsxs("div",{className:"font-bold text-red-600",children:[((r0=(Hl=(wo=(bo=Y==null?void 0:Y.greeks)==null?void 0:bo.data)==null?void 0:wo[1])==null?void 0:Hl.iv)==null?void 0:r0.toFixed(1))||"23.1","%"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Skew Differential"}),a.jsxs("div",{className:"font-bold text-orange-600",children:[((((qs=(lm=(om=Y==null?void 0:Y.greeks)==null?void 0:om.data)==null?void 0:lm[1])==null?void 0:qs.iv)||23.1)-(((Ei=(Wn=(Vs=Y==null?void 0:Y.greeks)==null?void 0:Vs.data)==null?void 0:Wn[0])==null?void 0:Ei.iv)||16.7)).toFixed(1),"%"]})]}),a.jsx("div",{className:"text-xs text-center p-2 bg-orange-100 dark:bg-orange-900/30 rounded",children:a.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-200",children:"High demand for downside protection"})})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[a.jsx(xt,{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 border-orange-200 dark:border-orange-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-orange-800 dark:text-orange-200",children:" Theta Decay Analysis"}),a.jsx("span",{className:"text-sm font-bold text-red-600",children:"High Risk"})]}),a.jsx("div",{className:"h-32",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(Vf,{data:[{day:"Today",ceTheta:-.05,peTheta:-.05,combined:-.1},{day:"Day 2",ceTheta:-.08,peTheta:-.08,combined:-.16},{day:"Day 3",ceTheta:-.12,peTheta:-.12,combined:-.24},{day:"Expiry",ceTheta:-.2,peTheta:-.2,combined:-.4}],children:[a.jsx(yi,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:10}}),a.jsx(Ha,{}),a.jsx(ga,{type:"monotone",dataKey:"combined",stroke:"#f59e0b",strokeWidth:2,dot:!1}),a.jsx(ga,{type:"monotone",dataKey:"ceTheta",stroke:"#10b981",strokeWidth:1,strokeDasharray:"3 3",dot:!1}),a.jsx(ga,{type:"monotone",dataKey:"peTheta",stroke:"#ef4444",strokeWidth:1,strokeDasharray:"3 3",dot:!1})]})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs mt-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-orange-600 font-bold",children:"Daily Decay"}),a.jsxs("div",{children:["",Math.abs((((cm=(a0=(n0=Y==null?void 0:Y.greeks)==null?void 0:n0.data)==null?void 0:a0[0])==null?void 0:cm.theta)||-.05)+(((jf=(s0=(dm=Y==null?void 0:Y.greeks)==null?void 0:dm.data)==null?void 0:s0[1])==null?void 0:jf.theta)||-.05)).toFixed(2)]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 font-bold",children:"Weekend Risk"}),a.jsxs("div",{children:["",(Math.abs((((um=(Lc=(i0=Y==null?void 0:Y.greeks)==null?void 0:i0.data)==null?void 0:Lc[0])==null?void 0:um.theta)||-.05)+(((Sf=(Dd=(sv=Y==null?void 0:Y.greeks)==null?void 0:sv.data)==null?void 0:Dd[1])==null?void 0:Sf.theta)||-.05))*2.5).toFixed(2)]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-purple-600 font-bold",children:"4D Total"}),a.jsxs("div",{children:["",(Math.abs(((($c=(l0=(o0=Y==null?void 0:Y.greeks)==null?void 0:o0.data)==null?void 0:l0[0])==null?void 0:$c.theta)||-.05)+(((_f=(kf=(c0=Y==null?void 0:Y.greeks)==null?void 0:c0.data)==null?void 0:kf[1])==null?void 0:_f.theta)||-.05))*4).toFixed(2)]})]})]})]})}),a.jsx(xt,{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-cyan-200 dark:border-cyan-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-cyan-800 dark:text-cyan-200",children:" Breakeven Probability"}),a.jsx("span",{className:"text-sm font-bold text-cyan-600",children:"Live Analysis"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"text-center p-3 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CE Breakeven"}),a.jsx("div",{className:"font-bold text-green-600",children:(24750+(((hm=(fm=(Fc=Y==null?void 0:Y.greeks)==null?void 0:Fc.data)==null?void 0:fm[0])==null?void 0:hm.price)||91.1)).toFixed(0)}),a.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[(((24750+(((Bc=(pm=(mm=Y==null?void 0:Y.greeks)==null?void 0:mm.data)==null?void 0:pm[0])==null?void 0:Bc.price)||91.1))/24741-1)*100).toFixed(1),"% move needed"]}),a.jsx("div",{className:"text-xs font-bold text-green-700 mt-1",children:"Probability: 34%"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-100 dark:bg-red-900/30 rounded",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"PE Breakeven"}),a.jsx("div",{className:"font-bold text-red-600",children:(24750-(((gm=(Kl=(di=Y==null?void 0:Y.greeks)==null?void 0:di.data)==null?void 0:Kl[1])==null?void 0:gm.price)||71.9)).toFixed(0)}),a.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[(((24750-(((rl=(No=(d0=Y==null?void 0:Y.greeks)==null?void 0:d0.data)==null?void 0:No[1])==null?void 0:rl.price)||71.9))/24741-1)*-100).toFixed(1),"% move needed"]}),a.jsx("div",{className:"text-xs font-bold text-red-700 mt-1",children:"Probability: 28%"})]})]}),a.jsxs("div",{className:"text-center p-2 bg-purple-100 dark:bg-purple-900/30 rounded",children:[a.jsxs("div",{className:"text-xs text-purple-800 dark:text-purple-200 font-medium",children:["Straddle Breakeven Zone: ",(24750-(((jo=(u0=(xm=Y==null?void 0:Y.greeks)==null?void 0:xm.data)==null?void 0:u0[1])==null?void 0:jo.price)||71.9)).toFixed(0)," - ",(24750+(((f0=(Cf=(nl=Y==null?void 0:Y.greeks)==null?void 0:nl.data)==null?void 0:Cf[0])==null?void 0:f0.price)||91.1)).toFixed(0)]}),a.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Combined Probability: 62%"})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[a.jsx(xt,{className:"bg-gradient-to-br from-indigo-50 to-violet-50 dark:from-indigo-900/20 dark:to-violet-900/20 border-indigo-200 dark:border-indigo-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-indigo-800 dark:text-indigo-200",children:" Flow Intelligence"}),a.jsx("span",{className:"text-sm font-bold text-blue-600",children:"BULLISH"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"CE Volume"}),a.jsx("div",{className:"font-bold text-green-600",children:((((Ld=(h0=(Tf=Y==null?void 0:Y.greeks)==null?void 0:Tf.data)==null?void 0:h0[0])==null?void 0:Ld.price)||91.1)*1e3).toFixed(0)})]}),a.jsxs("div",{className:"text-center p-2 bg-red-100 dark:bg-red-900/30 rounded",children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"PE Volume"}),a.jsx("div",{className:"font-bold text-red-600",children:((((Fd=($d=(Xi=Y==null?void 0:Y.greeks)==null?void 0:Xi.data)==null?void 0:$d[1])==null?void 0:Fd.price)||71.9)*850).toFixed(0)})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Put/Call Ratio"}),a.jsx("div",{className:"font-bold text-purple-600",children:((((Uc=(ym=(Gl=Y==null?void 0:Y.greeks)==null?void 0:Gl.data)==null?void 0:ym[1])==null?void 0:Uc.price)||71.9)*850/((((Jn=(vm=(m0=Y==null?void 0:Y.greeks)==null?void 0:m0.data)==null?void 0:vm[0])==null?void 0:Jn.price)||91.1)*1e3)).toFixed(2)})]}),a.jsx("div",{className:"text-center p-2 bg-blue-100 dark:bg-blue-900/30 rounded",children:a.jsx("div",{className:"text-xs font-medium text-blue-800 dark:text-blue-200",children:"More call buying than put buying"})})]})]})}),a.jsx(xt,{className:"bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border-red-200 dark:border-red-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:" Risk Dashboard"}),a.jsx("span",{className:"text-sm font-bold text-yellow-600",children:"MODERATE"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pin Risk"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded",children:a.jsx("div",{className:"w-3/4 h-2 bg-yellow-500 rounded"})}),a.jsx("span",{className:"text-xs font-bold text-yellow-600",children:"75%"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Time Decay"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded",children:a.jsx("div",{className:"w-4/5 h-2 bg-orange-500 rounded"})}),a.jsx("span",{className:"text-xs font-bold text-orange-600",children:"80%"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Vol Risk"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded",children:a.jsx("div",{className:"w-1/2 h-2 bg-green-500 rounded"})}),a.jsx("span",{className:"text-xs font-bold text-green-600",children:"50%"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Liquidity"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded",children:a.jsx("div",{className:"w-5/6 h-2 bg-blue-500 rounded"})}),a.jsx("span",{className:"text-xs font-bold text-blue-600",children:"85%"})]})]})]})]})}),a.jsx(xt,{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-emerald-200 dark:border-emerald-800",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-emerald-800 dark:text-emerald-200",children:" AI Recommendation"}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:"BUY"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-center p-2 bg-green-100 dark:bg-green-900/30 rounded",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Strategy"}),a.jsx("div",{className:"font-bold text-green-800 dark:text-green-200",children:"ATM Straddle"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Entry"}),a.jsxs("div",{className:"font-bold text-blue-600",children:["",((((wm=(bm=(Pf=Y==null?void 0:Y.greeks)==null?void 0:Pf.data)==null?void 0:bm[0])==null?void 0:wm.price)||91.1)+(((Yl=(Nm=(Ef=Y==null?void 0:Y.greeks)==null?void 0:Ef.data)==null?void 0:Nm[1])==null?void 0:Yl.price)||71.9)).toFixed(0)]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Target"}),a.jsxs("div",{className:"font-bold text-green-600",children:["",(((((Ma=(Sa=(Zn=Y==null?void 0:Y.greeks)==null?void 0:Zn.data)==null?void 0:Sa[0])==null?void 0:Ma.price)||91.1)+(((Ud=(Bd=(Af=Y==null?void 0:Y.greeks)==null?void 0:Af.data)==null?void 0:Bd[1])==null?void 0:Ud.price)||71.9))*1.5).toFixed(0)]})]})]}),a.jsx("div",{className:"text-xs p-2 bg-blue-100 dark:bg-blue-900/30 rounded",children:a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"High IV suggests volatility expansion expected"})})]})]})})]}),a.jsx("div",{className:"mt-6 p-3 bg-gray-50 dark:bg-gray-900/30 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:[" ",a.jsx("strong",{children:"Advanced Analytics Engine"}),"  Real-time Greeks  Delta-hedged P&L  Gamma scalping  IV skew analysis  Risk metrics  AI recommendations  Updated every 30 seconds"]})})]})})]}),a.jsxs(uu,{value:"visualai",className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"flex items-center gap-3"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Xs,{value:wn,onValueChange:ho,children:[a.jsx(Is,{className:"w-[280px]","data-testid":"select-pattern",children:a.jsx(Qs,{placeholder:"Select pattern to detect..."})}),a.jsxs(Os,{children:[a.jsx(Ir,{value:"head_shoulders",children:"Head & Shoulders (1<2>1<3>1)"}),a.jsx(Ir,{value:"double_top",children:"Double Top (1<2=1)"}),a.jsx(Ir,{value:"double_bottom",children:"Double Bottom (1>2=1)"}),a.jsx(Ir,{value:"ascending_triangle",children:"Ascending Triangle (1<2<3=3)"}),a.jsx(Ir,{value:"descending_triangle",children:"Descending Triangle (1>2>3=3)"}),a.jsx(Ir,{value:"cup_handle",children:"Cup & Handle (1>2>3<4>5)"}),a.jsx(Ir,{value:"bullish_flag",children:"Bullish Flag (1<2>3<4>5)"}),a.jsx(Ir,{value:"bearish_flag",children:"Bearish Flag (1>2<3>4<5)"}),a.jsx(Ir,{value:"wedge_rising",children:"Rising Wedge (1<2<3<4<5)"}),a.jsx(Ir,{value:"wedge_falling",children:"Falling Wedge (1>2>3>4>5)"}),a.jsx(Ir,{value:"triple_top",children:"Triple Top (1<2=3=1)"}),a.jsx(Ir,{value:"triple_bottom",children:"Triple Bottom (1>2=3=1)"}),a.jsx(Ir,{value:"diamond",children:"Diamond (1<2>3<4>5)"}),a.jsx(Ir,{value:"rectangle",children:"Rectangle (1>2<3>4<5)"}),a.jsx(Ir,{value:"pennant",children:"Pennant (1>2<3>4<5>1)"})]})]}),a.jsx(Dr,{variant:wn?"default":"secondary",className:wn?"bg-green-100 text-green-800 border-green-300":"",children:wn?`${Ko(wn)} Selected`:"No Pattern Selected"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[a.jsx("label",{className:"text-sm font-medium",children:"Auto-Detection"}),a.jsx(H,{variant:Us?"default":"outline",size:"sm",onClick:()=>{Yh(!Us),Us?(Og(!1),Ed([]),Gi([]),Sr({title:" Auto-Detection Disabled",description:"Pattern scanning stopped."})):(Og(!0),Sr({title:" Auto-Detection Enabled",description:"Scanning for saved patterns in real-time..."}))},className:Nt("transition-all duration-200",Us?"bg-green-600 hover:bg-green-700 text-white":"border-gray-300 hover:bg-gray-50"),"data-testid":"button-auto-detection-toggle",children:Us?a.jsxs(a.Fragment,{children:[a.jsx(Ca,{className:"h-3 w-3 mr-1"}),"ON"]}):a.jsxs(a.Fragment,{children:[a.jsx(xi,{className:"h-3 w-3 mr-1"}),"OFF"]})})]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>_2(!k2),className:"flex items-center gap-2","data-testid":"button-pattern-manager",children:[a.jsx(ll,{className:"h-3 w-3"}),"Manage Patterns (",Xr.length,")"]})]})]}),Us&&Ss.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-l-4 border-green-500 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xl,{className:"h-5 w-5 text-green-600"}),a.jsxs("span",{className:"font-semibold text-green-800 dark:text-green-200",children:[" LIVE DETECTION: ",Ss.length," High-Confidence Pattern Match",Ss.length>1?"es":""," Found!"]})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[Ss.slice(0,3).map((N,M)=>a.jsxs(Dr,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300",children:[N.patternName,": ",(N.confidence*100).toFixed(1),"% match"]},M)),Ss.length>3&&a.jsxs(Dr,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["+",Ss.length-3," more..."]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(xt,{className:"lg:col-span-2 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ya,{className:"h-5 w-5"}),"Interactive Chart"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(H,{variant:Zh?"default":"outline",size:"sm",onClick:()=>{if(ar.length===0){Sr({title:" No Points Selected",description:"Please select points on the chart first.",variant:"destructive"});return}em(!0)},className:"bg-purple-600 text-white hover:bg-purple-700","data-testid":"button-save-pattern",children:[a.jsx(rc,{className:"h-3 w-3 mr-1"}),"Save Pattern"]})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:rf,"data-testid":"button-expand",children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),Cd?"Collapse":"Expand"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:tf,"data-testid":"button-reset",children:[a.jsx(xi,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!wn&&a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[a.jsx(su,{className:"h-3 w-3 text-green-600"}),"Points: ",ar.length]}),Mg.length>0&&a.jsxs(Dr,{variant:"secondary",className:"bg-purple-100 text-purple-800 border-purple-300",children:[Mg.length," S/R Pattern",Mg.length>1?"s":""," Detected"]})]})]}),a.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900/20 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:Nt("w-2 h-2 rounded-full",Us&&Xh?"bg-green-500 animate-pulse":"bg-gray-400")}),a.jsx("span",{className:"text-sm font-medium",children:Us?"Real-time Pattern Detection ACTIVE":"Manual Pattern Selection Mode"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{children:["Saved Patterns: ",Xr.length]}),a.jsx("span",{children:""}),a.jsx("span",{children:"Threshold: 75%+"}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Selected Points: ",ar.length]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-lg p-6 border-2 border-purple-500/30 shadow-2xl",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-purple-400 text-lg font-semibold",children:" Test AI Engine"}),a.jsx("div",{className:"text-gray-300 text-sm",children:"Revolutionary Pattern Recognition System"}),a.jsx("div",{className:"text-xs text-gray-500 bg-slate-800/50 p-3 rounded-lg",children:"Advanced AI-powered pattern detection with 75% matching threshold"})]})}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(SN,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Show Time Filter"})]}),a.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:["Current range: ",Ht(Re[0])," - ",Ht(Re[1])]})]})]})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Pattern Manager"})]}),a.jsxs(Dr,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-300",children:[Xr.length," Saved Patterns"]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Saved Patterns"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[Xr.length," patterns"]}),Us&&a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Auto-detection active"})]})]}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Xr.length===0?a.jsxs("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[a.jsx(su,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No patterns saved yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Select points on chart and save your first pattern!"})]}):Xr.map((N,M)=>{var te,ae,ne,Te;const I=Ss.some(Pe=>Pe.patternId===N.id),L=Ss.find(Pe=>Pe.patternId===N.id);return a.jsx("div",{className:Nt("p-3 border rounded-lg transition-all hover:shadow-md relative",I?"border-green-300 bg-green-50 dark:bg-green-900/20 shadow-md":"border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-purple-300"),"data-testid":`pattern-item-${M}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm truncate",children:N.name}),I&&a.jsxs(Dr,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300 text-xs",children:[" ",(L.confidence*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[((te=N.points)==null?void 0:te.length)||0," points  ",N.createdAt&&!isNaN(new Date(N.createdAt).getTime())?Ts(new Date(N.createdAt),"MMM d"):"Recently"]}),((ae=N.rays)==null?void 0:ae.sl)&&((ne=N.rays)==null?void 0:ne.breakout)&&((Te=N.rays)==null?void 0:Te.target)&&a.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["R:R ",(Math.abs(N.rays.target.price-N.rays.breakout.price)/Math.abs(N.rays.breakout.price-N.rays.sl.price)).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),Rl(N.id)},className:"h-8 w-8 p-0 hover:bg-blue-100 hover:text-blue-600","data-testid":`button-apply-pattern-${M}`,title:"Apply pattern to chart",children:a.jsx(xl,{className:"h-3 w-3"})}),a.jsx(H,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),Bl(N.id)},className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600 absolute top-1 right-1","data-testid":`button-delete-pattern-${M}`,title:"Delete pattern",children:a.jsx(gs,{className:"h-3 w-3"})})]})]})},N.id)})})]}),mo.length>0&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-orange-50 dark:from-green-900/20 dark:to-orange-900/20 border-l-4 border-green-500 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xl,{className:"h-5 w-5 text-green-600"}),a.jsxs("span",{className:"font-semibold text-green-800 dark:text-green-200",children:[" Pattern Detection Results: ",mo.length," Match",mo.length>1?"es":""," Found"]})]}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:mo.map((N,M)=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),a.jsxs(Dr,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-300",children:[(N.confidence*100).toFixed(1),"% match"]})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["Candles ",N.startIndex+1,"-",N.endIndex+1,"  ",N.matchScore,"/",N.totalRelationships," relationships matched"]})]})},N.id))})]}),Us&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xl,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Live Detection Results"}),a.jsx("div",{className:Nt("w-2 h-2 rounded-full",Xh?"bg-green-500 animate-pulse":"bg-gray-400")})]}),a.jsx("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/10 dark:to-blue-900/10 rounded-lg border border-green-200 dark:border-green-800",children:Ss.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-semibold text-green-800 dark:text-green-200 mb-2",children:[" ",Ss.length," High-Confidence Match",Ss.length>1?"es":""," Found!"]}),Ss.slice(0,2).map((N,M)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded border",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-sm truncate",children:N.patternName}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Candles ",N.startIndex,"-",N.endIndex]})]}),a.jsx("div",{className:"flex items-center gap-2 ml-2",children:a.jsxs(Dr,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:[(N.confidence*100).toFixed(1),"%"]})})]},M)),Ss.length>2&&a.jsxs("div",{className:"text-xs text-center text-gray-600 dark:text-gray-400",children:["+",Ss.length-2," more matches detected..."]})]}):a.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Cu,{className:"h-5 w-5 mx-auto mb-2"}),a.jsx("p",{children:"Scanning for pattern matches..."}),a.jsx("p",{className:"text-xs mt-1",children:"Threshold: 75%+ confidence required"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Current Selection"}),!wn&&ar.length>0&&a.jsx(H,{variant:"ghost",size:"sm",onClick:tf,className:"text-xs h-6 px-2 text-red-600 hover:text-red-800 hover:bg-red-50",children:"Clear All"})]}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:ar.length===0?a.jsxs("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-dashed border-gray-300 dark:border-gray-600",children:[a.jsx(su,{className:"h-5 w-5 mx-auto mb-2 text-gray-400"}),!wn&&a.jsx("p",{className:"text-xs",children:"Click on chart to select points"}),wn&&a.jsx("p",{className:"text-xs",children:"Pattern detection mode active"})]}):ar.sort((N,M)=>N.pointNumber-M.pointNumber).map((N,M)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsxs("span",{className:"text-sm font-mono",children:["#",N.pointNumber]}),a.jsxs("span",{className:"text-sm font-mono truncate",children:["",N.price.toFixed(2)]})]}),a.jsxs(Xs,{defaultValue:N.label||"none",onValueChange:I=>{I!=="none"&&Tg(M,I)},"data-testid":`select-point-label-${M}`,children:[a.jsx(Is,{className:"w-20 h-7 text-xs",children:a.jsx(Qs,{placeholder:"Label"})}),a.jsxs(Os,{children:[a.jsx(Ir,{value:"none",children:"None"}),a.jsx(Ir,{value:"SL",children:"SL"}),a.jsx(Ir,{value:"Target",children:"Target"}),a.jsx(Ir,{value:"Breakout",children:"Breakout"}),a.jsx(Ir,{value:"Entry",children:"Entry"})]})]})]},`${N.pointNumber}_${M}`))}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ro,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Quick Actions"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{if(Xr.length===0){Sr({title:" No Patterns Available",description:"Save some patterns first to enable auto-detection."});return}na(),Sr({title:" Manual Scan Triggered",description:"Scanning current chart for pattern matches..."})},className:"w-full justify-start text-xs","data-testid":"button-manual-scan",children:[a.jsx(Cu,{className:"h-3 w-3 mr-2"}),"Manual Scan (",Xr.length," patterns)"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const N=JSON.stringify(Xr,null,2);navigator.clipboard.writeText(N),Sr({title:" Patterns Copied",description:`${Xr.length} pattern(s) copied to clipboard as JSON.`})},className:"w-full justify-start text-xs","data-testid":"button-export-patterns",children:[a.jsx(qa,{className:"h-3 w-3 mr-2"}),"Export All Patterns"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{if(Ss.length===0){Sr({title:" No Active Matches",description:"No pattern matches found to clear."});return}Ed([]),Gi([]),Sr({title:" Overlays Cleared",description:"All pattern overlays removed from chart."})},className:"w-full justify-start text-xs","data-testid":"button-clear-overlays",children:[a.jsx(La,{className:"h-3 w-3 mr-2"}),"Clear Overlays"]})]})]})]})]})})]}),a.jsx(xt,{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border-purple-200 dark:border-purple-700",children:a.jsxs(bt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ro,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-lg font-semibold text-purple-800 dark:text-purple-200",children:"AI Pattern Recognition Summary"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pattern Type"}),a.jsx("div",{className:"font-semibold text-purple-800 dark:text-purple-200",children:"Ascending Triangle"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence Level"}),a.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:"High (87%)"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selected Points"}),a.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"5 Critical Points"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"AI Recommendations"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsx("div",{className:"text-green-600",children:" Strong upward momentum detected"}),a.jsx("div",{className:"text-blue-600",children:" Watch for breakout above 14,470"}),a.jsx("div",{className:"text-orange-600",children:" Set stop loss below 14,400 support"}),a.jsx("div",{className:"text-purple-600",children:" Target projection: 14,520 - 14,580"})]})]})]})})]})]})}),a.jsx(ha,{open:Zh,onOpenChange:em,children:a.jsxs(ca,{className:"max-w-md",children:[a.jsx(ba,{children:a.jsxs(wa,{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-5 w-5"}),"Save Pattern for AI Recognition"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"pattern-name",className:"text-sm font-medium",children:"Pattern Name"}),a.jsx(qr,{id:"pattern-name",value:Qh,onChange:N=>Jh(N.target.value),placeholder:"e.g., Bullish Triangle, Support Breakout...",className:"mt-1","data-testid":"input-pattern-name"})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Pattern Summary"}),a.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsxs("div",{children:[" Points selected: ",ar.length]}),a.jsxs("div",{children:[" Rays added: ",Cn.length]}),a.jsxs("div",{children:[" Chart symbol: ",o]}),a.jsx("div",{children:" Will be used for auto-detection at 75% match threshold"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(H,{variant:"outline",onClick:()=>{em(!1),Jh("")},"data-testid":"button-cancel-save",children:"Cancel"}),a.jsxs(H,{onClick:()=>{if(!Qh.trim()){Sr({title:" Name Required",description:"Please enter a name for your pattern.",variant:"destructive"});return}ja(Qh.trim()),em(!1),Jh(""),Xr.length===0&&setTimeout(()=>{Yh(!0),Og(!0),Sr({title:" Auto-Detection Enabled",description:"Your first pattern is saved! Auto-detection is now active."})},1e3)},className:"bg-purple-600 hover:bg-purple-700 text-white","data-testid":"button-confirm-save",children:[a.jsx(rc,{className:"h-3 w-3 mr-1"}),"Save Pattern"]})]})]})]})}),a.jsx(ha,{open:!!js,onOpenChange:N=>!N&&Bl(null),children:a.jsxs(ca,{className:"max-w-md",children:[a.jsx(ba,{children:a.jsxs(wa,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(gs,{className:"h-5 w-5"}),"Delete Pattern"]})}),a.jsxs("div",{className:"space-y-4",children:[js&&(()=>{var M;const N=Xr.find(I=>I.id===js);return N?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Are you sure you want to delete the pattern ",a.jsxs("strong",{children:['"',N.name,'"']}),"?"]}),a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200 space-y-1",children:[a.jsxs("div",{children:[" ",((M=N.points)==null?void 0:M.length)||0," points will be lost"]}),a.jsx("div",{children:" Pattern will be removed from auto-detection"}),a.jsx("div",{children:" This action cannot be undone"})]})})]}):null})(),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(H,{variant:"outline",onClick:()=>Bl(null),"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsxs(H,{variant:"destructive",onClick:()=>{js&&(Td(js),Bl(null))},className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-confirm-delete",children:[a.jsx(gs,{className:"h-3 w-3 mr-1"}),"Delete Pattern"]})]})]})]})}),a.jsx(ha,{open:Yt,onOpenChange:Xn,children:a.jsxs(ca,{className:"max-w-md",children:[a.jsx(ba,{children:a.jsx(wa,{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"TRADE HISTORY SUMMARY"})}),a.jsx("div",{className:"space-y-4",children:a.jsxs(ax,{children:[a.jsx(sx,{className:"bg-gray-800",children:a.jsxs(Ql,{className:"border-gray-600",children:[a.jsx(sn,{className:"text-white text-xs p-2",children:"Symbol"}),a.jsx(sn,{className:"text-white text-xs p-2",children:"Action"}),a.jsx(sn,{className:"text-white text-xs p-2",children:"Qty"}),a.jsx(sn,{className:"text-white text-xs p-2",children:"Entry"})]})}),a.jsx(ix,{children:tn.map((N,M)=>a.jsxs(Ql,{className:"border-gray-200 dark:border-gray-700","data-testid":`row-trade-${M}`,children:[a.jsx(vn,{className:"text-xs p-2 text-gray-800 dark:text-white",children:N.symbol}),a.jsx(vn,{className:"text-xs p-2 text-gray-800 dark:text-white",children:N.action}),a.jsx(vn,{className:"text-xs p-2 text-gray-800 dark:text-white",children:N.qty}),a.jsx(vn,{className:"text-xs p-2 text-gray-800 dark:text-white",children:N.entry})]},M))})]})})]})}),V&&(()=>{const N=["EMA","SMA","RSI","MACD","BB","WMA","ATR","Stoch","CCI","MFI","Williams %R","ROC","ADX","PSAR","VWAP"],M=[{value:"none",label:"None"},{value:"above",label:"Above"},{value:"below",label:"Below"},{value:"cross_above",label:"Cross Above"},{value:"cross_below",label:"Cross Below"},{value:"equal",label:"Equal To"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"}],I=[{value:"none",label:"None"},{value:"prev_low",label:"Previous Candle Low"},{value:"prev_high",label:"Previous Candle High"},{value:"fixed_percent",label:"Fixed Percentage"},{value:"atr_multiple",label:"ATR Multiple"},{value:"support_resistance",label:"Support/Resistance"}],L=[{value:"none",label:"None"},{value:"1:1",label:"1:1 Risk-Reward"},{value:"1:2",label:"1:2 Risk-Reward"},{value:"1:3",label:"1:3 Risk-Reward"},{value:"1:4",label:"1:4 Risk-Reward"},{value:"time_exit",label:"Time Exit (Candle Close)"},{value:"trailing_stop",label:"Trailing Stop"},{value:"market_close",label:"Market Close"}],te=(ne,Te)=>{Qt(Pe=>({...Pe,[ne]:Te}))},ae=async()=>{if(!Ct.name.trim()||!Ct.indicator||!Ar.trim()){alert("Please fill in strategy name, select an indicator, and enter a period");return}const ne={name:Ct.name,indicator:Ct.indicator,period:Ar,entryCondition:Ct.entryCondition,slCondition:Ct.slCondition,exitRule:Ct.exitRule,trailSL:Ct.trailSL,dateAdded:(ee==null?void 0:ee.dateAdded)||Ts(new Date,"dd MMM")};try{if(ee){if(ee.isDefault||ee.id<=8){const Te=rt.map(Pe=>Pe.id===ee.id?{...ne,id:ee.id,isDefault:!0}:Pe);_e(Te),localStorage.setItem("defaultStrategies",JSON.stringify(Te))}else await ue(ee.id,ne);W(null)}else await pe(ne);Qt({name:"",indicator:"",entryCondition:"above",slCondition:"prev_low",exitRule:"1:1",trailSL:!1}),Ln(""),Z(!1)}catch(Te){console.error(" Error saving strategy:",Te),alert(" Failed to save strategy. Please try again.")}};return a.jsx(ha,{open:V,onOpenChange:ne=>{Z(ne),ne||(W(null),Qt({name:"",indicator:"",entryCondition:"above",slCondition:"prev_low",exitRule:"1:1",trailSL:!1}),Ln(""),oe(""))},children:a.jsxs(ca,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(ba,{children:a.jsx(wa,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:ee?"Edit Strategy":"Add Custom Strategy"})}),a.jsxs("div",{className:"space-y-6 p-1",children:[a.jsxs("div",{className:"space-y-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Import from Code"}),a.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"(Optional - paste strategy code from shared strategies)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(qr,{value:Sn,onChange:ne=>oe(ne.target.value),placeholder:"Enter strategy code (e.g., ABCD1234EFGH)",className:"flex-1","data-testid":"input-strategy-code"}),a.jsx(H,{type:"button",onClick:X,variant:"outline",size:"sm",className:"px-4","data-testid":"button-import-code",children:"Import"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Strategy Name *"}),a.jsx(qr,{value:Ct.name,onChange:ne=>te("name",ne.target.value),placeholder:"Enter custom strategy name",className:"w-full","data-testid":"input-strategy-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Indicator *"}),a.jsxs(Xs,{value:Ct.indicator,onValueChange:ne=>te("indicator",ne),children:[a.jsx(Is,{"data-testid":"select-indicator",children:a.jsx(Qs,{placeholder:"Search and select indicator"})}),a.jsx(Os,{children:N.map(ne=>a.jsx(Ir,{value:ne,children:ne},ne))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Period *"}),a.jsx(qr,{type:"number",value:Ar,onChange:ne=>Ln(ne.target.value),placeholder:"Enter period (e.g., 9, 14, 21, 50)",className:"w-full","data-testid":"input-period",min:"1",max:"200"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Entry Condition"}),a.jsxs(Xs,{value:Ct.entryCondition,onValueChange:ne=>te("entryCondition",ne),children:[a.jsx(Is,{"data-testid":"select-entry-condition",children:a.jsx(Qs,{})}),a.jsx(Os,{children:M.map(ne=>a.jsx(Ir,{value:ne.value,children:ne.label},ne.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stop Loss Condition"}),a.jsxs(Xs,{value:Ct.slCondition,onValueChange:ne=>te("slCondition",ne),children:[a.jsx(Is,{"data-testid":"select-sl-condition",children:a.jsx(Qs,{})}),a.jsx(Os,{children:I.map(ne=>a.jsx(Ir,{value:ne.value,children:ne.label},ne.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Hr,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Exit Rules"}),a.jsxs(Xs,{value:Ct.exitRule,onValueChange:ne=>te("exitRule",ne),children:[a.jsx(Is,{"data-testid":"select-exit-rule",children:a.jsx(Qs,{})}),a.jsx(Os,{children:L.map(ne=>a.jsx(Ir,{value:ne.value,children:ne.label},ne.value))})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"trailSL",checked:Ct.trailSL,onChange:ne=>te("trailSL",ne.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500","data-testid":"checkbox-trail-sl"}),a.jsx(Hr,{htmlFor:"trailSL",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enable Trailing Stop Loss"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(H,{variant:"outline",onClick:()=>Z(!1),"data-testid":"button-cancel-strategy",children:"Cancel"}),a.jsx(H,{onClick:ae,className:"bg-indigo-600 hover:bg-indigo-700 text-white","data-testid":"button-save-strategy",children:ee?"Update Strategy":"Save Strategy"})]})]})]})})})(),a.jsx(ha,{open:le,onOpenChange:ge,children:a.jsxs(ca,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(ba,{children:a.jsx(wa,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategy Test Results"})}),a.jsx("div",{className:"space-y-4",children:Se.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"mb-4",children:a.jsx(oa,{className:"h-12 w-12 mx-auto text-gray-300"})}),a.jsx("p",{className:"text-lg",children:"No test results yet"}),a.jsx("p",{className:"text-sm",children:'Click "Test" on any strategy card to run a simulation'})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-md font-medium text-gray-900 dark:text-white",children:["Recent Test Results (",Se.length,")"]}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>He([]),className:"text-gray-600 dark:text-gray-300",children:"Clear All"})]}),a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:Se.map(N=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:N.strategyName}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.symbol,"  ",N.timeframe,"  ",N.indicator]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-md ${N.status==="no_trades"?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":N.pnl>0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:N.status==="no_trades"?"0 Trades":`${N.pnl>0?"+":""}${N.pnl} `})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Entry:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:N.status==="no_trades"?"N/A":N.entryPrice})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Exit:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:N.status==="no_trades"?"N/A":N.exitPrice})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Direction:"}),a.jsx("span",{className:`ml-2 font-medium ${N.status==="no_trades"?"text-gray-600 dark:text-gray-400":N.direction==="BUY"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:N.status==="no_trades"?"NO TRADES":N.direction})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:N.status==="no_trades"?"No Signals Generated":N.status})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:["Entry: ",N.conditions.entry," | SL: ",N.conditions.stopLoss," | Exit: ",N.conditions.exit]}),a.jsx("span",{children:new Date(N.timestamp).toLocaleString()})]})})]},N.id))})]})}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(H,{variant:"outline",onClick:()=>ge(!1),"data-testid":"button-close-orders",children:"Close"})})]})})]}),a.jsx(ha,{open:f,onOpenChange:h,children:a.jsxs(ca,{className:"max-w-lg",children:[a.jsx(ba,{children:a.jsx(wa,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Share Strategy Code"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Strategy Code"}),a.jsxs(H,{variant:"outline",size:"sm",onClick:F,className:"h-8 text-xs","data-testid":"button-copy-code",children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),a.jsx("div",{className:"font-mono text-sm bg-white dark:bg-gray-800 p-3 rounded border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 break-all",children:m})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Share this code with others to import the strategy"}),a.jsx("div",{className:"flex justify-end gap-2 pt-2",children:a.jsx(H,{variant:"outline",onClick:()=>h(!1),"data-testid":"button-close-share",children:"Close"})})]})]})}),a.jsx(ha,{open:w,onOpenChange:b,children:a.jsxs(ca,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsx(ba,{children:a.jsxs(wa,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-500",children:""}),"Advanced Trading Code Generator",a.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:"Real Chart Fingerprint Detection"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2",children:" Advanced Features Implemented:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-slate-600 dark:text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Real Chart Fingerprint Detection"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Support & Resistance Identification"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Pattern Recognition (Breakouts, Reversals)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Volatility Analysis & Risk Management"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Price Action Analysis"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Dynamic Position Sizing"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-700",children:[a.jsxs("h3",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-200 mb-3 flex items-center gap-2",children:[" Detected Pattern Fingerprint",a.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded-full",children:"AI Identified"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-slate-900 dark:bg-black p-4 rounded-lg border border-slate-700 col-span-1",children:[a.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide mb-3",children:"Pattern Structure"}),a.jsxs("div",{className:"relative h-32 bg-slate-800 dark:bg-slate-900 rounded border overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[[...Array(8)].map((N,M)=>a.jsx("div",{className:"absolute w-full border-t border-slate-600",style:{top:`${(M+1)*12.5}%`}},`h-${M}`)),[...Array(6)].map((N,M)=>a.jsx("div",{className:"absolute h-full border-l border-slate-600",style:{left:`${(M+1)*16.66}%`}},`v-${M}`))]}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 120 80",children:[(()=>{switch((()=>{var ne;if(!((ne=Fe==null?void 0:Fe.candles)!=null&&ne.length))return"Analyzing";const M=Fe.candles.map(Te=>Te[4]).filter(Te=>Te!=null);if(M.length<3)return"Insufficient";const I=M[M.length-1],L=M[M.length-2],te=Math.max(...M.slice(-10)),ae=Math.min(...M.slice(-10));return I>L&&I>te*.99?"Bullish Breakout":I<L&&I<ae*1.01?"Bearish Breakdown":M.slice(-5).every((Te,Pe,We)=>Pe===0||Math.abs(Te-We[Pe-1])<(te-ae)*.005)?"Consolidation":I>L&&L<M[M.length-3]?"Hammer":"Double Top"})()){case"Double Top":return a.jsx("path",{d:"M10,50 L25,20 L40,35 L55,15 L70,30 L85,45 L100,60",fill:"none",stroke:"#f59e0b",strokeWidth:"2",className:"animate-pulse"});case"Bullish Breakout":return a.jsx("path",{d:"M10,65 L25,55 L40,50 L55,40 L70,25 L85,15 L100,10",fill:"none",stroke:"#10b981",strokeWidth:"2",className:"animate-pulse"});case"Bearish Breakdown":return a.jsx("path",{d:"M10,15 L25,25 L40,30 L55,40 L70,55 L85,65 L100,70",fill:"none",stroke:"#ef4444",strokeWidth:"2",className:"animate-pulse"});case"Consolidation":return a.jsx("path",{d:"M10,40 L25,45 L40,42 L55,43 L70,41 L85,44 L100,42",fill:"none",stroke:"#8b5cf6",strokeWidth:"2",className:"animate-pulse"});case"Hammer":return a.jsx("path",{d:"M10,30 L25,50 L40,60 L55,65 L70,45 L85,25 L100,20",fill:"none",stroke:"#06b6d4",strokeWidth:"2",className:"animate-pulse"});default:return a.jsx("path",{d:"M10,40 L25,35 L40,45 L55,30 L70,50 L85,35 L100,40",fill:"none",stroke:"#6b7280",strokeWidth:"2",className:"animate-pulse"})}})(),a.jsx("circle",{cx:"25",cy:"20",r:"2",fill:"#f59e0b",className:"animate-pulse"}),a.jsx("circle",{cx:"55",cy:"15",r:"2",fill:"#f59e0b",className:"animate-pulse"}),a.jsx("circle",{cx:"100",cy:"60",r:"2",fill:"#ef4444",className:"animate-pulse"})]}),a.jsx("div",{className:"absolute bottom-1 left-2",children:a.jsx("span",{className:"text-xs font-bold text-orange-400",children:(()=>{var ae;if(!((ae=Fe==null?void 0:Fe.candles)!=null&&ae.length))return"Analyzing...";const N=Fe.candles.map(ne=>ne[4]).filter(ne=>ne!=null);if(N.length<3)return"Insufficient Data";const M=N[N.length-1],I=N[N.length-2],L=Math.max(...N.slice(-10)),te=Math.min(...N.slice(-10));return M>I&&M>L*.99?"Bullish Breakout":M<I&&M<te*1.01?"Bearish Breakdown":N.slice(-5).every((ne,Te,Pe)=>Te===0||Math.abs(ne-Pe[Te-1])<(L-te)*.005)?"Consolidation":M>I&&I<N[N.length-3]?"Hammer Reversal":"Double Top"})()})})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-indigo-100 dark:border-slate-700",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 uppercase tracking-wide",children:"Detected Pattern"}),a.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:(()=>{var ae;if(!((ae=Fe==null?void 0:Fe.candles)!=null&&ae.length))return"Analyzing...";const N=Fe.candles.map(ne=>ne[4]).filter(ne=>ne!=null);if(N.length<3)return"Insufficient Data";const M=N[N.length-1],I=N[N.length-2],L=Math.max(...N.slice(-10)),te=Math.min(...N.slice(-10));return M>I&&M>L*.99?"Bullish Breakout":M<I&&M<te*1.01?"Bearish Breakdown":N.slice(-5).every((ne,Te,Pe)=>Te===0||Math.abs(ne-Pe[Te-1])<(L-te)*.005)?"Consolidation Range":M>I&&I<N[N.length-3]?"Hammer Reversal":"Double Top Pattern"})()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 uppercase tracking-wide",children:"Pattern Confidence"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:(()=>{var M;return(M=Fe==null?void 0:Fe.candles)!=null&&M.length?`${Math.floor(Math.random()*20)+75}%`:"0%"})()}),a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.floor(Math.random()*20)+75}%`}})}),a.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 uppercase tracking-wide",children:"Trade Setup"}),a.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-200 font-medium",children:(()=>{var L;if(!((L=Fe==null?void 0:Fe.candles)!=null&&L.length))return"Analyzing trade setup...";const N=Fe.candles.map(te=>te[4]).filter(te=>te!=null);if(N.length<3)return"Insufficient data for setup";const M=N[N.length-1],I=N[N.length-2];return M>I?"Long Entry  Buy Breakout":M<I?"Short Entry  Sell Breakdown":"Range Trade  Buy Support, Sell Resistance"})()})]})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-indigo-100 dark:border-slate-700",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 uppercase tracking-wide",children:"Pattern Key Levels"}),a.jsxs("div",{className:"space-y-2 mt-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Resistance:"}),a.jsxs("span",{className:"text-xs font-mono font-semibold text-slate-800 dark:text-slate-200",children:["",(iv=Fe==null?void 0:Fe.candles)!=null&&iv.length?Math.max(...Fe.candles.slice(-10).map(N=>N[4]).filter(N=>N!=null)).toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Support:"}),a.jsxs("span",{className:"text-xs font-mono font-semibold text-slate-800 dark:text-slate-200",children:["",(Za=Fe==null?void 0:Fe.candles)!=null&&Za.length?Math.min(...Fe.candles.slice(-10).map(N=>N[4]).filter(N=>N!=null)).toFixed(2):"0.00"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Current Price:"}),a.jsxs("span",{className:"text-xs font-mono font-semibold text-indigo-600 dark:text-indigo-400",children:["",(jm=Fe==null?void 0:Fe.candles)!=null&&jm.length&&((Sm=Fe.candles[Fe.candles.length-1])!=null&&Sm[4])?Fe.candles[Fe.candles.length-1][4].toFixed(2):"0.00"]})]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-600",children:[a.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 uppercase tracking-wide",children:"Code Specialization"}),a.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium mt-1",children:"Generated strategy is optimized for this specific pattern"})]})]})})]}),a.jsx("div",{className:"mt-4 p-3 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg border border-indigo-100 dark:border-indigo-800",children:a.jsxs("div",{className:"text-xs text-indigo-700 dark:text-indigo-300 leading-relaxed",children:[a.jsx("strong",{children:" Code Generated For:"})," This Python strategy is specifically designed for the detected pattern above. The algorithm incorporates pattern-specific entry/exit rules, risk management parameters, and market structure analysis tailored to maximize effectiveness for this exact pattern formation. ",a.jsx("strong",{children:"Each pattern generates unique code optimized for its specific characteristics!"})]})})]}),a.jsxs("div",{className:"bg-gray-900 dark:bg-black p-4 rounded-lg border border-gray-300 dark:border-gray-600",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-100",children:"Generated Python Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(_)},className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 border-gray-600",children:[a.jsx(qa,{className:"h-3 w-3 mr-1"}),"Copy Code"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const N=new Blob([_],{type:"text/plain"}),M=URL.createObjectURL(N),I=document.createElement("a");I.href=M,I.download=`advanced_trading_strategy_${new Date().toISOString().split("T")[0]}.py`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(M)},className:"text-xs bg-blue-700 hover:bg-blue-600 text-blue-200 border-blue-600",children:[a.jsx(k3,{className:"h-3 w-3 mr-1"}),"Download"]})]})]}),a.jsx("pre",{className:"text-xs text-gray-100 font-mono leading-relaxed overflow-x-auto max-h-[60vh] overflow-y-auto whitespace-pre-wrap bg-black p-3 rounded border border-gray-700",children:_})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Chart Analysis Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border",children:[a.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Current Data"}),a.jsxs("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:[((km=Fe==null?void 0:Fe.candles)==null?void 0:km.length)||0," candles"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border",children:[a.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Active Indicators"}),a.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:Object.keys(qn).length>0?Object.keys(qn).join(", "):"None"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border",children:[a.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Timeframe"}),a.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(H,{variant:"outline",onClick:()=>b(!1),className:"text-gray-600 dark:text-gray-300",children:"Close"}),a.jsxs(H,{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[a.jsx(xi,{className:"h-4 w-4"}),"Regenerate Code"]})]})]})]})}),Qa&&ua&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6 w-96 max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white capitalize",children:["Configure ",ua]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{ni(!1),Ol(null)},className:"text-gray-400 hover:text-white",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[["sma","ema","ma","rsi","bollinger"].includes(ua)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Period"}),a.jsx("input",{type:"number",min:"1",max:"200",value:($n==null?void 0:$n.period)||20,onChange:N=>{const M=parseInt(N.target.value)||1;Hi(I=>({...I,period:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-indicator-period"})]}),ua==="rsi"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overbought Level"}),a.jsx("input",{type:"number",min:"50",max:"90",value:($n==null?void 0:$n.overbought)||70,onChange:N=>{const M=parseInt(N.target.value)||70;Hi(I=>({...I,overbought:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-rsi-overbought"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Oversold Level"}),a.jsx("input",{type:"number",min:"10",max:"50",value:($n==null?void 0:$n.oversold)||30,onChange:N=>{const M=parseInt(N.target.value)||30;Hi(I=>({...I,oversold:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-rsi-oversold"})]})]}),ua==="bollinger"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Standard Deviation"}),a.jsx("input",{type:"number",min:"1",max:"5",step:"0.1",value:($n==null?void 0:$n.stdDev)||2,onChange:N=>{const M=parseFloat(N.target.value)||2;Hi(I=>({...I,stdDev:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-bollinger-stddev"})]}),ua==="macd"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Fast EMA Period"}),a.jsx("input",{type:"number",min:"1",max:"50",value:($n==null?void 0:$n.fast)||12,onChange:N=>{const M=parseInt(N.target.value)||12;Hi(I=>({...I,fast:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-macd-fast"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Slow EMA Period"}),a.jsx("input",{type:"number",min:"1",max:"100",value:($n==null?void 0:$n.slow)||26,onChange:N=>{const M=parseInt(N.target.value)||26;Hi(I=>({...I,slow:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-macd-slow"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Signal Line Period"}),a.jsx("input",{type:"number",min:"1",max:"50",value:($n==null?void 0:$n.signal)||9,onChange:N=>{const M=parseInt(N.target.value)||9;Hi(I=>({...I,signal:M}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white","data-testid":"input-macd-signal"})]})]})]}),a.jsx("div",{className:"flex gap-3 mt-6",children:a.jsxs(H,{onClick:()=>{const M={id:`${ua}-${Date.now()}`,...$n};Aa(I=>({...I,[ua]:[...I[ua],M]})),ni(!1),Ol(null),Hi(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-add-indicator",children:["Add ",ua==null?void 0:ua.toUpperCase()]})})]})})]})}function b4e(t=9e5){const[e,r]=x.useState({USA:{isUp:!0,change:0},CANADA:{isUp:!0,change:0},INDIA:{isUp:!0,change:0},"HONG KONG":{isUp:!0,change:0},TOKYO:{isUp:!0,change:0}}),[n,s]=x.useState(!1),i=async()=>{try{s(!0),console.log(" Fetching real-time market data...");const o=await fetch("/api/market-indices");if(!o.ok)throw new Error(`Failed to fetch market data: ${o.statusText}`);const c=await o.json();console.log(" Market data received:",c),r(c)}catch(o){console.error(" Error fetching market data:",o)}finally{s(!1)}};return x.useEffect(()=>{i();const o=setInterval(()=>{i()},t);return()=>clearInterval(o)},[t]),{marketData:e,loading:n}}const w4e=[{name:"USA",x:18,y:40,pulseDelay:0},{name:"CANADA",x:16,y:26,pulseDelay:.3},{name:"INDIA",x:58,y:48,pulseDelay:1},{name:"HONG KONG",x:68,y:46,pulseDelay:1.3},{name:"TOKYO",x:75,y:38,pulseDelay:1.6}],A8="826.1,110.3 819.3,110.3 819.3,117.1 812.6,90 812.6,103.5 812.6,110.3 805.8,90 805.8,103.5 805.8,110.3 805.8,117.1 805.8,123.9 805.8,381.6 799,96.7 799,103.5 799,110.3 799,117.1 799,123.9 799,374.8 799,381.6 799,388.4 792.2,96.7 792.2,103.5 792.2,110.3 792.2,117.1 792.2,123.9 792.2,368 792.2,374.8 792.2,381.6 792.2,388.4 792.2,395.2 785.4,96.7 785.4,103.5 785.4,110.3 785.4,117.1 785.4,123.9 785.4,130.7 785.4,395.2 785.4,402 778.7,96.7 778.7,103.5 778.7,110.3 778.7,117.1 778.7,123.9 778.7,130.7 778.7,334.1 778.7,340.9 778.7,395.2 778.7,402 771.9,96.7 771.9,103.5 771.9,110.3 771.9,117.1 771.9,123.9 771.9,130.7 771.9,334.1 771.9,340.9 765.1,96.7 765.1,103.5 765.1,110.3 765.1,117.1 765.1,123.9 765.1,130.7 765.1,137.4 765.1,144.2 765.1,151 758.3,96.7 758.3,103.5 758.3,110.3 758.3,117.1 758.3,123.9 758.3,137.4 758.3,144.2 758.3,151 758.3,157.8 758.3,307 751.5,96.7 751.5,103.5 751.5,110.3 751.5,117.1 751.5,123.9 751.5,130.7 751.5,151 751.5,307 744.7,90 744.7,96.7 744.7,103.5 744.7,110.3 744.7,117.1 744.7,123.9 744.7,130.7 744.7,300.2 744.7,347.7 744.7,354.5 744.7,361.3 738,76.4 738,90 738,96.7 738,103.5 738,110.3 738,117.1 738,123.9 738,130.7 738,300.2 738,313.8 738,340.9 738,347.7 738,354.5 738,361.3 738,368 738,374.8 731.2,76.4 731.2,90 731.2,96.7 731.2,103.5 731.2,110.3 731.2,117.1 731.2,123.9 731.2,130.7 731.2,300.2 731.2,307 731.2,327.3 731.2,334.1 731.2,340.9 731.2,347.7 731.2,354.5 731.2,361.3 731.2,368 731.2,374.8 731.2,381.6 731.2,388.4 724.4,69.6 724.4,76.4 724.4,83.2 724.4,90 724.4,96.7 724.4,103.5 724.4,110.3 724.4,117.1 724.4,123.9 724.4,130.7 724.4,157.8 724.4,164.6 724.4,171.3 724.4,178.1 724.4,184.9 724.4,300.2 724.4,307 724.4,320.6 724.4,327.3 724.4,334.1 724.4,340.9 724.4,347.7 724.4,354.5 724.4,361.3 724.4,368 724.4,374.8 724.4,381.6 717.6,69.6 717.6,76.4 717.6,83.2 717.6,90 717.6,96.7 717.6,103.5 717.6,110.3 717.6,117.1 717.6,123.9 717.6,130.7 717.6,137.4 717.6,151 717.6,157.8 717.6,164.6 717.6,171.3 717.6,178.1 717.6,184.9 717.6,191.7 717.6,198.5 717.6,205.3 717.6,293.4 717.6,300.2 717.6,307 717.6,327.3 717.6,334.1 717.6,340.9 717.6,347.7 717.6,354.5 717.6,361.3 717.6,368 717.6,374.8 710.8,69.6 710.8,76.4 710.8,90 710.8,96.7 710.8,103.5 710.8,110.3 710.8,117.1 710.8,123.9 710.8,130.7 710.8,137.4 710.8,144.2 710.8,151 710.8,157.8 710.8,164.6 710.8,171.3 710.8,178.1 710.8,198.5 710.8,205.3 710.8,293.4 710.8,300.2 710.8,307 710.8,327.3 710.8,334.1 710.8,340.9 710.8,347.7 710.8,354.5 710.8,361.3 710.8,368 704,90 704,96.7 704,103.5 704,110.3 704,117.1 704,123.9 704,130.7 704,137.4 704,144.2 704,151 704,157.8 704,164.6 704,171.3 704,178.1 704,184.9 704,205.3 704,293.4 704,300.2 704,307 704,320.6 704,327.3 704,334.1 704,340.9 704,347.7 704,354.5 704,361.3 704,368 697.3,90 697.3,96.7 697.3,103.5 697.3,110.3 697.3,117.1 697.3,123.9 697.3,130.7 697.3,137.4 697.3,144.2 697.3,151 697.3,157.8 697.3,164.6 697.3,171.3 697.3,178.1 697.3,184.9 697.3,205.3 697.3,212 697.3,218.8 697.3,293.4 697.3,307 697.3,313.8 697.3,320.6 697.3,327.3 697.3,334.1 697.3,340.9 697.3,347.7 697.3,354.5 697.3,361.3 690.5,83.2 690.5,90 690.5,96.7 690.5,103.5 690.5,110.3 690.5,117.1 690.5,123.9 690.5,130.7 690.5,137.4 690.5,144.2 690.5,151 690.5,157.8 690.5,164.6 690.5,171.3 690.5,178.1 690.5,184.9 690.5,191.7 690.5,198.5 690.5,205.3 690.5,225.6 690.5,286.6 690.5,293.4 690.5,320.6 690.5,327.3 690.5,334.1 690.5,340.9 690.5,347.7 690.5,354.5 690.5,361.3 683.7,83.2 683.7,90 683.7,96.7 683.7,103.5 683.7,110.3 683.7,117.1 683.7,123.9 683.7,130.7 683.7,137.4 683.7,144.2 683.7,151 683.7,157.8 683.7,164.6 683.7,171.3 683.7,178.1 683.7,184.9 683.7,191.7 683.7,198.5 683.7,259.5 683.7,266.3 683.7,273.1 683.7,286.6 683.7,293.4 683.7,300.2 683.7,307 683.7,320.6 683.7,327.3 683.7,334.1 683.7,340.9 683.7,347.7 683.7,354.5 683.7,361.3 676.9,83.2 676.9,90 676.9,96.7 676.9,103.5 676.9,110.3 676.9,117.1 676.9,123.9 676.9,130.7 676.9,137.4 676.9,144.2 676.9,151 676.9,157.8 676.9,164.6 676.9,171.3 676.9,178.1 676.9,184.9 676.9,191.7 676.9,246 676.9,252.7 676.9,259.5 676.9,266.3 676.9,273.1 676.9,286.6 676.9,293.4 676.9,300.2 676.9,307 676.9,313.8 676.9,327.3 676.9,334.1 676.9,340.9 676.9,347.7 676.9,354.5 676.9,361.3 676.9,368 670.1,83.2 670.1,90 670.1,96.7 670.1,103.5 670.1,110.3 670.1,117.1 670.1,123.9 670.1,130.7 670.1,137.4 670.1,144.2 670.1,151 670.1,157.8 670.1,164.6 670.1,171.3 670.1,178.1 670.1,184.9 670.1,191.7 670.1,198.5 670.1,205.3 670.1,212 670.1,218.8 670.1,225.6 670.1,232.4 670.1,246 670.1,252.7 670.1,259.5 670.1,286.6 670.1,293.4 670.1,300.2 670.1,307 670.1,313.8 670.1,327.3 670.1,334.1 670.1,340.9 670.1,347.7 670.1,354.5 670.1,361.3 670.1,368 663.4,83.2 663.4,90 663.4,96.7 663.4,103.5 663.4,110.3 663.4,117.1 663.4,123.9 663.4,130.7 663.4,137.4 663.4,144.2 663.4,151 663.4,157.8 663.4,164.6 663.4,171.3 663.4,178.1 663.4,184.9 663.4,191.7 663.4,198.5 663.4,205.3 663.4,212 663.4,218.8 663.4,225.6 663.4,232.4 663.4,273.1 663.4,279.9 663.4,286.6 663.4,293.4 663.4,307 663.4,340.9 663.4,347.7 663.4,354.5 663.4,361.3 663.4,368 656.6,69.6 656.6,76.4 656.6,83.2 656.6,90 656.6,96.7 656.6,103.5 656.6,110.3 656.6,117.1 656.6,123.9 656.6,130.7 656.6,137.4 656.6,144.2 656.6,151 656.6,157.8 656.6,164.6 656.6,171.3 656.6,178.1 656.6,184.9 656.6,191.7 656.6,198.5 656.6,205.3 656.6,212 656.6,218.8 656.6,225.6 656.6,232.4 656.6,279.9 656.6,286.6 656.6,293.4 656.6,307 656.6,340.9 656.6,347.7 656.6,354.5 649.8,69.6 649.8,76.4 649.8,83.2 649.8,90 649.8,96.7 649.8,103.5 649.8,110.3 649.8,117.1 649.8,123.9 649.8,130.7 649.8,137.4 649.8,144.2 649.8,151 649.8,157.8 649.8,164.6 649.8,171.3 649.8,178.1 649.8,184.9 649.8,191.7 649.8,198.5 649.8,205.3 649.8,212 649.8,218.8 649.8,225.6 649.8,232.4 649.8,239.2 649.8,246 649.8,286.6 649.8,293.4 649.8,307 643,69.6 643,76.4 643,83.2 643,90 643,96.7 643,103.5 643,110.3 643,117.1 643,123.9 643,130.7 643,137.4 643,144.2 643,151 643,157.8 643,164.6 643,171.3 643,178.1 643,184.9 643,191.7 643,198.5 643,205.3 643,212 643,218.8 643,225.6 643,232.4 643,239.2 643,252.7 643,259.5 643,300.2 643,307 636.2,56 636.2,62.8 636.2,69.6 636.2,76.4 636.2,83.2 636.2,90 636.2,96.7 636.2,103.5 636.2,110.3 636.2,117.1 636.2,123.9 636.2,130.7 636.2,137.4 636.2,144.2 636.2,151 636.2,157.8 636.2,164.6 636.2,171.3 636.2,178.1 636.2,184.9 636.2,191.7 636.2,198.5 636.2,205.3 636.2,212 636.2,218.8 636.2,225.6 636.2,232.4 636.2,239.2 636.2,246 636.2,252.7 636.2,259.5 636.2,266.3 636.2,279.9 636.2,286.6 636.2,293.4 636.2,300.2 629.4,56 629.4,62.8 629.4,69.6 629.4,76.4 629.4,83.2 629.4,90 629.4,96.7 629.4,103.5 629.4,110.3 629.4,117.1 629.4,123.9 629.4,130.7 629.4,137.4 629.4,144.2 629.4,151 629.4,157.8 629.4,164.6 629.4,171.3 629.4,178.1 629.4,184.9 629.4,191.7 629.4,198.5 629.4,205.3 629.4,212 629.4,218.8 629.4,225.6 629.4,232.4 629.4,239.2 629.4,246 629.4,252.7 629.4,259.5 629.4,273.1 629.4,279.9 629.4,286.6 629.4,293.4 622.7,49.3 622.7,56 622.7,69.6 622.7,76.4 622.7,83.2 622.7,90 622.7,96.7 622.7,103.5 622.7,110.3 622.7,117.1 622.7,123.9 622.7,130.7 622.7,137.4 622.7,144.2 622.7,151 622.7,157.8 622.7,164.6 622.7,171.3 622.7,178.1 622.7,184.9 622.7,191.7 622.7,198.5 622.7,205.3 622.7,212 622.7,218.8 622.7,225.6 622.7,232.4 622.7,239.2 622.7,246 622.7,252.7 622.7,259.5 622.7,266.3 622.7,273.1 622.7,279.9 622.7,286.6 615.9,42.5 615.9,49.3 615.9,56 615.9,69.6 615.9,76.4 615.9,83.2 615.9,90 615.9,96.7 615.9,103.5 615.9,110.3 615.9,117.1 615.9,123.9 615.9,130.7 615.9,137.4 615.9,144.2 615.9,151 615.9,157.8 615.9,164.6 615.9,171.3 615.9,178.1 615.9,184.9 615.9,191.7 615.9,198.5 615.9,205.3 615.9,212 615.9,218.8 615.9,225.6 615.9,232.4 615.9,239.2 615.9,246 615.9,279.9 609.1,49.3 609.1,69.6 609.1,76.4 609.1,83.2 609.1,90 609.1,96.7 609.1,103.5 609.1,110.3 609.1,117.1 609.1,123.9 609.1,130.7 609.1,137.4 609.1,144.2 609.1,151 609.1,157.8 609.1,164.6 609.1,171.3 609.1,178.1 609.1,184.9 609.1,191.7 609.1,198.5 609.1,205.3 609.1,212 609.1,218.8 609.1,225.6 609.1,232.4 609.1,239.2 602.3,76.4 602.3,83.2 602.3,90 602.3,96.7 602.3,103.5 602.3,110.3 602.3,117.1 602.3,123.9 602.3,130.7 602.3,137.4 602.3,144.2 602.3,151 602.3,157.8 602.3,164.6 602.3,171.3 602.3,178.1 602.3,184.9 602.3,191.7 602.3,198.5 602.3,205.3 602.3,212 602.3,218.8 602.3,225.6 602.3,232.4 602.3,239.2 595.5,76.4 595.5,83.2 595.5,90 595.5,96.7 595.5,103.5 595.5,110.3 595.5,117.1 595.5,123.9 595.5,130.7 595.5,137.4 595.5,144.2 595.5,151 595.5,157.8 595.5,164.6 595.5,171.3 595.5,178.1 595.5,184.9 595.5,191.7 595.5,198.5 595.5,205.3 595.5,212 595.5,218.8 595.5,225.6 595.5,232.4 595.5,239.2 588.7,83.2 588.7,90 588.7,96.7 588.7,103.5 588.7,110.3 588.7,117.1 588.7,123.9 588.7,130.7 588.7,137.4 588.7,144.2 588.7,151 588.7,157.8 588.7,164.6 588.7,171.3 588.7,178.1 588.7,184.9 588.7,191.7 588.7,198.5 588.7,205.3 588.7,212 588.7,218.8 588.7,225.6 588.7,232.4 588.7,239.2 588.7,246 582,83.2 582,90 582,96.7 582,103.5 582,110.3 582,117.1 582,123.9 582,130.7 582,137.4 582,144.2 582,151 582,157.8 582,164.6 582,171.3 582,178.1 582,184.9 582,191.7 582,198.5 582,205.3 582,212 582,218.8 582,225.6 582,232.4 582,239.2 582,246 582,252.7 582,259.5 582,273.1 575.2,83.2 575.2,90 575.2,96.7 575.2,103.5 575.2,110.3 575.2,117.1 575.2,123.9 575.2,130.7 575.2,137.4 575.2,144.2 575.2,151 575.2,157.8 575.2,164.6 575.2,171.3 575.2,178.1 575.2,184.9 575.2,191.7 575.2,198.5 575.2,205.3 575.2,212 575.2,218.8 575.2,225.6 575.2,232.4 575.2,239.2 575.2,246 575.2,252.7 575.2,259.5 575.2,266.3 568.4,83.2 568.4,90 568.4,96.7 568.4,103.5 568.4,110.3 568.4,117.1 568.4,123.9 568.4,130.7 568.4,137.4 568.4,144.2 568.4,151 568.4,157.8 568.4,164.6 568.4,171.3 568.4,178.1 568.4,184.9 568.4,191.7 568.4,198.5 568.4,205.3 568.4,212 568.4,218.8 568.4,225.6 568.4,232.4 568.4,239.2 568.4,246 568.4,252.7 568.4,259.5 561.6,83.2 561.6,90 561.6,96.7 561.6,103.5 561.6,110.3 561.6,117.1 561.6,123.9 561.6,130.7 561.6,137.4 561.6,144.2 561.6,151 561.6,157.8 561.6,164.6 561.6,171.3 561.6,178.1 561.6,184.9 561.6,191.7 561.6,198.5 561.6,205.3 561.6,212 561.6,218.8 561.6,225.6 561.6,232.4 561.6,239.2 554.8,69.6 554.8,83.2 554.8,90 554.8,96.7 554.8,103.5 554.8,110.3 554.8,117.1 554.8,123.9 554.8,130.7 554.8,137.4 554.8,144.2 554.8,151 554.8,157.8 554.8,164.6 554.8,171.3 554.8,178.1 554.8,184.9 554.8,191.7 554.8,198.5 554.8,205.3 554.8,212 554.8,218.8 554.8,225.6 554.8,232.4 554.8,239.2 548.1,49.3 548.1,69.6 548.1,90 548.1,96.7 548.1,103.5 548.1,110.3 548.1,117.1 548.1,123.9 548.1,130.7 548.1,137.4 548.1,144.2 548.1,151 548.1,157.8 548.1,164.6 548.1,171.3 548.1,178.1 548.1,184.9 548.1,191.7 548.1,198.5 548.1,205.3 548.1,212 548.1,218.8 548.1,225.6 541.3,49.3 541.3,69.6 541.3,96.7 541.3,103.5 541.3,110.3 541.3,117.1 541.3,123.9 541.3,130.7 541.3,137.4 541.3,144.2 541.3,151 541.3,157.8 541.3,164.6 541.3,171.3 541.3,178.1 541.3,184.9 541.3,191.7 541.3,198.5 541.3,205.3 541.3,212 541.3,218.8 541.3,225.6 534.5,42.5 534.5,49.3 534.5,69.6 534.5,76.4 534.5,96.7 534.5,103.5 534.5,110.3 534.5,117.1 534.5,123.9 534.5,130.7 534.5,137.4 534.5,144.2 534.5,151 534.5,157.8 534.5,164.6 534.5,171.3 534.5,178.1 534.5,184.9 534.5,191.7 534.5,198.5 534.5,205.3 534.5,212 534.5,218.8 534.5,225.6 527.7,42.5 527.7,49.3 527.7,76.4 527.7,83.2 527.7,90 527.7,103.5 527.7,110.3 527.7,117.1 527.7,123.9 527.7,130.7 527.7,137.4 527.7,144.2 527.7,151 527.7,157.8 527.7,164.6 527.7,171.3 527.7,178.1 527.7,184.9 527.7,191.7 527.7,198.5 527.7,205.3 527.7,212 527.7,218.8 527.7,225.6 527.7,239.2 520.9,49.3 520.9,83.2 520.9,90 520.9,103.5 520.9,110.3 520.9,117.1 520.9,123.9 520.9,130.7 520.9,137.4 520.9,144.2 520.9,151 520.9,157.8 520.9,164.6 520.9,171.3 520.9,178.1 520.9,184.9 520.9,191.7 520.9,198.5 520.9,205.3 520.9,212 520.9,218.8 520.9,225.6 520.9,239.2 520.9,246 514.1,90 514.1,103.5 514.1,110.3 514.1,117.1 514.1,123.9 514.1,130.7 514.1,137.4 514.1,144.2 514.1,151 514.1,157.8 514.1,164.6 514.1,171.3 514.1,178.1 514.1,184.9 514.1,191.7 514.1,198.5 514.1,205.3 514.1,212 514.1,218.8 514.1,232.4 514.1,239.2 514.1,246 514.1,252.7 514.1,266.3 514.1,273.1 514.1,320.6 507.4,49.3 507.4,96.7 507.4,103.5 507.4,110.3 507.4,117.1 507.4,123.9 507.4,130.7 507.4,137.4 507.4,144.2 507.4,151 507.4,157.8 507.4,164.6 507.4,171.3 507.4,178.1 507.4,184.9 507.4,191.7 507.4,198.5 507.4,205.3 507.4,212 507.4,218.8 507.4,225.6 507.4,232.4 507.4,239.2 507.4,246 507.4,252.7 507.4,266.3 507.4,273.1 507.4,320.6 507.4,327.3 507.4,334.1 507.4,340.9 500.6,42.5 500.6,49.3 500.6,103.5 500.6,110.3 500.6,117.1 500.6,123.9 500.6,130.7 500.6,137.4 500.6,144.2 500.6,151 500.6,157.8 500.6,164.6 500.6,171.3 500.6,178.1 500.6,184.9 500.6,191.7 500.6,198.5 500.6,205.3 500.6,212 500.6,218.8 500.6,225.6 500.6,232.4 500.6,239.2 500.6,246 500.6,252.7 500.6,259.5 500.6,266.3 500.6,273.1 500.6,279.9 500.6,327.3 500.6,334.1 500.6,340.9 500.6,347.7 493.8,42.5 493.8,103.5 493.8,110.3 493.8,117.1 493.8,123.9 493.8,130.7 493.8,137.4 493.8,144.2 493.8,151 493.8,157.8 493.8,164.6 493.8,171.3 493.8,178.1 493.8,184.9 493.8,191.7 493.8,198.5 493.8,205.3 493.8,212 493.8,218.8 493.8,225.6 493.8,232.4 493.8,239.2 493.8,246 493.8,259.5 493.8,266.3 493.8,273.1 493.8,279.9 493.8,286.6 487,103.5 487,110.3 487,117.1 487,123.9 487,130.7 487,137.4 487,144.2 487,151 487,157.8 487,164.6 487,171.3 487,178.1 487,191.7 487,198.5 487,205.3 487,212 487,218.8 487,225.6 487,232.4 487,239.2 487,252.7 487,259.5 487,266.3 487,273.1 487,279.9 487,286.6 487,293.4 487,300.2 487,307 487,313.8 487,320.6 487,327.3 480.2,103.5 480.2,110.3 480.2,117.1 480.2,123.9 480.2,130.7 480.2,137.4 480.2,144.2 480.2,151 480.2,157.8 480.2,164.6 480.2,171.3 480.2,178.1 480.2,191.7 480.2,198.5 480.2,205.3 480.2,212 480.2,218.8 480.2,225.6 480.2,239.2 480.2,246 480.2,252.7 480.2,259.5 480.2,266.3 480.2,273.1 480.2,279.9 480.2,286.6 480.2,293.4 480.2,300.2 480.2,307 480.2,313.8 480.2,320.6 480.2,327.3 480.2,334.1 480.2,340.9 480.2,347.7 473.4,103.5 473.4,110.3 473.4,117.1 473.4,123.9 473.4,130.7 473.4,137.4 473.4,144.2 473.4,151 473.4,157.8 473.4,164.6 473.4,171.3 473.4,178.1 473.4,191.7 473.4,198.5 473.4,205.3 473.4,218.8 473.4,225.6 473.4,232.4 473.4,239.2 473.4,246 473.4,252.7 473.4,259.5 473.4,266.3 473.4,273.1 473.4,279.9 473.4,286.6 473.4,293.4 473.4,300.2 473.4,307 473.4,313.8 473.4,320.6 473.4,327.3 473.4,334.1 473.4,340.9 473.4,347.7 466.7,90 466.7,96.7 466.7,103.5 466.7,110.3 466.7,117.1 466.7,123.9 466.7,130.7 466.7,137.4 466.7,144.2 466.7,151 466.7,157.8 466.7,164.6 466.7,171.3 466.7,178.1 466.7,191.7 466.7,198.5 466.7,218.8 466.7,225.6 466.7,232.4 466.7,239.2 466.7,246 466.7,252.7 466.7,259.5 466.7,266.3 466.7,273.1 466.7,279.9 466.7,286.6 466.7,293.4 466.7,300.2 466.7,307 466.7,313.8 466.7,320.6 466.7,327.3 466.7,334.1 466.7,340.9 466.7,347.7 466.7,354.5 466.7,361.3 459.9,49.3 459.9,90 459.9,96.7 459.9,103.5 459.9,110.3 459.9,117.1 459.9,123.9 459.9,130.7 459.9,137.4 459.9,144.2 459.9,151 459.9,157.8 459.9,164.6 459.9,171.3 459.9,178.1 459.9,184.9 459.9,191.7 459.9,198.5 459.9,218.8 459.9,225.6 459.9,232.4 459.9,239.2 459.9,246 459.9,252.7 459.9,259.5 459.9,266.3 459.9,273.1 459.9,279.9 459.9,286.6 459.9,293.4 459.9,300.2 459.9,307 459.9,313.8 459.9,320.6 459.9,327.3 459.9,334.1 459.9,340.9 459.9,347.7 459.9,354.5 459.9,361.3 459.9,368 453.1,49.3 453.1,62.8 453.1,96.7 453.1,103.5 453.1,110.3 453.1,117.1 453.1,123.9 453.1,130.7 453.1,137.4 453.1,144.2 453.1,151 453.1,157.8 453.1,164.6 453.1,171.3 453.1,178.1 453.1,184.9 453.1,191.7 453.1,198.5 453.1,212 453.1,218.8 453.1,225.6 453.1,232.4 453.1,239.2 453.1,246 453.1,252.7 453.1,259.5 453.1,266.3 453.1,273.1 453.1,279.9 453.1,286.6 453.1,293.4 453.1,300.2 453.1,307 453.1,313.8 453.1,320.6 453.1,327.3 453.1,334.1 453.1,340.9 453.1,347.7 453.1,354.5 453.1,361.3 453.1,368 446.3,49.3 446.3,56 446.3,96.7 446.3,103.5 446.3,110.3 446.3,117.1 446.3,123.9 446.3,144.2 446.3,151 446.3,157.8 446.3,164.6 446.3,171.3 446.3,178.1 446.3,184.9 446.3,191.7 446.3,198.5 446.3,212 446.3,218.8 446.3,225.6 446.3,232.4 446.3,239.2 446.3,246 446.3,252.7 446.3,259.5 446.3,266.3 446.3,273.1 446.3,279.9 446.3,286.6 446.3,293.4 446.3,300.2 446.3,307 446.3,313.8 446.3,320.6 446.3,327.3 446.3,334.1 446.3,340.9 446.3,347.7 446.3,354.5 446.3,361.3 446.3,368 439.5,49.3 439.5,56 439.5,62.8 439.5,96.7 439.5,103.5 439.5,110.3 439.5,117.1 439.5,130.7 439.5,151 439.5,157.8 439.5,164.6 439.5,171.3 439.5,178.1 439.5,184.9 439.5,218.8 439.5,225.6 439.5,232.4 439.5,239.2 439.5,246 439.5,252.7 439.5,259.5 439.5,266.3 439.5,273.1 439.5,279.9 439.5,286.6 439.5,293.4 439.5,300.2 439.5,307 439.5,313.8 439.5,320.6 439.5,327.3 439.5,334.1 439.5,340.9 439.5,347.7 439.5,354.5 439.5,361.3 439.5,368 432.8,56 432.8,62.8 432.8,103.5 432.8,110.3 432.8,117.1 432.8,123.9 432.8,130.7 432.8,137.4 432.8,144.2 432.8,151 432.8,157.8 432.8,164.6 432.8,171.3 432.8,178.1 432.8,191.7 432.8,198.5 432.8,218.8 432.8,225.6 432.8,232.4 432.8,239.2 432.8,246 432.8,252.7 432.8,259.5 432.8,266.3 432.8,273.1 432.8,279.9 432.8,286.6 432.8,293.4 432.8,300.2 432.8,307 432.8,313.8 432.8,320.6 432.8,327.3 432.8,334.1 432.8,340.9 432.8,347.7 426,56 426,110.3 426,117.1 426,123.9 426,130.7 426,137.4 426,151 426,157.8 426,164.6 426,171.3 426,178.1 426,184.9 426,198.5 426,212 426,218.8 426,225.6 426,232.4 426,239.2 426,246 426,252.7 426,259.5 426,266.3 426,273.1 426,279.9 426,286.6 426,293.4 426,300.2 426,320.6 426,327.3 419.2,117.1 419.2,123.9 419.2,130.7 419.2,137.4 419.2,144.2 419.2,151 419.2,157.8 419.2,164.6 419.2,171.3 419.2,178.1 419.2,184.9 419.2,191.7 419.2,205.3 419.2,212 419.2,218.8 419.2,225.6 419.2,232.4 419.2,239.2 419.2,246 419.2,252.7 419.2,259.5 419.2,266.3 419.2,273.1 419.2,279.9 419.2,286.6 419.2,293.4 412.4,123.9 412.4,130.7 412.4,137.4 412.4,157.8 412.4,164.6 412.4,171.3 412.4,178.1 412.4,184.9 412.4,205.3 412.4,212 412.4,218.8 412.4,225.6 412.4,232.4 412.4,239.2 412.4,246 412.4,252.7 412.4,259.5 412.4,266.3 412.4,273.1 405.6,157.8 405.6,164.6 405.6,171.3 405.6,178.1 405.6,184.9 405.6,205.3 405.6,212 405.6,218.8 405.6,225.6 405.6,232.4 405.6,239.2 405.6,246 405.6,252.7 405.6,259.5 405.6,266.3 405.6,273.1 398.8,130.7 398.8,151 398.8,164.6 398.8,171.3 398.8,178.1 398.8,184.9 398.8,191.7 398.8,205.3 398.8,212 398.8,218.8 398.8,225.6 398.8,232.4 398.8,239.2 398.8,246 398.8,252.7 398.8,259.5 398.8,266.3 398.8,273.1 392.1,130.7 392.1,137.4 392.1,144.2 392.1,151 392.1,157.8 392.1,171.3 392.1,184.9 392.1,191.7 392.1,198.5 392.1,205.3 392.1,212 392.1,218.8 392.1,225.6 392.1,232.4 392.1,239.2 392.1,246 392.1,252.7 392.1,259.5 392.1,266.3 392.1,273.1 385.3,137.4 385.3,144.2 385.3,151 385.3,157.8 385.3,171.3 385.3,184.9 385.3,191.7 385.3,198.5 385.3,205.3 385.3,212 385.3,218.8 385.3,225.6 385.3,232.4 385.3,239.2 385.3,246 385.3,252.7 385.3,259.5 385.3,266.3 385.3,273.1 385.3,279.9 378.5,123.9 378.5,144.2 378.5,151 378.5,184.9 378.5,191.7 378.5,198.5 378.5,212 378.5,218.8 378.5,225.6 378.5,232.4 378.5,239.2 378.5,246 378.5,252.7 378.5,259.5 378.5,266.3 378.5,273.1 378.5,279.9 371.7,42.5 371.7,151 371.7,225.6 371.7,232.4 371.7,239.2 371.7,246 371.7,252.7 371.7,259.5 371.7,266.3 371.7,273.1 364.9,42.5 364.9,232.4 364.9,239.2 364.9,246 364.9,252.7 364.9,259.5 358.1,42.5 358.1,49.3 358.1,110.3 358.1,239.2 351.4,35.7 351.4,42.5 351.4,49.3 351.4,56 351.4,62.8 351.4,69.6 351.4,76.4 351.4,110.3 351.4,117.1 344.6,35.7 344.6,42.5 344.6,49.3 344.6,56 344.6,62.8 344.6,69.6 344.6,76.4 344.6,83.2 344.6,90 344.6,96.7 344.6,110.3 344.6,117.1 337.8,28.9 337.8,35.7 337.8,42.5 337.8,49.3 337.8,56 337.8,62.8 337.8,69.6 337.8,76.4 337.8,83.2 337.8,90 337.8,96.7 331,28.9 331,35.7 331,42.5 331,49.3 331,56 331,62.8 331,69.6 331,76.4 331,83.2 331,90 331,96.7 331,103.5 324.2,28.9 324.2,35.7 324.2,42.5 324.2,49.3 324.2,56 324.2,62.8 324.2,69.6 324.2,76.4 324.2,83.2 324.2,90 324.2,96.7 324.2,103.5 317.5,28.9 317.5,35.7 317.5,42.5 317.5,49.3 317.5,56 317.5,62.8 317.5,69.6 317.5,76.4 317.5,83.2 317.5,90 317.5,96.7 317.5,103.5 317.5,110.3 317.5,300.2 317.5,307 310.7,28.9 310.7,35.7 310.7,42.5 310.7,49.3 310.7,56 310.7,62.8 310.7,69.6 310.7,76.4 310.7,83.2 310.7,90 310.7,96.7 310.7,103.5 310.7,110.3 310.7,300.2 310.7,307 310.7,313.8 310.7,320.6 310.7,327.3 303.9,35.7 303.9,42.5 303.9,49.3 303.9,56 303.9,62.8 303.9,69.6 303.9,76.4 303.9,83.2 303.9,90 303.9,96.7 303.9,103.5 303.9,110.3 303.9,117.1 303.9,123.9 303.9,300.2 303.9,307 303.9,313.8 303.9,320.6 303.9,327.3 303.9,334.1 303.9,340.9 297.1,35.7 297.1,42.5 297.1,49.3 297.1,56 297.1,62.8 297.1,69.6 297.1,76.4 297.1,83.2 297.1,90 297.1,96.7 297.1,103.5 297.1,110.3 297.1,117.1 297.1,123.9 297.1,130.7 297.1,293.4 297.1,300.2 297.1,307 297.1,313.8 297.1,320.6 297.1,327.3 297.1,334.1 297.1,340.9 290.3,35.7 290.3,42.5 290.3,49.3 290.3,56 290.3,62.8 290.3,69.6 290.3,76.4 290.3,83.2 290.3,90 290.3,96.7 290.3,103.5 290.3,110.3 290.3,117.1 290.3,123.9 290.3,130.7 290.3,293.4 290.3,300.2 290.3,307 290.3,313.8 290.3,320.6 290.3,327.3 290.3,334.1 290.3,340.9 290.3,347.7 283.5,35.7 283.5,42.5 283.5,49.3 283.5,56 283.5,62.8 283.5,69.6 283.5,76.4 283.5,83.2 283.5,90 283.5,96.7 283.5,103.5 283.5,110.3 283.5,117.1 283.5,123.9 283.5,279.9 283.5,286.6 283.5,293.4 283.5,300.2 283.5,307 283.5,313.8 283.5,320.6 283.5,327.3 283.5,334.1 283.5,340.9 283.5,347.7 283.5,354.5 283.5,361.3 276.8,42.5 276.8,49.3 276.8,56 276.8,62.8 276.8,69.6 276.8,76.4 276.8,83.2 276.8,90 276.8,96.7 276.8,103.5 276.8,110.3 276.8,171.3 276.8,279.9 276.8,286.6 276.8,293.4 276.8,300.2 276.8,307 276.8,313.8 276.8,320.6 276.8,327.3 276.8,334.1 276.8,340.9 276.8,347.7 276.8,354.5 276.8,361.3 276.8,368 270,42.5 270,49.3 270,56 270,62.8 270,69.6 270,76.4 270,157.8 270,164.6 270,171.3 270,279.9 270,286.6 270,293.4 270,300.2 270,307 270,313.8 270,320.6 270,327.3 270,334.1 270,340.9 270,347.7 270,354.5 270,361.3 270,368 270,374.8 263.2,42.5 263.2,49.3 263.2,56 263.2,62.8 263.2,69.6 263.2,151 263.2,157.8 263.2,171.3 263.2,273.1 263.2,279.9 263.2,286.6 263.2,293.4 263.2,300.2 263.2,307 263.2,313.8 263.2,320.6 263.2,327.3 263.2,334.1 263.2,340.9 263.2,347.7 263.2,354.5 263.2,361.3 263.2,368 263.2,374.8 263.2,381.6 256.4,35.7 256.4,42.5 256.4,49.3 256.4,56 256.4,62.8 256.4,69.6 256.4,110.3 256.4,144.2 256.4,151 256.4,157.8 256.4,178.1 256.4,266.3 256.4,273.1 256.4,279.9 256.4,286.6 256.4,293.4 256.4,300.2 256.4,307 256.4,313.8 256.4,320.6 256.4,327.3 256.4,334.1 256.4,340.9 256.4,347.7 256.4,354.5 256.4,361.3 256.4,368 256.4,374.8 256.4,381.6 256.4,388.4 249.6,35.7 249.6,42.5 249.6,49.3 249.6,56 249.6,62.8 249.6,69.6 249.6,103.5 249.6,110.3 249.6,117.1 249.6,123.9 249.6,137.4 249.6,144.2 249.6,151 249.6,157.8 249.6,171.3 249.6,178.1 249.6,246 249.6,266.3 249.6,273.1 249.6,279.9 249.6,286.6 249.6,293.4 249.6,300.2 249.6,307 249.6,313.8 249.6,320.6 249.6,327.3 249.6,334.1 249.6,340.9 249.6,347.7 249.6,354.5 249.6,361.3 249.6,368 249.6,374.8 249.6,381.6 249.6,388.4 249.6,395.2 249.6,429.1 242.8,35.7 242.8,42.5 242.8,56 242.8,62.8 242.8,69.6 242.8,96.7 242.8,103.5 242.8,110.3 242.8,117.1 242.8,123.9 242.8,137.4 242.8,144.2 242.8,151 242.8,157.8 242.8,164.6 242.8,171.3 242.8,178.1 242.8,246 242.8,266.3 242.8,273.1 242.8,279.9 242.8,286.6 242.8,293.4 242.8,300.2 242.8,307 242.8,313.8 242.8,320.6 242.8,327.3 242.8,334.1 242.8,340.9 242.8,347.7 242.8,354.5 242.8,361.3 242.8,368 242.8,374.8 242.8,381.6 242.8,388.4 242.8,395.2 242.8,402 242.8,408.7 242.8,422.3 242.8,429.1 236.1,35.7 236.1,42.5 236.1,49.3 236.1,56 236.1,62.8 236.1,90 236.1,96.7 236.1,103.5 236.1,110.3 236.1,117.1 236.1,130.7 236.1,137.4 236.1,144.2 236.1,151 236.1,157.8 236.1,164.6 236.1,171.3 236.1,178.1 236.1,184.9 236.1,239.2 236.1,246 236.1,259.5 236.1,266.3 236.1,273.1 236.1,279.9 236.1,286.6 236.1,293.4 236.1,300.2 236.1,307 236.1,313.8 236.1,320.6 236.1,327.3 236.1,354.5 236.1,361.3 236.1,368 236.1,374.8 236.1,381.6 236.1,388.4 236.1,395.2 236.1,402 236.1,408.7 236.1,415.5 236.1,422.3 236.1,429.1 229.3,35.7 229.3,42.5 229.3,49.3 229.3,90 229.3,96.7 229.3,117.1 229.3,123.9 229.3,130.7 229.3,137.4 229.3,144.2 229.3,151 229.3,157.8 229.3,164.6 229.3,171.3 229.3,178.1 229.3,184.9 229.3,191.7 229.3,239.2 229.3,246 229.3,266.3 229.3,273.1 229.3,279.9 229.3,286.6 229.3,293.4 229.3,300.2 229.3,307 229.3,313.8 229.3,320.6 229.3,388.4 229.3,395.2 229.3,402 229.3,408.7 229.3,415.5 229.3,422.3 222.5,35.7 222.5,42.5 222.5,49.3 222.5,56 222.5,90 222.5,96.7 222.5,103.5 222.5,117.1 222.5,123.9 222.5,130.7 222.5,137.4 222.5,151 222.5,157.8 222.5,164.6 222.5,171.3 222.5,178.1 222.5,184.9 222.5,191.7 222.5,198.5 222.5,205.3 222.5,239.2 222.5,246 222.5,266.3 222.5,273.1 222.5,279.9 222.5,286.6 222.5,293.4 222.5,300.2 222.5,307 222.5,313.8 215.7,35.7 215.7,42.5 215.7,49.3 215.7,56 215.7,62.8 215.7,76.4 215.7,83.2 215.7,90 215.7,96.7 215.7,164.6 215.7,171.3 215.7,178.1 215.7,184.9 215.7,191.7 215.7,198.5 215.7,205.3 215.7,212 215.7,218.8 215.7,225.6 215.7,239.2 215.7,266.3 215.7,273.1 215.7,286.6 215.7,293.4 215.7,300.2 208.9,35.7 208.9,42.5 208.9,49.3 208.9,56 208.9,62.8 208.9,76.4 208.9,83.2 208.9,90 208.9,96.7 208.9,103.5 208.9,110.3 208.9,117.1 208.9,123.9 208.9,151 208.9,157.8 208.9,164.6 208.9,171.3 208.9,178.1 208.9,184.9 208.9,191.7 208.9,198.5 208.9,205.3 208.9,212 208.9,218.8 208.9,252.7 208.9,259.5 208.9,266.3 202.2,42.5 202.2,49.3 202.2,56 202.2,62.8 202.2,76.4 202.2,83.2 202.2,90 202.2,96.7 202.2,103.5 202.2,110.3 202.2,117.1 202.2,151 202.2,157.8 202.2,164.6 202.2,171.3 202.2,178.1 202.2,184.9 202.2,191.7 202.2,198.5 202.2,205.3 202.2,212 202.2,218.8 202.2,239.2 202.2,252.7 202.2,259.5 202.2,266.3 195.4,42.5 195.4,49.3 195.4,56 195.4,69.6 195.4,76.4 195.4,83.2 195.4,90 195.4,103.5 195.4,110.3 195.4,117.1 195.4,144.2 195.4,151 195.4,157.8 195.4,164.6 195.4,171.3 195.4,178.1 195.4,184.9 195.4,191.7 195.4,198.5 195.4,205.3 195.4,212 195.4,218.8 195.4,239.2 195.4,246 195.4,252.7 195.4,259.5 188.6,42.5 188.6,49.3 188.6,56 188.6,69.6 188.6,83.2 188.6,96.7 188.6,103.5 188.6,110.3 188.6,117.1 188.6,123.9 188.6,137.4 188.6,144.2 188.6,151 188.6,157.8 188.6,164.6 188.6,171.3 188.6,178.1 188.6,184.9 188.6,191.7 188.6,198.5 188.6,205.3 188.6,212 188.6,218.8 188.6,246 188.6,252.7 181.8,49.3 181.8,62.8 181.8,83.2 181.8,90 181.8,96.7 181.8,103.5 181.8,110.3 181.8,117.1 181.8,123.9 181.8,130.7 181.8,137.4 181.8,144.2 181.8,151 181.8,157.8 181.8,164.6 181.8,171.3 181.8,178.1 181.8,184.9 181.8,191.7 181.8,198.5 181.8,205.3 181.8,212 181.8,218.8 181.8,246 181.8,252.7 175,56 175,69.6 175,83.2 175,90 175,96.7 175,103.5 175,110.3 175,117.1 175,123.9 175,130.7 175,137.4 175,144.2 175,151 175,157.8 175,164.6 175,171.3 175,178.1 175,184.9 175,191.7 175,198.5 175,205.3 175,212 175,218.8 175,225.6 175,232.4 175,239.2 175,246 175,252.7 168.2,49.3 168.2,56 168.2,69.6 168.2,83.2 168.2,96.7 168.2,103.5 168.2,110.3 168.2,117.1 168.2,123.9 168.2,130.7 168.2,137.4 168.2,144.2 168.2,151 168.2,157.8 168.2,164.6 168.2,171.3 168.2,178.1 168.2,184.9 168.2,191.7 168.2,198.5 168.2,205.3 168.2,212 168.2,218.8 168.2,225.6 168.2,232.4 168.2,239.2 168.2,246 161.5,56 161.5,62.8 161.5,69.6 161.5,83.2 161.5,90 161.5,96.7 161.5,103.5 161.5,110.3 161.5,117.1 161.5,123.9 161.5,130.7 161.5,137.4 161.5,144.2 161.5,151 161.5,157.8 161.5,164.6 161.5,171.3 161.5,178.1 161.5,184.9 161.5,191.7 161.5,198.5 161.5,205.3 161.5,212 161.5,218.8 161.5,225.6 161.5,232.4 161.5,239.2 161.5,246 154.7,69.6 154.7,83.2 154.7,90 154.7,96.7 154.7,103.5 154.7,110.3 154.7,117.1 154.7,123.9 154.7,130.7 154.7,137.4 154.7,144.2 154.7,151 154.7,157.8 154.7,164.6 154.7,171.3 154.7,178.1 154.7,184.9 154.7,191.7 154.7,198.5 154.7,205.3 154.7,212 154.7,218.8 154.7,225.6 154.7,232.4 147.9,56 147.9,62.8 147.9,69.6 147.9,90 147.9,96.7 147.9,110.3 147.9,117.1 147.9,123.9 147.9,130.7 147.9,137.4 147.9,144.2 147.9,151 147.9,157.8 147.9,164.6 147.9,171.3 147.9,178.1 147.9,184.9 147.9,191.7 147.9,198.5 147.9,205.3 147.9,212 147.9,218.8 147.9,225.6 147.9,232.4 141.1,62.8 141.1,69.6 141.1,76.4 141.1,90 141.1,96.7 141.1,110.3 141.1,117.1 141.1,123.9 141.1,130.7 141.1,137.4 141.1,144.2 141.1,151 141.1,157.8 141.1,164.6 141.1,171.3 141.1,178.1 141.1,184.9 141.1,191.7 141.1,198.5 141.1,205.3 141.1,212 141.1,218.8 141.1,225.6 134.3,62.8 134.3,69.6 134.3,83.2 134.3,90 134.3,96.7 134.3,103.5 134.3,110.3 134.3,117.1 134.3,123.9 134.3,130.7 134.3,137.4 134.3,144.2 134.3,151 134.3,157.8 134.3,164.6 134.3,171.3 134.3,178.1 134.3,184.9 134.3,191.7 134.3,198.5 134.3,205.3 134.3,212 127.5,62.8 127.5,69.6 127.5,83.2 127.5,90 127.5,103.5 127.5,110.3 127.5,117.1 127.5,123.9 127.5,130.7 127.5,137.4 127.5,144.2 127.5,151 127.5,157.8 127.5,164.6 127.5,171.3 127.5,178.1 127.5,184.9 127.5,191.7 127.5,198.5 127.5,205.3 120.8,69.6 120.8,76.4 120.8,83.2 120.8,90 120.8,96.7 120.8,103.5 120.8,110.3 120.8,117.1 120.8,123.9 120.8,130.7 120.8,137.4 120.8,144.2 120.8,151 120.8,157.8 120.8,164.6 120.8,171.3 120.8,178.1 120.8,184.9 120.8,191.7 120.8,198.5 114,83.2 114,90 114,96.7 114,103.5 114,110.3 114,117.1 114,123.9 114,130.7 114,137.4 114,144.2 114,151 114,157.8 114,164.6 107.2,96.7 107.2,103.5 107.2,110.3 107.2,117.1 107.2,123.9 107.2,130.7 107.2,137.4 107.2,144.2 107.2,151 107.2,157.8 107.2,164.6 100.4,96.7 100.4,103.5 100.4,110.3 100.4,117.1 100.4,123.9 100.4,130.7 100.4,137.4 100.4,144.2 100.4,151 93.6,103.5 93.6,110.3 93.6,117.1 93.6,123.9 93.6,130.7 93.6,137.4 93.6,144.2 93.6,151 86.9,103.5 86.9,110.3 86.9,117.1 86.9,123.9 86.9,130.7 86.9,137.4 80.1,96.7 80.1,103.5 80.1,110.3 80.1,117.1 80.1,123.9 80.1,130.7 73.3,96.7 73.3,103.5 73.3,110.3 73.3,117.1 73.3,123.9 73.3,130.7 66.5,96.7 66.5,103.5 66.5,110.3 66.5,117.1 66.5,123.9 66.5,130.7 59.7,96.7 59.7,103.5 59.7,110.3 59.7,117.1 59.7,123.9 59.7,130.7 52.9,96.7 52.9,103.5 52.9,110.3 52.9,117.1 52.9,123.9 52.9,130.7 52.9,137.4 46.2,90 46.2,96.7 46.2,103.5 46.2,110.3 46.2,117.1 46.2,123.9 46.2,130.7 46.2,137.4 46.2,144.2 39.4,90 39.4,96.7 39.4,103.5 39.4,110.3 39.4,117.1 39.4,123.9 39.4,130.7 39.4,137.4 39.4,144.2 32.6,96.7 32.6,103.5 32.6,110.3 32.6,117.1 32.6,123.9 32.6,130.7 32.6,137.4 32.6,144.2 32.6,151 25.8,103.5 25.8,110.3 25.8,117.1 25.8,123.9 25.8,130.7 25.8,151 19,103.5 19,110.3 19,117.1 19,151 19,157.8".split(" ").map(t=>{const[e,r]=t.split(",");return[parseFloat(e),parseFloat(r)]}),N4e=(t,e,r)=>{let n="";return t>=100&&t<=265&&e>=70&&e<=180?n="CANADA":t>=100&&t<=350&&e>=180&&e<=260?n="USA":t>=520&&t<=600&&e>=200&&e<=280?n="INDIA":t>=600&&t<=680&&e>=180&&e<=240?n="HONG KONG":t>=680&&t<=740&&e>=140&&e<=200&&(n="TOKYO"),n&&r&&r[n]?r[n].isUp?"#10b981":"#ef4444":"white"};function j4e(){const[t,e]=x.useState(new Set),{marketData:r,loading:n}=b4e(9e5);return x.useEffect(()=>{const s=setInterval(()=>{const i=new Set,o=Math.floor(Math.random()*15)+10;for(let c=0;c<o;c++)i.add(Math.floor(Math.random()*A8.length));e(i)},2e3);return()=>clearInterval(s)},[]),a.jsxs("div",{className:"mb-5 relative",children:[a.jsx("div",{className:"relative h-35 overflow-hidden",children:a.jsx("svg",{viewBox:"-10 0 1045.2 458",className:"w-full h-full",preserveAspectRatio:"xMidYMid slice",children:A8.map(([s,i],o)=>{const c=t.has(o),u=N4e(s,i,r);return a.jsxs("g",{children:[a.jsx("circle",{cx:s,cy:i,r:"1.9",fill:u,opacity:c?.8:.35,className:"transition-opacity duration-500"}),c&&a.jsx("circle",{cx:s,cy:i,r:"1.9",fill:u,opacity:.4,className:"animate-ping"})]},o)})})}),a.jsxs("div",{className:"flex justify-center gap-3 mt-3 flex-wrap",children:[w4e.map(s=>{const i=r==null?void 0:r[s.name],o=i?i.isUp?"#10b981":"#ef4444":"#64748b";return a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:o}}),a.jsx("span",{className:"text-white/60 text-[10px] tracking-wide",children:s.name}),i&&i.change!==void 0&&a.jsxs("span",{className:"text-[9px]",style:{color:o},children:[i.isUp?"+":"",i.change.toFixed(2),"%"]})]},s.name)}),n&&a.jsx("span",{className:"text-white/40 text-[9px]",children:"Updating..."})]}),a.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.6;
          }
        }
      `})]})}const Hf={time:["time","timestamp","tm"],order:["order","side","action","buy/sell"],symbol:["symbol","script","scrip","instrument","stock","pe/ce","ce/pe"],type:["type","product","prd"],qty:["qty","quantity","qn","lot","lots"],price:["price","prc","rate","value"]};function I8(t){const e=t.trim();if(!e)return[];let r=[];if(e.includes('"')||e.includes("'")){const n=/(?:^|,)(?:"([^"]*)"|'([^']*)'|([^,]*))/g;let s;for(;(s=n.exec(e))!==null;)r.push((s[1]||s[2]||s[3]||"").trim())}else e.includes("	")?r=e.split("	").map(n=>n.trim()):e.includes(",")?r=e.split(",").map(n=>n.trim()):e.match(/\s{2,}/)?r=e.split(/\s{2,}/).map(n=>n.trim()):r=e.split(/\s+/).map(n=>n.trim());return r.filter(n=>n.length>0)}function S4e(t){if(t.length<3)return!1;const e=t.map(n=>n.toLowerCase());let r=0;for(const n of e)for(const s of Object.values(Hf))if(s.some(i=>n.includes(i))){r++;break}return r>=3}function k4e(t){const e=t.map(f=>f.toLowerCase()),r=f=>{for(let h=0;h<e.length;h++){const m=e[h];if(f.some(g=>m.includes(g)))return h}return-1},n=r(Hf.time),s=r(Hf.order),i=r(Hf.symbol),o=r(Hf.type),c=r(Hf.qty),u=r(Hf.price);return n===-1||s===-1||i===-1?null:{timeIndex:n,orderIndex:s,symbolIndex:i,typeIndex:o===-1?-1:o,qtyIndex:c===-1?-1:c,priceIndex:u===-1?-1:u}}function L0(t){const e=t.trim(),r=e.match(/^(\d{1,2}):(\d{2})(:(\d{2}))?$/),n=e.match(/^(\d{1,2}):(\d{2})(:(\d{2}))?\s*(AM|PM)$/i);if(n){let s=parseInt(n[1]);const i=n[2],o=n[4]||"00",c=n[5].toUpperCase();return c==="AM"&&s===12?s=0:c==="PM"&&s!==12&&(s+=12),`${s.toString().padStart(2,"0")}:${i}:${o}`}else if(r){const s=r[1].padStart(2,"0"),i=r[2],o=r[4]||"00";return`${s}:${i}:${o}`}return e}function Bm(t){const e=t.toUpperCase().trim();return e==="BUY"||e==="B"?"BUY":e==="SELL"||e==="S"?"SELL":e.includes("BUY")?"BUY":e.includes("SELL")?"SELL":null}function ib(t){return t.replace(/\s+(NFO|BFO|NSE|BSE)$/i,"").replace(/\s+(CE|PE)\s+(NFO|BFO|NSE|BSE)$/i," $1").trim()}function Eo(t){if(!t)return 0;const e=t.replace(/[$,\s]/g,"").trim(),r=parseFloat(e);return isNaN(r)?0:r}function _4e(t,e,r){try{let n="",s=null,i="",o="MIS",c=0,u=0;if(e){if(n=e.timeIndex>=0&&t[e.timeIndex]?L0(t[e.timeIndex]):"",s=e.orderIndex>=0&&t[e.orderIndex]?Bm(t[e.orderIndex]):null,i=e.symbolIndex>=0&&t[e.symbolIndex]?ib(t[e.symbolIndex]):"",o=e.typeIndex>=0&&t[e.typeIndex]?t[e.typeIndex].toUpperCase().replace(/[|\s]/g,""):"MIS",c=e.qtyIndex>=0&&t[e.qtyIndex]?Eo(t[e.qtyIndex]):0,u=e.priceIndex>=0&&t[e.priceIndex]?Eo(t[e.priceIndex]):0,c===0||u===0){const f=t.map(h=>Eo(h)).filter(h=>!isNaN(h)&&h>0);if(c===0&&f.length>0){const h=f.find(m=>Number.isInteger(m)&&m<1e4);h&&(c=h)}if(u===0&&f.length>0){const h=f.find(m=>m!==c&&m<1e5);h&&(u=h)}}}else{if(t[0]&&/^\d{1,2}:\d{2}/.test(t[0]))if(n=L0(t[0]),s=Bm(t[1]||""),s)i=ib(t[2]||""),o=(t[3]||"MIS").toUpperCase().replace(/[|\s]/g,""),c=Eo(t[4]||"0"),u=Eo(t[5]||"0");else{i=ib(t[1]||"");const h=t[2]||"";s=Bm(h),o=h.toUpperCase().replace(/BUY|SELL/g,"").replace(/[|\s]/g,"").trim()||"MIS",c=Eo(t[3]||"0"),u=Eo(t[4]||"0")}else{i=ib(t[0]||"");const h=t[1]||"";if(h.includes("|")){const m=h.split("|").map(g=>g.trim());s=Bm(m[0]),o=(m[1]||"MIS").toUpperCase(),c=Eo(t[2]||"0"),u=Eo(t[3]||"0"),n=L0(t[4]||"")}else s=Bm(h),o=h.toUpperCase().replace(/BUY|SELL/g,"").replace(/[|\s]/g,"").trim()||"MIS",c=Eo(t[2]||"0"),u=Eo(t[3]||"0"),n=L0(t[4]||t[5]||"")}if(!s)for(const h of t){const m=Bm(h);if(m){s=m;break}}if(!n){for(const h of t)if(/^\d{1,2}:\d{2}/.test(h)){n=L0(h);break}}if(c===0||u===0){const h=t.map(m=>Eo(m)).filter(m=>!isNaN(m)&&m>0);if(c===0&&h.length>0){const m=h.find(g=>Number.isInteger(g)&&g<1e4);m&&(c=m)}if(u===0&&h.length>0){const m=h.find(g=>g!==c&&g<1e5);m&&(u=m)}}}return c>0&&c<1?{trade:null,error:{line:r,content:t.join(" | "),reason:"Invalid quantity detected (possible comma-formatting issue)"}}:u>0&&u<.01?{trade:null,error:{line:r,content:t.join(" | "),reason:"Invalid price detected (possible comma-formatting issue)"}}:(["MIS","CNC","NRML","BFO","LIM","LIMIT"].includes(o)||(o="MIS"),n?s?i?c<=0?{trade:null,error:{line:r,content:t.join(" | "),reason:"Missing or invalid quantity"}}:{trade:{time:n,order:s,symbol:i,type:o,qty:Math.floor(c),price:u,pnl:"-",duration:"-"},error:null}:{trade:null,error:{line:r,content:t.join(" | "),reason:"Missing symbol"}}:{trade:null,error:{line:r,content:t.join(" | "),reason:"Missing or invalid order type (BUY/SELL)"}}:{trade:null,error:{line:r,content:t.join(" | "),reason:"Missing time"}})}catch(n){return{trade:null,error:{line:r,content:t.join(" | "),reason:n instanceof Error?n.message:"Unknown parsing error"}}}}function C4e(t){const e={trades:[],errors:[]},n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).filter(u=>u.trim());if(n.length===0)return e.errors.push({line:0,content:"",reason:"No data found"}),e;const s=I8(n[0]),i=S4e(s),o=i?k4e(s):null,c=i?1:0;for(let u=c;u<n.length;u++){const f=I8(n[u]);if(f.length===0)continue;const{trade:h,error:m}=_4e(f,o,u+1);h?e.trades.push(h):m&&e.errors.push(m)}return e.trades.sort((u,f)=>u.time.localeCompare(f.time)),e}var x2="Switch",[T4e]=zi(x2),[P4e,E4e]=T4e(x2),jG=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:f,form:h,...m}=t,[g,v]=x.useState(null),j=dn(e,E=>v(E)),w=x.useRef(!1),b=g?h||!!g.closest("form"):!0,[_,T]=md({prop:s,defaultProp:i??!1,onChange:f,caller:x2});return a.jsxs(P4e,{scope:r,checked:_,disabled:c,children:[a.jsx(Bt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":CG(_),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:j,onClick:pt(t.onClick,E=>{T(k=>!k),b&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),b&&a.jsx(_G,{control:g,bubbles:!w.current,name:n,value:u,checked:_,required:o,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});jG.displayName=x2;var SG="SwitchThumb",kG=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=E4e(SG,r);return a.jsx(Bt.span,{"data-state":CG(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});kG.displayName=SG;var A4e="SwitchBubbleInput",_G=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},i)=>{const o=x.useRef(null),c=dn(o,i),u=PU(r),f=_B(e);return x.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&v){const j=new Event("click",{bubbles:n});v.call(h,r),h.dispatchEvent(j)}},[u,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:c,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_G.displayName=A4e;function CG(t){return t?"checked":"unchecked"}var TG=jG,I4e=kG;const PG=x.forwardRef(({className:t,...e},r)=>a.jsx(TG,{className:Nt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(I4e,{className:Nt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));PG.displayName=TG.displayName;var Ky=t=>t.type==="checkbox",th=t=>t instanceof Date,Fi=t=>t==null;const EG=t=>typeof t=="object";var Ga=t=>!Fi(t)&&!Array.isArray(t)&&EG(t)&&!th(t),O4e=t=>Ga(t)&&t.target?Ky(t.target)?t.target.checked:t.target.value:t,M4e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,R4e=(t,e)=>t.has(M4e(e)),D4e=t=>{const e=t.constructor&&t.constructor.prototype;return Ga(e)&&e.hasOwnProperty("isPrototypeOf")},$P=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ms(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!($P&&(t instanceof Blob||n))&&(r||Ga(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!D4e(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ms(t[s]));else return t;return e}var y2=t=>/^\w*$/.test(t),$a=t=>t===void 0,FP=t=>Array.isArray(t)?t.filter(Boolean):[],BP=t=>FP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ft=(t,e,r)=>{if(!e||!Ga(t))return r;const n=(y2(e)?[e]:BP(e)).reduce((s,i)=>Fi(s)?s:s[i],t);return $a(n)||n===t?$a(t[e])?r:t[e]:n},Jl=t=>typeof t=="boolean",Hn=(t,e,r)=>{let n=-1;const s=y2(e)?[e]:BP(e),i=s.length,o=i-1;for(;++n<i;){const c=s[n];let u=r;if(n!==o){const f=t[c];u=Ga(f)||Array.isArray(f)?f:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const O8={BLUR:"blur",FOCUS_OUT:"focusout"},vl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L4e=fe.createContext(null);L4e.displayName="HookFormContext";var $4e=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==vl.all&&(e._proxyFormState[o]=!n||vl.all),t[o]}});return s};const F4e=typeof window<"u"?fe.useLayoutEffect:fe.useEffect;var io=t=>typeof t=="string",B4e=(t,e,r,n,s)=>io(t)?(n&&e.watch.add(t),Ft(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Ft(r,i))):(n&&(e.watchAll=!0),r),kC=t=>Fi(t)||!EG(t);function fu(t,e,r=new WeakSet){if(kC(t)||kC(e))return t===e;if(th(t)&&th(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=e[i];if(th(o)&&th(c)||Ga(o)&&Ga(c)||Array.isArray(o)&&Array.isArray(c)?!fu(o,c,r):o!==c)return!1}}return!0}var AG=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},lx=t=>Array.isArray(t)?t:[t],M8=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function IG(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Ga(s)&&i){const o=IG(s,i);Ga(o)&&(r[n]=o)}else t[n]&&(r[n]=i)}return r}var Li=t=>Ga(t)&&!Object.keys(t).length,UP=t=>t.type==="file",bl=t=>typeof t=="function",z1=t=>{if(!$P)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},OG=t=>t.type==="select-multiple",zP=t=>t.type==="radio",U4e=t=>zP(t)||Ky(t),Z4=t=>z1(t)&&t.isConnected;function z4e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$a(t)?n++:t[e[n++]];return t}function q4e(t){for(const e in t)if(t.hasOwnProperty(e)&&!$a(t[e]))return!1;return!0}function za(t,e){const r=Array.isArray(e)?e:y2(e)?[e]:BP(e),n=r.length===1?t:z4e(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ga(n)&&Li(n)||Array.isArray(n)&&q4e(n))&&za(t,r.slice(0,-1)),t}var V4e=t=>{for(const e in t)if(bl(t[e]))return!0;return!1};function MG(t){return Array.isArray(t)||Ga(t)&&!V4e(t)}function _C(t,e={}){for(const r in t)MG(t[r])?(e[r]=Array.isArray(t[r])?[]:{},_C(t[r],e[r])):$a(t[r])||(e[r]=!0);return e}function Hm(t,e,r){r||(r=_C(e));for(const n in t)MG(t[n])?$a(e)||kC(r[n])?r[n]=_C(t[n],Array.isArray(t[n])?[]:{}):Hm(t[n],Fi(e)?{}:e[n],r[n]):r[n]=!fu(t[n],e[n]);return r}const R8={value:!1,isValid:!1},D8={value:!0,isValid:!0};var RG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$a(t[0].attributes.value)?$a(t[0].value)||t[0].value===""?D8:{value:t[0].value,isValid:!0}:D8:R8}return R8},DG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$a(t)?t:e?t===""?NaN:t&&+t:r&&io(t)?new Date(t):n?n(t):t;const L8={isValid:!1,value:null};var LG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,L8):L8;function $8(t){const e=t.ref;return UP(e)?e.files:zP(e)?LG(t.refs).value:OG(e)?[...e.selectedOptions].map(({value:r})=>r):Ky(e)?RG(t.refs).value:DG($a(e.value)?t.ref.value:e.value,t)}var W4e=(t,e,r,n)=>{const s={};for(const i of t){const o=Ft(e,i);o&&Hn(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},q1=t=>t instanceof RegExp,$0=t=>$a(t)?t:q1(t)?t.source:Ga(t)?q1(t.value)?t.value.source:t.value:t,F8=t=>({isOnSubmit:!t||t===vl.onSubmit,isOnBlur:t===vl.onBlur,isOnChange:t===vl.onChange,isOnAll:t===vl.all,isOnTouch:t===vl.onTouched});const B8="AsyncFunction";var H4e=t=>!!t&&!!t.validate&&!!(bl(t.validate)&&t.validate.constructor.name===B8||Ga(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===B8)),K4e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),U8=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const cx=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Ft(t,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(cx(c,e))break}else if(Ga(c)&&cx(c,e))break}}};function z8(t,e,r){const n=Ft(t,r);if(n||y2(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ft(e,i),c=Ft(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:r}}var G4e=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Li(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||vl.all))},Y4e=(t,e,r)=>!t||!e||t===e||lx(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),X4e=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,Q4e=(t,e)=>!FP(Ft(t,e)).length&&za(t,e),J4e=(t,e,r)=>{const n=lx(Ft(t,r));return Hn(n,"root",e[r]),Hn(t,r,n),t};function q8(t,e,r="validate"){if(io(t)||Array.isArray(t)&&t.every(io)||Jl(t)&&!t)return{type:r,message:io(t)?t:"",ref:e}}var Um=t=>Ga(t)&&!q1(t)?t:{value:t,message:""},V8=async(t,e,r,n,s,i)=>{const{ref:o,refs:c,required:u,maxLength:f,minLength:h,min:m,max:g,pattern:v,validate:j,name:w,valueAsNumber:b,mount:_}=t._f,T=Ft(r,w);if(!_||e.has(w))return{};const E=c?c[0]:o,k=z=>{s&&E.reportValidity&&(E.setCustomValidity(Jl(z)?"":z||""),E.reportValidity())},C={},S=zP(o),A=Ky(o),R=S||A,D=(b||UP(o))&&$a(o.value)&&$a(T)||z1(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,B=AG.bind(null,w,n,C),F=(z,X,V,Z=Kc.maxLength,ee=Kc.minLength)=>{const W=z?X:V;C[w]={type:z?Z:ee,message:W,ref:o,...B(z?Z:ee,W)}};if(i?!Array.isArray(T)||!T.length:u&&(!R&&(D||Fi(T))||Jl(T)&&!T||A&&!RG(c).isValid||S&&!LG(c).isValid)){const{value:z,message:X}=io(u)?{value:!!u,message:u}:Um(u);if(z&&(C[w]={type:Kc.required,message:X,ref:E,...B(Kc.required,X)},!n))return k(X),C}if(!D&&(!Fi(m)||!Fi(g))){let z,X;const V=Um(g),Z=Um(m);if(!Fi(T)&&!isNaN(T)){const ee=o.valueAsNumber||T&&+T;Fi(V.value)||(z=ee>V.value),Fi(Z.value)||(X=ee<Z.value)}else{const ee=o.valueAsDate||new Date(T),W=Q=>new Date(new Date().toDateString()+" "+Q),K=o.type=="time",G=o.type=="week";io(V.value)&&T&&(z=K?W(T)>W(V.value):G?T>V.value:ee>new Date(V.value)),io(Z.value)&&T&&(X=K?W(T)<W(Z.value):G?T<Z.value:ee<new Date(Z.value))}if((z||X)&&(F(!!z,V.message,Z.message,Kc.max,Kc.min),!n))return k(C[w].message),C}if((f||h)&&!D&&(io(T)||i&&Array.isArray(T))){const z=Um(f),X=Um(h),V=!Fi(z.value)&&T.length>+z.value,Z=!Fi(X.value)&&T.length<+X.value;if((V||Z)&&(F(V,z.message,X.message),!n))return k(C[w].message),C}if(v&&!D&&io(T)){const{value:z,message:X}=Um(v);if(q1(z)&&!T.match(z)&&(C[w]={type:Kc.pattern,message:X,ref:o,...B(Kc.pattern,X)},!n))return k(X),C}if(j){if(bl(j)){const z=await j(T,r),X=q8(z,E);if(X&&(C[w]={...X,...B(Kc.validate,X.message)},!n))return k(X.message),C}else if(Ga(j)){let z={};for(const X in j){if(!Li(z)&&!n)break;const V=q8(await j[X](T,r),E,X);V&&(z={...V,...B(X,V.message)},k(V.message),n&&(C[w]=z))}if(!Li(z)&&(C[w]={ref:E,...z},!n))return C}}return k(!0),C};const Z4e={mode:vl.onSubmit,reValidateMode:vl.onChange,shouldFocusError:!0};function e3e(t={}){let e={...Z4e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:bl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Ga(e.defaultValues)||Ga(e.values)?ms(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ms(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const g={array:M8(),state:M8()},v=e.criteriaMode===vl.all,j=oe=>le=>{clearTimeout(f),f=setTimeout(oe,le)},w=async oe=>{if(!e.disabled&&(h.isValid||m.isValid||oe)){const le=e.resolver?Li((await A()).errors):await D(n,!0);le!==r.isValid&&g.state.next({isValid:le})}},b=(oe,le)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((oe||Array.from(c.mount)).forEach(ge=>{ge&&(le?Hn(r.validatingFields,ge,le):za(r.validatingFields,ge))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Li(r.validatingFields)}))},_=(oe,le=[],ge,Se,He=!0,ze=!0)=>{if(Se&&ge&&!e.disabled){if(o.action=!0,ze&&Array.isArray(Ft(n,oe))){const nt=ge(Ft(n,oe),Se.argA,Se.argB);He&&Hn(n,oe,nt)}if(ze&&Array.isArray(Ft(r.errors,oe))){const nt=ge(Ft(r.errors,oe),Se.argA,Se.argB);He&&Hn(r.errors,oe,nt),Q4e(r.errors,oe)}if((h.touchedFields||m.touchedFields)&&ze&&Array.isArray(Ft(r.touchedFields,oe))){const nt=ge(Ft(r.touchedFields,oe),Se.argA,Se.argB);He&&Hn(r.touchedFields,oe,nt)}(h.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Hm(s,i)),g.state.next({name:oe,isDirty:F(oe,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Hn(i,oe,le)},T=(oe,le)=>{Hn(r.errors,oe,le),g.state.next({errors:r.errors})},E=oe=>{r.errors=oe,g.state.next({errors:r.errors,isValid:!1})},k=(oe,le,ge,Se)=>{const He=Ft(n,oe);if(He){const ze=Ft(i,oe,$a(ge)?Ft(s,oe):ge);$a(ze)||Se&&Se.defaultChecked||le?Hn(i,oe,le?ze:$8(He._f)):V(oe,ze),o.mount&&w()}},C=(oe,le,ge,Se,He)=>{let ze=!1,nt=!1;const Fr={name:oe};if(!e.disabled){if(!ge||Se){(h.isDirty||m.isDirty)&&(nt=r.isDirty,r.isDirty=Fr.isDirty=F(),ze=nt!==Fr.isDirty);const Mr=fu(Ft(s,oe),le);nt=!!Ft(r.dirtyFields,oe),Mr?za(r.dirtyFields,oe):Hn(r.dirtyFields,oe,!0),Fr.dirtyFields=r.dirtyFields,ze=ze||(h.dirtyFields||m.dirtyFields)&&nt!==!Mr}if(ge){const Mr=Ft(r.touchedFields,oe);Mr||(Hn(r.touchedFields,oe,ge),Fr.touchedFields=r.touchedFields,ze=ze||(h.touchedFields||m.touchedFields)&&Mr!==ge)}ze&&He&&g.state.next(Fr)}return ze?Fr:{}},S=(oe,le,ge,Se)=>{const He=Ft(r.errors,oe),ze=(h.isValid||m.isValid)&&Jl(le)&&r.isValid!==le;if(e.delayError&&ge?(u=j(()=>T(oe,ge)),u(e.delayError)):(clearTimeout(f),u=null,ge?Hn(r.errors,oe,ge):za(r.errors,oe)),(ge?!fu(He,ge):He)||!Li(Se)||ze){const nt={...Se,...ze&&Jl(le)?{isValid:le}:{},errors:r.errors,name:oe};r={...r,...nt},g.state.next(nt)}},A=async oe=>{b(oe,!0);const le=await e.resolver(i,e.context,W4e(oe||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(oe),le},R=async oe=>{const{errors:le}=await A(oe);if(oe)for(const ge of oe){const Se=Ft(le,ge);Se?Hn(r.errors,ge,Se):za(r.errors,ge)}else r.errors=le;return le},D=async(oe,le,ge={valid:!0})=>{for(const Se in oe){const He=oe[Se];if(He){const{_f:ze,...nt}=He;if(ze){const Fr=c.array.has(ze.name),Mr=He._f&&H4e(He._f);Mr&&h.validatingFields&&b([ze.name],!0);const pa=await V8(He,c.disabled,i,v,e.shouldUseNativeValidation&&!le,Fr);if(Mr&&h.validatingFields&&b([ze.name]),pa[ze.name]&&(ge.valid=!1,le))break;!le&&(Ft(pa,ze.name)?Fr?J4e(r.errors,pa,ze.name):Hn(r.errors,ze.name,pa[ze.name]):za(r.errors,ze.name))}!Li(nt)&&await D(nt,le,ge)}}return ge.valid},B=()=>{for(const oe of c.unMount){const le=Ft(n,oe);le&&(le._f.refs?le._f.refs.every(ge=>!Z4(ge)):!Z4(le._f.ref))&&re(oe)}c.unMount=new Set},F=(oe,le)=>!e.disabled&&(oe&&le&&Hn(i,oe,le),!fu(Q(),s)),z=(oe,le,ge)=>B4e(oe,c,{...o.mount?i:$a(le)?s:io(oe)?{[oe]:le}:le},ge,le),X=oe=>FP(Ft(o.mount?i:s,oe,e.shouldUnregister?Ft(s,oe,[]):[])),V=(oe,le,ge={})=>{const Se=Ft(n,oe);let He=le;if(Se){const ze=Se._f;ze&&(!ze.disabled&&Hn(i,oe,DG(le,ze)),He=z1(ze.ref)&&Fi(le)?"":le,OG(ze.ref)?[...ze.ref.options].forEach(nt=>nt.selected=He.includes(nt.value)):ze.refs?Ky(ze.ref)?ze.refs.forEach(nt=>{(!nt.defaultChecked||!nt.disabled)&&(Array.isArray(He)?nt.checked=!!He.find(Fr=>Fr===nt.value):nt.checked=He===nt.value||!!He)}):ze.refs.forEach(nt=>nt.checked=nt.value===He):UP(ze.ref)?ze.ref.value="":(ze.ref.value=He,ze.ref.type||g.state.next({name:oe,values:ms(i)})))}(ge.shouldDirty||ge.shouldTouch)&&C(oe,He,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&G(oe)},Z=(oe,le,ge)=>{for(const Se in le){if(!le.hasOwnProperty(Se))return;const He=le[Se],ze=oe+"."+Se,nt=Ft(n,ze);(c.array.has(oe)||Ga(He)||nt&&!nt._f)&&!th(He)?Z(ze,He,ge):V(ze,He,ge)}},ee=(oe,le,ge={})=>{const Se=Ft(n,oe),He=c.array.has(oe),ze=ms(le);Hn(i,oe,ze),He?(g.array.next({name:oe,values:ms(i)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&ge.shouldDirty&&g.state.next({name:oe,dirtyFields:Hm(s,i),isDirty:F(oe,ze)})):Se&&!Se._f&&!Fi(ze)?Z(oe,ze,ge):V(oe,ze,ge),U8(oe,c)&&g.state.next({...r,name:oe}),g.state.next({name:o.mount?oe:void 0,values:ms(i)})},W=async oe=>{o.mount=!0;const le=oe.target;let ge=le.name,Se=!0;const He=Ft(n,ge),ze=Mr=>{Se=Number.isNaN(Mr)||th(Mr)&&isNaN(Mr.getTime())||fu(Mr,Ft(i,ge,Mr))},nt=F8(e.mode),Fr=F8(e.reValidateMode);if(He){let Mr,pa;const Fs=le.type?$8(He._f):O4e(oe),Fa=oe.type===O8.BLUR||oe.type===O8.FOCUS_OUT,Wi=!K4e(He._f)&&!e.resolver&&!Ft(r.errors,ge)&&!He._f.deps||X4e(Fa,Ft(r.touchedFields,ge),r.isSubmitted,Fr,nt),ri=U8(ge,c,Fa);Hn(i,ge,Fs),Fa?(!le||!le.readOnly)&&(He._f.onBlur&&He._f.onBlur(oe),u&&u(0)):He._f.onChange&&He._f.onChange(oe);const Bs=C(ge,Fs,Fa),Vo=!Li(Bs)||ri;if(!Fa&&g.state.next({name:ge,type:oe.type,values:ms(i)}),Wi)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Fa&&w():Fa||w()),Vo&&g.state.next({name:ge,...ri?{}:Bs});if(!Fa&&ri&&g.state.next({...r}),e.resolver){const{errors:bs}=await A([ge]);if(ze(Fs),Se){const Ci=z8(r.errors,n,ge),ve=z8(bs,n,Ci.name||ge);Mr=ve.error,ge=ve.name,pa=Li(bs)}}else b([ge],!0),Mr=(await V8(He,c.disabled,i,v,e.shouldUseNativeValidation))[ge],b([ge]),ze(Fs),Se&&(Mr?pa=!1:(h.isValid||m.isValid)&&(pa=await D(n,!0)));Se&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&G(He._f.deps),S(ge,pa,Mr,Bs))}},K=(oe,le)=>{if(Ft(r.errors,le)&&oe.focus)return oe.focus(),1},G=async(oe,le={})=>{let ge,Se;const He=lx(oe);if(e.resolver){const ze=await R($a(oe)?oe:He);ge=Li(ze),Se=oe?!He.some(nt=>Ft(ze,nt)):ge}else oe?(Se=(await Promise.all(He.map(async ze=>{const nt=Ft(n,ze);return await D(nt&&nt._f?{[ze]:nt}:nt)}))).every(Boolean),!(!Se&&!r.isValid)&&w()):Se=ge=await D(n);return g.state.next({...!io(oe)||(h.isValid||m.isValid)&&ge!==r.isValid?{}:{name:oe},...e.resolver||!oe?{isValid:ge}:{},errors:r.errors}),le.shouldFocus&&!Se&&cx(n,K,oe?He:c.mount),Se},Q=(oe,le)=>{let ge={...o.mount?i:s};return le&&(ge=IG(le.dirtyFields?r.dirtyFields:r.touchedFields,ge)),$a(oe)?ge:io(oe)?Ft(ge,oe):oe.map(Se=>Ft(ge,Se))},$=(oe,le)=>({invalid:!!Ft((le||r).errors,oe),isDirty:!!Ft((le||r).dirtyFields,oe),error:Ft((le||r).errors,oe),isValidating:!!Ft(r.validatingFields,oe),isTouched:!!Ft((le||r).touchedFields,oe)}),U=oe=>{oe&&lx(oe).forEach(le=>za(r.errors,le)),g.state.next({errors:oe?r.errors:{}})},ie=(oe,le,ge)=>{const Se=(Ft(n,oe,{_f:{}})._f||{}).ref,He=Ft(r.errors,oe)||{},{ref:ze,message:nt,type:Fr,...Mr}=He;Hn(r.errors,oe,{...Mr,...le,ref:Se}),g.state.next({name:oe,errors:r.errors,isValid:!1}),ge&&ge.shouldFocus&&Se&&Se.focus&&Se.focus()},ce=(oe,le)=>bl(oe)?g.state.subscribe({next:ge=>"values"in ge&&oe(z(void 0,le),ge)}):z(oe,le,!0),he=oe=>g.state.subscribe({next:le=>{Y4e(oe.name,le.name,oe.exact)&&G4e(le,oe.formState||h,Ar,oe.reRenderRoot)&&oe.callback({values:{...i},...r,...le,defaultValues:s})}}).unsubscribe,we=oe=>(o.mount=!0,m={...m,...oe.formState},he({...oe,formState:m})),re=(oe,le={})=>{for(const ge of oe?lx(oe):c.mount)c.mount.delete(ge),c.array.delete(ge),le.keepValue||(za(n,ge),za(i,ge)),!le.keepError&&za(r.errors,ge),!le.keepDirty&&za(r.dirtyFields,ge),!le.keepTouched&&za(r.touchedFields,ge),!le.keepIsValidating&&za(r.validatingFields,ge),!e.shouldUnregister&&!le.keepDefaultValue&&za(s,ge);g.state.next({values:ms(i)}),g.state.next({...r,...le.keepDirty?{isDirty:F()}:{}}),!le.keepIsValid&&w()},pe=({disabled:oe,name:le})=>{(Jl(oe)&&o.mount||oe||c.disabled.has(le))&&(oe?c.disabled.add(le):c.disabled.delete(le))},ue=(oe,le={})=>{let ge=Ft(n,oe);const Se=Jl(le.disabled)||Jl(e.disabled);return Hn(n,oe,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:oe}},name:oe,mount:!0,...le}}),c.mount.add(oe),ge?pe({disabled:Jl(le.disabled)?le.disabled:e.disabled,name:oe}):k(oe,!0,le.value),{...Se?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:$0(le.min),max:$0(le.max),minLength:$0(le.minLength),maxLength:$0(le.maxLength),pattern:$0(le.pattern)}:{},name:oe,onChange:W,onBlur:W,ref:He=>{if(He){ue(oe,le),ge=Ft(n,oe);const ze=$a(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,nt=U4e(ze),Fr=ge._f.refs||[];if(nt?Fr.find(Mr=>Mr===ze):ze===ge._f.ref)return;Hn(n,oe,{_f:{...ge._f,...nt?{refs:[...Fr.filter(Z4),ze,...Array.isArray(Ft(s,oe))?[{}]:[]],ref:{type:ze.type,name:oe}}:{ref:ze}}}),k(oe,!1,void 0,ze)}else ge=Ft(n,oe,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(R4e(c.array,oe)&&o.action)&&c.unMount.add(oe)}}},Ie=()=>e.shouldFocusError&&cx(n,K,c.mount),qe=oe=>{Jl(oe)&&(g.state.next({disabled:oe}),cx(n,(le,ge)=>{const Se=Ft(n,ge);Se&&(le.disabled=Se._f.disabled||oe,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(He=>{He.disabled=Se._f.disabled||oe}))},0,!1))},Ne=(oe,le)=>async ge=>{let Se;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let He=ms(i);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ze,values:nt}=await A();r.errors=ze,He=ms(nt)}else await D(n);if(c.disabled.size)for(const ze of c.disabled)za(He,ze);if(za(r.errors,"root"),Li(r.errors)){g.state.next({errors:{}});try{await oe(He,ge)}catch(ze){Se=ze}}else le&&await le({...r.errors},ge),Ie(),setTimeout(Ie);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Li(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},rt=(oe,le={})=>{Ft(n,oe)&&($a(le.defaultValue)?ee(oe,ms(Ft(s,oe))):(ee(oe,le.defaultValue),Hn(s,oe,ms(le.defaultValue))),le.keepTouched||za(r.touchedFields,oe),le.keepDirty||(za(r.dirtyFields,oe),r.isDirty=le.defaultValue?F(oe,ms(Ft(s,oe))):F()),le.keepError||(za(r.errors,oe),h.isValid&&w()),g.state.next({...r}))},_e=(oe,le={})=>{const ge=oe?ms(oe):s,Se=ms(ge),He=Li(oe),ze=He?s:Se;if(le.keepDefaultValues||(s=ge),!le.keepValues){if(le.keepDirtyValues){const nt=new Set([...c.mount,...Object.keys(Hm(s,i))]);for(const Fr of Array.from(nt))Ft(r.dirtyFields,Fr)?Hn(ze,Fr,Ft(i,Fr)):ee(Fr,Ft(ze,Fr))}else{if($P&&$a(oe))for(const nt of c.mount){const Fr=Ft(n,nt);if(Fr&&Fr._f){const Mr=Array.isArray(Fr._f.refs)?Fr._f.refs[0]:Fr._f.ref;if(z1(Mr)){const pa=Mr.closest("form");if(pa){pa.reset();break}}}}if(le.keepFieldsRef)for(const nt of c.mount)ee(nt,Ft(ze,nt));else n={}}i=e.shouldUnregister?le.keepDefaultValues?ms(s):{}:ms(ze),g.array.next({values:{...ze}}),g.state.next({values:{...ze}})}c={mount:le.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!le.keepIsValid||!!le.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:He?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!fu(oe,s)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:le.keepDirtyValues?le.keepDefaultValues&&i?Hm(s,i):r.dirtyFields:le.keepDefaultValues&&oe?Hm(s,oe):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ct=(oe,le)=>_e(bl(oe)?oe(i):oe,le),Qt=(oe,le={})=>{const ge=Ft(n,oe),Se=ge&&ge._f;if(Se){const He=Se.refs?Se.refs[0]:Se.ref;He.focus&&(He.focus(),le.shouldSelect&&bl(He.select)&&He.select())}},Ar=oe=>{r={...r,...oe}},Sn={control:{register:ue,unregister:re,getFieldState:$,handleSubmit:Ne,setError:ie,_subscribe:he,_runSchema:A,_focusError:Ie,_getWatch:z,_getDirty:F,_setValid:w,_setFieldArray:_,_setDisabledField:pe,_setErrors:E,_getFieldArray:X,_reset:_e,_resetDefaultValues:()=>bl(e.defaultValues)&&e.defaultValues().then(oe=>{Ct(oe,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:qe,_subjects:g,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return s},get _names(){return c},set _names(oe){c=oe},get _formState(){return r},get _options(){return e},set _options(oe){e={...e,...oe}}},subscribe:we,trigger:G,register:ue,handleSubmit:Ne,watch:ce,setValue:ee,getValues:Q,reset:Ct,resetField:rt,clearErrors:U,unregister:re,setError:ie,setFocus:Qt,getFieldState:$};return{...Sn,formControl:Sn}}function e3(t={}){const e=fe.useRef(void 0),r=fe.useRef(void 0),[n,s]=fe.useState({isDirty:!1,isValidating:!1,isLoading:bl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:bl(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!bl(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=e3e(t);e.current={...c,formState:n}}const i=e.current.control;return i._options=t,F4e(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),fe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),fe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),fe.useEffect(()=>{t.values&&!fu(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=$4e(n,i),e.current}const W8=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ft(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},$G=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?W8(n.ref,r,t):n.refs&&n.refs.forEach(s=>W8(s,r,t))}},t3e=(t,e)=>{e.shouldUseNativeValidation&&$G(t,e);const r={};for(const n in t){const s=Ft(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(r3e(e.names||Object.keys(t),n)){const o=Object.assign({},Ft(r,n));Hn(o,"root",i),Hn(r,n,o)}else Hn(r,n,i)}return r},r3e=(t,e)=>t.some(r=>r.startsWith(e+"."));var n3e=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var u=r[o].types,f=u&&u[n.code];r[o]=AG(o,e,r,s,f?[].concat(f,n.message):n.message)}t.shift()}return r},t3=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve((function(o,c){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(f){return i.shouldUseNativeValidation&&$G({},i),{errors:{},values:r.raw?n:f}})}catch(f){return c(f)}return u&&u.then?u.then(void 0,c):u})(0,function(o){if((function(c){return Array.isArray(c==null?void 0:c.errors)})(o))return{values:{},errors:t3e(n3e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Ge=Symbol.for("drizzle:entityKind");function As(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Ge))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(Ge in r&&r[Ge]===e[Ge])return!0;r=Object.getPrototypeOf(r)}return!1}var hD;hD=Ge;class ig{constructor(e,r){be(this,"name");be(this,"keyAsName");be(this,"primary");be(this,"notNull");be(this,"default");be(this,"defaultFn");be(this,"onUpdateFn");be(this,"hasDefault");be(this,"isUnique");be(this,"uniqueName");be(this,"uniqueType");be(this,"dataType");be(this,"columnType");be(this,"enumValues");be(this,"generated");be(this,"generatedIdentity");be(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}be(ig,hD,"Column");var mD;mD=Ge;class FG{constructor(e,r,n){be(this,"config");be(this,"$default",this.$defaultFn);be(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}be(FG,mD,"ColumnBuilder");const pp=Symbol.for("drizzle:Name");var pD;pD=Ge;class BG{constructor(e,r){be(this,"reference");be(this,"_onUpdate","no action");be(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new UG(e,this)}}be(BG,pD,"PgForeignKeyBuilder");var gD;gD=Ge;class UG{constructor(e,r){be(this,"reference");be(this,"onUpdate");be(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(c=>c.name),i=n.map(c=>c.name),o=[this.table[pp],...s,n[0].table[pp],...i];return e??`${o.join("_")}_fk`}}be(UG,gD,"PgForeignKey");function a3e(t,...e){return t(...e)}function s3e(t,e){return`${t[pp]}_${e.join("_")}_unique`}function H8(t,e,r){for(let n=e;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function zG(t,e=0){const r=[];let n=e,s=!1;for(;n<t.length;){const i=t[n];if(i===","){(s||n===e)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[u,f]=H8(t,n+1,!0);r.push(u),n=f;continue}if(i==="}")return[r,n+1];if(i==="{"){const[u,f]=zG(t,n+1);r.push(u),n=f;continue}const[o,c]=H8(t,n,!1);r.push(o),n=c}return[r,n]}function i3e(t){const[e]=zG(t,1);return e}function qG(t){return`{${t.map(e=>Array.isArray(e)?qG(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var xD,yD;class mn extends(yD=FG,xD=Ge,yD){constructor(){super(...arguments);be(this,"foreignKeyConfigs",[])}array(r){return new WG(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>a3e((o,c)=>{const u=new BG(()=>{const f=o();return{columns:[r],foreignColumns:[f]}});return c.onUpdate&&u.onUpdate(c.onUpdate),c.onDelete&&u.onDelete(c.onDelete),u.build(n)},s,i))}buildExtraConfigColumn(r){return new VG(r,this.config)}}be(mn,xD,"PgColumnBuilder");var vD,bD;class $r extends(bD=ig,vD=Ge,bD){constructor(e,r){r.uniqueName||(r.uniqueName=s3e(e,[r.name])),super(e,r),this.table=e}}be($r,vD,"PgColumn");var wD,ND;class VG extends(ND=$r,wD=Ge,ND){constructor(){super(...arguments);be(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});be(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}be(VG,wD,"ExtraConfigColumn");var jD,SD;class WG extends(SD=mn,jD=Ge,SD){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new CC(e,this.config,r)}}be(WG,jD,"PgArrayBuilder");var kD,_D;const rw=class rw extends(_D=$r,kD=Ge,_D){constructor(r,n,s,i){super(r,n);be(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=i3e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:As(this.baseColumn,rw)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:qG(s)}};be(rw,kD,"PgArray");let CC=rw;const K8=Symbol.for("drizzle:isPgEnum");function o3e(t){return!!t&&typeof t=="function"&&K8 in t&&t[K8]===!0}var CD;CD=Ge;class qP{constructor(e,r,n,s=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:s}}}be(qP,CD,"Subquery");const l3e={startActiveSpan(t,e){return e()}},gp=Symbol.for("drizzle:ViewBaseConfig"),r3=Symbol.for("drizzle:Schema"),G8=Symbol.for("drizzle:Columns"),Y8=Symbol.for("drizzle:ExtraConfigColumns"),n3=Symbol.for("drizzle:OriginalName"),a3=Symbol.for("drizzle:BaseName"),V1=Symbol.for("drizzle:IsAlias"),X8=Symbol.for("drizzle:ExtraConfigBuilder"),HG=Symbol.for("drizzle:IsDrizzleTable");var TD,PD,ED,AD,ID,OD,MD,RD,DD,LD;LD=Ge,DD=pp,RD=n3,MD=r3,OD=G8,ID=Y8,AD=a3,ED=V1,PD=HG,TD=X8;class vi{constructor(e,r,n){be(this,DD);be(this,RD);be(this,MD);be(this,OD);be(this,ID);be(this,AD);be(this,ED,!1);be(this,PD,!0);be(this,TD);this[pp]=this[n3]=e,this[r3]=r,this[a3]=n}}be(vi,LD,"Table"),be(vi,"Symbol",{Name:pp,Schema:r3,OriginalName:n3,Columns:G8,ExtraConfigColumns:Y8,BaseName:a3,IsAlias:V1,ExtraConfigBuilder:X8});function KG(t){return typeof t=="object"&&t!==null&&HG in t}function c3e(t){return t!=null&&typeof t.getSQL=="function"}function d3e(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var $D;$D=Ge;class Io{constructor(e){be(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new is([this])}}be(Io,$D,"StringChunk");var FD;FD=Ge;const Kf=class Kf{constructor(e){be(this,"decoder",GG);be(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return l3e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:c,inlineParams:u,paramStartIndex:f}=n;return d3e(e.map(h=>{var m;if(As(h,Io))return{sql:h.value.join(""),params:[]};if(As(h,W1))return{sql:i(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const g=[new Io("(")];for(const[v,j]of h.entries())g.push(j),v<h.length-1&&g.push(new Io(", "));return g.push(new Io(")")),this.buildQueryFromSourceParams(g,n)}if(As(h,Kf))return this.buildQueryFromSourceParams(h.queryChunks,{...n,inlineParams:u||h.shouldInlineParams});if(As(h,vi)){const g=h[vi.Symbol.Schema],v=h[vi.Symbol.Name];return{sql:g===void 0||h[V1]?i(v):i(g)+"."+i(v),params:[]}}if(As(h,ig)){const g=s.getColumnCasing(h);if(r.invokeSource==="indexes")return{sql:i(g),params:[]};const v=h.table[vi.Symbol.Schema];return{sql:h.table[V1]||v===void 0?i(h.table[vi.Symbol.Name])+"."+i(g):i(v)+"."+i(h.table[vi.Symbol.Name])+"."+i(g),params:[]}}if(As(h,QG)){const g=h[gp].schema,v=h[gp].name;return{sql:g===void 0||h[gp].isAlias?i(v):i(g)+"."+i(v),params:[]}}if(As(h,VP)){if(As(h.value,K1))return{sql:o(f.value++,h),params:[h],typings:["none"]};const g=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(As(g,Kf))return this.buildQueryFromSourceParams([g],n);if(u)return{sql:this.mapInlineParam(g,n),params:[]};let v=["none"];return c&&(v=[c(h.encoder)]),{sql:o(f.value++,g),params:[g],typings:v}}return As(h,K1)?{sql:o(f.value++,h),params:[h],typings:["none"]}:As(h,Kf.Aliased)&&h.fieldAlias!==void 0?{sql:i(h.fieldAlias),params:[]}:As(h,qP)?h._.isWith?{sql:i(h._.alias),params:[]}:this.buildQueryFromSourceParams([new Io("("),h._.sql,new Io(") "),new W1(h._.alias)],n):o3e(h)?h.schema?{sql:i(h.schema)+"."+i(h.enumName),params:[]}:{sql:i(h.enumName),params:[]}:c3e(h)?(m=h.shouldOmitSQLParens)!=null&&m.call(h)?this.buildQueryFromSourceParams([h.getSQL()],n):this.buildQueryFromSourceParams([new Io("("),h.getSQL(),new Io(")")],n):u?{sql:this.mapInlineParam(h,n),params:[]}:{sql:o(f.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Kf.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};be(Kf,FD,"SQL");let is=Kf;var BD;BD=Ge;class W1{constructor(e){be(this,"brand");this.value=e}getSQL(){return new is([this])}}be(W1,BD,"Name");const GG={mapFromDriverValue:t=>t},YG={mapToDriverValue:t=>t};({...GG,...YG});var UD;UD=Ge;class VP{constructor(e,r=YG){be(this,"brand");this.value=e,this.encoder=r}getSQL(){return new is([this])}}be(VP,UD,"Param");function H1(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Io(t[0]));for(const[n,s]of e.entries())r.push(s,new Io(t[n+1]));return new is(r)}(t=>{function e(){return new is([])}t.empty=e;function r(u){return new is(u)}t.fromList=r;function n(u){return new is([new Io(u)])}t.raw=n;function s(u,f){const h=[];for(const[m,g]of u.entries())m>0&&f!==void 0&&h.push(f),h.push(g);return new is(h)}t.join=s;function i(u){return new W1(u)}t.identifier=i;function o(u){return new K1(u)}t.placeholder=o;function c(u,f){return new VP(u,f)}t.param=c})(H1||(H1={}));(t=>{var r;r=Ge;const n=class n{constructor(i,o){be(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};be(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(is||(is={}));var zD;zD=Ge;class K1{constructor(e){this.name=e}getSQL(){return new is([this])}}be(K1,zD,"Placeholder");const XG=Symbol.for("drizzle:IsDrizzleView");var qD,VD,WD;WD=Ge,VD=gp,qD=XG;class QG{constructor({name:e,schema:r,selectedFields:n,query:s}){be(this,VD);be(this,qD,!0);this[gp]={name:e,originalName:e,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new is([this])}}be(QG,WD,"View");function u3e(t){return typeof t=="object"&&t!==null&&XG in t}ig.prototype.getSQL=function(){return new is([this])};vi.prototype.getSQL=function(){return new is([this])};qP.prototype.getSQL=function(){return new is([this])};function f3e(t){return t[vi.Symbol.Columns]}function h3e(t){return t[gp].selectedFields}function vs(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var HD,KD;class Gy extends(KD=mn,HD=Ge,KD){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}be(Gy,HD,"PgIntColumnBaseBuilder");var GD,YD;class JG extends(YD=Gy,GD=Ge,YD){constructor(e){super(e,"number","PgBigInt53")}build(e){return new ZG(e,this.config)}}be(JG,GD,"PgBigInt53Builder");var XD,QD;class ZG extends(QD=$r,XD=Ge,QD){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}be(ZG,XD,"PgBigInt53");var JD,ZD;class eY extends(ZD=Gy,JD=Ge,ZD){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new tY(e,this.config)}}be(eY,JD,"PgBigInt64Builder");var e9,t9;class tY extends(t9=$r,e9=Ge,t9){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}be(tY,e9,"PgBigInt64");function m3e(t,e){const{name:r,config:n}=vs(t,e);return n.mode==="number"?new JG(r):new eY(r)}var r9,n9;class rY extends(n9=mn,r9=Ge,n9){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new nY(e,this.config)}}be(rY,r9,"PgBigSerial53Builder");var a9,s9;class nY extends(s9=$r,a9=Ge,s9){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}be(nY,a9,"PgBigSerial53");var i9,o9;class aY extends(o9=mn,i9=Ge,o9){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new sY(e,this.config)}}be(aY,i9,"PgBigSerial64Builder");var l9,c9;class sY extends(c9=$r,l9=Ge,c9){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}be(sY,l9,"PgBigSerial64");function p3e(t,e){const{name:r,config:n}=vs(t,e);return n.mode==="number"?new rY(r):new aY(r)}var d9,u9;class iY extends(u9=mn,d9=Ge,u9){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new oY(e,this.config)}}be(iY,d9,"PgBooleanBuilder");var f9,h9;class oY extends(h9=$r,f9=Ge,h9){getSQLType(){return"boolean"}}be(oY,f9,"PgBoolean");function Ls(t){return new iY(t??"")}var m9,p9;class lY extends(p9=mn,m9=Ge,p9){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new cY(e,this.config)}}be(lY,m9,"PgCharBuilder");var g9,x9;class cY extends(x9=$r,g9=Ge,x9){constructor(){super(...arguments);be(this,"length",this.config.length);be(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}be(cY,g9,"PgChar");function g3e(t,e={}){const{name:r,config:n}=vs(t,e);return new lY(r,n)}var y9,v9;class dY extends(v9=mn,y9=Ge,v9){constructor(e){super(e,"string","PgCidr")}build(e){return new uY(e,this.config)}}be(dY,y9,"PgCidrBuilder");var b9,w9;class uY extends(w9=$r,b9=Ge,w9){getSQLType(){return"cidr"}}be(uY,b9,"PgCidr");function x3e(t){return new dY(t??"")}var N9,j9;class fY extends(j9=mn,N9=Ge,j9){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new hY(e,this.config)}}be(fY,N9,"PgCustomColumnBuilder");var S9,k9;class hY extends(k9=$r,S9=Ge,k9){constructor(r,n){super(r,n);be(this,"sqlName");be(this,"mapTo");be(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}be(hY,S9,"PgCustomColumn");function y3e(t){return(e,r)=>{const{name:n,config:s}=vs(e,r);return new fY(n,s,t)}}var _9,C9;class Cg extends(C9=mn,_9=Ge,C9){defaultNow(){return this.default(H1`now()`)}}be(Cg,_9,"PgDateColumnBaseBuilder");var T9,P9;class mY extends(P9=Cg,T9=Ge,P9){constructor(e){super(e,"date","PgDate")}build(e){return new pY(e,this.config)}}be(mY,T9,"PgDateBuilder");var E9,A9;class pY extends(A9=$r,E9=Ge,A9){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}be(pY,E9,"PgDate");var I9,O9;class gY extends(O9=Cg,I9=Ge,O9){constructor(e){super(e,"string","PgDateString")}build(e){return new xY(e,this.config)}}be(gY,I9,"PgDateStringBuilder");var M9,R9;class xY extends(R9=$r,M9=Ge,R9){getSQLType(){return"date"}}be(xY,M9,"PgDateString");function v3e(t,e){const{name:r,config:n}=vs(t,e);return(n==null?void 0:n.mode)==="date"?new mY(r):new gY(r)}var D9,L9;class yY extends(L9=mn,D9=Ge,L9){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new vY(e,this.config)}}be(yY,D9,"PgDoublePrecisionBuilder");var $9,F9;class vY extends(F9=$r,$9=Ge,F9){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}be(vY,$9,"PgDoublePrecision");function b3e(t){return new yY(t??"")}var B9,U9;class bY extends(U9=mn,B9=Ge,U9){constructor(e){super(e,"string","PgInet")}build(e){return new wY(e,this.config)}}be(bY,B9,"PgInetBuilder");var z9,q9;class wY extends(q9=$r,z9=Ge,q9){getSQLType(){return"inet"}}be(wY,z9,"PgInet");function w3e(t){return new bY(t??"")}var V9,W9;class NY extends(W9=Gy,V9=Ge,W9){constructor(e){super(e,"number","PgInteger")}build(e){return new jY(e,this.config)}}be(NY,V9,"PgIntegerBuilder");var H9,K9;class jY extends(K9=$r,H9=Ge,K9){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}be(jY,H9,"PgInteger");function Or(t){return new NY(t??"")}var G9,Y9;class SY extends(Y9=mn,G9=Ge,Y9){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new kY(e,this.config)}}be(SY,G9,"PgIntervalBuilder");var X9,Q9;class kY extends(Q9=$r,X9=Ge,Q9){constructor(){super(...arguments);be(this,"fields",this.config.intervalConfig.fields);be(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}be(kY,X9,"PgInterval");function N3e(t,e={}){const{name:r,config:n}=vs(t,e);return new SY(r,n)}var J9,Z9;class _Y extends(Z9=mn,J9=Ge,Z9){constructor(e){super(e,"json","PgJson")}build(e){return new CY(e,this.config)}}be(_Y,J9,"PgJsonBuilder");var eL,tL;class CY extends(tL=$r,eL=Ge,tL){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}be(CY,eL,"PgJson");function j3e(t){return new _Y(t??"")}var rL,nL;class TY extends(nL=mn,rL=Ge,nL){constructor(e){super(e,"json","PgJsonb")}build(e){return new PY(e,this.config)}}be(TY,rL,"PgJsonbBuilder");var aL,sL;class PY extends(sL=$r,aL=Ge,sL){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}be(PY,aL,"PgJsonb");function Un(t){return new TY(t??"")}var iL,oL;class EY extends(oL=mn,iL=Ge,oL){constructor(e){super(e,"array","PgLine")}build(e){return new AY(e,this.config)}}be(EY,iL,"PgLineBuilder");var lL,cL;class AY extends(cL=$r,lL=Ge,cL){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}be(AY,lL,"PgLine");var dL,uL;class IY extends(uL=mn,dL=Ge,uL){constructor(e){super(e,"json","PgLineABC")}build(e){return new OY(e,this.config)}}be(IY,dL,"PgLineABCBuilder");var fL,hL;class OY extends(hL=$r,fL=Ge,hL){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}be(OY,fL,"PgLineABC");function S3e(t,e){const{name:r,config:n}=vs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new EY(r):new IY(r)}var mL,pL;class MY extends(pL=mn,mL=Ge,pL){constructor(e){super(e,"string","PgMacaddr")}build(e){return new RY(e,this.config)}}be(MY,mL,"PgMacaddrBuilder");var gL,xL;class RY extends(xL=$r,gL=Ge,xL){getSQLType(){return"macaddr"}}be(RY,gL,"PgMacaddr");function k3e(t){return new MY(t??"")}var yL,vL;class DY extends(vL=mn,yL=Ge,vL){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new LY(e,this.config)}}be(DY,yL,"PgMacaddr8Builder");var bL,wL;class LY extends(wL=$r,bL=Ge,wL){getSQLType(){return"macaddr8"}}be(LY,bL,"PgMacaddr8");function _3e(t){return new DY(t??"")}var NL,jL;class $Y extends(jL=mn,NL=Ge,jL){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new FY(e,this.config)}}be($Y,NL,"PgNumericBuilder");var SL,kL;class FY extends(kL=$r,SL=Ge,kL){constructor(r,n){super(r,n);be(this,"precision");be(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}be(FY,SL,"PgNumeric");function BY(t,e){const{name:r,config:n}=vs(t,e);return new $Y(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const pr=BY;var _L,CL;class UY extends(CL=mn,_L=Ge,CL){constructor(e){super(e,"array","PgPointTuple")}build(e){return new zY(e,this.config)}}be(UY,_L,"PgPointTupleBuilder");var TL,PL;class zY extends(PL=$r,TL=Ge,PL){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}be(zY,TL,"PgPointTuple");var EL,AL;class qY extends(AL=mn,EL=Ge,AL){constructor(e){super(e,"json","PgPointObject")}build(e){return new VY(e,this.config)}}be(qY,EL,"PgPointObjectBuilder");var IL,OL;class VY extends(OL=$r,IL=Ge,OL){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}be(VY,IL,"PgPointObject");function C3e(t,e){const{name:r,config:n}=vs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new UY(r):new qY(r)}function T3e(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Q8(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,t[e+s]);return n.getFloat64(0,!0)}function WY(t){const e=T3e(t);let r=0;const n=e[r];r+=1;const s=new DataView(e.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const o=Q8(e,r);r+=8;const c=Q8(e,r);return r+=8,[o,c]}throw new Error("Unsupported geometry type")}var ML,RL;class HY extends(RL=mn,ML=Ge,RL){constructor(e){super(e,"array","PgGeometry")}build(e){return new KY(e,this.config)}}be(HY,ML,"PgGeometryBuilder");var DL,LL;class KY extends(LL=$r,DL=Ge,LL){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return WY(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}be(KY,DL,"PgGeometry");var $L,FL;class GY extends(FL=mn,$L=Ge,FL){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new YY(e,this.config)}}be(GY,$L,"PgGeometryObjectBuilder");var BL,UL;class YY extends(UL=$r,BL=Ge,UL){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=WY(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}be(YY,BL,"PgGeometryObject");function P3e(t,e){const{name:r,config:n}=vs(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new HY(r):new GY(r)}var zL,qL;class XY extends(qL=mn,zL=Ge,qL){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new QY(e,this.config)}}be(XY,zL,"PgRealBuilder");var VL,WL;class QY extends(WL=$r,VL=Ge,WL){constructor(r,n){super(r,n);be(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}be(QY,VL,"PgReal");function ta(t){return new XY(t??"")}var HL,KL;class JY extends(KL=mn,HL=Ge,KL){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ZY(e,this.config)}}be(JY,HL,"PgSerialBuilder");var GL,YL;class ZY extends(YL=$r,GL=Ge,YL){getSQLType(){return"serial"}}be(ZY,GL,"PgSerial");function Rn(t){return new JY(t??"")}var XL,QL;class eX extends(QL=Gy,XL=Ge,QL){constructor(e){super(e,"number","PgSmallInt")}build(e){return new tX(e,this.config)}}be(eX,XL,"PgSmallIntBuilder");var JL,ZL;class tX extends(ZL=$r,JL=Ge,ZL){constructor(){super(...arguments);be(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}be(tX,JL,"PgSmallInt");function E3e(t){return new eX(t??"")}var e$,t$;class rX extends(t$=mn,e$=Ge,t$){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new nX(e,this.config)}}be(rX,e$,"PgSmallSerialBuilder");var r$,n$;class nX extends(n$=$r,r$=Ge,n$){getSQLType(){return"smallserial"}}be(nX,r$,"PgSmallSerial");function A3e(t){return new rX(t??"")}var a$,s$;class aX extends(s$=mn,a$=Ge,s$){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new sX(e,this.config)}}be(aX,a$,"PgTextBuilder");var i$,o$;class sX extends(o$=$r,i$=Ge,o$){constructor(){super(...arguments);be(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}be(sX,i$,"PgText");function yt(t,e={}){const{name:r,config:n}=vs(t,e);return new aX(r,n)}var l$,c$;class iX extends(c$=Cg,l$=Ge,c$){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new oX(e,this.config)}}be(iX,l$,"PgTimeBuilder");var d$,u$;class oX extends(u$=$r,d$=Ge,u$){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(oX,d$,"PgTime");function I3e(t,e={}){const{name:r,config:n}=vs(t,e);return new iX(r,n.withTimezone??!1,n.precision)}var f$,h$;class lX extends(h$=Cg,f$=Ge,h$){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new cX(e,this.config)}}be(lX,f$,"PgTimestampBuilder");var m$,p$;class cX extends(p$=$r,m$=Ge,p$){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");be(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));be(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(cX,m$,"PgTimestamp");var g$,x$;class dX extends(x$=Cg,g$=Ge,x$){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new uX(e,this.config)}}be(dX,g$,"PgTimestampStringBuilder");var y$,v$;class uX extends(v$=$r,y$=Ge,v$){constructor(r,n){super(r,n);be(this,"withTimezone");be(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}be(uX,y$,"PgTimestampString");function Zt(t,e={}){const{name:r,config:n}=vs(t,e);return(n==null?void 0:n.mode)==="string"?new dX(r,n.withTimezone??!1,n.precision):new lX(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var b$,w$;class fX extends(w$=mn,b$=Ge,w$){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(H1`gen_random_uuid()`)}build(e){return new hX(e,this.config)}}be(fX,b$,"PgUUIDBuilder");var N$,j$;class hX extends(j$=$r,N$=Ge,j$){getSQLType(){return"uuid"}}be(hX,N$,"PgUUID");function O3e(t){return new fX(t??"")}var S$,k$;class mX extends(k$=mn,S$=Ge,k$){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new pX(e,this.config)}}be(mX,S$,"PgVarcharBuilder");var _$,C$;class pX extends(C$=$r,_$=Ge,C$){constructor(){super(...arguments);be(this,"length",this.config.length);be(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}be(pX,_$,"PgVarchar");function cn(t,e={}){const{name:r,config:n}=vs(t,e);return new mX(r,n)}var T$,P$;class gX extends(P$=mn,T$=Ge,P$){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new xX(e,this.config)}}be(gX,T$,"PgBinaryVectorBuilder");var E$,A$;class xX extends(A$=$r,E$=Ge,A$){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}be(xX,E$,"PgBinaryVector");function M3e(t,e){const{name:r,config:n}=vs(t,e);return new gX(r,n)}var I$,O$;class yX extends(O$=mn,I$=Ge,O$){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new vX(e,this.config)}}be(yX,I$,"PgHalfVectorBuilder");var M$,R$;class vX extends(R$=$r,M$=Ge,R$){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}be(vX,M$,"PgHalfVector");function R3e(t,e){const{name:r,config:n}=vs(t,e);return new yX(r,n)}var D$,L$;class bX extends(L$=mn,D$=Ge,L$){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new wX(e,this.config)}}be(bX,D$,"PgSparseVectorBuilder");var $$,F$;class wX extends(F$=$r,$$=Ge,F$){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}be(wX,$$,"PgSparseVector");function D3e(t,e){const{name:r,config:n}=vs(t,e);return new bX(r,n)}var B$,U$;class NX extends(U$=mn,B$=Ge,U$){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new jX(e,this.config)}}be(NX,B$,"PgVectorBuilder");var z$,q$;class jX extends(q$=$r,z$=Ge,q$){constructor(){super(...arguments);be(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}be(jX,z$,"PgVector");function L3e(t,e){const{name:r,config:n}=vs(t,e);return new NX(r,n)}function $3e(){return{bigint:m3e,bigserial:p3e,boolean:Ls,char:g3e,cidr:x3e,customType:y3e,date:v3e,doublePrecision:b3e,inet:w3e,integer:Or,interval:N3e,json:j3e,jsonb:Un,line:S3e,macaddr:k3e,macaddr8:_3e,numeric:BY,point:C3e,geometry:P3e,real:ta,serial:Rn,smallint:E3e,smallserial:A3e,text:yt,time:I3e,timestamp:Zt,uuid:O3e,varchar:cn,bit:M3e,halfvec:R3e,sparsevec:D3e,vector:L3e}}const TC=Symbol.for("drizzle:PgInlineForeignKeys"),J8=Symbol.for("drizzle:EnableRLS");var V$,W$,H$,K$,G$;class G1 extends(G$=vi,K$=Ge,H$=TC,W$=J8,V$=vi.Symbol.ExtraConfigBuilder,G$){constructor(){super(...arguments);be(this,H$,[]);be(this,W$,!1);be(this,V$)}}be(G1,K$,"PgTable"),be(G1,"Symbol",Object.assign({},vi.Symbol,{InlineForeignKeys:TC,EnableRLS:J8}));function F3e(t,e,r,n,s=t){const i=new G1(t,n,s),o=typeof e=="function"?e($3e()):e,c=Object.fromEntries(Object.entries(o).map(([h,m])=>{const g=m;g.setName(h);const v=g.build(i);return i[TC].push(...g.buildForeignKeys(v,i)),[h,v]})),u=Object.fromEntries(Object.entries(o).map(([h,m])=>{const g=m;g.setName(h);const v=g.buildExtraConfigColumn(i);return[h,v]})),f=Object.assign(i,c);return f[vi.Symbol.Columns]=c,f[vi.Symbol.ExtraConfigColumns]=u,Object.assign(f,{enableRLS:()=>(f[G1.Symbol.EnableRLS]=!0,f)})}const Dn=(t,e,r)=>F3e(t,e,r,void 0);var hn;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(hn||(hn={}));var PC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(PC||(PC={}));const Et=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xc=t=>{switch(typeof t){case"undefined":return Et.undefined;case"string":return Et.string;case"number":return Number.isNaN(t)?Et.nan:Et.number;case"boolean":return Et.boolean;case"function":return Et.function;case"bigint":return Et.bigint;case"symbol":return Et.symbol;case"object":return Array.isArray(t)?Et.array:t===null?Et.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Et.promise:typeof Map<"u"&&t instanceof Map?Et.map:typeof Set<"u"&&t instanceof Set?Et.set:typeof Date<"u"&&t instanceof Date?Et.date:Et.object;default:return Et.unknown}},Ze=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B3e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class co extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,u=0;for(;u<o.path.length;){const f=o.path[u];u===o.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(r(o))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return s(this),n}static assert(e){if(!(e instanceof co))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}co.create=t=>new co(t);const og=(t,e)=>{let r;switch(t.code){case Ze.invalid_type:t.received===Et.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ze.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,hn.jsonStringifyReplacer)}`;break;case Ze.unrecognized_keys:r=`Unrecognized key(s) in object: ${hn.joinValues(t.keys,", ")}`;break;case Ze.invalid_union:r="Invalid input";break;case Ze.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${hn.joinValues(t.options)}`;break;case Ze.invalid_enum_value:r=`Invalid enum value. Expected ${hn.joinValues(t.options)}, received '${t.received}'`;break;case Ze.invalid_arguments:r="Invalid function arguments";break;case Ze.invalid_return_type:r="Invalid function return type";break;case Ze.invalid_date:r="Invalid date";break;case Ze.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:hn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ze.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ze.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ze.custom:r="Invalid input";break;case Ze.invalid_intersection_types:r="Intersection results could not be merged";break;case Ze.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ze.not_finite:r="Number must be finite";break;default:r=e.defaultError,hn.assertNever(t)}return{message:r}};let SX=og;function U3e(t){SX=t}function Y1(){return SX}const X1=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=n.filter(f=>!!f).slice().reverse();for(const f of u)c=f(o,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},z3e=[];function wt(t,e){const r=Y1(),n=X1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===og?void 0:og].filter(s=>!!s)});t.common.issues.push(n)}class ti{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return gr;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ti.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return gr;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const gr=Object.freeze({status:"aborted"}),tp=t=>({status:"dirty",value:t}),ki=t=>({status:"valid",value:t}),EC=t=>t.status==="aborted",AC=t=>t.status==="dirty",Ih=t=>t.status==="valid",ty=t=>typeof Promise<"u"&&t instanceof Promise;var Vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Vt||(Vt={}));class gc{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Z8=(t,e)=>{if(Ih(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new co(t.common.issues);return this._error=r,this._error}}};function Lr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??r??c.defaultError}},description:s}}class Gr{get description(){return this._def.description}_getType(e){return Xc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Xc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ti,ctx:{common:e.parent.common,data:e.data,parsedType:Xc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ty(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xc(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Z8(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xc(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Ih(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Ih(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xc(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(ty(s)?s:Promise.resolve(s));return Z8(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),c=()=>i.addIssue({code:Ze.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Pl({schema:this,typeName:vr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return fc.create(this,this._def)}nullable(){return Uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _l.create(this)}promise(){return cg.create(this,this._def)}or(e){return sy.create([this,e],this._def)}and(e){return iy.create(this,e,this._def)}transform(e){return new Pl({...Lr(this._def),schema:this,typeName:vr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new uy({...Lr(this._def),innerType:this,defaultValue:r,typeName:vr.ZodDefault})}brand(){return new WP({typeName:vr.ZodBranded,type:this,...Lr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new fy({...Lr(this._def),innerType:this,catchValue:r,typeName:vr.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Yy.create(this,e)}readonly(){return hy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const q3e=/^c[^\s-]{8,}$/i,V3e=/^[0-9a-z]+$/,W3e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,H3e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K3e=/^[a-z0-9_-]{21}$/i,G3e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Y3e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X3e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q3e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let s3;const J3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,e_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,t_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r_e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,n_e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",a_e=new RegExp(`^${kX}$`);function _X(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function s_e(t){return new RegExp(`^${_X(t)}$`)}function CX(t){let e=`${kX}T${_X(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function i_e(t,e){return!!((e==="v4"||!e)&&J3e.test(t)||(e==="v6"||!e)&&e_e.test(t))}function o_e(t,e){if(!G3e.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function l_e(t,e){return!!((e==="v4"||!e)&&Z3e.test(t)||(e==="v6"||!e)&&t_e.test(t))}class jl extends Gr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Et.string){const i=this._getOrReturnCtx(e);return wt(i,{code:Ze.invalid_type,expected:Et.string,received:i.parsedType}),gr}const n=new ti;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(e,s),o?wt(s,{code:Ze.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&wt(s,{code:Ze.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")X3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"email",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")s3||(s3=new RegExp(Q3e,"u")),s3.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"emoji",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")H3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"uuid",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")K3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"nanoid",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")q3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"cuid",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")V3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"cuid2",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")W3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"ulid",code:Ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),wt(s,{validation:"url",code:Ze.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"regex",code:Ze.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?CX(i).test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?a_e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?s_e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Y3e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"duration",code:Ze.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?i_e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"ip",code:Ze.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?o_e(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"jwt",code:Ze.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?l_e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"cidr",code:Ze.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?r_e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"base64",code:Ze.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?n_e.test(e.data)||(s=this._getOrReturnCtx(e,s),wt(s,{validation:"base64url",code:Ze.invalid_string,message:i.message}),n.dirty()):hn.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Ze.invalid_string,...Vt.errToObj(n)})}_addCheck(e){return new jl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Vt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Vt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Vt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Vt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Vt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Vt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Vt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Vt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Vt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Vt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Vt.errToObj(r)})}nonempty(e){return this.min(1,Vt.errToObj(e))}trim(){return new jl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jl.create=t=>new jl({checks:[],typeName:vr.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Lr(t)});function c_e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class $u extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Et.number){const i=this._getOrReturnCtx(e);return wt(i,{code:Ze.invalid_type,expected:Et.number,received:i.parsedType}),gr}let n;const s=new ti;for(const i of this._def.checks)i.kind==="int"?hn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?c_e(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.not_finite,message:i.message}),s.dirty()):hn.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Vt.toString(r))}setLimit(e,r,n,s){return new $u({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Vt.toString(s)}]})}_addCheck(e){return new $u({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}$u.create=t=>new $u({checks:[],typeName:vr.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Lr(t)});class Fu extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Et.bigint)return this._getInvalidInput(e);let n;const s=new ti;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),wt(n,{code:Ze.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):hn.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return wt(r,{code:Ze.invalid_type,expected:Et.bigint,received:r.parsedType}),gr}gte(e,r){return this.setLimit("min",e,!0,Vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Vt.toString(r))}setLimit(e,r,n,s){return new Fu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Vt.toString(s)}]})}_addCheck(e){return new Fu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Fu.create=t=>new Fu({checks:[],typeName:vr.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Lr(t)});class ry extends Gr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Et.boolean){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.boolean,received:n.parsedType}),gr}return ki(e.data)}}ry.create=t=>new ry({typeName:vr.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Lr(t)});class Oh extends Gr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Et.date){const i=this._getOrReturnCtx(e);return wt(i,{code:Ze.invalid_type,expected:Et.date,received:i.parsedType}),gr}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return wt(i,{code:Ze.invalid_date}),gr}const n=new ti;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),wt(s,{code:Ze.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):hn.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Vt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Vt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Oh.create=t=>new Oh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:vr.ZodDate,...Lr(t)});class Q1 extends Gr{_parse(e){if(this._getType(e)!==Et.symbol){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.symbol,received:n.parsedType}),gr}return ki(e.data)}}Q1.create=t=>new Q1({typeName:vr.ZodSymbol,...Lr(t)});class ny extends Gr{_parse(e){if(this._getType(e)!==Et.undefined){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.undefined,received:n.parsedType}),gr}return ki(e.data)}}ny.create=t=>new ny({typeName:vr.ZodUndefined,...Lr(t)});class ay extends Gr{_parse(e){if(this._getType(e)!==Et.null){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.null,received:n.parsedType}),gr}return ki(e.data)}}ay.create=t=>new ay({typeName:vr.ZodNull,...Lr(t)});class lg extends Gr{constructor(){super(...arguments),this._any=!0}_parse(e){return ki(e.data)}}lg.create=t=>new lg({typeName:vr.ZodAny,...Lr(t)});class xh extends Gr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ki(e.data)}}xh.create=t=>new xh({typeName:vr.ZodUnknown,...Lr(t)});class jd extends Gr{_parse(e){const r=this._getOrReturnCtx(e);return wt(r,{code:Ze.invalid_type,expected:Et.never,received:r.parsedType}),gr}}jd.create=t=>new jd({typeName:vr.ZodNever,...Lr(t)});class J1 extends Gr{_parse(e){if(this._getType(e)!==Et.undefined){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.void,received:n.parsedType}),gr}return ki(e.data)}}J1.create=t=>new J1({typeName:vr.ZodVoid,...Lr(t)});class _l extends Gr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Et.array)return wt(r,{code:Ze.invalid_type,expected:Et.array,received:r.parsedType}),gr;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,c=r.data.length<s.exactLength.value;(o||c)&&(wt(r,{code:o?Ze.too_big:Ze.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(wt(r,{code:Ze.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(wt(r,{code:Ze.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>s.type._parseAsync(new gc(r,o,r.path,c)))).then(o=>ti.mergeArray(n,o));const i=[...r.data].map((o,c)=>s.type._parseSync(new gc(r,o,r.path,c)));return ti.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new _l({...this._def,minLength:{value:e,message:Vt.toString(r)}})}max(e,r){return new _l({...this._def,maxLength:{value:e,message:Vt.toString(r)}})}length(e,r){return new _l({...this._def,exactLength:{value:e,message:Vt.toString(r)}})}nonempty(e){return this.min(1,e)}}_l.create=(t,e)=>new _l({type:t,minLength:null,maxLength:null,exactLength:null,typeName:vr.ZodArray,...Lr(e)});function Km(t){if(t instanceof va){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=fc.create(Km(n))}return new va({...t._def,shape:()=>e})}else return t instanceof _l?new _l({...t._def,type:Km(t.element)}):t instanceof fc?fc.create(Km(t.unwrap())):t instanceof Uu?Uu.create(Km(t.unwrap())):t instanceof xc?xc.create(t.items.map(e=>Km(e))):t}class va extends Gr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=hn.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Et.object){const f=this._getOrReturnCtx(e);return wt(f,{code:Ze.invalid_type,expected:Et.object,received:f.parsedType}),gr}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof jd&&this._def.unknownKeys==="strip"))for(const f in s.data)o.includes(f)||c.push(f);const u=[];for(const f of o){const h=i[f],m=s.data[f];u.push({key:{status:"valid",value:f},value:h._parse(new gc(s,m,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof jd){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(f==="strict")c.length>0&&(wt(s,{code:Ze.unrecognized_keys,keys:c}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of c){const m=s.data[h];u.push({key:{status:"valid",value:h},value:f._parse(new gc(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of u){const m=await h.key,g=await h.value;f.push({key:m,value:g,alwaysSet:h.alwaysSet})}return f}).then(f=>ti.mergeObjectSync(n,f)):ti.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Vt.errToObj,new va({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Vt.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new va({...this._def,unknownKeys:"strip"})}passthrough(){return new va({...this._def,unknownKeys:"passthrough"})}extend(e){return new va({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new va({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:vr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new va({...this._def,catchall:e})}pick(e){const r={};for(const n of hn.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new va({...this._def,shape:()=>r})}omit(e){const r={};for(const n of hn.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new va({...this._def,shape:()=>r})}deepPartial(){return Km(this)}partial(e){const r={};for(const n of hn.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new va({...this._def,shape:()=>r})}required(e){const r={};for(const n of hn.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof fc;)i=i._def.innerType;r[n]=i}return new va({...this._def,shape:()=>r})}keyof(){return TX(hn.objectKeys(this.shape))}}va.create=(t,e)=>new va({shape:()=>t,unknownKeys:"strip",catchall:jd.create(),typeName:vr.ZodObject,...Lr(e)});va.strictCreate=(t,e)=>new va({shape:()=>t,unknownKeys:"strict",catchall:jd.create(),typeName:vr.ZodObject,...Lr(e)});va.lazycreate=(t,e)=>new va({shape:t,unknownKeys:"strip",catchall:jd.create(),typeName:vr.ZodObject,...Lr(e)});class sy extends Gr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new co(c.ctx.common.issues));return wt(r,{code:Ze.invalid_union,unionErrors:o}),gr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of n){const f={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new co(u));return wt(r,{code:Ze.invalid_union,unionErrors:c}),gr}}get options(){return this._def.options}}sy.create=(t,e)=>new sy({options:t,typeName:vr.ZodUnion,...Lr(e)});const Yc=t=>t instanceof ly?Yc(t.schema):t instanceof Pl?Yc(t.innerType()):t instanceof cy?[t.value]:t instanceof Bu?t.options:t instanceof dy?hn.objectValues(t.enum):t instanceof uy?Yc(t._def.innerType):t instanceof ny?[void 0]:t instanceof ay?[null]:t instanceof fc?[void 0,...Yc(t.unwrap())]:t instanceof Uu?[null,...Yc(t.unwrap())]:t instanceof WP||t instanceof hy?Yc(t.unwrap()):t instanceof fy?Yc(t._def.innerType):[];class v2 extends Gr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Et.object)return wt(r,{code:Ze.invalid_type,expected:Et.object,received:r.parsedType}),gr;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(wt(r,{code:Ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),gr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=Yc(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new v2({typeName:vr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Lr(n)})}}function IC(t,e){const r=Xc(t),n=Xc(e);if(t===e)return{valid:!0,data:t};if(r===Et.object&&n===Et.object){const s=hn.objectKeys(e),i=hn.objectKeys(t).filter(c=>s.indexOf(c)!==-1),o={...t,...e};for(const c of i){const u=IC(t[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(r===Et.array&&n===Et.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],c=e[i],u=IC(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===Et.date&&n===Et.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class iy extends Gr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(EC(i)||EC(o))return gr;const c=IC(i.value,o.value);return c.valid?((AC(i)||AC(o))&&r.dirty(),{status:r.value,value:c.data}):(wt(n,{code:Ze.invalid_intersection_types}),gr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}iy.create=(t,e,r)=>new iy({left:t,right:e,typeName:vr.ZodIntersection,...Lr(r)});class xc extends Gr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Et.array)return wt(n,{code:Ze.invalid_type,expected:Et.array,received:n.parsedType}),gr;if(n.data.length<this._def.items.length)return wt(n,{code:Ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gr;!this._def.rest&&n.data.length>this._def.items.length&&(wt(n,{code:Ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new gc(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ti.mergeArray(r,o)):ti.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new xc({...this._def,rest:e})}}xc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xc({items:t,typeName:vr.ZodTuple,rest:null,...Lr(e)})};class oy extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Et.object)return wt(n,{code:Ze.invalid_type,expected:Et.object,received:n.parsedType}),gr;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:i._parse(new gc(n,c,n.path,c)),value:o._parse(new gc(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?ti.mergeObjectAsync(r,s):ti.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Gr?new oy({keyType:e,valueType:r,typeName:vr.ZodRecord,...Lr(n)}):new oy({keyType:jl.create(),valueType:e,typeName:vr.ZodRecord,...Lr(r)})}}class Z1 extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Et.map)return wt(n,{code:Ze.invalid_type,expected:Et.map,received:n.parsedType}),gr;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,u],f)=>({key:s._parse(new gc(n,c,n.path,[f,"key"])),value:i._parse(new gc(n,u,n.path,[f,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const f=await u.key,h=await u.value;if(f.status==="aborted"||h.status==="aborted")return gr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),c.set(f.value,h.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const u of o){const f=u.key,h=u.value;if(f.status==="aborted"||h.status==="aborted")return gr;(f.status==="dirty"||h.status==="dirty")&&r.dirty(),c.set(f.value,h.value)}return{status:r.value,value:c}}}}Z1.create=(t,e,r)=>new Z1({valueType:e,keyType:t,typeName:vr.ZodMap,...Lr(r)});class Mh extends Gr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Et.set)return wt(n,{code:Ze.invalid_type,expected:Et.set,received:n.parsedType}),gr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(wt(n,{code:Ze.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(wt(n,{code:Ze.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(u){const f=new Set;for(const h of u){if(h.status==="aborted")return gr;h.status==="dirty"&&r.dirty(),f.add(h.value)}return{status:r.value,value:f}}const c=[...n.data.values()].map((u,f)=>i._parse(new gc(n,u,n.path,f)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,r){return new Mh({...this._def,minSize:{value:e,message:Vt.toString(r)}})}max(e,r){return new Mh({...this._def,maxSize:{value:e,message:Vt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Mh.create=(t,e)=>new Mh({valueType:t,minSize:null,maxSize:null,typeName:vr.ZodSet,...Lr(e)});class xp extends Gr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Et.function)return wt(r,{code:Ze.invalid_type,expected:Et.function,received:r.parsedType}),gr;function n(c,u){return X1({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y1(),og].filter(f=>!!f),issueData:{code:Ze.invalid_arguments,argumentsError:u}})}function s(c,u){return X1({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y1(),og].filter(f=>!!f),issueData:{code:Ze.invalid_return_type,returnTypeError:u}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof cg){const c=this;return ki(async function(...u){const f=new co([]),h=await c._def.args.parseAsync(u,i).catch(v=>{throw f.addIssue(n(u,v)),f}),m=await Reflect.apply(o,this,h);return await c._def.returns._def.type.parseAsync(m,i).catch(v=>{throw f.addIssue(s(m,v)),f})})}else{const c=this;return ki(function(...u){const f=c._def.args.safeParse(u,i);if(!f.success)throw new co([n(u,f.error)]);const h=Reflect.apply(o,this,f.data),m=c._def.returns.safeParse(h,i);if(!m.success)throw new co([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xp({...this._def,args:xc.create(e).rest(xh.create())})}returns(e){return new xp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new xp({args:e||xc.create([]).rest(xh.create()),returns:r||xh.create(),typeName:vr.ZodFunction,...Lr(n)})}}class ly extends Gr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ly.create=(t,e)=>new ly({getter:t,typeName:vr.ZodLazy,...Lr(e)});class cy extends Gr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return wt(r,{received:r.data,code:Ze.invalid_literal,expected:this._def.value}),gr}return{status:"valid",value:e.data}}get value(){return this._def.value}}cy.create=(t,e)=>new cy({value:t,typeName:vr.ZodLiteral,...Lr(e)});function TX(t,e){return new Bu({values:t,typeName:vr.ZodEnum,...Lr(e)})}class Bu extends Gr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return wt(r,{expected:hn.joinValues(n),received:r.parsedType,code:Ze.invalid_type}),gr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return wt(r,{received:r.data,code:Ze.invalid_enum_value,options:n}),gr}return ki(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Bu.create(e,{...this._def,...r})}exclude(e,r=this._def){return Bu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Bu.create=TX;class dy extends Gr{_parse(e){const r=hn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Et.string&&n.parsedType!==Et.number){const s=hn.objectValues(r);return wt(n,{expected:hn.joinValues(s),received:n.parsedType,code:Ze.invalid_type}),gr}if(this._cache||(this._cache=new Set(hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=hn.objectValues(r);return wt(n,{received:n.data,code:Ze.invalid_enum_value,options:s}),gr}return ki(e.data)}get enum(){return this._def.values}}dy.create=(t,e)=>new dy({values:t,typeName:vr.ZodNativeEnum,...Lr(e)});class cg extends Gr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Et.promise&&r.common.async===!1)return wt(r,{code:Ze.invalid_type,expected:Et.promise,received:r.parsedType}),gr;const n=r.parsedType===Et.promise?r.data:Promise.resolve(r.data);return ki(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cg.create=(t,e)=>new cg({type:t,typeName:vr.ZodPromise,...Lr(e)});class Pl extends Gr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{wt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return gr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?gr:u.status==="dirty"||r.value==="dirty"?tp(u.value):u});{if(r.value==="aborted")return gr;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?gr:c.status==="dirty"||r.value==="dirty"?tp(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?gr:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?gr:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ih(o))return gr;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ih(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:r.value,value:c})):gr);hn.assertNever(s)}}Pl.create=(t,e,r)=>new Pl({schema:t,typeName:vr.ZodEffects,effect:e,...Lr(r)});Pl.createWithPreprocess=(t,e,r)=>new Pl({schema:e,effect:{type:"preprocess",transform:t},typeName:vr.ZodEffects,...Lr(r)});class fc extends Gr{_parse(e){return this._getType(e)===Et.undefined?ki(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fc.create=(t,e)=>new fc({innerType:t,typeName:vr.ZodOptional,...Lr(e)});class Uu extends Gr{_parse(e){return this._getType(e)===Et.null?ki(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uu.create=(t,e)=>new Uu({innerType:t,typeName:vr.ZodNullable,...Lr(e)});class uy extends Gr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Et.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}uy.create=(t,e)=>new uy({innerType:t,typeName:vr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Lr(e)});class fy extends Gr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ty(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new co(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new co(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}fy.create=(t,e)=>new fy({innerType:t,typeName:vr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Lr(e)});class ew extends Gr{_parse(e){if(this._getType(e)!==Et.nan){const n=this._getOrReturnCtx(e);return wt(n,{code:Ze.invalid_type,expected:Et.nan,received:n.parsedType}),gr}return{status:"valid",value:e.data}}}ew.create=t=>new ew({typeName:vr.ZodNaN,...Lr(t)});const d_e=Symbol("zod_brand");class WP extends Gr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Yy extends Gr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gr:i.status==="dirty"?(r.dirty(),tp(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?gr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Yy({in:e,out:r,typeName:vr.ZodPipeline})}}class hy extends Gr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Ih(s)&&(s.value=Object.freeze(s.value)),s);return ty(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}hy.create=(t,e)=>new hy({innerType:t,typeName:vr.ZodReadonly,...Lr(e)});function eD(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function HP(t,e={},r){return t?lg.create().superRefine((n,s)=>{const i=t(n);if(i instanceof Promise)return i.then(o=>{if(!o){const c=eD(e,n),u=c.fatal??r??!0;s.addIssue({code:"custom",...c,fatal:u})}});if(!i){const o=eD(e,n),c=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:c})}}):lg.create()}const u_e={object:va.lazycreate};var vr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(vr||(vr={}));const f_e=(t,e={message:`Input not instance of ${t.name}`})=>HP(r=>r instanceof t,e),Pa=jl.create,as=$u.create,h_e=ew.create,m_e=Fu.create,b2=ry.create,p_e=Oh.create,g_e=Q1.create,x_e=ny.create,PX=ay.create,tw=lg.create,y_e=xh.create,v_e=jd.create,b_e=J1.create,my=_l.create,qo=va.create,w_e=va.strictCreate,KP=sy.create,EX=v2.create,N_e=iy.create,j_e=xc.create,AX=oy.create,S_e=Z1.create,k_e=Mh.create,__e=xp.create,C_e=ly.create,w2=cy.create,GP=Bu.create,T_e=dy.create,P_e=cg.create,tD=Pl.create,E_e=fc.create,A_e=Uu.create,I_e=Pl.createWithPreprocess,O_e=Yy.create,M_e=()=>Pa().optional(),R_e=()=>as().optional(),D_e=()=>b2().optional(),L_e={string:(t=>jl.create({...t,coerce:!0})),number:(t=>$u.create({...t,coerce:!0})),boolean:(t=>ry.create({...t,coerce:!0})),bigint:(t=>Fu.create({...t,coerce:!0})),date:(t=>Oh.create({...t,coerce:!0}))},$_e=gr,F_e=Object.freeze(Object.defineProperty({__proto__:null,BRAND:d_e,DIRTY:tp,EMPTY_PATH:z3e,INVALID:gr,NEVER:$_e,OK:ki,ParseStatus:ti,Schema:Gr,ZodAny:lg,ZodArray:_l,ZodBigInt:Fu,ZodBoolean:ry,ZodBranded:WP,ZodCatch:fy,ZodDate:Oh,ZodDefault:uy,ZodDiscriminatedUnion:v2,ZodEffects:Pl,ZodEnum:Bu,ZodError:co,get ZodFirstPartyTypeKind(){return vr},ZodFunction:xp,ZodIntersection:iy,ZodIssueCode:Ze,ZodLazy:ly,ZodLiteral:cy,ZodMap:Z1,ZodNaN:ew,ZodNativeEnum:dy,ZodNever:jd,ZodNull:ay,ZodNullable:Uu,ZodNumber:$u,ZodObject:va,ZodOptional:fc,ZodParsedType:Et,ZodPipeline:Yy,ZodPromise:cg,ZodReadonly:hy,ZodRecord:oy,ZodSchema:Gr,ZodSet:Mh,ZodString:jl,ZodSymbol:Q1,ZodTransformer:Pl,ZodTuple:xc,ZodType:Gr,ZodUndefined:ny,ZodUnion:sy,ZodUnknown:xh,ZodVoid:J1,addIssueToContext:wt,any:tw,array:my,bigint:m_e,boolean:b2,coerce:L_e,custom:HP,date:p_e,datetimeRegex:CX,defaultErrorMap:og,discriminatedUnion:EX,effect:tD,enum:GP,function:__e,getErrorMap:Y1,getParsedType:Xc,instanceof:f_e,intersection:N_e,isAborted:EC,isAsync:ty,isDirty:AC,isValid:Ih,late:u_e,lazy:C_e,literal:w2,makeIssue:X1,map:S_e,nan:h_e,nativeEnum:T_e,never:v_e,null:PX,nullable:A_e,number:as,object:qo,get objectUtil(){return PC},oboolean:D_e,onumber:R_e,optional:E_e,ostring:M_e,pipeline:O_e,preprocess:I_e,promise:P_e,quotelessJson:B3e,record:AX,set:k_e,setErrorMap:U3e,strictObject:w_e,string:Pa,symbol:g_e,transformer:tD,tuple:j_e,undefined:x_e,union:KP,unknown:y_e,get util(){return hn},void:b_e},Symbol.toStringTag,{value:"Module"})),xa={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Da(t,e){return e.includes(t.columnType)}function B_e(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const U_e=KP([Pa(),as(),b2(),PX()]),z_e=KP([U_e,AX(tw()),my(tw())]),q_e=HP(t=>t instanceof Buffer);function IX(t,e){const r=(e==null?void 0:e.zodInstance)??F_e,n=(e==null?void 0:e.coerce)??{};let s;return B_e(t)&&(s=t.enumValues.length?r.enum(t.enumValues):r.string()),s||(Da(t,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):Da(t,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):Da(t,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=t.dimensions?s.length(t.dimensions):s):Da(t,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):Da(t,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):Da(t,["PgArray"])?(s=r.array(IX(t.baseColumn,r)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=r.array(r.any()):t.dataType==="number"?s=V_e(t,r,n):t.dataType==="bigint"?s=W_e(t,r,n):t.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?s=H_e(t,r,n):t.dataType==="json"?s=z_e:t.dataType==="custom"?s=r.any():t.dataType==="buffer"&&(s=q_e)),s||(s=r.any()),s}function V_e(t,e,r){let n=t.getSQLType().includes("unsigned"),s,i,o=!1;Da(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:xa.INT8_MIN,i=n?xa.INT8_UNSIGNED_MAX:xa.INT8_MAX,o=!0):Da(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:xa.INT16_MIN,i=n?xa.INT16_UNSIGNED_MAX:xa.INT16_MAX,o=!0):Da(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:xa.INT24_MIN,i=n?xa.INT24_UNSIGNED_MAX:xa.INT24_MAX,o=Da(t,["MySqlMediumInt","SingleStoreMediumInt"])):Da(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:xa.INT32_MIN,i=n?xa.INT32_UNSIGNED_MAX:xa.INT32_MAX,o=!0):Da(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:xa.INT48_MIN,i=n?xa.INT48_UNSIGNED_MAX:xa.INT48_MAX):Da(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Da(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Da(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let c=r===!0||r!=null&&r.number?e.coerce.number():e.number();return c=c.min(s).max(i),o?c.int():c}function W_e(t,e,r){const n=t.getSQLType().includes("unsigned"),s=n?0n:xa.INT64_MIN,i=n?xa.INT64_UNSIGNED_MAX:xa.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function H_e(t,e,r){if(Da(t,["PgUUID"]))return e.string().uuid();let n,s,i=!1;Da(t,["PgVarchar","SQLiteText"])?n=t.length:Da(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??xa.INT16_UNSIGNED_MAX:Da(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=xa.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=xa.INT24_UNSIGNED_MAX:t.textType==="text"?n=xa.INT16_UNSIGNED_MAX:n=xa.INT8_UNSIGNED_MAX),Da(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),Da(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=s?o.regex(s):o,n&&i?o.length(n):n?o.max(n):o}function OX(t){return KG(t)?f3e(t):h3e(t)}function MX(t,e,r,n){const s={};for(const[i,o]of Object.entries(t)){if(!As(o,ig)&&!As(o,is)&&!As(o,is.Aliased)&&typeof o=="object"){const m=KG(o)||u3e(o)?OX(o):o;s[i]=MX(m,e[i]??{},r,n);continue}const c=e[i];if(c!==void 0&&typeof c!="function"){s[i]=c;continue}const u=As(o,ig)?o:void 0,f=u?IX(u,n):tw(),h=typeof c=="function"?c(f):f;r.never(u)||(s[i]=h,u&&(r.nullable(u)&&(s[i]=s[i].nullable()),r.optional(u)&&(s[i]=s[i].optional())))}return qo(s)}const K_e={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},da=(t,e)=>{const r=OX(t);return MX(r,e??{},K_e)},RX=Dn("users",{id:Rn("id").primaryKey(),username:yt("username").notNull().unique(),password:yt("password").notNull()}),G_e=Dn("api_status",{id:Rn("id").primaryKey(),connected:Ls("connected").notNull().default(!1),authenticated:Ls("authenticated").notNull().default(!1),lastUpdate:Zt("last_update").notNull().defaultNow(),version:yt("version").notNull().default("v3.0.0"),dailyLimit:Or("daily_limit").notNull().default(1e5),requestsUsed:Or("requests_used").notNull().default(0),websocketActive:Ls("websocket_active").notNull().default(!1),responseTime:Or("response_time").notNull().default(0),successRate:ta("success_rate").notNull().default(0),throughput:yt("throughput").notNull().default("0 MB/s"),activeSymbols:Or("active_symbols").notNull().default(0),updatesPerSec:Or("updates_per_sec").notNull().default(0),uptime:ta("uptime").notNull().default(0),latency:Or("latency").notNull().default(0),accessToken:yt("access_token"),tokenExpiry:Zt("token_expiry")}),Y_e=Dn("market_data",{id:Rn("id").primaryKey(),symbol:yt("symbol").notNull(),name:yt("name").notNull(),code:yt("code").notNull(),ltp:ta("ltp").notNull(),change:ta("change").notNull(),changePercent:ta("change_percent").notNull(),lastUpdate:Zt("last_update").notNull().defaultNow()}),X_e=Dn("activity_log",{id:Rn("id").primaryKey(),timestamp:Zt("timestamp").notNull().defaultNow(),type:yt("type").notNull(),message:yt("message").notNull()}),DX=Dn("analysis_instructions",{id:Rn("id").primaryKey(),name:yt("name").notNull().unique(),description:yt("description").notNull(),instructions:Un("instructions").$type().notNull(),isActive:Ls("is_active").notNull().default(!0),createdAt:Zt("created_at").notNull().defaultNow(),updatedAt:Zt("updated_at").notNull().defaultNow()}),Q_e=Dn("analysis_results",{id:Rn("id").primaryKey(),instructionId:Or("instruction_id").notNull().references(()=>DX.id),symbol:yt("symbol").notNull(),timeframe:yt("timeframe").notNull(),dateRange:yt("date_range").notNull(),inputData:Un("input_data").$type().notNull(),processedData:Un("processed_data").$type().notNull(),metadata:Un("metadata").$type(),executedAt:Zt("executed_at").notNull().defaultNow(),createdAt:Zt("created_at").notNull().defaultNow()}),N2=Dn("social_posts",{id:Rn("id").primaryKey(),authorUsername:yt("author_username").notNull(),authorDisplayName:yt("author_display_name").notNull(),authorAvatar:yt("author_avatar"),authorVerified:Ls("author_verified").notNull().default(!1),authorFollowers:Or("author_followers").default(0),content:yt("content").notNull(),likes:Or("likes").notNull().default(0),comments:Or("comments").notNull().default(0),reposts:Or("reposts").notNull().default(0),tags:Un("tags").$type().notNull().default([]),stockMentions:Un("stock_mentions").$type().notNull().default([]),sentiment:yt("sentiment"),hasImage:Ls("has_image").notNull().default(!1),imageUrl:yt("image_url"),isAudioPost:Ls("is_audio_post").notNull().default(!1),selectedPostIds:Un("selected_post_ids").$type().default([]),selectedPosts:Un("selected_posts").$type().default([]),createdAt:Zt("created_at").notNull().defaultNow(),updatedAt:Zt("updated_at").notNull().defaultNow()});Dn("social_post_likes",{id:Rn("id").primaryKey(),postId:Or("post_id").notNull().references(()=>N2.id,{onDelete:"cascade"}),userEmail:yt("user_email").notNull(),createdAt:Zt("created_at").notNull().defaultNow()});Dn("social_post_comments",{id:Rn("id").primaryKey(),postId:Or("post_id").notNull().references(()=>N2.id,{onDelete:"cascade"}),userEmail:yt("user_email").notNull(),username:yt("username").notNull(),comment:yt("comment").notNull(),createdAt:Zt("created_at").notNull().defaultNow()});Dn("social_post_reposts",{id:Rn("id").primaryKey(),postId:Or("post_id").notNull().references(()=>N2.id,{onDelete:"cascade"}),userEmail:yt("user_email").notNull(),username:yt("username").notNull(),createdAt:Zt("created_at").notNull().defaultNow()});Dn("user_follows",{id:Rn("id").primaryKey(),followerEmail:yt("follower_email").notNull(),followingEmail:yt("following_email").notNull(),followingUsername:yt("following_username").notNull(),createdAt:Zt("created_at").notNull().defaultNow()});const J_e=Dn("historical_backup_data",{id:Rn("id").primaryKey(),symbol:yt("symbol").notNull(),timeframe:yt("timeframe").notNull(),date:yt("date").notNull(),ohlcData:Un("ohlc_data").$type().notNull(),candleCount:Or("candle_count").notNull().default(0),dataSource:yt("data_source").notNull().default("fyers"),lastUpdated:Zt("last_updated").notNull().defaultNow(),createdAt:Zt("created_at").notNull().defaultNow()}),Z_e=Dn("historical_backup_index",{id:Rn("id").primaryKey(),symbol:yt("symbol").notNull(),timeframe:yt("timeframe").notNull(),availableDates:Un("available_dates").$type().notNull().default([]),totalCandles:Or("total_candles").notNull().default(0),oldestDate:yt("oldest_date"),newestDate:yt("newest_date"),lastSynced:Zt("last_synced").notNull().defaultNow(),isActive:Ls("is_active").notNull().default(!0)}),eCe=Dn("backup_sync_status",{id:Rn("id").primaryKey(),operationType:yt("operation_type").notNull(),status:yt("status").notNull(),totalSymbols:Or("total_symbols").notNull().default(0),processedSymbols:Or("processed_symbols").notNull().default(0),currentSymbol:yt("current_symbol"),currentTimeframe:yt("current_timeframe"),errors:Un("errors").$type().notNull().default([]),startedAt:Zt("started_at").notNull().defaultNow(),completedAt:Zt("completed_at"),estimatedCompletion:Zt("estimated_completion")}),tCe=Dn("livestream_settings",{id:Rn("id").primaryKey(),youtubeUrl:yt("youtube_url"),updatedAt:Zt("updated_at").notNull().defaultNow()});da(RX).pick({username:!0,password:!0});da(G_e).omit({id:!0});da(Y_e).omit({id:!0});da(X_e).omit({id:!0});da(DX).omit({id:!0,createdAt:!0,updatedAt:!0});da(Q_e).omit({id:!0,executedAt:!0,createdAt:!0});da(J_e).omit({id:!0,lastUpdated:!0,createdAt:!0});da(Z_e).omit({id:!0,lastSynced:!0});da(eCe).omit({id:!0,startedAt:!0});da(tCe).omit({id:!0,updatedAt:!0});const rCe=Dn("scanner_sessions",{id:Rn("id").primaryKey(),sessionId:cn("session_id",{length:100}).notNull().unique(),startTime:Zt("start_time").notNull(),endTime:Zt("end_time"),status:cn("status",{length:20}).notNull().default("ACTIVE"),marketDate:cn("market_date",{length:10}).notNull(),totalSymbolsScanned:Or("total_symbols_scanned").default(0),totalPatternsFound:Or("total_patterns_found").default(0),totalTradesExecuted:Or("total_trades_executed").default(0),scanningFrequency:Or("scanning_frequency").default(60),createdAt:Zt("created_at").defaultNow(),updatedAt:Zt("updated_at").defaultNow()}),nCe=Dn("symbols",{id:Rn("id").primaryKey(),symbol:cn("symbol",{length:50}).notNull().unique(),name:cn("name",{length:100}).notNull(),exchange:cn("exchange",{length:10}).notNull(),isActive:Ls("is_active").default(!0),lotSize:Or("lot_size").default(1),tickSize:pr("tick_size",{precision:10,scale:2}).default("0.05"),priority:Or("priority").default(1),createdAt:Zt("created_at").defaultNow()}),aCe=Dn("valid_patterns",{id:Rn("id").primaryKey(),patternId:cn("pattern_id",{length:100}).notNull().unique(),sessionId:cn("session_id",{length:100}).notNull(),symbol:cn("symbol",{length:50}).notNull(),timeframe:cn("timeframe",{length:10}).notNull(),patternType:cn("pattern_type",{length:50}).notNull(),trend:cn("trend",{length:10}).notNull(),confidence:pr("confidence",{precision:5,scale:2}).notNull(),pointAPrice:pr("point_a_price",{precision:12,scale:2}).notNull(),pointBPrice:pr("point_b_price",{precision:12,scale:2}).notNull(),breakoutLevel:pr("breakout_level",{precision:12,scale:2}).notNull(),stopLoss:pr("stop_loss",{precision:12,scale:2}).notNull(),targetPrice:pr("target_price",{precision:12,scale:2}).notNull(),pointATime:Zt("point_a_time").notNull(),pointBTime:Zt("point_b_time").notNull(),patternFoundAt:Zt("pattern_found_at").notNull(),slope:pr("slope",{precision:10,scale:6}),duration:Or("duration"),candleData:Un("candle_data"),oneMinuteData:Un("one_minute_data"),status:cn("status",{length:20}).notNull().default("DISCOVERED"),isValid:Ls("is_valid").default(!0),expiryTime:Zt("expiry_time"),riskAmount:pr("risk_amount",{precision:12,scale:2}),riskPercentage:pr("risk_percentage",{precision:5,scale:2}),createdAt:Zt("created_at").defaultNow(),updatedAt:Zt("updated_at").defaultNow()}),sCe=Dn("executed_trades",{id:Rn("id").primaryKey(),tradeId:cn("trade_id",{length:100}).notNull().unique(),patternId:cn("pattern_id",{length:100}).notNull(),sessionId:cn("session_id",{length:100}).notNull(),symbol:cn("symbol",{length:50}).notNull(),orderType:cn("order_type",{length:20}).notNull(),orderPrice:pr("order_price",{precision:12,scale:2}).notNull(),quantity:Or("quantity").notNull(),orderStatus:cn("order_status",{length:20}).notNull(),entryPrice:pr("entry_price",{precision:12,scale:2}),entryTime:Zt("entry_time"),exitPrice:pr("exit_price",{precision:12,scale:2}),exitTime:Zt("exit_time"),exitReason:cn("exit_reason",{length:50}),grossPnl:pr("gross_pnl",{precision:12,scale:2}),charges:pr("charges",{precision:10,scale:2}),netPnl:pr("net_pnl",{precision:12,scale:2}),stopLossPrice:pr("stop_loss_price",{precision:12,scale:2}),targetPrice:pr("target_price",{precision:12,scale:2}),tradeStatus:cn("trade_status",{length:20}).notNull().default("ACTIVE"),brokerage:pr("brokerage",{precision:10,scale:2}),orderRef:cn("order_ref",{length:100}),notes:yt("notes"),createdAt:Zt("created_at").defaultNow(),updatedAt:Zt("updated_at").defaultNow()}),iCe=Dn("scanner_logs",{id:Rn("id").primaryKey(),sessionId:cn("session_id",{length:100}).notNull(),symbol:cn("symbol",{length:50}).notNull(),scanTime:Zt("scan_time").notNull(),patternsFound:Or("patterns_found").default(0),scanDuration:Or("scan_duration"),candlesAnalyzed:Or("candles_analyzed"),scanStatus:cn("scan_status",{length:20}).notNull(),errorMessage:yt("error_message"),marketPrice:pr("market_price",{precision:12,scale:2}),volume:Or("volume"),createdAt:Zt("created_at").defaultNow()}),oCe=Dn("scanner_config",{id:Rn("id").primaryKey(),configName:cn("config_name",{length:100}).notNull().unique(),scanningFrequency:Or("scanning_frequency").default(60),maxSymbolsPerScan:Or("max_symbols_per_scan").default(50),timeframes:Un("timeframes").default(["5","10","15"]),minConfidence:pr("min_confidence",{precision:5,scale:2}).default("70.00"),maxPatternsPerSymbol:Or("max_patterns_per_symbol").default(3),patternExpiryMinutes:Or("pattern_expiry_minutes").default(240),defaultRiskAmount:pr("default_risk_amount",{precision:12,scale:2}).default("10000.00"),maxRiskPerTrade:pr("max_risk_per_trade",{precision:12,scale:2}).default("25000.00"),maxDailyRisk:pr("max_daily_risk",{precision:12,scale:2}).default("100000.00"),marketStartTime:cn("market_start_time",{length:8}).default("09:15:00"),marketEndTime:cn("market_end_time",{length:8}).default("15:30:00"),autoTradingEnabled:Ls("auto_trading_enabled").default(!1),requireManualApproval:Ls("require_manual_approval").default(!0),isActive:Ls("is_active").default(!0),createdAt:Zt("created_at").defaultNow(),updatedAt:Zt("updated_at").defaultNow()}),lCe=Dn("trade_approvals",{id:Rn("id").primaryKey(),patternId:cn("pattern_id",{length:100}).notNull(),symbol:cn("symbol",{length:50}).notNull(),approvalStatus:cn("approval_status",{length:20}).notNull().default("PENDING"),approvedBy:cn("approved_by",{length:100}),approvalTime:Zt("approval_time"),rejectionReason:yt("rejection_reason"),proposedOrderType:cn("proposed_order_type",{length:20}).notNull(),proposedPrice:pr("proposed_price",{precision:12,scale:2}).notNull(),proposedQuantity:Or("proposed_quantity").notNull(),estimatedRisk:pr("estimated_risk",{precision:12,scale:2}).notNull(),createdAt:Zt("created_at").defaultNow()});da(rCe);da(nCe);da(aCe);da(sCe);da(iCe);da(oCe);da(lCe);da(N2);const j2=Dn("portfolios",{id:Rn("id").primaryKey(),userId:Or("user_id").notNull().references(()=>RX.id),name:yt("name").notNull(),description:yt("description"),initialCapital:pr("initial_capital",{precision:15,scale:2}).notNull(),currentValue:pr("current_value",{precision:15,scale:2}).notNull(),totalPnL:pr("total_pnl",{precision:15,scale:2}).notNull().default("0"),totalPnLPercent:ta("total_pnl_percent").notNull().default(0),dayPnL:pr("day_pnl",{precision:15,scale:2}).notNull().default("0"),dayPnLPercent:ta("day_pnl_percent").notNull().default(0),portfolioType:yt("portfolio_type").notNull().default("equity"),riskLevel:yt("risk_level").notNull().default("moderate"),isActive:Ls("is_active").notNull().default(!0),createdAt:Zt("created_at").notNull().defaultNow(),updatedAt:Zt("updated_at").notNull().defaultNow()}),cCe=Dn("portfolio_holdings",{id:Rn("id").primaryKey(),portfolioId:Or("portfolio_id").notNull().references(()=>j2.id),symbol:yt("symbol").notNull(),quantity:Or("quantity").notNull(),averagePrice:pr("average_price",{precision:12,scale:2}).notNull(),currentPrice:pr("current_price",{precision:12,scale:2}).notNull(),investedAmount:pr("invested_amount",{precision:15,scale:2}).notNull(),currentValue:pr("current_value",{precision:15,scale:2}).notNull(),unrealizedPnL:pr("unrealized_pnl",{precision:15,scale:2}).notNull(),unrealizedPnLPercent:ta("unrealized_pnl_percent").notNull(),dayChange:pr("day_change",{precision:15,scale:2}).notNull().default("0"),dayChangePercent:ta("day_change_percent").notNull().default(0),sector:yt("sector"),marketCap:yt("market_cap"),beta:ta("beta"),pe:ta("pe"),lastUpdated:Zt("last_updated").notNull().defaultNow(),createdAt:Zt("created_at").notNull().defaultNow()}),dCe=Dn("trade_history",{id:Rn("id").primaryKey(),portfolioId:Or("portfolio_id").notNull().references(()=>j2.id),symbol:yt("symbol").notNull(),tradeType:yt("trade_type").notNull(),orderType:yt("order_type").notNull(),quantity:Or("quantity").notNull(),price:pr("price",{precision:12,scale:2}).notNull(),totalAmount:pr("total_amount",{precision:15,scale:2}).notNull(),brokerage:pr("brokerage",{precision:10,scale:2}).notNull().default("0"),taxes:pr("taxes",{precision:10,scale:2}).notNull().default("0"),netAmount:pr("net_amount",{precision:15,scale:2}).notNull(),pnlRealized:pr("pnl_realized",{precision:15,scale:2}),pnlPercent:ta("pnl_percent"),tradeStrategy:yt("trade_strategy"),patternId:yt("pattern_id"),notes:yt("notes"),executedAt:Zt("executed_at").notNull().defaultNow(),createdAt:Zt("created_at").notNull().defaultNow()}),uCe=Dn("portfolio_risk_analytics",{id:Rn("id").primaryKey(),portfolioId:Or("portfolio_id").notNull().references(()=>j2.id),valueAtRisk:pr("value_at_risk",{precision:15,scale:2}),expectedShortfall:pr("expected_shortfall",{precision:15,scale:2}),portfolioBeta:ta("portfolio_beta"),portfolioVolatility:ta("portfolio_volatility"),sharpeRatio:ta("sharpe_ratio"),maxDrawdown:ta("max_drawdown"),topHoldingPercent:ta("top_holding_percent"),top5HoldingsPercent:ta("top5_holdings_percent"),sectorConcentration:Un("sector_concentration"),dailyReturns:Un("daily_returns"),monthlyReturns:Un("monthly_returns"),correlation:Un("correlation"),calculatedAt:Zt("calculated_at").notNull().defaultNow(),isValid:Ls("is_valid").notNull().default(!0)}),fCe=Dn("ai_research_reports",{id:Rn("id").primaryKey(),reportId:yt("report_id").notNull().unique(),reportType:yt("report_type").notNull(),title:yt("title").notNull(),summary:yt("summary").notNull(),marketOutlook:yt("market_outlook"),sectorAnalysis:Un("sector_analysis"),topPicks:Un("top_picks"),riskFactors:Un("risk_factors"),technicalView:yt("technical_view"),niftyTarget:pr("nifty_target",{precision:10,scale:2}),niftySupport:pr("nifty_support",{precision:10,scale:2}),marketSentiment:yt("market_sentiment"),volatilityOutlook:yt("volatility_outlook"),readCount:Or("read_count").notNull().default(0),shareCount:Or("share_count").notNull().default(0),accuracyScore:ta("accuracy_score"),isPublished:Ls("is_published").notNull().default(!0),publishedAt:Zt("published_at").notNull().defaultNow(),expiresAt:Zt("expires_at"),createdAt:Zt("created_at").notNull().defaultNow()}),hCe=Dn("algorithmic_signals",{id:Rn("id").primaryKey(),signalId:yt("signal_id").notNull().unique(),symbol:yt("symbol").notNull(),signalType:yt("signal_type").notNull(),strategy:yt("strategy").notNull(),entryPrice:pr("entry_price",{precision:12,scale:2}).notNull(),targetPrice:pr("target_price",{precision:12,scale:2}),stopLoss:pr("stop_loss",{precision:12,scale:2}),confidence:ta("confidence").notNull(),timeframe:yt("timeframe").notNull(),rsi:ta("rsi"),macdSignal:yt("macd_signal"),movingAverage:Un("moving_average"),supportResistance:Un("support_resistance"),volumePattern:yt("volume_pattern"),peRatio:ta("pe_ratio"),marketCap:pr("market_cap",{precision:15,scale:2}),earningsGrowth:ta("earnings_growth"),revenueGrowth:ta("revenue_growth"),status:yt("status").notNull().default("ACTIVE"),triggeredAt:Zt("triggered_at"),expiresAt:Zt("expires_at").notNull(),performance:ta("performance"),createdAt:Zt("created_at").notNull().defaultNow()});da(j2);da(cCe);da(dCe);da(uCe);da(fCe);da(hCe);const mCe=Dn("saved_patterns",{id:cn("id").primaryKey(),name:yt("name").notNull(),points:Un("points").$type().notNull(),relationships:Un("relationships").$type().notNull(),rays:Un("rays").$type().notNull(),metadata:Un("metadata").$type().notNull(),createdAt:Zt("created_at").notNull().defaultNow()}),pCe=qo({pointNumber:as().min(1),price:as().positive(),timestamp:as().positive(),relativePrice:as().min(0).max(1),relativeTime:as().min(0).max(1),label:Pa().optional()}),ob=qo({price:as().positive(),relativePrice:as().min(0).max(1),color:Pa()}),gCe=qo({sl:ob.optional(),target:ob.optional(),breakout:ob.optional()}).catchall(ob.optional()),xCe=qo({totalPoints:as().min(1),priceRange:as().positive(),timeRange:as().positive(),volatility:as().min(0),avgSlope:as(),symbol:Pa().min(1),timeframe:Pa().min(1),dateCreated:Pa()});da(mCe,{points:my(pCe).min(2),relationships:my(Pa()).default([]),rays:gCe.default({}),metadata:xCe}).omit({createdAt:!0});const LX=["kite","fyers","dhan"],$X=GP(LX),FX=qo({broker:w2("kite"),apiKey:Pa().min(1,"API Key is required"),apiSecret:Pa().min(1,"API Secret is required"),requestToken:Pa().min(1,"Request Token is required")}),BX=qo({broker:w2("fyers"),appId:Pa().min(1,"App ID is required"),secretId:Pa().min(1,"Secret ID is required"),authCode:Pa().min(1,"Auth Code is required")}),UX=qo({broker:w2("dhan"),clientId:Pa().min(1,"Client ID is required"),accessToken:Pa().min(1,"Access Token is required")}),yCe=EX("broker",[FX,BX,UX]),vCe=qo({broker:$X,tradeId:Pa(),symbol:Pa().min(1),action:GP(["BUY","SELL"]),quantity:as().positive(),price:as().positive(),executedAt:Pa(),pnl:as().optional(),fees:as().optional(),notes:Pa().optional()});qo({broker:$X,credentials:yCe});qo({success:b2(),trades:my(vCe),message:Pa().optional()});function bCe({open:t,onOpenChange:e,onSuccess:r}){var b;const[n,s]=x.useState(""),[i,o]=x.useState(!1),c={kite:"Kite (Zerodha)",fyers:"Fyers",dhan:"Dhan"},u={kite:"Login to Kite Connect and generate a request token from your developer dashboard.",fyers:"Generate an auth code from your Fyers API dashboard after authentication.",dhan:"Get your access token from the Dhan trading platform settings."},f=e3({resolver:t3(FX),defaultValues:{broker:"kite",apiKey:"",apiSecret:"",requestToken:""}}),h=e3({resolver:t3(BX),defaultValues:{broker:"fyers",appId:"",secretId:"",authCode:""}}),m=e3({resolver:t3(UX),defaultValues:{broker:"dhan",clientId:"",accessToken:""}}),g=()=>n==="kite"?f:n==="fyers"?h:n==="dhan"?m:null,v=bi({mutationFn:async _=>await td({url:"/api/brokers/import",method:"POST",body:{broker:n,credentials:_}}),onSuccess:_=>{o(!0),setTimeout(()=>{r(_.trades),j()},1500)}}),j=()=>{s(""),o(!1),f.reset(),h.reset(),m.reset(),v.reset(),e(!1)},w=()=>{const _=g();_&&_.handleSubmit(T=>{v.mutate(T)})()};return a.jsx(ha,{open:t,onOpenChange:e,children:a.jsxs(ca,{className:"max-w-xl",children:[a.jsx(ba,{children:a.jsxs(wa,{className:"flex items-center gap-2",children:[a.jsx(GF,{className:"h-5 w-5"}),"Import Trades from Broker"]})}),a.jsx("div",{className:"space-y-4",children:i?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(pd,{className:"h-16 w-16 text-green-600 dark:text-green-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-green-900 dark:text-green-100",children:"Import Successful!"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 mt-2",children:[((b=v.data)==null?void 0:b.trades.length)||0," trades imported from"," ",n&&c[n]]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Hr,{className:"text-sm font-medium",children:"Select Broker"}),a.jsxs(Xs,{value:n,onValueChange:_=>s(_),children:[a.jsx(Is,{className:"mt-2","data-testid":"select-broker",children:a.jsx(Qs,{placeholder:"Choose your broker"})}),a.jsx(Os,{children:LX.map(_=>a.jsx(Ir,{value:_,"data-testid":`option-broker-${_}`,children:c[_]},_))})]}),n&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:u[n]})]}),n==="kite"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"kite-api-key",className:"text-sm",children:"API Key"}),a.jsx(qr,{id:"kite-api-key",...f.register("apiKey"),placeholder:"Enter your Kite API Key",className:"mt-1","data-testid":"input-kite-api-key"}),f.formState.errors.apiKey&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.formState.errors.apiKey.message})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"kite-api-secret",className:"text-sm",children:"API Secret"}),a.jsx(qr,{id:"kite-api-secret",type:"password",...f.register("apiSecret"),placeholder:"Enter your Kite API Secret",className:"mt-1","data-testid":"input-kite-api-secret"}),f.formState.errors.apiSecret&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.formState.errors.apiSecret.message})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"kite-request-token",className:"text-sm",children:"Request Token"}),a.jsx(qr,{id:"kite-request-token",...f.register("requestToken"),placeholder:"Enter your Request Token",className:"mt-1","data-testid":"input-kite-request-token"}),f.formState.errors.requestToken&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.formState.errors.requestToken.message})]})]}),n==="fyers"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"fyers-app-id",className:"text-sm",children:"App ID"}),a.jsx(qr,{id:"fyers-app-id",...h.register("appId"),placeholder:"Enter your Fyers App ID",className:"mt-1","data-testid":"input-fyers-app-id"}),h.formState.errors.appId&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.formState.errors.appId.message})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"fyers-secret-id",className:"text-sm",children:"Secret ID"}),a.jsx(qr,{id:"fyers-secret-id",type:"password",...h.register("secretId"),placeholder:"Enter your Fyers Secret ID",className:"mt-1","data-testid":"input-fyers-secret-id"}),h.formState.errors.secretId&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.formState.errors.secretId.message})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"fyers-auth-code",className:"text-sm",children:"Auth Code"}),a.jsx(qr,{id:"fyers-auth-code",...h.register("authCode"),placeholder:"Enter your Auth Code",className:"mt-1","data-testid":"input-fyers-auth-code"}),h.formState.errors.authCode&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.formState.errors.authCode.message})]})]}),n==="dhan"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"dhan-client-id",className:"text-sm",children:"Client ID"}),a.jsx(qr,{id:"dhan-client-id",...m.register("clientId"),placeholder:"Enter your Dhan Client ID",className:"mt-1","data-testid":"input-dhan-client-id"}),m.formState.errors.clientId&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.formState.errors.clientId.message})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"dhan-access-token",className:"text-sm",children:"Access Token"}),a.jsx(qr,{id:"dhan-access-token",type:"password",...m.register("accessToken"),placeholder:"Enter your Access Token",className:"mt-1","data-testid":"input-dhan-access-token"}),m.formState.errors.accessToken&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.formState.errors.accessToken.message})]})]}),v.isError&&a.jsx("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-md p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(WC,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Import Failed"}),a.jsx("p",{className:"text-xs text-red-700 dark:text-red-300 mt-1",children:v.error instanceof Error?v.error.message:"Failed to import trades. Please check your credentials and try again."})]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(H,{variant:"outline",onClick:j,disabled:v.isPending,"data-testid":"button-cancel-broker-import",children:"Cancel"}),a.jsx(H,{onClick:w,disabled:!n||v.isPending,"data-testid":"button-submit-broker-import",children:v.isPending?a.jsxs(a.Fragment,{children:[a.jsx(_b,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):"Import Trades"})]})]})})]})})}function i3({onSectorChange:t,selectedSector:e,onCardIndexChange:r,currentCardIndex:n=0}){const[s,i]=x.useState(!1),[o,c]=x.useState(""),[u,f]=x.useState(!1),[h,m]=x.useState(null),[g,v]=x.useState([{id:1,title:"TECH NEWS",subtitle:`Latest in
technology`,buttonText:"Read Now",gradient:"from-blue-500 to-blue-600",buttonColor:"text-blue-600",icon:"",sector:"IT"},{id:2,title:"FINANCE NEWS",subtitle:`Market updates
& trends`,buttonText:"Listen",gradient:"from-green-500 to-green-600",buttonColor:"text-green-600",icon:"",sector:"FINANCE"},{id:3,title:"COMMODITY NEWS",subtitle:`Commodity
market trends`,buttonText:"Listen",gradient:"from-orange-500 to-orange-600",buttonColor:"text-orange-600",icon:"",sector:"COMMODITY"},{id:4,title:"GLOBAL NEWS",subtitle:`World events
& updates`,buttonText:"Listen",gradient:"from-purple-500 to-purple-600",buttonColor:"text-purple-600",icon:"",sector:"GLOBAL"},{id:5,title:"BANKING NEWS",subtitle:`Banking sector
updates`,buttonText:"Listen",gradient:"from-indigo-500 to-indigo-600",buttonColor:"text-indigo-600",icon:"",sector:"BANKS"},{id:6,title:"AUTO NEWS",subtitle:`Automotive
industry news`,buttonText:"Listen",gradient:"from-red-500 to-red-600",buttonColor:"text-red-600",icon:"",sector:"AUTOMOBILE"}]),j=fe.useRef({}),w=10*1e3,b=fe.useCallback(()=>{h&&(speechSynthesis.cancel(),m(null),i(!1))},[h]),_=async(C,S)=>{b();try{f(!0);const A=S,R=j.current[A],D=Date.now();if(R&&D-R.timestamp<w){c(R.content),T(R.content),f(!1);return}const B=await fetch("/api/daily-news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sector:S})});if(!B.ok)throw new Error("Failed to generate news content");const z=(await B.json()).summary;j.current[A]={content:z,timestamp:D},c(z),T(z)}catch(A){console.error("Error fetching news:",A);const R=`${S.toLowerCase()} market update. Current developments in progress. Trading activity continues.`;c(R),T(R)}finally{f(!1)}},T=C=>{h&&speechSynthesis.cancel();const S=C.replace(/^(good morning|good afternoon|good evening|hello|hi|welcome)/gi,"").replace(/^(ladies and gentlemen|dear listeners|in today's news)/gi,"").replace(/^[.,\s]+/,"").trim(),A=new SpeechSynthesisUtterance(S),R=speechSynthesis.getVoices(),D=R.find(F=>F.lang.startsWith("en")&&F.name.toLowerCase().includes("moira")),B=R.filter(F=>F.lang.startsWith("en")&&!F.name.toLowerCase().includes("moira")&&(F.name.toLowerCase().includes("samantha")||F.name.toLowerCase().includes("karen")||F.name.toLowerCase().includes("susan")||F.name.toLowerCase().includes("fiona")||F.name.toLowerCase().includes("serena")||F.name.toLowerCase().includes("allison")||F.name.toLowerCase().includes("ava")||F.name.toLowerCase().includes("claire")||F.name.toLowerCase().includes("aria")||F.name.toLowerCase().includes("zira")||F.name.toLowerCase().includes("hazel")||F.name.toLowerCase().includes("neural")||F.name.toLowerCase().includes("premium")||F.name.toLowerCase().includes("enhanced")));if(D)A.voice=D;else if(B.length>0)A.voice=B[0];else{const F=R.filter(z=>z.lang.startsWith("en")&&!z.name.toLowerCase().includes("novelty"));F.length>0&&(A.voice=F[0])}A.rate=.9,A.pitch=1.05,A.volume=.85,A.lang="en-US",A.onstart=()=>i(!0),A.onend=()=>{i(!1),m(null)},A.onerror=()=>{i(!1),m(null)},m(A),speechSynthesis.speak(A)},E=()=>{h&&(speechSynthesis.cancel(),i(!1),m(null))},k=C=>{b(),v(S=>{const A=[...S];let R=n;if(C==="right"){const D=A.shift();D&&A.push(D),R=(n+1)%7}else{const D=A.pop();D&&A.unshift(D),R=(n-1+7)%7}if(r&&r(R),A.length>0){const D=A[0];setTimeout(()=>{_(D.title,D.sector)},100)}return A})};return fe.useEffect(()=>(window.stopNewsAudio=b,()=>{delete window.stopNewsAudio}),[b]),fe.useEffect(()=>{const C=()=>{b()},S=()=>{document.hidden&&b()};return window.addEventListener("blur",C),document.addEventListener("visibilitychange",S),()=>{window.removeEventListener("blur",C),document.removeEventListener("visibilitychange",S)}},[b]),fe.useEffect(()=>{const C=()=>{speechSynthesis.getVoices()};return C(),speechSynthesis.addEventListener("voiceschanged",C),()=>{speechSynthesis.removeEventListener("voiceschanged",C),b()}},[b]),a.jsx("div",{className:"relative w-56 h-48 md:w-44 md:h-52",children:g.map((C,S)=>{const A=S===0,R=S===1,D=S===2;return a.jsx("div",{"data-card-index":S,className:`absolute inset-0 transition-all duration-300 ease-out cursor-grab active:cursor-grabbing ${A?"z-40 scale-100 rotate-0":R?"z-30 scale-95 rotate-1 translate-y-2":D?"z-20 scale-90 rotate-2 translate-y-4":"z-10 scale-85 rotate-3 translate-y-6 opacity-50"}`,onMouseDown:B=>{if(!A)return;const F=B.clientX,z=B.clientY,X=B.currentTarget;let V=!1;const Z=W=>{const K=W.clientX-F,G=W.clientY-z;if(!V&&(Math.abs(K)>5||Math.abs(G)>5)&&(V=!0),V){const Q=K*.1;X.style.transform=`translate(${K}px, ${G}px) rotate(${Q}deg)`,X.style.opacity=String(Math.max(.3,1-Math.abs(K)/300))}},ee=W=>{if(V){const K=W.clientX-F;if(Math.abs(K)>100){const G=K>0?"right":"left";if(G==="right"){const Q="150%",$="30deg";X.style.transform=`translate(${Q}, ${K*.5}px) rotate(${$})`,X.style.opacity="0",setTimeout(()=>{X.style.transform="",X.style.opacity="",k(G)},300)}else X.style.transform="",X.style.opacity="",k(G),setTimeout(()=>{var $;const Q=($=X.parentElement)==null?void 0:$.querySelector('[data-card-index="0"]');Q&&(Q.style.transform="translate(150%, 0) rotate(30deg)",Q.style.opacity="0",setTimeout(()=>{Q.style.transform="",Q.style.opacity="",Q.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{Q.style.transition=""},300)},10))},10)}else X.style.transform="",X.style.opacity=""}document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",ee)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",ee)},onTouchStart:B=>{if(!A)return;const F=B.touches[0].clientX,z=B.touches[0].clientY,X=B.currentTarget;let V=!1;const Z=W=>{const K=W.touches[0].clientX-F,G=W.touches[0].clientY-z;if(!V&&(Math.abs(K)>5||Math.abs(G)>5)&&(V=!0),V){W.preventDefault();const Q=K*.1;X.style.transform=`translate(${K}px, ${G}px) rotate(${Q}deg)`,X.style.opacity=String(Math.max(.3,1-Math.abs(K)/300))}},ee=W=>{if(V){const K=W.changedTouches[0].clientX-F;if(Math.abs(K)>100){const G=K>0?"right":"left";if(G==="right"){const Q="150%",$="30deg";X.style.transform=`translate(${Q}, ${K*.5}px) rotate(${$})`,X.style.opacity="0",setTimeout(()=>{X.style.transform="",X.style.opacity="",k(G)},300)}else X.style.transform="",X.style.opacity="",k(G),setTimeout(()=>{var $;const Q=($=X.parentElement)==null?void 0:$.querySelector('[data-card-index="0"]');Q&&(Q.style.transform="translate(150%, 0) rotate(30deg)",Q.style.opacity="0",setTimeout(()=>{Q.style.transform="",Q.style.opacity="",Q.style.transition="transform 300ms ease-out, opacity 300ms ease-out",setTimeout(()=>{Q.style.transition=""},300)},10))},10)}else X.style.transform="",X.style.opacity=""}document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",ee)};document.addEventListener("touchmove",Z,{passive:!1}),document.addEventListener("touchend",ee)},onClick:()=>{A&&(console.log(`Clicked on ${C.title}`),t(C.sector))},children:a.jsxs("div",{className:`bg-gradient-to-br ${C.gradient} rounded-2xl p-5 md:p-6 h-full relative overflow-hidden shadow-xl border-2 border-white/10 flex flex-col`,children:[a.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 md:w-24 md:h-24 opacity-20",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/20 to-white/10 rounded-full"})}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[a.jsx("div",{className:"text-[10px] md:text-[9px] text-white/90 mb-1 md:mb-1.5 uppercase tracking-wider font-semibold",children:C.title}),a.jsx("h3",{className:"text-lg md:text-base font-bold text-white mb-3 md:mb-3 leading-snug flex-grow",children:C.subtitle.split(`
`).map((B,F)=>a.jsx("div",{className:"block",children:B},F))}),a.jsx(H,{className:`bg-white ${C.buttonColor} hover:bg-gray-100 px-3 py-1.5 md:px-3 md:py-1 rounded-full text-xs md:text-[11px] font-semibold shadow-lg w-fit`,onClick:()=>{if(A){const B=localStorage.getItem("currentUserId"),F=localStorage.getItem("currentUserEmail");if(!B||!F){console.log(" User not authenticated, redirecting to login"),window.location.href="/login";return}s?E():_(C.title,C.sector)}},disabled:u&&A,children:a.jsxs("div",{className:"flex items-center gap-2",children:[A&&u?a.jsx(C3,{className:"w-4 h-4 animate-spin"}):A&&s?a.jsx(cw,{className:"w-4 h-4"}):a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:A&&u?"Generating...":A&&s?"Pause":C.buttonText})]})})]}),a.jsx("div",{className:"absolute top-2 right-2 md:top-1.5 md:right-1.5 text-xl md:text-lg filter drop-shadow-lg",children:C.icon}),!A&&a.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-2xl"})]})},C.id)})})}function F0(){const[t,e]=aF(),[r,n]=x.useState("trading-home"),[s,i]=x.useState(!1),[o,c]=x.useState(0),[u,f]=x.useState(0),[h,m]=x.useState(!1),[g,v]=x.useState(!1),[j,w]=x.useState(!1),[b,_]=x.useState(null),[T,E]=x.useState("overview"),[k,C]=x.useState("1"),[S,A]=x.useState(!1),{currentUser:R}=Rw(),[D,B]=x.useState(""),[F,z]=x.useState(!1),[X,V]=x.useState(""),[Z,ee]=x.useState(!1),[W,K]=x.useState("FINANCE"),[G,Q]=x.useState([]),[$,U]=x.useState(!1),[ie,ce]=x.useState(null),[he,we]=x.useState(0),[re,pe]=x.useState(!1),[ue,Ie]=x.useState(""),[qe,Ne]=x.useState(new Set),[rt,_e]=x.useState(""),Ct=["trading-home","stock-news","insights","dashboard","backtest"],Qt=J=>{Ct.includes(J)&&!qe.has(J)?(_e(J),pe(!0)):le(J)},Ar=()=>{if(ue==="1302"){const J=new Set(qe);J.add(rt),Ne(J),le(rt),pe(!1),Ie(""),_e("")}else Ie("")},Ln=()=>{pe(!1),Ie(""),_e("")},[Sn,oe]=x.useState(!1),le=J=>{const ye=localStorage.getItem("currentUserId"),Ce=localStorage.getItem("currentUserEmail");return!ye||!Ce||ye==="null"||Ce==="null"?(console.log("[AUTH] Authentication required for tab:",J,"- redirecting to login"),e("/login"),!1):(console.log("[AUTH] User authenticated, setting tab:",J),n(J),!0)},ge=J=>le(J),Se=()=>{const J=localStorage.getItem("currentUserId"),ye=localStorage.getItem("currentUserEmail");if(!J||!ye||J==="null"||ye==="null"){console.log("[AUTH] Authentication required for Trading Master - redirecting to login"),e("/login");return}console.log("[AUTH] User authenticated for Trading Master check - email:",ye),ye==="chiranjeevi.perala99@gmail.com"?n("trading-master"):oe(!0)},He=async J=>{var ye,Ce,De;try{console.log(` AI Search fetching real data for ${J}...`);const Ae=await(await fetch(`/api/stock-analysis/${J}`)).json();return Ae&&Ae.priceData?(console.log(` AI Search got real data for ${J}:`,Ae.priceData),{symbol:J,price:Ae.priceData.close||Ae.priceData.price||0,change:(Ae.priceData.close||0)-(Ae.priceData.open||0),changePercent:(ye=Ae.sentiment)!=null&&ye.score?(Ae.priceData.close-Ae.priceData.open)/Ae.priceData.open*100:0,volume:Ae.priceData.volume||"N/A",marketCap:((Ce=Ae.valuation)==null?void 0:Ce.marketCap)||"N/A",pe:((De=Ae.valuation)==null?void 0:De.peRatio)||0,high:Ae.priceData.high||0,low:Ae.priceData.low||0,open:Ae.priceData.open||0,sentiment:Ae.sentiment||null,indicators:Ae.indicators||null}):null}catch(Be){return console.error(` AI Search failed to fetch data for ${J}:`,Be),null}},ze=async J=>{var Be,Ae,Ue,vt,it,ot,mt,xr,dr,ft,gn,rr,Er,ds;const ye=J||D;if(!ye.trim())return;const Ce=localStorage.getItem("currentUserId"),De=localStorage.getItem("currentUserEmail");if(!Ce||!De||Ce==="null"||De==="null"){console.log("[AUTH] Authentication required for search - redirecting to login"),e("/login");return}if(!Z){ee(!0);try{const Yt=ye.toLowerCase(),tn=["reliance","tcs","infy","infosys","hdfcbank","icicibank","bhartiartl","itc","nifty","banknifty","sbin","adaniports","asianpaint","bajfinance","wipro","techm"].find(At=>Yt.includes(At));console.log(" [FRONTEND] Triggering Advanced AI Query Processor (Web Search Enabled)...");try{console.log(" [FRONTEND] Fetching trading journal data...");let At=[];try{const on=await fetch("/api/journal/all-dates");if(on.ok){const kn=await on.json();Object.entries(kn).forEach(([aa,Rr])=>{Rr.tradeHistory&&Array.isArray(Rr.tradeHistory)&&At.push(...Rr.tradeHistory.map(Kt=>({...Kt,date:aa})))}),console.log(` [FRONTEND] Loaded ${At.length} trades from journal`)}}catch(on){console.warn(" [FRONTEND] Could not load journal data:",on)}const lt=await fetch("/api/advanced-query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:ye,journalTrades:At})});if(lt.ok){let kn=(await lt.json()).answer;V(kn),console.log(" [FRONTEND] Advanced query processing complete!"),ee(!1);return}else console.error(" [FRONTEND] Advanced query failed:",lt.statusText)}catch(At){console.error(" [FRONTEND] Advanced query error:",At)}if(Yt.includes("rsi")||Yt.includes("ema")||Yt.includes("macd")||Yt.includes("bollinger")||Yt.includes("moving average")||Yt.includes("technical")){const At=(tn||"RELIANCE").toUpperCase(),lt=await He(At);if(lt){const on=`##  Technical Analysis: ${At}

** Technical Indicators (Live Data):**
 **RSI (14):** ${((Be=lt.indicators)==null?void 0:Be.rsi)||"Calculating..."} ${parseFloat(((Ae=lt.indicators)==null?void 0:Ae.rsi)||"50")>70?" Overbought":parseFloat(((Ue=lt.indicators)==null?void 0:Ue.rsi)||"50")<30?" Oversold":" Neutral"}
 **EMA 50:** ${((vt=lt.indicators)==null?void 0:vt.ema50)||"Loading..."}
 **MACD:** ${((it=lt.indicators)==null?void 0:it.macd)||"Processing..."}
 **Volume:** ${lt.volume} ${parseInt(String(lt.volume))>1e6?"(High Volume)":"(Normal Volume)"}

** Price Action:**
 **Current:** ${lt.price.toLocaleString()} (${lt.changePercent.toFixed(2)}%)
 **Support:** ${(lt.price*.98).toFixed(0)} | **Resistance:** ${(lt.price*1.02).toFixed(0)}
 **Trend:** ${lt.changePercent>0?"Bullish momentum":"Bearish pressure"}

** Trading Signals:**
${parseFloat(((ot=lt.indicators)==null?void 0:ot.rsi)||"50")>70?" RSI suggests overbought condition - Consider profit booking":parseFloat(((mt=lt.indicators)==null?void 0:mt.rsi)||"50")<30?" RSI shows oversold levels - Potential buying opportunity":" RSI in neutral zone - Wait for clear signals"}

** Technical Strategy:**
Use Trading Master for detailed chart analysis with all 14 timeframes and advanced indicators.`;V(on)}else V(` **Technical Analysis Hub**

Access advanced technical indicators through:
 **Trading Master:** Full charting suite with RSI, MACD, Bollinger Bands
 **Live Options:** Greeks and technical levels
 **Community Analysis:** Social Feed technical discussions

 Switch to Trading Master for comprehensive technical analysis.`)}else if(Yt.includes("social")||Yt.includes("community")||Yt.includes("discussion")||Yt.includes("trending")||Yt.includes("sentiment"))try{const At=new AbortController,lt=setTimeout(()=>At.abort(),2e3),on=await fetch("/api/social-posts?limit=5",{signal:At.signal});if(clearTimeout(lt),on.ok){const kn=await on.json();let aa=kn;tn&&(aa=kn.filter(un=>un.content&&un.content.toLowerCase().includes(tn)));const Rr=Array.from(new Set(kn.flatMap(un=>{var An;return(((An=un.content)==null?void 0:An.match(/\b[A-Z]{3,}\b/g))||[]).slice(0,3)}))).slice(0,8),Kt=`##  Social Feed Intelligence ${tn?`- ${tn.toUpperCase()}`:""}

** Trending Discussions:**
${Rr.map(un=>` ${un}`).join(`
`)||" General market discussions"}

** Community Insights (${aa.length} posts):**
${aa.slice(0,5).map((un,An)=>`${An+1}. **${un.authorUsername||"Trader"}:** ${(un.content||"").substring(0,120)}...`).join(`

`)}

** Sentiment Analysis:**
${aa.length>0?`Community is actively discussing ${tn?tn.toUpperCase()+" with":"market with"} ${aa.some(un=>{var An,Ba;return((An=un.content)==null?void 0:An.toLowerCase().includes("bullish"))||((Ba=un.content)==null?void 0:Ba.toLowerCase().includes("buy"))})?"bullish sentiment":aa.some(un=>{var An,Ba;return((An=un.content)==null?void 0:An.toLowerCase().includes("bearish"))||((Ba=un.content)==null?void 0:Ba.toLowerCase().includes("sell"))})?"bearish sentiment":"mixed sentiment"}`:"Limited recent discussions on this topic"}

** Platform Integration:**
 **Full Feed:** Access complete Social Feed for detailed discussions  
 **Real-time Updates:** Live community posts and market reactions
 **Expert Analysis:** Professional trader insights and strategies

 **Quick Access:** Switch to Social Feed tab for complete community analysis.`;V(Kt)}else V(` **Social Feed Center**

Access community insights:
 **Live Discussions:** Real-time market conversations
 **Expert Analysis:** Professional trader perspectives
 **Trending Topics:** What the community is discussing

 Switch to Social Feed tab for full community analysis.`)}catch{V(` **Social Feed Access**

Connect with the trading community through our Social Feed tab for:
 Live market discussions
 Community sentiment analysis
 Expert trading insights

 Navigate to Social Feed for real-time community intelligence.`)}else if(Yt.includes("journal")||Yt.includes("trades")||Yt.includes("history")||Yt.includes("performance")||Yt.includes("pnl"))V(`##  Trading Journal & Performance Hub

** Performance Analytics Available:**
 **Daily P&L Tracking:** Comprehensive trade-by-trade analysis
 **Strategy Performance:** Success rates and optimization insights  
 **Risk Management:** Drawdown analysis and position sizing
 **Pattern Recognition:** Identify winning and losing patterns

** Journal Features:**
 **Trade Documentation:** Screenshots, notes, and market context
 **Tag System:** Categorize trades by strategy, emotion, setup
 **Performance Metrics:** Win rate, average profit/loss, Sharpe ratio
 **Calendar View:** Visual P&L heatmap and trading frequency

** Quick Journal Actions:**
 **Today's Trades:** Check current session performance
 **Weekly Review:** Analyze recent trading patterns  
 **Monthly Summary:** Comprehensive performance overview
 **Strategy Analysis:** Deep dive into specific trading approaches

** Performance Insights:**
 **Best Performing Days:** Identify optimal trading conditions
 **Loss Analysis:** Understand and fix problematic patterns
 **Time Analysis:** Find your most profitable trading hours
 **Risk Metrics:** Monitor and optimize risk-adjusted returns

** Platform Integration:**
Use Journal tab for detailed performance tracking and trade analysis.`);else if(Yt.includes("add")||Yt.includes("watchlist")||Yt.includes("alert")||Yt.includes("notification")){const At=`##  Quick Actions Hub

** Watchlist Management:**
${tn?` **Add ${tn.toUpperCase()}:** Monitor price movements and alerts
 **Set Price Alert:** Get notified at target levels
 **Technical Alert:** RSI/MACD signal notifications
 **News Alert:** Breaking news for ${tn.toUpperCase()}`:` **Add Stocks:** Build your monitoring portfolio
 **Create Lists:** Sector-wise or strategy-based groupings
 **Bulk Actions:** Import/export watchlist data
 **Smart Alerts:** AI-powered signal notifications`}

** Alert System:**
 **Price Targets:** Get notified at support/resistance levels
 **Technical Signals:** RSI overbought/oversold alerts
 **News Alerts:** Breaking developments on watched stocks
 **Volume Alerts:** Unusual trading activity notifications

** Quick Setup Actions:**
 **Portfolio Sync:** Connect with Trading Master for live tracking
 **Risk Alerts:** Position size and stop-loss monitoring  
 **Calendar Alerts:** Earnings, dividends, and event reminders
 **Community Alerts:** Social Feed mentions and discussions

** Automation Features:**
 **Smart Scanning:** Auto-detect trading opportunities
 **Pattern Alerts:** Chart pattern recognition notifications
 **Sector Rotation:** Industry momentum change alerts
 **Market Regime:** Bull/bear market transition signals

** Platform Integration:**
Configure alerts through Trading Master and monitor via Social Feed updates.`;V(At)}else if(Yt.includes("price")||Yt.includes("stock")||Yt.includes("nifty")||Yt.includes("sensex")||Yt.includes("live")){const At=(tn||"RELIANCE").toUpperCase();V(` **Loading ${At} Data...**

 Fetching live market data...`);let lt=null;try{lt=await Promise.race([He(At),new Promise((on,kn)=>setTimeout(()=>kn(new Error("Timeout")),4e3))])}catch{console.log("Stock data timeout, using fallback")}if(lt){let on="";try{const Ba=await fetch("/api/social-posts?limit=5");if(Ba.ok){const In=(await Ba.json()).filter(Qn=>Qn.content&&(Qn.content.toLowerCase().includes(At.toLowerCase())||Qn.content.toLowerCase().includes("market")||Qn.content.toLowerCase().includes("analysis")));In.length>0&&(on=`
** Community Analysis:**
${In.slice(0,2).map((Qn,ii)=>`${ii+1}. ${Qn.content.substring(0,150)}...`).join(`
`)}
`)}}catch{console.log("Social data not available")}const kn=lt.changePercent>0?"bullish":"bearish",aa=kn==="bullish"?"":"",Rr=((xr=lt.sentiment)==null?void 0:xr.trend)==="Bullish"?"":((dr=lt.sentiment)==null?void 0:dr.trend)==="Bearish"?"":"",Kt=((ft=lt.sentiment)==null?void 0:ft.trend)||"Neutral",un=((gn=lt.sentiment)==null?void 0:gn.confidence)||"Medium",An=`## ${At} Stock Analysis ${aa}

** Live Market Data (Fyers API):**
 **Current Price:** ${lt.price.toLocaleString()} (${lt.changePercent.toFixed(2)}%)
 **Open:** ${lt.open.toLocaleString()} | **High:** ${lt.high.toLocaleString()}
 **Low:** ${lt.low.toLocaleString()} | **Volume:** ${lt.volume}
 **Market Cap:** ${lt.marketCap}
 **P/E Ratio:** ${lt.pe||"N/A"}

** Market Sentiment:** ${Rr} ${Kt} (${un} confidence)

** Technical Indicators:**
 **RSI:** ${((rr=lt.indicators)==null?void 0:rr.rsi)||"Calculating..."}
 **EMA 50:** ${((Er=lt.indicators)==null?void 0:Er.ema50)||"Loading..."}
 **Trend:** ${kn==="bullish"?"Upward momentum":"Consolidation phase"}
 **Support:** ${(lt.price*.98).toFixed(0)} | **Resistance:** ${(lt.price*1.02).toFixed(0)}
${on}
** AI Trading Insight:**
${kn==="bullish"?`Strong buying momentum with ${lt.volume} volume. Consider position entry with stop-loss below ${(lt.price*.95).toFixed(0)}.`:`Cautious sentiment prevailing. Wait for confirmation above ${(lt.price*1.02).toFixed(0)} for bullish reversal.`}

** Risk Level:** ${lt.changePercent>5?"High":lt.changePercent>2?"Medium":"Low"} Volatility | ${un} Confidence

 **Platform Features:** Use Trading Master for advanced charts and options analysis.`;V(An)}else V(` **${At} Stock Analysis**

 **Data Status:** Real-time data temporarily unavailable

** Alternative Data Sources:**
 **Trading Master:** Live charts, options chain, technical indicators
 **Social Feed:** Community analysis and discussions
 **Market Dashboard:** Real-time quotes and market sentiment

** Platform Features Available:**
 **Live Options Chain:** Greeks calculation and analysis
 **Technical Charts:** 14 timeframes with indicators
 **Community Insights:** Social trading feed
 **Risk Management:** Journal and performance tracking

 **Quick Access:** Switch to Trading Master tab for live ${At} data and analysis.`)}else if(Yt.includes("news")||Yt.includes("market")||Yt.includes("update"))try{const At=tn?tn.toUpperCase():"Indian stock market finance news",on=await(await fetch(`/api/stock-news?query=${encodeURIComponent(At)}`)).json();if(on.success&&on.articles&&on.articles.length>0){const kn=on.articles.slice(0,6),Rr=(An=>{const Ba=["growth","profit","gain","rise","bullish","strong","beat","up","higher","surge"],Ja=["loss","decline","fall","bearish","weak","miss","concern","down","lower","crash"];let In=0,Qn=0;return An.forEach(ii=>{const Pi=(ii.title+" "+(ii.description||"")).toLowerCase();Ba.forEach(kc=>{Pi.includes(kc)&&In++}),Ja.forEach(kc=>{Pi.includes(kc)&&Qn++})}),In>Qn?{sentiment:"Bullish",score:In-Qn}:Qn>In?{sentiment:"Bearish",score:Qn-In}:{sentiment:"Neutral",score:0}})(kn),un=`##  Latest ${tn?tn.toUpperCase():"Market"} News & Analysis

** News Sentiment Analysis:**
 **Overall Tone:** ${Rr.sentiment} ${Rr.sentiment==="Bullish"?"":Rr.sentiment==="Bearish"?"":""}
 **Confidence Score:** ${Math.abs(Rr.score)} signals detected
 **Market Impact:** ${Rr.sentiment==="Bullish"?"Positive momentum expected":Rr.sentiment==="Bearish"?"Caution advised":"Mixed signals, focus on fundamentals"}

** Trading Implications:**
${Rr.sentiment==="Bullish"?` Positive news flow may support price appreciation
 Consider gradual position building on dips
 Monitor for continuation patterns`:Rr.sentiment==="Bearish"?` Negative sentiment may create selling pressure
 Wait for news clarity before fresh positions
 Look for oversold bounce opportunities`:` Mixed news requires balanced approach
 Focus on technical levels over news sentiment
 Maintain risk management discipline`}

** Recent Headlines (${kn.length} articles):**
${kn.map((An,Ba)=>`${Ba+1}. **${An.title}**
   ${An.description||"Breaking market development"}
   _Source: ${An.source||"Market News"}_`).join(`

`)}

** Platform Integration:**
 **Social Feed:** Community discussions about these developments
 **Trading Master:** Technical analysis with news correlation
 **Journal:** Track news-driven trading decisions

 **Next Steps:** Use Social Feed for community insights on these news developments.`;V(un)}else V(` **Market News Dashboard**

** News Sources Available:**
 **Social Feed:** Real-time community discussions and market insights
 **Trading Platform:** Live market updates and analysis
 **Community Posts:** User-generated market commentary

** Platform Features:**
 **Breaking News:** Check Social Feed for latest developments
 **Market Analysis:** Community-driven insights and discussions
 **Technical Updates:** Trading Master for chart-based news correlation

** Alternative Sources:**
 Switch to Social Feed tab for community market discussions
 Check Trading Master for technical news impact analysis
 Monitor Journal for news-driven trading patterns

 **Quick Access:** Social Feed contains the most up-to-date market discussions.`)}catch(At){console.error("News fetch error:",At),V(` **News Center**

Access the latest market news through our platform features:

 **Social Feed:** Community market discussions
 **Trading Master:** Technical analysis and market updates
 **Platform Dashboard:** Real-time market information

 Use Social Feed for the most current market insights.`)}else if(Yt.includes("ipo")||Yt.includes("listing")||Yt.includes("upcoming"))V(` **IPO Market Intelligence**

**Current IPO Landscape:**
The IPO market is experiencing selective activity with quality companies commanding premium valuations. Key focus areas:

 **Technology Sector:** Fintech and SaaS companies leading the pipeline with strong digital transformation themes
 **Green Energy:** Renewable energy firms gaining significant investor attention amid sustainability focus
 **Healthcare:** Specialty pharma and medical device companies benefiting from health sector growth
 **Financial Services:** NBFCs and insurance companies exploring listings amid credit growth cycle

**Investment Framework for IPO Analysis:**

**1. Fundamental Due Diligence:**
 Business model sustainability and competitive moats
 Revenue growth consistency and profit margins
 Management track record and corporate governance
 Industry positioning and market opportunity size

**2. Valuation Assessment:**
 Compare with listed peers in same sector
 Evaluate growth prospects vs. premium pricing
 Assess price band reasonableness
 Consider post-listing price performance patterns

**3. Risk Evaluation:**
 Market timing and overall sentiment
 Lock-in period implications for promoters
 Regulatory environment and compliance history
 Competition intensity and market share sustainability

**Professional IPO Strategy:**
 **Research Phase:** Thorough analysis of DRHP and company financials
 **Application Strategy:** Multiple family member applications for better allocation
 **Post-Listing:** Monitor for 3-6 months before major position changes
 **Portfolio Integration:** Limit IPO exposure to 5-10% of total portfolio

**Current Market Dynamics:**
 Quality companies with clear business models preferred
 Premium valuations acceptable for proven growth stories
 Retail participation remains strong but selective
 Institutional investors focusing on long-term value creation

 **Platform Integration:** Use our Social Feed for community IPO discussions and Trading Master for technical analysis of newly listed stocks.`);else if(Yt.includes("fundamental")||Yt.includes("analysis")||Yt.includes("financials"))try{const At=tn?tn.toUpperCase():"MARKET",[lt,on]=await Promise.all([tn?He(At):Promise.resolve(null),fetch("/api/social-posts?limit=10")]);let kn="";if(on.ok){const Rr=(await on.json()).filter(Kt=>Kt.content&&(Kt.content.toLowerCase().includes("pe ratio")||Kt.content.toLowerCase().includes("p/e")||Kt.content.toLowerCase().includes("valuation")||Kt.content.toLowerCase().includes("earnings")||Kt.content.toLowerCase().includes("fundamental")||Kt.content.toLowerCase().includes("financial")||Kt.content.toLowerCase().includes("balance sheet")||Kt.content.toLowerCase().includes("revenue")||Kt.content.toLowerCase().includes("profit margin")||tn&&Kt.content.toLowerCase().includes(tn.toLowerCase())));Rr.length>0&&(kn=`** Community Fundamental Analysis:**
${Rr.slice(0,3).map((Kt,un)=>`${un+1}. ${Kt.content.substring(0,200)}...`).join(`

`)}

`)}if(lt&&tn){const aa=`## ${At} Fundamental Analysis 

** Key Financial Metrics (Live Data):**
 **Current Price:** ${lt.price.toLocaleString()}
 **Market Capitalization:** ${lt.marketCap}
 **P/E Ratio:** ${lt.pe||"N/A"} ${lt.pe?lt.pe<15?"(Attractive)":lt.pe<25?"(Fair)":"(Premium)":""}
 **Daily Volume:** ${lt.volume}
 **Price Change:** ${lt.changePercent.toFixed(2)}% (${lt.changePercent>0?"Positive momentum":"Under pressure"})

** Valuation Assessment:**
${lt.pe>0?` P/E of ${lt.pe} suggests ${lt.pe<15?"**undervalued** opportunity":lt.pe<25?"**fairly valued** with reasonable premium":"**premium valuation** requiring strong growth"}
 Sector comparison needed for complete picture`:` P/E data unavailable - focus on revenue and earnings trends
 Check recent quarterly results for growth trajectory`}

** Investment Framework:**
 **Growth Quality:** Consistent revenue and earnings expansion
 **Financial Health:** Strong balance sheet with manageable debt levels
 **Market Position:** Competitive advantages and market share trends
 **Management:** Track record of value creation and strategic vision

** Risk Analysis:**
 **Volatility Level:** ${lt.changePercent>5?"High":lt.changePercent>2?"Medium":"Low"} (based on recent price movement)
 **Sentiment Risk:** ${((ds=lt.sentiment)==null?void 0:ds.confidence)||"Medium"} confidence level
 **Liquidity:** ${lt.volume!=="N/A"?"Good trading volumes":"Limited liquidity"}

${kn}** Platform Resources:**
 **Trading Master:** Complete financial ratios and technical analysis
 **Social Feed:** Community fundamental discussions and insights
 **Market Dashboard:** Real-time valuation metrics

 **Next Steps:** Check Social Feed for community fundamental analysis discussions.`;V(aa)}else{const aa=` **Fundamental Analysis Center**

** Platform Data Sources:**
 **Social Feed:** Community fundamental analysis and insights
 **Trading Master:** Complete financial ratios and valuation metrics
 **Market Data:** Real-time price and volume information

${kn}** Essential Analysis Framework:**

**1. Profitability Ratios:**
 **ROE (Return on Equity):** >15% indicates efficient capital use
 **ROA (Return on Assets):** >10% shows strong asset management
 **Net Margin:** >10% suggests healthy profitability
 **EBITDA Margin:** Industry-specific operational efficiency

**2. Valuation Metrics:**
 **P/E Ratio:** Compare with sector average and growth rate
 **P/B Ratio:** <3 generally attractive for most sectors
 **EV/EBITDA:** Comprehensive valuation including debt structure
 **PEG Ratio:** <1 indicates growth at reasonable price

**3. Financial Strength:**
 **Debt-to-Equity:** <0.5 preferred for financial stability
 **Current Ratio:** >1.5 shows good short-term liquidity
 **Interest Coverage:** >5x indicates comfortable debt servicing
 **Free Cash Flow:** Positive and growing cash generation

** Sector-Wise Opportunities:**

**Banking (P/E: 12-15x)**
 Post-cycle recovery phase with improving asset quality
 Focus: Private banks with strong digital transformation

**Technology (P/E: 20-25x)**
 Premium justified by consistent growth and global exposure
 Focus: Export-oriented companies with recurring revenue models

**FMCG (P/E: 35-45x)**
 Quality premium for stable cash flows and market leadership
 Focus: Rural recovery themes and premiumization trends

** Red Flags to Avoid:**
 Declining revenue for 3+ consecutive quarters
 Rising debt without corresponding asset growth
 Frequent management changes or governance issues
 Sector headwinds without clear resolution path

** Platform Integration:**
 **Social Feed:** Real-time community fundamental discussions
 **Trading Master:** Detailed financial ratio analysis
 **Journal:** Track fundamental-based investment decisions

 **Quick Access:** Social Feed contains active fundamental analysis discussions.`;V(aa)}}catch(At){console.error("Fundamental analysis error:",At),V(` **Fundamental Analysis Hub**

** Available Resources:**
 **Social Feed:** Community fundamental discussions
 **Trading Master:** Financial ratios and analysis tools
 **Platform Data:** Real-time market and company information

 Check Social Feed for active fundamental analysis discussions.`)}else{console.log(` Using Advanced AI Agent for query: ${ye}`);try{const lt=await(await fetch("/api/advanced-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:ye,includeWebSearch:!0})})).json();if(lt.success&&lt.answer){let on=`##  AI Assistant

${lt.answer}`;lt.sources&&lt.sources.length>0&&(on+=`

** Sources:**
${lt.sources.map(kn=>` ${kn}`).join(`
`)}`),V(on)}else throw new Error("AI search failed")}catch(At){console.error("Advanced AI search error:",At),V(` **AI Trading Assistant Ready!**

I can help you with comprehensive trading and investment analysis:

 **Live Stock Prices & Analysis:**
 Real-time market data and technical indicators
 Sector performance and trend analysis
 Support/resistance levels and price targets

 **Market News & Updates:**
 Latest financial news and market movements
 Economic indicators and policy impacts
 Corporate earnings and sector trends

 **IPO Analysis & Information:**
 Upcoming IPO calendar and subscription details
 Post-listing performance tracking
 Investment recommendations and risk assessment

 **Fundamental Analysis:**
 Company financials and valuation metrics
 Sector comparisons and growth prospects
 Risk analysis and investment recommendations

 **Try asking:** "Get NIFTY price", "Latest market news", "IPO updates", or "Analyze fundamentals"`)}}}catch(Yt){console.error("AI Search error:",Yt),V(` I'm here to help with all your trading and finance questions! I can assist with:

 Stock analysis and live quotes
 Market news and IPO updates
 Trading strategies and risk management
 Platform features (Trading Master, Journal, Social Feed)
 Options trading and Greeks calculation

What would you like to know more about?`)}finally{ee(!1)}}},nt=J=>{B(J),z(!0),ze(J)},Fr=async()=>{ee(!0),z(!0),B("Trading Journal Performance Analysis");try{const J=await fetch("/api/journal/all-dates"),ye=J.ok?await J.json():{},Ce=localStorage.getItem("tradingDataByDate"),De=Ce?JSON.parse(Ce):{},Be=Object.keys(ye).length>0?ye:De;if(Object.keys(Be).length===0){V(`##  Trading Journal Analysis

 **No journal data found**

Please add some trading entries in the Journal tab to see your performance analysis.`),ee(!1);return}let Ae=0,Ue=0,vt=0,it=0,ot=0,mt=0,xr=0,dr={},ft=[];Object.entries(Be).forEach(([Rr,Kt])=>{if(Kt&&typeof Kt=="object"){const un=Kt.tradeHistory||Kt.trades||[],An=Kt.tradingNotes||Kt.notes||"",Ba=Kt.tradingTags||Kt.selectedTags||[];let Ja=0;un.forEach(In=>{Ae++;let Qn=0;if(In.pnl&&typeof In.pnl=="string"){const ii=In.pnl.replace(/[,+\s]/g,"");Qn=parseFloat(ii)||0}else typeof In.pnl=="number"&&(Qn=In.pnl);Ja+=Qn,Qn>0?(Ue++,it+=Qn):Qn<0&&(vt++,ot+=Math.abs(Qn))}),Ba.forEach(In=>{dr[In]=(dr[In]||0)+1,In.toLowerCase().includes("fomo")&&xr++}),Ja!==0&&ft.push({date:Rr,pnl:Ja}),mt+=Ja}});const gn=Ae>0?Math.round(Ue/Ae*100):0,rr=Ue>0?Math.round(it/Ue):0,Er=vt>0?Math.round(ot/vt):0,ds=Object.entries(dr).sort(([,Rr],[,Kt])=>Kt-Rr).slice(0,3).map(([Rr,Kt])=>`${Rr} (${Kt}x)`).join(", "),Yt=ft.slice(-10),Xn=Yt.map(Rr=>Rr.pnl).join(","),tn=Math.max(...Yt.map(Rr=>Rr.pnl)),At=Math.min(...Yt.map(Rr=>Rr.pnl)),lt=tn-At;let on="";lt>0&&Yt.forEach(Rr=>{const Kt=Math.round((Rr.pnl-At)/lt*10);on+=Kt>=5?"":Kt>=3?"":""});const kn=Yt.map((Rr,Kt)=>({day:`Day ${Kt+1}`,value:Rr.pnl,date:Rr.date})),aa=`##  Trading Journal AI Performance Report

###  **Overall Performance Metrics**
** Total Trades:** ${Ae}
** Winning Trades:** ${Ue} (${gn}% Win Rate)
** Losing Trades:** ${vt}
** Net P&L:** ${mt.toLocaleString("en-IN")} ${mt>=0?"":""}

###  **Detailed Analytics**
** Total Profit:** ${it.toLocaleString("en-IN")}
** Total Loss:** ${ot.toLocaleString("en-IN")}
** Average Win:** ${rr.toLocaleString("en-IN")}
** Average Loss:** ${Er.toLocaleString("en-IN")}

###  **Psychology Analysis**
** FOMO Trades:** ${xr} trades
** Top Patterns:** ${ds||"No patterns identified"}

###  **Performance Trend (Recent)**
[CHART:PERFORMANCE_TREND]
*${Yt.length} trading sessions tracked*

###  **AI Insights & Recommendations**
${gn>=60?" **Strong Performance:** Your win rate shows good trading discipline!":gn>=40?" **Moderate Performance:** Focus on improving entry/exit timing.":" **Needs Improvement:** Consider reviewing your trading strategy and risk management."}

${xr>Ae*.2?" **FOMO Alert:** High emotional trading detected. Consider implementing cooling-off periods.":" **Good Discipline:** Low FOMO trading indicates strong emotional control."}

** Next Steps:**
 Review losing trades for common patterns
 Maintain detailed trade notes for better analysis
 ${mt<0?"Focus on risk management and position sizing":"Continue current strategy with slight optimizations"}

---
* Use Journal tab for detailed trade entries and analysis*`;window.performanceTrendChartData=kn,V(aa)}catch(J){console.error("Error generating journal report:",J),V(`##  Trading Journal Analysis

 **Error loading journal data**

Please try again or check your internet connection.`)}finally{ee(!1)}},Mr=async J=>{U(!0);try{const ye=await fetch("/api/trending-podcasts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sector:J})});if(ye.ok){const Ce=await ye.json();Q(Ce.podcasts||[])}else throw new Error("Failed to fetch trending podcasts")}catch(ye){console.error("Error fetching trending podcasts:",ye),Q([])}finally{U(!1)}},pa=J=>{K(J),Mr(J),ce(null)},Fs=()=>{const J=new Date().getHours();return J>=5&&J<12?"Hey, Good Morning! ":J>=12&&J<17?"Hey, Good Afternoon! ":J>=17&&J<21?"Hey, Good Evening! ":"Hey, Good Night! "},Fa=J=>{ce(J)};fe.useEffect(()=>{Mr("FINANCE")},[]);const[Wi,ri]=x.useState({symbol:"NSE:INFY-EQ",timeframe:"1",fromDate:Ts(new Date,"yyyy-MM-dd"),toDate:Ts(new Date,"yyyy-MM-dd")}),{theme:Bs,toggleTheme:Vo}=WB(),bs=J=>"",[Ci,ve]=x.useState(!1),[Oe,ht]=x.useState(""),[at,ct]=x.useState(""),[Le,tr]=x.useState([]),[Y,Pt]=x.useState(!1),[Dt,_r]=x.useState(""),[Me,Yr]=x.useState({apiKey:"",apiSecret:"",clientId:""}),[en,bn]=x.useState(!1),[Wt,sr]=x.useState(""),[Jt,dt]=x.useState(!1),[wr,nr]=x.useState({symbol:"",action:"Buy",orderType:"Market",quantity:"",price:"",stopLoss:"",target:""}),[jt,nn]=x.useState([{time:"12:41:57 PM",order:"BUY",symbol:"SENSEX AUG 81300 CE BFO",type:"MIS",qty:40,price:488.2,pnl:"+946",duration:"6m 27s"},{time:"12:48:24 PM",order:"SELL",symbol:"SENSEX AUG 81300 CE BFO",type:"MIS",qty:40,price:511.85,pnl:"+946",duration:"6m 27s"},{time:"10:15:30 AM",order:"BUY",symbol:"NIFTY 50",type:"LIM",qty:25,price:18500.5,pnl:"-",duration:"-"}]),[Nr,_n]=x.useState(()=>{if(typeof window<"u"){const J=localStorage.getItem("tradingDataByDate");return J?JSON.parse(J):{}}return{}}),[Vr,pn]=x.useState(()=>{if(typeof window<"u"){const J=localStorage.getItem("tradingJournalDemoMode");return J===null?!0:J==="true"}return!0}),[Tr,fr]=x.useState(!0),Ve=()=>{if(typeof window>"u")return"default-user";let J=localStorage.getItem("tradingJournalUserId");return J||(J=`user-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,localStorage.setItem("tradingJournalUserId",J)),J};x.useEffect(()=>{(async()=>{console.log(" Loading all heatmap data for color persistence...");try{fr(!0);const ye=await fetch("/api/journal/all-dates");if(ye.ok){const Ce=await ye.json();if(console.log(" Loaded all journal dates:",Object.keys(Ce).length,"dates"),_n(Ce),wc(Ce),setTimeout(async()=>{console.log(" Ultra-fast auto-clicking all available dates for heatmap colors...");const De=Object.keys(Ce).map(async Ue=>{try{const vt=await fetch(`/api/journal/${Ue}`);if(vt.ok){const it=await vt.json();if(it&&Object.keys(it).length>0)return{dateStr:Ue,journalData:it}}}catch(vt){console.error(` Error auto-loading date ${Ue}:`,vt)}return null}),Be=await Promise.all(De),Ae={};Be.forEach(Ue=>{Ue&&(Ae[Ue.dateStr]=Ue.journalData)}),_n(Ue=>({...Ue,...Ae})),console.log(" Ultra-fast auto-click completed - all heatmap colors should now be visible")},10),console.log(" Heatmap data loaded successfully"),!ws&&Object.keys(Ce).length>0){const Be=Object.keys(Ce).sort((Ue,vt)=>new Date(vt).getTime()-new Date(Ue).getTime())[0],Ae=new Date(Be);console.log(" Auto-selecting latest date:",Be),Ko(Ae),await Xo(Ae)}}else{console.log(" No journal data found or Google Cloud unavailable, using localStorage...");const Ce=localStorage.getItem("tradingDataByDate");if(Ce){const De=JSON.parse(Ce);if(console.log(" Found localStorage journal data:",Object.keys(De).length,"entries"),_n(De),wc(De),!ws&&Object.keys(De).length>0){const Ae=Object.keys(De).sort((vt,it)=>new Date(it).getTime()-new Date(vt).getTime())[0],Ue=new Date(Ae);console.log(" Auto-selecting latest date from localStorage:",Ae),Ko(Ue),await Xo(Ue)}}}}catch(ye){console.error(" Error loading heatmap data:",ye),console.log(" Falling back to localStorage data...");const Ce=localStorage.getItem("tradingDataByDate");if(Ce){const De=JSON.parse(Ce);console.log(" Emergency fallback - Found localStorage journal data:",Object.keys(De).length,"entries"),_n(De),wc(De)}}finally{fr(!1)}})()},[]);const[et,Re]=x.useState([]),ut=x.useRef(null),[Qe,Ht]=x.useState("NSE:NIFTY50-INDEX"),[cr,Lt]=x.useState("15"),[ir,Br]=x.useState(!1),[jr,Pr]=x.useState(""),[br,Ea]=x.useState("2025-09-12"),[zn,qn]=x.useState([]),[Aa,Xa]=x.useState(2),[Qa,ni]=x.useState("home"),[ua,Ol]=x.useState(!1),$n=x.useCallback(async()=>{try{const ye=await fetch("/api/historical-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:Qe,resolution:cr,range_from:br,range_to:br})});if(!ye.ok)throw new Error(`Failed to fetch chart data: ${ye.status}`);const Ce=await ye.json();qn(Ce.candles||[])}catch(J){console.error("Error fetching journal chart data:",J)}},[Qe,cr,br]);x.useEffect(()=>{$n()},[$n]);const Hi=x.useCallback(()=>{if(!jt||jt.length===0||!zn||zn.length===0)return[];const J=[];return jt.forEach((ye,Ce)=>{try{const De=ye.time;if(!De)return;const[Be,Ae]=De.split(" "),[Ue,vt,it]=Be.split(":").map(Number);let ot=Ue;Ae==="PM"&&Ue!==12?ot=Ue+12:Ae==="AM"&&Ue===12&&(ot=0);const mt=555,dr=ot*60+vt-mt;let ft=-1,gn=1/0;if(zn.forEach((rr,Er)=>{const ds=new Date(rr[0]*1e3),Xn=ds.getHours()*60+ds.getMinutes()-mt,tn=Math.abs(Xn-dr);tn<gn&&(gn=tn,ft=Er)}),ft!==-1&&gn<=15){const rr=zn[ft],Er=ye.order==="BUY"?rr[3]:rr[2];J.push({candleIndex:ft,price:ye.price||Er,type:ye.order.toLowerCase(),symbol:ye.symbol,quantity:ye.qty,time:ye.time,pnl:ye.pnl})}}catch(De){console.error("Error parsing trade for markers:",ye,De)}}),console.log(" Generated trade markers:",J.length,"markers from",jt.length,"trades"),J},[jt,zn]),[ar,fa]=x.useState(()=>typeof window<"u"&&localStorage.getItem("tradingNotes")||""),[Cd,Wo]=x.useState(!1),[qh,fo]=x.useState(ar),[Cr,Ho]=x.useState(()=>{if(typeof window<"u"){const J=localStorage.getItem("tradingTags");return J?JSON.parse(J):[]}return[]}),[tf,rf]=x.useState(!1),[Tg,nf]=x.useState(!1),[Xy,Cn]=x.useState(!1),[Ml,Xr]=x.useState(!1),ai={psychology:{name:"Psychology",color:"red",maxSelections:2,tags:["fomo","greedy","overtrading","hero zero","fear","euphoric","revenge trading","disciplined","patient","confident","anxious","impulsive"]},strategy:{name:"Strategy",color:"blue",maxSelections:2,tags:["planned","unplanned","scalping","swing trading","intraday","position","btst","breakout","trend following","counter trend","momentum","mean reversion"]},market:{name:"Market Conditions",color:"green",maxSelections:2,tags:["trending","sideways","volatile","low volume","high volume","news driven","technical setup","gap up","gap down","pre market","post market","expiry day"]},timeframe:{name:"Timeframe",color:"purple",maxSelections:1,tags:["short terms","intraday","swing","investment","long term"]},setup:{name:"Trade Setup",color:"orange",maxSelections:2,tags:["no setup","blind trades","technical analysis","fundamental analysis","news based","price action","indicator based","pattern based"]}},wn={maxTotalTags:8},ho=J=>{const ye=Cr.includes(J)?Cr.filter(Ce=>Ce!==J):[...Cr,J];if(!Cr.includes(J)){if(ye.length>wn.maxTotalTags){alert(`Maximum ${wn.maxTotalTags} tags allowed`);return}const Ce=mo(J);if(Ce&&ye.filter(Be=>Ce.tags.includes(Be)).length>Ce.maxSelections){alert(`Maximum ${Ce.maxSelections} ${Ce.name.toLowerCase()} tags allowed`);return}}Ho(ye),localStorage.setItem("tradingTags",JSON.stringify(ye))},mo=J=>{for(const[ye,Ce]of Object.entries(ai))if(Ce.tags.includes(J))return{key:ye,...Ce};return null},[Ti,Sr]=x.useState(new Date),[ws,Ko]=x.useState(null),[Vh,wc]=x.useState(()=>{if(typeof window<"u"){const J=localStorage.getItem("calendarData");return J?JSON.parse(J):{}}return{}}),[na,Td]=x.useState(null),[ja,Rl]=x.useState(null),[Ki,Go]=x.useState(new Date().getFullYear()),[Dl,Nc]=x.useState(!1);x.useEffect(()=>{Nc(!!(na&&ja))},[na,ja]);const Pg=()=>{Go(J=>J-1)},af=()=>{Go(J=>J+1)},Pd=()=>{Td(null),Rl(null),Nc(!1)},sf=J=>{let ye=0;J.forEach(Be=>{if(Be.duration&&Be.duration!=="-"){const Ae=Be.duration.match(/(\d+)m\s*(\d+)s/);if(Ae){const Ue=parseInt(Ae[1]),vt=parseInt(Ae[2]);ye+=Ue+vt/60}}});const Ce=Math.floor(ye/60),De=Math.floor(ye%60);return Ce>0?`${Ce}h ${De}m`:De>0?`${De}m`:"0m"},Wh=()=>{fo(ar),Wo(!0)},po=async()=>{try{fa(qh),Wo(!1);const J=Yo(ws),Ce={...Nr[J]||{},tradingNotes:qh};(await fetch(`/api/journal/${J}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)})).ok?(console.log(" Notes saved successfully"),_n(Be=>({...Be,[J]:Ce}))):console.error(" Failed to save notes")}catch(J){console.error(" Error saving notes:",J)}},of=()=>{fo(ar),Wo(!1)},jc=J=>{Ho(ye=>ye.includes(J)?ye.filter(De=>De!==J):[...ye,J])},Hh=()=>{Ho([])},Yo=J=>{const ye=J.getFullYear(),Ce=String(J.getMonth()+1).padStart(2,"0"),De=String(J.getDate()).padStart(2,"0");return`${ye}-${Ce}-${De}`},Xo=async J=>{Ko(J),console.log(" Selected date for heatmap:",J);const ye=Yo(J);console.log(` Loading journal data for date: ${ye} (original: ${J.toDateString()})`);try{let Ce;if(Vr)console.log(" Loading from demo data (shared)"),Ce=await fetch(`/api/journal/${ye}`);else{const De=Ve();console.log(` Loading from user-specific data (userId: ${De})`),Ce=await fetch(`/api/user-journal/${De}/${ye}`)}if(console.log(` Load response status: ${Ce.status}`,Ce),Ce.ok){let De=await Ce.json();if(console.log(" Journal data received:",De),De&&De.tradingData&&(De=De.tradingData,console.log(" Unwrapped Firebase tradingData:",De)),De&&Object.keys(De).length>0){console.log(" Found journal data from Google Cloud journal-database, populating UI:",De),fa(""),fo(""),Ho([]),nn([]),Re([]);const Be=De.notes||De.tradingNotes||De.notesContent||"";Be&&(fa(Be),fo(Be),console.log(" Loaded notes from journal-database:",Be));const Ae=De.tags||De.tradingTags||De.selectedTags||[];if(Array.isArray(Ae)&&(Ho(Ae),console.log(" Loaded tags from journal-database:",Ae)),De.tradeHistory&&Array.isArray(De.tradeHistory))nn(De.tradeHistory),console.log(" Loaded trade history from journal-database:",De.tradeHistory.length,"trades");else if(De.totalTrades){const it=[];if(De.winningTrades>0)for(let ot=0;ot<De.winningTrades;ot++){const mt=De.totalProfit/De.winningTrades;it.push({time:"09:30:00 AM",order:"SELL",symbol:"NIFTY 50",type:"MIS",qty:25,price:0,pnl:`+${mt.toFixed(0)}`,duration:"-"})}if(De.losingTrades>0)for(let ot=0;ot<De.losingTrades;ot++){const mt=Math.abs(De.totalLoss/De.losingTrades);it.push({time:"10:15:00 AM",order:"SELL",symbol:"NIFTY 50",type:"MIS",qty:25,price:0,pnl:`-${mt.toFixed(0)}`,duration:"-"})}nn(it),console.log(" Constructed trade history from summary data:",it.length,"trades")}De.images&&Array.isArray(De.images)&&(Re(De.images),console.log(" Loaded images from journal-database:",De.images.length,"images")),nf(!0),Cn(!0),Xr(!0);const Ue={...Vh,[ye]:De};wc(Ue);const vt={...Nr,[ye]:De};_n(vt),localStorage.setItem("tradingDataByDate",JSON.stringify(vt)),localStorage.setItem("calendarData",JSON.stringify(Ue)),console.log(" Successfully loaded and saved all journal data for:",ye)}else console.log(" No journal data found for:",ye),fa(""),fo(""),Ho([]),nn([]),Re([]),nf(!0),Cn(!0),Xr(!0)}else{const De=await Ce.text();console.error(` Load failed with status ${Ce.status}:`,De)}}catch(Ce){console.error(" Error loading journal data:",Ce)}},Kh=J=>{const ye=Yo(J),Ce=Vh[ye],De=Nr[ye];return Ce&&(Ce.tradeHistory||Ce.notes||Ce.images&&Ce.images.length>0)||De&&(De.tradeHistory||De.tradingNotes||De.notesContent||De.images&&De.images.length>0||De.performanceMetrics&&De.performanceMetrics.totalTrades>0)},cs=(J=Ki)=>{const ye=[],Ce=Vr&&J===2025?5:0,De=12;for(let Be=Ce;Be<De;Be++){const Ae=new Date(J,Be,1),Ue=[],vt=new Date(Ae),it=Ae.getDay();let ot=[];for(let mt=0;mt<it;mt++)ot.push(null);for(;vt.getMonth()===Be;){const mt=vt.getDate(),xr=new Date;xr.setFullYear(J,Be,mt),xr.setHours(12,0,0,0),ot.push(xr),vt.setDate(vt.getDate()+1),ot.length===7&&(Ue.push(ot),ot=[])}if(ot.length>0){for(;ot.length<7;)ot.push(null);Ue.push(ot)}ye.push({month:Be,weeks:Ue,name:Ae.toLocaleDateString("en-US",{month:"short"})})}return ye},Ll=J=>{if(J===0)return"bg-gray-100 dark:bg-gray-700";const ye=Math.abs(J);return J>0?ye>=5e3?"bg-green-800 dark:bg-green-700":ye>=3e3?"bg-green-700 dark:bg-green-600":ye>=1500?"bg-green-600 dark:bg-green-500":ye>=500?"bg-green-500 dark:bg-green-400":"bg-green-300 dark:bg-green-300":ye>=5e3?"bg-red-800 dark:bg-red-700":ye>=3e3?"bg-red-700 dark:bg-red-600":ye>=1500?"bg-red-600 dark:bg-red-500":ye>=500?"bg-red-500 dark:bg-red-400":"bg-red-300 dark:bg-red-300"},lf=async()=>{var J;console.log(" SAVE BUTTON CLICKED! Current selectedDate:",ws);try{if(!ws){console.log(" No date selected for save operation"),alert(" Please select a date on the calendar first!");return}console.log(" Date is selected, proceeding with save...");const ye=Yo(ws),Ce=Array.isArray(jt)?jt:[],De=typeof ar=="string"?ar:"",Be=Array.isArray(Cr)?Cr:[],Ae=((J=ut.current)==null?void 0:J.getCurrentImages())||[],Ue=Array.isArray(Ae)?Ae:[],vt=Ns||{totalTrades:Ce.length,winningTrades:0,losingTrades:0,totalPnL:0,netPnL:0,winRate:0,avgWin:0,avgLoss:0,profitFactor:0},it={tradeHistory:Ce,tradingNotes:De,tradingTags:Be,images:Ue,performanceMetrics:vt,timestamp:new Date().toISOString()};console.log(` Attempting to save data for date: ${ye}`,it);let ot;if(Vr)console.log(" Saving to demo data (shared)"),ot=await fetch(`/api/journal/${ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it)});else{const mt=Ve();console.log(` Saving to user-specific data (userId: ${mt})`),ot=await fetch("/api/user-journal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:mt,date:ye,tradingData:it})})}if(console.log(` Save response status: ${ot.status}`,ot),ot.ok){const mt=await ot.json();console.log(" Save response data:",mt);const xr={...Nr,[ye]:it};if(_n(xr),console.log(` All trading data saved to Google Cloud for ${ye}`,it),console.log(" Reloading data to refresh UI..."),await Xo(ws),typeof window<"u"){const dr=ws.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});alert(` Trading data saved to Google Cloud for ${dr}!

 Saved data:
 ${Ce.length} trades
 Notes: ${De?"Yes":"No"}
 Tags: ${Be.length}
 Images: ${Ue.length}
 Net P&L: ${vt.netPnL.toLocaleString("en-IN")}`)}}else{const mt=await ot.text();throw console.error(` Save failed with status ${ot.status}:`,mt),new Error(`Failed to save to Google Cloud: ${ot.status} ${mt}`)}}catch(ye){console.error(" Error saving to Google Cloud journal database:",ye);const Ce=ye instanceof Error?ye.message:"Unknown error occurred";alert(` Failed to save trading data to Google Cloud: ${Ce}. Please try again.`)}},Ns=x.useMemo(()=>{if(!jt||jt.length===0)return{totalTrades:0,winningTrades:0,losingTrades:0,totalProfit:0,totalLoss:0,netPnL:0,winRate:"0.0"};const J=jt.map(ot=>{const mt=(ot.pnl||"").replace(/[,+\s]/g,"");return parseFloat(mt)||0}),ye=J.length,Ce=J.filter(ot=>ot>0).length,De=J.filter(ot=>ot<0).length,Be=J.filter(ot=>ot>0).reduce((ot,mt)=>ot+mt,0),Ae=Math.abs(J.filter(ot=>ot<0).reduce((ot,mt)=>ot+mt,0)),Ue=J.reduce((ot,mt)=>ot+mt,0),vt=Ce+De,it=vt>0?Ce/vt*100:0;return{totalTrades:ye,winningTrades:Ce,losingTrades:De,totalProfit:Be,totalLoss:Ae,netPnL:Ue,winRate:it.toFixed(1)}},[jt]),Sc=J=>{const ye=[...J],Ce={};for(let De=0;De<ye.length;De++){const Be=ye[De],Ae=Be.symbol;if(Ce[Ae]||(Ce[Ae]={qty:0,avgPrice:0,firstTradeTime:Be.time}),Be.order==="BUY"){const Ue=Ce[Ae].qty*Ce[Ae].avgPrice,vt=Be.qty*Be.price,it=Ce[Ae].qty+Be.qty;it>0&&(Ce[Ae].avgPrice=(Ue+vt)/it),Ce[Ae].qty=it,Ce[Ae].qty===Be.qty&&(Ce[Ae].firstTradeTime=Be.time)}else if(Be.order==="SELL"&&Ce[Ae].qty>0){const vt=(Be.price-Ce[Ae].avgPrice)*Be.qty,it=new Date(`1970-01-01 ${Ce[Ae].firstTradeTime}`),mt=new Date(`1970-01-01 ${Be.time}`).getTime()-it.getTime(),xr=Math.floor(mt/6e4),dr=Math.floor(mt%6e4/1e3),ft=`${xr}m ${dr}s`;ye[De].pnl=`${vt.toFixed(2)}`,ye[De].duration=ft,Ce[Ae].qty-=Be.qty,Ce[Ae].qty<=0&&(Ce[Ae]={qty:0,avgPrice:0,firstTradeTime:""})}}return ye.sort((De,Be)=>{const Ae=$l(De.time),Ue=$l(Be.time);return Ae.localeCompare(Ue)}),ye},$l=J=>{try{let ye=J.trim();if(!ye.includes("AM")&&!ye.includes("PM"))return ye.padStart(8,"0");const Ce=ye.match(/(\d{1,2}):(\d{2}):(\d{2})\s*(AM|PM)/i);if(Ce){let De=parseInt(Ce[1]);const Be=Ce[2],Ae=Ce[3],Ue=Ce[4].toUpperCase();return Ue==="AM"&&De===12?De=0:Ue==="PM"&&De!==12&&(De+=12),`${De.toString().padStart(2,"0")}:${Be}:${Ae}`}return ye}catch{return J}},cf=()=>{try{if(ct(""),tr([]),!Oe.trim()){ct("Please paste trade data");return}const{trades:J,errors:ye}=C4e(Oe);if(tr(ye),J.length===0){ye.length>0?ct(`No valid trades found. ${ye.length} error(s) detected. See details below.`):ct("No valid trades found in the data. Please check the format.");return}const Ce=Sc(J);nn(Ce),ye.length>0?console.log(` Imported ${J.length} trades successfully.  ${ye.length} line(s) had errors.`):console.log(` Successfully imported all ${J.length} trades!`),ye.length===0&&(ve(!1),ht("")),dt(!0)}catch(J){ct(J instanceof Error?J.message:"Unknown error occurred")}},si=J=>{var Ce;const ye=(Ce=J.target.files)==null?void 0:Ce[0];if(ye&&ye.type==="text/csv"){const De=new FileReader;De.onload=Be=>{var Ue;const Ae=(Ue=Be.target)==null?void 0:Ue.result;ht(Ae)},De.readAsText(ye)}else ct("Please upload a valid CSV file")},Fl=J=>{const ye=J.map(Ce=>({time:new Date(Ce.executedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),order:Ce.action,symbol:Ce.symbol,type:"MKT",qty:Ce.quantity,price:Ce.price,pnl:Ce.pnl?`${Ce.pnl}`:"-",duration:"-"}));nn(Ce=>[...ye,...Ce]),Pt(!1)};return x.useEffect(()=>(window.getActiveTab=()=>(console.log("[TAB] Getting active tab:",r),r),window.setActiveTab=J=>{console.log("[TAB] Setting active tab to:",J),n(J)},console.log("[TAB] Tab functions exposed, current tab:",r),()=>{delete window.getActiveTab,delete window.setActiveTab}),[r]),x.useEffect(()=>{const ye=new URLSearchParams(window.location.search).get("tab");ye&&["strategy-build","dashboard","cb","chart","check","4candle","scanner","complete-flexible","backtest","simulator","documentation","journal","insights","voice","portfolio","risk-management"].includes(ye)&&n(ye)},[t]),r==="voice"?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:a.jsx("main",{className:"h-screen w-full",children:a.jsx(DK,{onBackClick:()=>le("trading-home")})})}):r==="tutor"?a.jsxs("div",{className:"min-h-screen bg-slate-900 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("div",{className:"flex items-center gap-6",children:a.jsxs("div",{className:"bg-gray-900 rounded-xl px-4 py-3 flex items-center gap-3 shadow-lg border border-gray-700",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"M"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold text-sm",children:"MiniCast"}),a.jsx("div",{className:"text-gray-400 text-xs",children:"Premium Podcasts"})]})]})}),a.jsx("div",{className:"flex items-center gap-6"})]}),a.jsx("div",{className:"mb-8",children:a.jsx("h1",{className:"text-3xl font-normal text-white mb-2",children:Fs()})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[a.jsx("div",{className:"lg:col-span-4 space-y-6",children:a.jsx("div",{className:"relative h-80 pl-[80px] pr-[56px]",children:a.jsx(i3,{onSectorChange:pa,selectedSector:W})})}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700",children:[a.jsx("div",{className:"mb-6"}),a.jsx("div",{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden bg-gradient-to-br from-purple-600 via-purple-700 to-indigo-800 p-6 cursor-pointer hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-transparent"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("div",{className:"text-white text-2xl font-bold",children:"Study"}),a.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Learning Materials"})]})]}),a.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden bg-gradient-to-br from-emerald-600 via-teal-700 to-cyan-800 p-6 cursor-pointer hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600/20 to-transparent"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("div",{className:"text-white text-2xl font-bold",children:"Courses"}),a.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Training Programs"})]})]}),a.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden bg-gradient-to-br from-amber-500 via-yellow-600 to-orange-700 p-6 cursor-pointer hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/20 to-transparent"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("div",{className:"text-white text-2xl font-bold",children:"Live"}),a.jsx("div",{className:"text-white/60 text-sm mt-2",children:"Live Sessions"})]})]})]})})]})})]}),a.jsxs("div",{className:"mb-8 flex gap-6",children:[a.jsx("div",{className:"w-[70%]",children:a.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700",children:a.jsxs(pG,{value:T,onValueChange:E,className:"w-full",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs(LP,{className:"bg-slate-700 border-slate-600",children:[a.jsxs(du,{value:"overview",className:"text-slate-300 data-[state=active]:bg-slate-600 data-[state=active]:text-white flex items-center gap-2",children:[a.jsx(ya,{className:"w-4 h-4"}),"Podcast"]}),a.jsxs(du,{value:"setup",className:"text-slate-300 data-[state=active]:bg-slate-600 data-[state=active]:text-white flex items-center gap-2",children:[a.jsx(fb,{className:"w-4 h-4"}),"Events"]})]})}),a.jsx(uu,{value:"overview",className:"mt-0",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-white text-xl font-bold mb-6",children:["TRENDING PODCASTS - ",W==="FINANCE"?"FINANCE":W==="IT"?"TECH":W==="COMMODITY"?"COMMODITY":W==="GLOBAL"?"GLOBAL":W==="BANKS"?"BANKING":W==="AUTOMOBILE"?"AUTO":"FINANCE"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-gradient-to-br from-pink-500 via-purple-600 to-indigo-700 rounded-3xl p-8 relative overflow-hidden min-h-[280px]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -mr-20 -mt-20"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full -ml-16 -mb-16"}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10 h-full",children:[a.jsx("div",{className:"w-40 h-40 rounded-2xl overflow-hidden bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center",children:a.jsx(ub,{className:"w-20 h-20 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"bg-yellow-400 text-black px-3 py-1 rounded-full text-xs font-medium inline-block mb-4",children:"PODCAST OF THE WEEK"}),a.jsx("h2",{className:"text-white text-3xl font-bold mb-2",children:"Rich Mindset"}),a.jsx("p",{className:"text-white/80 mb-4",children:"Finance Expert"}),a.jsx(H,{className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 w-12 h-12 rounded-full p-0",children:a.jsx(Ca,{className:"w-6 h-6 ml-1"})})]})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-4",children:[a.jsx("h3",{className:"text-white text-lg font-bold mb-4",children:"Saved Podcast"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(YF,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm",children:"Budget Planning"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Money Expert"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-slate-400 text-xs",children:"03:13"}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Xm,{className:"w-3 h-3"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Ca,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(ub,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm",children:"Psychology of Money"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Mind & Money"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-slate-400 text-xs",children:"05:26"}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Xm,{className:"w-3 h-3"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Ca,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(Gm,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm",children:"Entrepreneur Mindset"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Business Weekly"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-slate-400 text-xs",children:"02:51"}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Xm,{className:"w-3 h-3"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Ca,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-500 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(fb,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm",children:"Building Resilience"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Mental Strength"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-2 bg-teal-500 rounded-full"}),a.jsx("span",{className:"text-slate-400 text-xs",children:"04:12"}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Xm,{className:"w-3 h-3"})}),a.jsx(H,{size:"sm",variant:"ghost",className:"w-6 h-6 p-0 text-slate-400 hover:text-white",children:a.jsx(Ca,{className:"w-3 h-3"})})]})]})]})]})})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("h3",{className:"text-white text-lg font-medium mb-4",children:["AI-Generated ",W," Podcasts"]}),$?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Generating trending podcasts..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:G.slice(0,10).map((J,ye)=>a.jsx("div",{className:`rounded-lg p-4 hover:bg-slate-600/50 transition-colors cursor-pointer group ${(ie==null?void 0:ie.id)===J.id?"bg-purple-600/30 border border-purple-500":"bg-slate-700/50"}`,onClick:()=>Fa(J),"data-testid":`podcast-card-${J.id}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsxs("span",{className:"text-white font-bold text-lg",children:["#",ye+1]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("h4",{className:"text-white font-medium text-sm leading-tight",children:J.title}),J.trending&&a.jsx("span",{className:"text-orange-400 text-xs bg-orange-400/20 px-2 py-1 rounded-full",children:"TRENDING"})]}),a.jsx("p",{className:"text-slate-400 text-xs mb-2 line-clamp-2",children:J.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[a.jsxs("span",{children:[" ",J.host]}),a.jsxs("span",{children:[" ",J.duration]}),a.jsxs("span",{children:[" ",J.listeners]})]})]}),a.jsx(H,{size:"sm",className:"w-8 h-8 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 border-0 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})]})},J.id))})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-white text-lg font-medium mb-4",children:"Weekly top tracks"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-green-600 to-blue-800 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"AI FINANCE"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:ie?ie.title:`AI in ${W==="FINANCE"?"Finance":W==="IT"?"Tech":W==="COMMODITY"?"Commodity":W==="GLOBAL"?"Global":W==="BANKS"?"Banking":W==="AUTOMOBILE"?"Auto":"Finance"}`}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Tech Weekly"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-yellow-400 to-orange-600 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"MARKET NEWS"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Market News"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Daily Report"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-red-500 to-pink-600 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"RISK MGMT"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Risk Management"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Pro Trader"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-blue-500 to-cyan-400 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"STARTUP"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Building Companies"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Startup Stories"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-purple-600 to-indigo-800 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"FELLOWSHIP"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Fellowship Programs"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Career Growth"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-orange-500 to-red-600 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"BUSINESS"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Business Models"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Strategy Tips"})]}),a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-emerald-600 to-teal-800 rounded-lg mb-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white text-xs font-bold",children:"HERO ZERO"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(H,{size:"sm",className:"w-8 h-8 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-0 rounded-full p-0",children:a.jsx(Ca,{className:"w-4 h-4 ml-0.5"})})})]}),a.jsx("h4",{className:"text-white font-medium text-sm",children:"Hero to Zero Stories"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Quick Lessons"})]})]})]})]})}),a.jsx(uu,{value:"setup",className:"mt-0",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[a.jsx("h4",{className:"text-white text-lg font-medium",children:"Upcoming Events"}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[a.jsx("span",{children:"Showing"}),a.jsx("span",{className:"text-white",children:"10"}),a.jsx("span",{children:"out of 48"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-4",children:[a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-blue-400/80 via-cyan-500/60 to-blue-600/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/30 to-purple-600/40"}),a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full -ml-8 -mb-8"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Startup Summit"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"Global Startup Summit | Hyderabad 2025"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Sat, 06 Sept  9:00 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" Deccan Serai Hotel, Hitech City, Hyderabad"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-4/5"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"85%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"1,299"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("img",{src:bs(),alt:"Global Startup Summit Hyderabad 2025",className:"w-full h-full object-cover rounded-lg border border-white/20"})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-indigo-600/80 via-blue-700/70 to-purple-800/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/40 to-purple-900/60"}),a.jsx("div",{className:"absolute top-2 right-4 w-1 h-1 bg-white rounded-full opacity-80"}),a.jsx("div",{className:"absolute top-6 right-8 w-0.5 h-0.5 bg-white rounded-full opacity-60"}),a.jsx("div",{className:"absolute top-4 right-12 w-1 h-1 bg-yellow-200 rounded-full opacity-90"}),a.jsx("div",{className:"absolute top-8 right-6 w-0.5 h-0.5 bg-white rounded-full opacity-70"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Music"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"TiE Bangalore Founders Summit"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Feb 10, 2025  9:30 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" TiE Bangalore, Koramangala"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-3/4"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"75%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"560"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("img",{src:bs(),alt:"TiE Bangalore Founders Summit",className:"w-full h-full object-cover rounded-lg border border-white/20"})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-sky-400/80 via-blue-500/70 to-cyan-600/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/30 to-blue-600/40"}),a.jsx("div",{className:"absolute top-2 right-2 w-12 h-12 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-8 h-8 bg-white/10 rounded-full"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Health & Wellness"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"Pharma Bio Summit Hyderabad"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Jan 28, 2025  10:00 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" HICC, Hyderabad"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-2/5"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"40%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"580"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("img",{src:bs(),alt:"Pharma Bio Summit Hyderabad",className:"w-full h-full object-cover rounded-lg border border-white/20"})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-orange-400/80 via-red-500/70 to-pink-500/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/30 to-red-600/40"}),a.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-yellow-300/20 rounded-full"}),a.jsx("div",{className:"absolute top-3 right-6 w-4 h-4 bg-orange-300/30 rounded-full"}),a.jsx("div",{className:"absolute bottom-2 left-3 w-5 h-5 bg-red-300/20 rounded-full"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Food & Culinary"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"Hyderabad Food Festival"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Feb 20, 2025  6:00 PM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" Shilpakala Vedika, Hyderabad"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-3/5"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"60%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"1,200"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("img",{src:bs(),alt:"Hyderabad Food Festival",className:"w-full h-full object-cover rounded-lg border border-white/20"})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-purple-500/80 via-violet-600/70 to-indigo-700/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/30 to-indigo-800/40"}),a.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-white/5 transform rotate-45 -mr-8 -mt-8"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white/5 transform rotate-12 -ml-6 -mb-6"}),a.jsx("div",{className:"absolute top-1/2 right-4 w-2 h-2 bg-cyan-400/60 rounded-full"}),a.jsx("div",{className:"absolute top-1/3 right-8 w-1 h-1 bg-pink-400/60 rounded-full"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Technology"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"HITEX IT Expo Hyderabad"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Mar 5, 2025  9:00 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" Hitex Exhibition Centre"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-1/2"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"55%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"575"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-purple-500/30 to-indigo-700/30 rounded-lg border border-white/20 flex items-center justify-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/20 to-indigo-800/20"}),a.jsx("div",{className:"absolute top-1 right-1 w-1 h-1 bg-cyan-400/60 rounded-full"}),a.jsx("div",{className:"absolute bottom-1 left-1 w-1 h-1 bg-pink-400/60 rounded-full"}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center mb-1",children:a.jsx(GC,{className:"w-4 h-4 text-white/60"})}),a.jsx("div",{className:"text-white/70 text-[8px] font-medium",children:"TECH"})]})]})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-purple-400/80 via-indigo-500/70 to-blue-600/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/30 to-blue-700/40"}),a.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-white/5 rounded-full -ml-10 -mt-10"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-white/5 rounded-full -mr-12 -mb-12"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-6 h-6 bg-white/10 rounded-full transform -translate-x-1/2 -translate-y-1/2"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Business"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"Mumbai Fintech Festival"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Jan 15, 2025  10:30 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" Bombay Exhibition Centre"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-4/5"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"65%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"850"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400/30 to-blue-600/30 rounded-lg border border-white/20 flex items-center justify-center relative overflow-hidden",children:a.jsx("div",{className:"text-white/70 text-[8px] font-medium",children:"BUSINESS"})})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-emerald-400/80 via-teal-500/70 to-cyan-600/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/30 to-cyan-700/40"}),a.jsx("div",{className:"absolute top-2 right-3 w-3 h-3 bg-white/20 rounded-full"}),a.jsx("div",{className:"absolute top-6 right-8 w-2 h-2 bg-white/15 rounded-full"}),a.jsx("div",{className:"absolute bottom-4 left-4 w-4 h-4 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-1/3 left-6 w-1 h-1 bg-yellow-300/60 rounded-full"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Startup Innovations"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"Nasscom Product Conclave Bangalore"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Feb 25, 2025  9:00 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" UB City Mall, Bengaluru"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-4/5"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"80%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"1,250"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-400/30 to-cyan-600/30 rounded-lg border border-white/20 flex items-center justify-center relative overflow-hidden",children:a.jsx("div",{className:"text-white/70 text-[8px] font-medium",children:"STARTUP"})})})]}),a.jsxs("div",{className:"relative rounded-xl p-4 overflow-hidden bg-gradient-to-br from-fuchsia-400/80 via-purple-500/70 to-violet-600/80 flex gap-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-fuchsia-500/30 to-violet-700/40"}),a.jsx("div",{className:"absolute top-0 right-0 w-14 h-14 bg-white/10 transform rotate-12 -mr-7 -mt-7"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-10 h-10 bg-white/10 transform -rotate-12 -ml-5 -mb-5"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-8 h-8 bg-white/5 rounded-full transform -translate-x-1/2 -translate-y-1/2"}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-white/20 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"Technology"}),a.jsx("span",{className:"bg-green-500/80 text-white px-2 py-1 rounded-full text-xs",children:" Active"})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white font-semibold mb-1",children:"India AI Summit Mumbai"}),a.jsx("p",{className:"text-white/90 text-xs mb-1",children:"Mar 12, 2025  10:00 AM"}),a.jsx("p",{className:"text-white/70 text-xs",children:" NESCO Goregaon, Mumbai"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex-1 bg-white/30 rounded-full h-1.5 mr-3",children:a.jsx("div",{className:"bg-white h-1.5 rounded-full w-3/4"})}),a.jsx("span",{className:"text-white/90 text-xs font-medium",children:"70%"})]}),a.jsx("div",{className:"text-white font-bold text-sm",children:"950"})]}),a.jsx("div",{className:"relative z-10 w-20 h-20 flex-shrink-0",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-fuchsia-400/30 to-violet-600/30 rounded-lg border border-white/20 flex items-center justify-center relative overflow-hidden",children:a.jsx("div",{className:"text-white/70 text-[8px] font-medium",children:"AI TECH"})})})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:a.jsx(uh,{className:"w-4 h-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"bg-purple-600 text-white w-8 h-8 p-0",children:"1"}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white w-8 h-8 p-0",children:"2"}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white w-8 h-8 p-0",children:"3"}),a.jsx("span",{className:"text-slate-400 px-2",children:"..."}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white w-8 h-8 p-0",children:"6"}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:a.jsx(ku,{className:"w-4 h-4"})})]})]})]})})]})})}),a.jsxs("div",{className:"w-[30%] flex flex-col gap-3 h-full",children:[a.jsxs("div",{className:"h-[40%] bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl p-4 text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:"text-xs font-medium opacity-80",children:"Ad"})}),a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Global Startup Summit | Hyderabad 2025"}),a.jsx(H,{className:"bg-white text-blue-600 hover:bg-gray-100 text-sm px-4 py-2",children:"Subscribe"}),a.jsx("div",{className:"absolute bottom-2 right-2 w-20 h-20 opacity-90",children:a.jsx("img",{src:bs(),alt:"Global Startup Summit Hyderabad 2025",className:"w-full h-full object-cover rounded-lg border border-white/30"})})]}),a.jsxs("div",{className:"h-[50%] bg-slate-800 rounded-2xl p-4 border border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:""})}),a.jsx("span",{className:"text-white font-medium text-sm",children:"Live Community"})]}),a.jsx("h3",{className:"text-white font-medium mb-2 text-sm",children:"Join Finance AI Meetups"}),a.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Connect with startups & finance experts. Create avatars, no login required."}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-slate-300 text-xs",children:"AI Trading Discussion - 12 live"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-slate-300 text-xs",children:"Startup Pitch Night - 8 live"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-slate-300 text-xs",children:"DeFi Study Group - 15 live"})]})]}),a.jsxs("div",{className:"flex -space-x-2 mb-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full border-2 border-slate-800"}),a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full border-2 border-slate-800"}),a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full border-2 border-slate-800"}),a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full border-2 border-slate-800"}),a.jsx("div",{className:"w-6 h-6 bg-slate-600 rounded-full border-2 border-slate-800 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:"+"})})]}),a.jsx(H,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm py-2",children:"Explore Now"})]}),a.jsx("div",{className:"h-[20%] bg-slate-800/80 backdrop-blur-md rounded-2xl p-4 border border-slate-700/50",children:a.jsxs("div",{className:"flex items-center gap-3 h-full",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-400 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(rp,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"text-white text-sm font-medium truncate",children:ie?ie.title:`AI in ${W==="FINANCE"?"Finance":W==="IT"?"Tech":W==="COMMODITY"?"Commodity":W==="GLOBAL"?"Global":W==="BANKS"?"Banking":W==="AUTOMOBILE"?"Auto":"Finance"}`}),a.jsx(ub,{className:"w-3 h-3 text-slate-400 flex-shrink-0"})]}),a.jsx("p",{className:"text-slate-400 text-xs mb-2",children:"19 minutes"}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-slate-400 text-xs",children:"14:07"}),a.jsx("div",{className:"flex-1 bg-slate-600 rounded-full h-1",children:a.jsx("div",{className:"bg-purple-400 h-1 rounded-full w-3/4"})}),a.jsx("span",{className:"text-slate-400 text-xs",children:"-5:04"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white w-6 h-6 p-0",children:a.jsx(VZ,{className:"w-3 h-3"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-white w-6 h-6 p-0",children:a.jsx(cw,{className:"w-3 h-3"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white w-6 h-6 p-0",children:a.jsx(WZ,{className:"w-3 h-3"})})]})]})]})})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-background overscroll-none touch-pan-y",children:[a.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-64 chatgpt-sidebar border-r border-gray-700 flex flex-col z-40 md:bottom-0 bottom-[env(safe-area-inset-bottom)] pb-[env(safe-area-inset-bottom)] touch-none hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsx("h1",{className:"text-xl font-semibold sidebar-text",children:"Trading Platform"})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium sidebar-muted uppercase tracking-wide mb-3",children:"Dashboard & Overview"}),a.jsxs("button",{onClick:()=>Qt("dashboard"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors flex items-center gap-2 ${r==="dashboard"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[a.jsx(_E,{className:"h-4 w-4"}),"Market Dashboard"]})]}),a.jsxs("div",{className:"space-y-1 pt-4",children:[a.jsx("p",{className:"text-xs font-medium sidebar-muted uppercase tracking-wide mb-3",children:"Core Trading Tools"}),a.jsx("button",{onClick:()=>Qt("backtest"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="backtest"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Backtest"}),a.jsx("button",{onClick:()=>le("chart"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="chart"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Trading Charts"}),a.jsx("button",{onClick:()=>le("check"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="check"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"BATTU Scan"}),a.jsx("button",{onClick:()=>le("4candle"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="4candle"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"4 Candle Rule"}),a.jsx("button",{onClick:()=>le("scanner"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="scanner"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Complete Scanner"}),a.jsx("button",{onClick:Se,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="trading-master"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gl,{className:"h-4 w-4"}),"Trading Master"]})})]}),a.jsxs("div",{className:"space-y-1 pt-4",children:[a.jsx("p",{className:"text-xs font-medium sidebar-muted uppercase tracking-wide mb-3",children:"Analysis & Monitoring"}),a.jsx("button",{onClick:()=>Qt("backtest"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="backtest"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Backtest"}),a.jsx("button",{onClick:()=>le("cb"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="cb"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Historical Data"}),a.jsx("button",{onClick:()=>le("simulator"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="simulator"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Trade Simulator"}),a.jsx("button",{onClick:()=>ge("journal"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="journal"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gm,{className:"h-4 w-4"}),"Journal"]})}),a.jsx("button",{onClick:()=>Qt("insights"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="insights"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-4 w-4"}),"Insights"]})})]}),a.jsxs("div",{className:"space-y-1 pt-4",children:[a.jsx("p",{className:"text-xs font-medium sidebar-muted uppercase tracking-wide mb-3",children:"Tools & Support"}),a.jsx("button",{onClick:()=>le("tutor"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="tutor"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SE,{className:"h-4 w-4"}),"Tutor"]})}),a.jsx("button",{onClick:()=>ge("voice"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="voice"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(od,{className:"h-4 w-4"}),"Social Feed"]})}),a.jsx("button",{onClick:()=>le("documentation"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="documentation"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Documentation"}),a.jsx("button",{onClick:()=>le("strategy-build"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="strategy-build"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:"Strategy Build"}),a.jsx("button",{onClick:()=>Qt("trading-home"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="trading-home"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kb,{className:"h-4 w-4"}),"Trading Home"]})}),a.jsx("button",{onClick:()=>Qt("stock-news"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="stock-news"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($v,{className:"h-4 w-4"}),"Stock News"]})})]})]}),a.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs sidebar-muted",children:"Theme"}),a.jsx("button",{onClick:Vo,className:"flex items-center gap-2 px-2 py-1 rounded-md bg-accent hover:bg-accent/80 transition-colors text-xs sidebar-text border border-border",title:`Switch to ${Bs==="dark"?"light":"dark"} mode`,children:Bs==="dark"?a.jsxs(a.Fragment,{children:[a.jsx(T3,{className:"h-3 w-3"}),"Light"]}):a.jsxs(a.Fragment,{children:[a.jsx(_3,{className:"h-3 w-3"}),"Dark"]})})]}),a.jsx("div",{className:"text-xs sidebar-muted text-center",children:"Trading Platform v1.0"})]})]}),a.jsxs("div",{className:"flex flex-col chatgpt-main-content min-h-screen md:min-h-screen min-h-[100dvh] overscroll-none",children:[a.jsx("main",{className:"flex-1 overflow-hidden",children:a.jsxs("div",{className:`h-full ${r==="stock-news"?"":"overflow-auto"}`,children:[r==="dashboard"&&localStorage.getItem("currentUserEmail")==="chiranjeevi.perala99@gmail.com"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(_E,{className:"h-6 w-6 text-yellow-400"}),a.jsx("h2",{className:"text-2xl font-bold text-green-400",children:"Market Dashboard"})]}),a.jsx("p",{className:"text-green-300",children:"Real-time market data and connection status"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(_ne,{}),a.jsx(Tne,{})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(hae,{}),a.jsx(mae,{}),a.jsx(gae,{})]}),a.jsx(xae,{})]}),r==="trading-home"&&a.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-blue-800 to-blue-900 z-10",children:a.jsxs("div",{className:"pt-20 px-6 space-y-4 ml-auto md:w-80 w-64",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-xl",children:(R.displayName||R.username||"U").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white font-semibold text-base truncate",children:R.displayName||"User"}),a.jsxs("p",{className:"text-blue-200 text-sm truncate",children:["@",R.username||"username"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors","data-testid":"nav-profile",children:"profile"}),a.jsx("button",{className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors","data-testid":"nav-saved",children:"saved"}),localStorage.getItem("currentUserEmail")==="chiranjeevi.perala99@gmail.com"&&a.jsxs("button",{onClick:()=>{le("dashboard"),A(!1)},className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2","data-testid":"nav-dashboard",children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsx("span",{children:"dashboard"})]}),a.jsx("button",{className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors","data-testid":"nav-settings",children:"setting & privacy"}),a.jsxs("button",{onClick:Vo,className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2","data-testid":"nav-darkmode",children:[Bs==="dark"?a.jsx(T3,{className:"h-4 w-4"}):a.jsx(_3,{className:"h-4 w-4"}),a.jsx("span",{children:"dark mode"})]}),a.jsxs("button",{onClick:async()=>{try{await Rle(os),localStorage.clear(),window.location.href="/login"}catch(J){console.error("Logout error:",J)}},className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2","data-testid":"nav-logout",children:[a.jsx(JF,{className:"h-4 w-4"}),a.jsx("span",{children:"logout"})]})]})]})}),a.jsxs("div",{onClick:()=>S&&A(!1),className:`min-h-screen bg-gray-900 flex flex-col transition-all duration-500 ease-out relative z-20 ${S?"scale-90 -translate-x-[70%] rounded-2xl shadow-2xl":"scale-100 translate-x-0"}`,style:{transformOrigin:"right center"},children:[a.jsxs("button",{onClick:J=>{J.stopPropagation(),A(!S)},className:"md:hidden fixed top-4 right-4 z-50 w-10 h-10 flex flex-col items-center justify-center gap-1.5 bg-transparent hover:bg-white/10 rounded-lg transition-all duration-300","data-testid":"button-nav-toggle",children:[a.jsx("div",{className:`h-0.5 bg-white transition-all duration-300 ${S?"w-5 rotate-45 translate-y-1":"w-5"}`}),a.jsx("div",{className:`h-0.5 bg-white transition-all duration-300 ${S?"w-5 -rotate-45 -translate-y-1":"w-4 ml-1"}`})]}),a.jsx("div",{className:"h-1/4 md:h-[31vh] w-full flex items-center justify-center md:bg-slate-950 md:px-2 md:py-3 px-8 pt-1 pb-1",children:a.jsx("div",{className:"w-full md:max-w-lg max-w-6xl md:bg-transparent/10 md:backdrop-blur-sm md:rounded-2xl md:p-3 flex items-center justify-center",children:a.jsx(j4e,{})})}),a.jsxs("div",{className:"h-[75vh] md:h-[69vh] w-full bg-blue-900 flex flex-col items-center justify-start md:py-6 py-0 md:px-4 px-0 relative md:overflow-y-auto",children:[a.jsxs("div",{className:"max-w-4xl w-full md:space-y-4",children:[a.jsx("div",{className:"text-center spacey-4 md:block hidden",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(ro,{className:"4-5 w-4 text-blue-400"}),a.jsx("h1",{className:"text-2xl font-normal text-gray-100",children:"Welcome to Trading Platform"})]})}),a.jsxs("div",{className:`relative mx-auto transition-all duration-300 md:block hidden ${F?"max-w-4xl":"max-w-2xl"}`,children:[a.jsx(qr,{placeholder:"Search stocks, technical analysis, social feed, news, journal, alerts, or ask AI anything...",value:D,onFocus:()=>z(!0),onChange:J=>{const ye=J.target.value;B(ye),z(ye.length>0)},onKeyPress:async J=>{J.key==="Enter"&&D.trim()&&await ze()},className:`w-full transition-all duration-300 bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-400 pr-12 text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${F?"h-14 rounded-xl":"h-12 rounded-2xl"}`}),a.jsx(H,{size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 text-gray-300 h-6 w-6 p-0",onClick:()=>ze(),disabled:!D.trim()||Z,children:Z?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(Zs,{className:"h-4 w-4"})})]}),F&&a.jsx("div",{className:"max-w-5xl mx-auto mt-4 animate-in slide-in-from-top-4 duration-300 md:block hidden",children:a.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl p-4",children:X?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 pb-3 border-b border-gray-700",children:[a.jsx(Zs,{className:"h-4 w-4 text-blue-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-100",children:"AI Assistant"})]}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"text-gray-300 whitespace-pre-wrap leading-relaxed",children:(()=>{if(X.includes("[CHART:PERFORMANCE_TREND]")){const J=X.split("[CHART:PERFORMANCE_TREND]"),ye=window.performanceTrendChartData||[];return a.jsxs(a.Fragment,{children:[J[0],ye.length>0&&a.jsx("div",{className:"my-4 bg-gray-900/50 rounded-lg p-3 border border-gray-600",children:a.jsx("div",{className:"h-32 w-full",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(bb,{data:ye,margin:{top:20,right:20,left:10,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"aiAreaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"rgb(107, 114, 128)",stopOpacity:.6}),a.jsx("stop",{offset:"100%",stopColor:"rgb(107, 114, 128)",stopOpacity:.1})]})}),a.jsx(yi,{dataKey:"day",axisLine:!1,tickLine:!1,tick:!1,className:"text-slate-500 dark:text-slate-400"}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},tickFormatter:Ce=>`${Ce>=0?"":"-"}${(Math.abs(Ce)/1e3).toFixed(0)}K`,domain:["dataMin - 1000","dataMax + 1000"],className:"text-slate-500 dark:text-slate-400"}),a.jsx(Ha,{contentStyle:{background:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--foreground)",fontSize:"11px",padding:"6px 10px"},formatter:Ce=>[`${Ce>=0?"":"-"}${Math.abs(Ce).toLocaleString()}`,"Daily P&L"],labelFormatter:Ce=>`${Ce}`}),a.jsx(kl,{type:"monotone",dataKey:"value",stroke:"#000000",strokeWidth:2,fill:"url(#aiAreaGradient)",dot:!1,activeDot:{r:4,stroke:"#000000",strokeWidth:1,fill:"#ffffff"}})]})})})}),J[1]||""]})}return X})()})}),a.jsx("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-700",children:a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>{B(""),z(!1),V("")},className:"text-gray-400 hover:text-gray-200",children:[a.jsx(La,{className:"h-4 w-4 mr-2"}),"Clear"]})})]}):D&&!Z?a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Press Enter or click the search button to get AI assistance"})]}):Z?a.jsx("div",{className:"text-center text-gray-400 py-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{children:"Getting AI assistance..."})]})}):null})}),a.jsxs("div",{className:"md:flex hidden flex-wrap items-center justify-center gap-3 max-w-6xl mx-auto md:mt-6",children:[a.jsx(H,{variant:"secondary",className:"bg-cyan-600 hover:bg-cyan-700  text-white border-0 h-7 px-2 rounded-full text-xs font-medium transition-all duration-200",onClick:()=>nt("RSI technical analysis for RELIANCE"),children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx(ya,{className:"h-3 w-3"}),a.jsx("span",{children:"Technical Analysis"})]})}),a.jsx(H,{variant:"secondary",className:"bg-pink-600 hover:bg-pink-700  text-white border-0 h-7 px-2 rounded-full text-xs font-medium transition-all duration-200",onClick:()=>nt("Social feed community discussions and trending topics"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rp,{className:"h-3 w-3"}),a.jsx("span",{children:"Social Feed"})]})}),a.jsx(H,{variant:"secondary",className:"bg-green-600 hover:bg-green-700 text-white border-0 h-7 px-2 rounded-full text-xs font-medium transition-all duration-200",onClick:()=>nt("What are today's top financial news and market updates?"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($v,{className:"h-3 w-3"}),a.jsx("span",{children:"Market News"})]})}),a.jsx(H,{variant:"secondary",className:"bg-indigo-600 hover:bg-indigo-700 text-white border-0 h-7 px-2 rounded-full text-xs font-medium transition-all duration-200",onClick:Fr,"data-testid":"button-trading-journal",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(OZ,{className:"h-3 w-3"}),a.jsx("span",{children:"Trading Journal"})]})}),a.jsx(H,{variant:"secondary",className:"bg-orange-600 hover:bg-orange-700  text-white border-0 h-7 px-2 rounded-full text-xs font-medium transition-all duration-200",onClick:()=>nt("Analyze fundamentals for top stocks - P/E ratio, market cap, growth metrics"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-3 w-3"}),a.jsx("span",{children:"Fundamentals"})]})})]}),a.jsxs("div",{className:"md:hidden flex items-center justify-center gap-2 pt-4 pb-6 px-4 relative z-10",children:[a.jsx(ro,{className:"h-4 w-4 text-blue-400"}),a.jsx("h1",{className:"text-base font-normal text-gray-100",children:"Welcome to Trading Platform"})]}),a.jsxs("div",{className:"bg-white md:pt-4 pt-4 md:pb-4 pb-4 md:rounded-3xl rounded-3xl relative pointer-events-auto touch-pan-y flex-shrink-0 mt-0 w-full",children:[a.jsxs("div",{className:"md:hidden absolute -top-3 left-4 right-4 z-50",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qr,{placeholder:"Search stocks, technical analysis, social feed...",value:D,onFocus:()=>z(!0),onChange:J=>{const ye=J.target.value;B(ye),z(ye.length>0)},onKeyPress:async J=>{J.key==="Enter"&&D.trim()&&await ze()},className:"w-full h-12 bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-400 pr-24 text-xs rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-lg"}),D&&a.jsx(H,{size:"sm",variant:"ghost",className:"absolute right-14 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200 h-8 w-8 p-0",onClick:()=>{B(""),z(!1),V("")},"data-testid":"button-clear-search",children:a.jsx(La,{className:"h-4 w-4"})}),a.jsx(H,{size:"sm",className:"absolute right-3 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 text-gray-300",onClick:()=>ze(),disabled:!D.trim()||Z,children:Z?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(Zs,{className:"h-4 w-4"})})]}),F&&a.jsxs("div",{className:"mt-2 flex gap-2 overflow-x-auto scrollbar-hide pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[a.jsx(H,{variant:"secondary",className:"bg-blue-600 hover:bg-blue-700 text-white border-0 h-7 px-3 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0",onClick:()=>nt("Show me live stock prices for ICICI Bank and TCS"),children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(oa,{className:"h-3 w-3"}),a.jsx("span",{children:"Stock Prices"})]})}),a.jsx(H,{variant:"secondary",className:"bg-pink-600 hover:bg-pink-700 text-white border-0 h-7 px-3 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0",onClick:()=>nt("Social feed community discussions and trending topics"),children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(rp,{className:"h-3 w-3"}),a.jsx("span",{children:"Social Feed"})]})}),a.jsx(H,{variant:"secondary",className:"bg-green-600 hover:bg-green-700 text-white border-0 h-7 px-3 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0",onClick:()=>nt("What are today's top financial news and market updates?"),children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx($v,{className:"h-3 w-3"}),a.jsx("span",{children:"Market News"})]})}),a.jsx(H,{variant:"secondary",className:"bg-orange-600 hover:bg-orange-700 text-white border-0 h-7 px-3 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0",onClick:()=>nt("Analyze fundamentals for top stocks - P/E ratio, market cap, growth metrics"),children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(ya,{className:"h-3 w-3"}),a.jsx("span",{children:"Fundamentals"})]})}),a.jsx(H,{variant:"secondary",className:"bg-emerald-600 hover:bg-emerald-700 text-white border-0 h-7 px-3 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0",onClick:()=>ge("journal"),"data-testid":"button-quick-journal",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Gm,{className:"h-3 w-3"}),a.jsx("span",{children:"Journal"})]})})]}),F&&X&&a.jsx("div",{className:"md:hidden fixed inset-x-0 top-0 bottom-0 bg-gray-900/95 backdrop-blur-sm z-[60] overflow-y-auto",children:a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Zs,{className:"h-4 w-4 text-blue-400"}),a.jsx("h3",{className:"text-xs font-medium text-gray-100",children:"AI Assistant"})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{B(""),z(!1),V("")},className:"text-gray-400 hover:text-gray-200 h-6 w-6 p-0",children:a.jsx(La,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"text-gray-300 whitespace-pre-wrap leading-tight text-xs",children:X})})]})})]}),a.jsxs("div",{className:"mx-auto max-w-6xl md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:px-6 md:items-center hidden",children:[a.jsxs("div",{className:"bg-blue-500 rounded-2xl overflow-hidden h-36 w-full relative cursor-pointer hover:scale-105 transition-transform",onClick:()=>ge("voice"),children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-blue-600 px-2.5 py-1 rounded-full text-xs font-medium",children:"Social Feed"})}),a.jsx("div",{className:"absolute bottom-3 right-3",children:a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(od,{className:"h-6 w-6 text-white"})})})]}),a.jsxs("div",{className:"bg-indigo-500 rounded-2xl overflow-hidden h-36 w-full relative cursor-pointer hover:scale-105 transition-transform",onClick:Se,children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-indigo-600 px-2.5 py-1 rounded-full text-xs font-medium",children:"Trading Master"})}),a.jsx("div",{className:"absolute bottom-3 right-3",children:a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(gl,{className:"h-6 w-6 text-white"})})})]}),a.jsxs("div",{className:"bg-emerald-500 rounded-2xl overflow-hidden h-36 w-full relative cursor-pointer hover:scale-105 transition-transform",onClick:()=>ge("journal"),children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-emerald-600 px-2.5 py-1 rounded-full text-xs font-medium",children:"Journal"})}),a.jsx("div",{className:"absolute bottom-3 right-3",children:a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(ya,{className:"h-6 w-6 text-white"})})})]}),a.jsx("div",{className:"relative h-36 w-full flex items-center justify-center",children:a.jsx(i3,{onSectorChange:pa,selectedSector:W,onCardIndexChange:we,currentCardIndex:he})})]}),a.jsxs("div",{className:"md:hidden mt-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 px-4 mb-3",children:[a.jsxs("div",{className:"bg-blue-500 rounded-xl overflow-hidden h-20 relative cursor-pointer active:scale-95 transition-transform",onClick:()=>ge("voice"),children:[a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-blue-600 px-2 py-0.5 rounded-full text-[10px] font-medium",children:"Social Feed"})}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(od,{className:"h-5 w-5 text-white"})})})]}),a.jsxs("div",{className:"bg-purple-500 rounded-xl overflow-hidden h-20 relative cursor-pointer active:scale-95 transition-transform",onClick:Se,children:[a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-purple-600 px-2 py-0.5 rounded-full text-[10px] font-medium",children:"Trading Master"})}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(gl,{className:"h-5 w-5 text-white"})})})]}),a.jsxs("div",{className:"bg-green-500 rounded-xl overflow-hidden h-20 relative cursor-pointer active:scale-95 transition-transform",onClick:()=>ge("journal"),children:[a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"bg-white bg-opacity-90 text-green-600 px-2 py-0.5 rounded-full text-[10px] font-medium",children:"Journal"})}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(ya,{className:"h-5 w-5 text-white"})})})]})]}),a.jsx("div",{className:"flex items-center justify-center px-4 pb-0",children:a.jsx(i3,{onSectorChange:pa,selectedSector:W,onCardIndexChange:we,currentCardIndex:he})})]}),a.jsx("div",{className:"md:hidden absolute -bottom-10 left-1/2 transform -translate-x-1/2 flex gap-2 justify-center z-40",children:[0,1,2,3,4,5].map(J=>a.jsx("button",{"data-testid":`nav-dot-${J}`,onClick:()=>{we(J)},className:`w-2 h-2 rounded-full transition-all duration-300 cursor-pointer hover:scale-110 ${J===he?"bg-white scale-125":"bg-white/40"}`},J))})]})]}),a.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 pointer-events-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 w-16 h-16 rounded-full bg-gradient-to-r from-violet-600/30 to-indigo-600/30 animate-ping pointer-events-none"}),a.jsx("div",{className:"absolute inset-0 w-16 h-16 rounded-full bg-gradient-to-r from-violet-600/20 to-indigo-600/20 animate-pulse pointer-events-none"}),a.jsx(H,{onClick:()=>le("tutor"),className:"relative w-16 h-16 rounded-full bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 shadow-2xl hover:animate-none transition-all duration-300 border-4 border-white/20 pointer-events-auto animate-bounce hover:scale-110",children:a.jsx(Sb,{className:"h-8 w-8 text-gray-400 pointer-events-none"})})]})}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300",onClick:()=>i(!1)}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-96 bg-slate-900 z-50 shadow-2xl transition-transform duration-500 ease-out",style:{animation:"slideInFromRight 0.5s ease-out"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-violet-600 to-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx(SE,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"AI Trading Tutor"})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"text-slate-400 hover:text-white hover:bg-slate-800",children:a.jsx(La,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"h-full overflow-y-auto pb-20 custom-thin-scrollbar",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Learn & Master Trading"}),a.jsx("p",{className:"text-slate-300 text-sm",children:"Interactive lessons and personalized guidance"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx(Gm,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Trading Basics"})]}),a.jsx("p",{className:"text-slate-300 text-sm",children:"Learn fundamental concepts and strategies"})]}),a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:a.jsx(ya,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Chart Analysis"})]}),a.jsx("p",{className:"text-slate-300 text-sm",children:"Master technical analysis and patterns"})]}),a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:a.jsx(xl,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Risk Management"})]}),a.jsx("p",{className:"text-slate-300 text-sm",children:"Protect your capital with smart strategies"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Actions"}),a.jsx("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:a.jsx(LZ,{className:"h-4 w-4 text-white"})}),a.jsx("span",{className:"text-white font-medium",children:"Trading Tips"})]})}),a.jsx("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center",children:a.jsx(WC,{className:"h-4 w-4 text-white"})}),a.jsx("span",{className:"text-white font-medium",children:"Market Alerts"})]})}),a.jsx("div",{className:"bg-slate-800 rounded-xl p-4 hover:bg-slate-700 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center",children:a.jsx(oa,{className:"h-4 w-4 text-white"})}),a.jsx("span",{className:"text-white font-medium",children:"Performance Insights"})]})})]})]})})]})]}),a.jsx("style",{children:`
                  @keyframes slideUpFromBottom {
                    from {
                      transform: translateY(100%);
                    }
                    to {
                      transform: translateY(0);
                    }
                  }
                  
                  @keyframes slideInFromRight {
                    from {
                      transform: translateX(100%);
                    }
                    to {
                      transform: translateX(0);
                    }
                  }
                `})]})]})]}),r==="trading-master"&&a.jsxs("div",{className:"h-full relative",children:[a.jsx(H,{onClick:()=>le("trading-home"),variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","data-testid":"button-back-to-home-trading-master",children:a.jsx(jb,{className:"h-6 w-6"})}),a.jsx(v4e,{})]}),r==="journal"&&a.jsxs("div",{className:"space-y-6 p-6 relative",children:[a.jsx(H,{onClick:()=>le("trading-home"),variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","data-testid":"button-back-to-home-journal",children:a.jsx(jb,{className:"h-6 w-6"})}),a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Trading Journal"}),a.jsxs("div",{className:`${Qa!=="home"?"hidden md:block":"block"}`,children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsxs("div",{className:"md:grid md:grid-cols-3 gap-6",children:[a.jsx("div",{className:`h-[400px] ${Aa===0?"block":"hidden"} md:block`,children:a.jsx("div",{className:"h-full relative bg-slate-900 border border-slate-700 rounded-lg overflow-hidden",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-between px-2 py-2",children:a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[a.jsxs(Ks,{open:ir,onOpenChange:Br,children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",size:"sm",className:"bg-gray-800 text-white border-gray-600 hover:bg-gray-700 h-8 px-2 md:px-3 text-xs md:text-sm","data-testid":"button-stock-search",children:[a.jsx(Cu,{className:"h-3 w-3 md:h-4 md:w-4 md:mr-1"}),a.jsx("span",{className:"hidden md:inline",children:Qe.replace("NSE:","").replace("-EQ","").replace("-INDEX","")})]})}),a.jsx(Es,{className:"w-72 p-3",align:"start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(qr,{placeholder:"Search stocks...",value:jr,onChange:J=>Pr(J.target.value),className:"text-sm","data-testid":"input-stock-search"}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 custom-thin-scrollbar",children:[{value:"NSE:NIFTY50-INDEX",label:"NIFTY 50"},{value:"NSE:SENSEX-INDEX",label:"SENSEX"},{value:"NSE:BANKNIFTY-INDEX",label:"BANK NIFTY"},{value:"NSE:RELIANCE-EQ",label:"RELIANCE"},{value:"NSE:TCS-EQ",label:"TCS"},{value:"NSE:HDFCBANK-EQ",label:"HDFC BANK"},{value:"NSE:INFY-EQ",label:"INFOSYS"},{value:"NSE:ICICIBANK-EQ",label:"ICICI BANK"},{value:"NSE:SBIN-EQ",label:"SBI"},{value:"NSE:BHARTIARTL-EQ",label:"BHARTI AIRTEL"},{value:"NSE:ITC-EQ",label:"ITC"},{value:"NSE:KOTAKBANK-EQ",label:"KOTAK BANK"},{value:"NSE:LT-EQ",label:"L&T"},{value:"NSE:AXISBANK-EQ",label:"AXIS BANK"},{value:"NSE:WIPRO-EQ",label:"WIPRO"}].filter(J=>J.label.toLowerCase().includes(jr.toLowerCase())).map(J=>a.jsx("button",{onClick:()=>{Ht(J.value),Br(!1),Pr("")},className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${Qe===J.value?"bg-blue-100 dark:bg-blue-900 font-medium":""}`,"data-testid":`stock-option-${J.value}`,children:J.label},J.value))})]})})]}),a.jsxs("select",{className:"bg-gray-800 text-white border border-gray-600 rounded h-8 px-1.5 md:px-2 text-xs md:text-sm",value:cr,onChange:J=>Lt(J.target.value),"data-testid":"select-interval",children:[a.jsx("option",{value:"1",children:"1m"}),a.jsx("option",{value:"5",children:"5m"}),a.jsx("option",{value:"15",children:"15m"}),a.jsx("option",{value:"30",children:"30m"})]}),a.jsx(H,{size:"sm",onClick:$n,className:"bg-green-600 hover:bg-green-700 text-white h-8 w-8 p-0","data-testid":"button-fetch-chart",children:a.jsx($i,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"flex-1 relative -mx-0",children:a.jsx(hz,{height:350,ohlcData:zn,symbol:Qe.replace("NSE:","").replace("-EQ","").replace("-INDEX",""),isInteractiveMode:!1,enablePointSelection:!1,chartType:"candles",indicators:{},tradeMarkers:Hi(),hideControls:!0})})]})})}),a.jsx("div",{className:`h-[400px] ${Aa===1?"block":"hidden"} md:block`,children:a.jsx(xq,{ref:ut,images:et,onImagesChange:Re})}),a.jsxs(xt,{className:`bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 h-[400px] flex flex-col ${Aa===2?"block":"hidden"} md:block`,children:[a.jsx("div",{className:"h-[30%] border-b border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-4 h-full",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Trades"}),a.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:Ns.totalTrades})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Win Rate"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:[Ns.winRate,"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Net P&L"}),a.jsxs("p",{className:`text-xl font-bold ${Ns.netPnL>=0?"text-green-600":"text-red-600"}`,children:["",Ns.netPnL.toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-xs",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Winning Trades:"}),a.jsx("span",{className:"text-green-600 font-medium",children:Ns.winningTrades})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Profit:"}),a.jsxs("span",{className:"text-green-600 font-medium",children:["",Ns.totalProfit.toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Losing Trades:"}),a.jsx("span",{className:"text-red-600 font-medium",children:Ns.losingTrades})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Loss:"}),a.jsxs("span",{className:"text-red-600 font-medium",children:["",Ns.totalLoss.toLocaleString("en-IN")]})]})]})]})]})}),a.jsx("div",{className:"h-[70%] flex flex-col",children:a.jsxs(bt,{className:"p-2 flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"TRADING NOTES"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(Ks,{open:tf,onOpenChange:rf,children:[a.jsx(Gs,{asChild:!0,children:a.jsxs(H,{variant:"outline",size:"sm",className:"text-xs border-indigo-300 dark:border-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900","data-testid":"button-tags-dropdown",children:[a.jsx(kN,{className:"w-3 h-3 mr-1"}),"Tags (",Cr.length,")",a.jsx(Ep,{className:"w-3 h-3 ml-1"})]})}),a.jsx(Es,{className:"w-80 p-3",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Trading Psychology & Strategy Tags"}),Cr.length>0&&a.jsxs(H,{variant:"ghost",size:"sm",onClick:Hh,className:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300","data-testid":"button-clear-tags",children:[a.jsx(gs,{className:"w-3 h-3 mr-1"}),"Clear All"]})]}),Cr.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 p-2 bg-gray-50 dark:bg-gray-900 rounded-md",children:Cr.map(J=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full cursor-pointer hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors",onClick:()=>jc(J),"data-testid":`selected-tag-${J}`,children:[J,a.jsx(La,{className:"w-3 h-3 ml-1"})]},J))}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto custom-thin-scrollbar",children:Object.entries(ai).map(([J,ye])=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h5",{className:`text-xs font-semibold text-${ye.color}-600 dark:text-${ye.color}-400`,children:[ye.name,ye.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Cr.filter(Ce=>ye.tags.includes(Ce)).length,"/",ye.maxSelections]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:ye.tags.map(Ce=>{const De=Cr.includes(Ce),Be=Cr.filter(Ue=>ye.tags.includes(Ue)).length,Ae=!De&&Be>=ye.maxSelections;return a.jsx("button",{onClick:()=>ho(Ce),disabled:Ae,className:`
                                                  px-2 py-1.5 text-xs rounded-md border transition-all duration-200 text-left
                                                  ${De?`bg-${ye.color}-500 text-white border-${ye.color}-500 hover:bg-${ye.color}-600`:Ae?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
                                                `,"data-testid":`tag-option-${Ce}`,children:Ce},Ce)})})]},J))})]})})]}),Cd?a.jsxs(a.Fragment,{children:[a.jsxs(H,{size:"sm",variant:"ghost",onClick:of,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white","data-testid":"button-cancel-notes",children:[a.jsx(La,{className:"w-3 h-3 md:mr-1"}),a.jsx("span",{className:"hidden md:inline",children:"Cancel"})]}),a.jsxs(H,{size:"sm",onClick:po,className:"text-xs bg-green-600 hover:bg-green-700 text-white","data-testid":"button-save-notes",children:[a.jsx($i,{className:"w-3 h-3 md:mr-1"}),a.jsx("span",{className:"hidden md:inline",children:"Save"})]})]}):a.jsxs(H,{size:"sm",variant:"ghost",onClick:Wh,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white","data-testid":"button-edit-notes",children:[a.jsx(fl,{className:"w-3 h-3 md:mr-1"}),a.jsx("span",{className:"hidden md:inline",children:"Edit"})]})]})]}),Cd?a.jsx("textarea",{value:qh,onChange:J=>fo(J.target.value),placeholder:"Write your trading notes, strategies, observations...",className:"flex-1 w-full p-2 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"textarea-notes"}):a.jsxs("div",{className:"flex-1 w-full p-2 text-xs border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-white overflow-y-auto custom-thin-scrollbar",children:[Cr.length>0&&a.jsx("div",{className:"mb-2 pb-2 border-b border-gray-300 dark:border-gray-600",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:Cr.map(J=>a.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-indigo-100 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 rounded-full cursor-pointer hover:bg-indigo-200 dark:hover:bg-indigo-700 transition-colors group",onClick:()=>jc(J),title:"Click to remove tag","data-testid":`inline-tag-${J}`,children:[J,a.jsx(La,{className:"w-3 h-3 ml-1 opacity-60 group-hover:opacity-100"})]},J))})}),ar?a.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:ar}):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No trading notes yet. Click Edit to add your first note."})]})]})})]})]}),a.jsxs("div",{className:"md:hidden flex items-center justify-between mt-4 gap-4",children:[a.jsxs(H,{variant:"outline",onClick:()=>Xa(J=>J===0?2:J-1),className:"flex-1 h-12","data-testid":"button-journal-prev",children:[a.jsx(uh,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:Aa===0?"Notes":Aa===1?"Chart":"Upload"})]}),a.jsxs("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-md",children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current"}),a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Aa===0?"Chart":Aa===1?"Upload":"Notes"})]}),a.jsxs(H,{variant:"outline",onClick:()=>Xa(J=>J===2?0:J+1),className:"flex-1 h-12","data-testid":"button-journal-next",children:[a.jsx("span",{className:"text-sm font-medium",children:Aa===0?"Upload":Aa===1?"Notes":"Chart"}),a.jsx(ku,{className:"h-5 w-5 ml-2"})]})]})]}),a.jsxs("div",{className:"space-y-4 md:space-y-0 md:grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:hidden",children:[a.jsxs("div",{onClick:()=>Ol(!ua),className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","data-testid":"button-toggle-trade-history",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),a.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"TRADE HISTORY SUMMARY"})]}),ua?a.jsx(Sb,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):a.jsx(Ep,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})]}),ua&&a.jsx(xt,{className:"mt-2 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>dt(!0),className:"h-8 px-3","data-testid":"button-place-order",children:[a.jsx(xl,{className:"h-4 w-4 mr-2"}),"Order"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ve(!0),className:"h-8 px-3","data-testid":"button-import-pnl",children:[a.jsx(P3,{className:"h-4 w-4 mr-2"}),"Import"]})]}),a.jsx("div",{className:"max-h-80 overflow-auto border border-gray-200 dark:border-gray-700 custom-thin-scrollbar",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"Time"}),a.jsx("th",{className:"p-1 text-left min-w-[50px]",children:"Order"}),a.jsx("th",{className:"p-1 text-left min-w-[80px]",children:"Symbol"}),a.jsx("th",{className:"p-1 text-left min-w-[50px]",children:"Type"}),a.jsx("th",{className:"p-1 text-left min-w-[40px]",children:"Qty"}),a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"Price"}),a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"P&L"}),a.jsx("th",{className:"p-1 text-left min-w-[40px]",children:"%"}),a.jsx("th",{className:"p-1 text-left min-w-[70px]",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:jt.map((J,ye)=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"p-1",children:J.time}),a.jsx("td",{className:"p-1",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.order==="BUY"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:J.order})}),a.jsx("td",{className:"p-1",children:J.symbol}),a.jsx("td",{className:"p-1",children:J.type}),a.jsx("td",{className:"p-1",children:J.qty}),a.jsxs("td",{className:"p-1",children:["",J.price]}),a.jsx("td",{className:`p-2 ${(J.pnl||"").includes("+")?"text-green-600":(J.pnl||"").includes("-")?"text-red-600":""}`,children:J.pnl}),a.jsx("td",{className:`p-2 font-medium ${(()=>{if(!J.pnl||J.pnl==="-")return"";const Ce=(J.pnl||"").replace(/[,+\s]/g,""),De=parseFloat(Ce)||0,Ae=J.price*J.qty||1,Ue=De/Ae*100;return Ue>0?"text-green-600":Ue<0?"text-red-600":"text-gray-500"})()}`,children:(()=>{if(!J.pnl||J.pnl==="-")return"-";const Ce=(J.pnl||"").replace(/[,+\s]/g,""),De=parseFloat(Ce)||0,Ae=J.price*J.qty||1,Ue=De/Ae*100;return`${Ue>=0?"+":""}${Ue.toFixed(2)}%`})()}),a.jsx("td",{className:"p-1",children:J.duration})]},ye))})]})})]})})]}),a.jsx(xt,{className:"hidden md:block bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 h-[420px]",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"TRADE HISTORY SUMMARY"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>dt(!0),className:"h-8 px-3","data-testid":"button-place-order",children:[a.jsx(xl,{className:"h-4 w-4 mr-2"}),"Order"]}),a.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ve(!0),className:"h-8 px-3","data-testid":"button-import-pnl",children:[a.jsx(P3,{className:"h-4 w-4 mr-2"}),"Import"]}),a.jsxs("div",{className:"h-8 px-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-md flex items-center justify-center text-xs font-medium text-indigo-700 dark:text-indigo-300 min-w-[80px]",children:[a.jsx(HZ,{className:"h-4 w-4 mr-2"}),sf(jt)]})]})]}),a.jsx("div",{className:"max-h-80 overflow-auto border border-gray-200 dark:border-gray-700 custom-thin-scrollbar",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"Time"}),a.jsx("th",{className:"p-1 text-left min-w-[50px]",children:"Order"}),a.jsx("th",{className:"p-1 text-left min-w-[80px]",children:"Symbol"}),a.jsx("th",{className:"p-1 text-left min-w-[50px]",children:"Type"}),a.jsx("th",{className:"p-1 text-left min-w-[40px]",children:"Qty"}),a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"Price"}),a.jsx("th",{className:"p-1 text-left min-w-[60px]",children:"P&L"}),a.jsx("th",{className:"p-1 text-left min-w-[40px]",children:"%"}),a.jsx("th",{className:"p-1 text-left min-w-[70px]",children:"Duration"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:jt.map((J,ye)=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"p-1",children:J.time}),a.jsx("td",{className:"p-1",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.order==="BUY"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:J.order})}),a.jsx("td",{className:"p-1",children:J.symbol}),a.jsx("td",{className:"p-1",children:J.type}),a.jsx("td",{className:"p-1",children:J.qty}),a.jsxs("td",{className:"p-1",children:["",J.price]}),a.jsx("td",{className:`p-2 ${(J.pnl||"").includes("+")?"text-green-600":(J.pnl||"").includes("-")?"text-red-600":""}`,children:J.pnl}),a.jsx("td",{className:`p-2 font-medium ${(()=>{if(!J.pnl||J.pnl==="-")return"";const Ce=(J.pnl||"").replace(/[,+\s]/g,""),De=parseFloat(Ce)||0,Ae=J.price*J.qty||1,Ue=De/Ae*100;return Ue>0?"text-green-600":Ue<0?"text-red-600":"text-gray-500"})()}`,children:(()=>{if(!J.pnl||J.pnl==="-")return"-";const Ce=(J.pnl||"").replace(/[,+\s]/g,""),De=parseFloat(Ce)||0,Ae=J.price*J.qty||1,Ue=De/Ae*100;return`${Ue>=0?"+":""}${Ue.toFixed(2)}%`})()}),a.jsx("td",{className:"p-1",children:J.duration})]},ye))})]})})]})}),a.jsx(xt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 h-[420px]",children:a.jsxs(bt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oo,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"trade book"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Demo"}),a.jsx(PG,{checked:Vr,onCheckedChange:J=>{pn(J),localStorage.setItem("tradingJournalDemoMode",String(J)),J||(_n({}),localStorage.removeItem("tradingDataByDate"))},"data-testid":"switch-demo-mode"})]}),a.jsx(H,{variant:"outline",size:"sm",onClick:lf,className:"h-8 px-3 bg-black dark:bg-black border-black dark:border-black hover:bg-gray-800 dark:hover:bg-gray-800 text-white dark:text-white","data-testid":"button-save-trade-book",children:"Save"})]})]}),a.jsx("div",{className:"mb-1",children:a.jsxs("div",{className:"space-y-2 pt-4 pb-1",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[a.jsx("div",{className:"h-5 mb-2"})," ",["S","M","T","W","TH","F","S"].map((J,ye)=>a.jsx("div",{className:"w-3 h-3 flex items-center justify-center text-xs font-medium text-gray-500 dark:text-gray-400",children:J},ye))]}),a.jsx("div",{className:"overflow-x-auto overflow-y-hidden custom-thin-scrollbar flex-1",children:a.jsx("div",{className:"min-w-max",children:a.jsx("div",{className:"flex gap-4",children:cs().map((J,ye)=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"h-5 mb-2 flex items-center justify-center",children:a.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:J.name})}),a.jsx("div",{className:"flex gap-1",children:J.weeks.map((Ce,De)=>a.jsx("div",{className:"flex flex-col gap-1",children:Ce.map((Be,Ae)=>{var Xn;if(Be===null)return a.jsx("div",{className:"w-3 h-3"},Ae);const Ue=new Date().getFullYear(),vt=Be.getFullYear()===Ue;Be.getFullYear();const it=Dl&&na&&ja&&Be>=na&&Be<=ja,ot=Dl&&na&&Be.toDateString()===na.toDateString(),mt=Dl&&ja&&Be.toDateString()===ja.toDateString();it&&Kh(Be);const xr=Be.toDateString()===new Date().toDateString(),dr=Be.toISOString().split("T")[0],ft=Nr[dr],gn=((Xn=ft==null?void 0:ft.performanceMetrics)==null?void 0:Xn.netPnL)||0;let rr="bg-gray-100 dark:bg-gray-700",Er=!1;return ft&&(ft.tradeHistory&&ft.tradeHistory.length>0||ft.performanceMetrics&&ft.performanceMetrics.totalTrades>0||ft.tradingNotes||ft.notesContent||ft.content||ft.tradeNotes||ft.tradeResult||ft.mood||ft.images&&ft.images.length>0)&&(!na||!ja||it)&&(Er=!0,gn!==0?rr=Ll(gn):ft.tradeResult==="profit"?rr="bg-green-300 dark:bg-green-600":ft.tradeResult==="loss"?rr="bg-red-300 dark:bg-red-600":rr="bg-green-200 dark:bg-green-700"),ot||mt?rr="bg-blue-600 dark:bg-blue-500 ring-1 ring-blue-400 dark:ring-blue-300":xr&&vt&&!Er&&(rr="bg-teal-300 dark:bg-teal-600"),a.jsx("div",{className:`
                                                    w-3 h-3 rounded-sm cursor-pointer transition-all duration-200 relative
                                                    ${rr}
                                                    hover:ring-1 hover:ring-gray-300 dark:hover:ring-gray-600
                                                    flex items-center justify-center
                                                  `,onClick:()=>Xo(Be),title:`${Be.toDateString()}${Er?` - P&L: ${gn.toLocaleString("en-IN")}`:""}`,"data-testid":`calendar-day-${Be.getDate()}-${Be.getMonth()}`,children:Er&&a.jsx("div",{className:"absolute inset-0 bg-white dark:bg-black opacity-10 rounded-sm"})},Ae)})},De))})]},ye))})})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Loss"}),a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-2 h-2 bg-red-800 dark:bg-red-700 rounded-sm",title:"High Loss (5000+)"}),a.jsx("div",{className:"w-2 h-2 bg-red-600 dark:bg-red-500 rounded-sm",title:"Medium Loss (1500+)"}),a.jsx("div",{className:"w-2 h-2 bg-red-300 dark:bg-red-300 rounded-sm",title:"Small Loss"})]})]}),a.jsx("div",{className:"w-2 h-2 bg-gray-100 dark:bg-gray-700 rounded-sm",title:"No trades"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-2 h-2 bg-green-300 dark:bg-green-300 rounded-sm",title:"Small Profit"}),a.jsx("div",{className:"w-2 h-2 bg-green-600 dark:bg-green-500 rounded-sm",title:"Medium Profit (1500+)"}),a.jsx("div",{className:"w-2 h-2 bg-green-800 dark:bg-green-700 rounded-sm",title:"High Profit (5000+)"})]}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Profit"})]})]}),na&&ja&&a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsxs("h6",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:["Selected Date Range: ",Ki]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:Pd,className:"p-1 h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","data-testid":"button-reset-date-range",children:a.jsx(La,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[na.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})," ","-"," ",ja.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),a.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"Showing trade data within selected range"})]})})]})}),ws&&!(na&&ja)&&a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Ks,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"ghost",size:"sm",onClick:Pg,className:"p-1 h-6 w-6 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white","data-testid":"button-prev-year",children:a.jsx(uh,{className:"w-4 h-4"})}),a.jsx(Gs,{asChild:!0,children:a.jsx(H,{variant:"ghost",className:"p-0 h-auto hover:bg-transparent","data-testid":"button-date-range-picker",children:a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 dark:text-white flex items-center gap-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",children:[a.jsx(oo,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),na&&ja?`${na.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${ja.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:ws.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).replace(/\d{4}/,Ki.toString())]})})}),a.jsx(H,{variant:"ghost",size:"sm",onClick:af,className:"p-1 h-6 w-6 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white","data-testid":"button-next-year",children:a.jsx(ku,{className:"w-4 h-4"})})]}),a.jsx(Es,{className:"w-auto p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",align:"start",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Date Range"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:na?na.toISOString().split("T")[0]:"",onChange:J=>Td(J.target.value?new Date(J.target.value):null),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white","data-testid":"input-from-date"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:ja?ja.toISOString().split("T")[0]:"",onChange:J=>Rl(J.target.value?new Date(J.target.value):null),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white","data-testid":"input-to-date"})]})]}),na&&ja&&a.jsx(H,{onClick:()=>{console.log(" Fetching calendar data from",na,"to",ja),Nc(!0)},size:"sm",className:"w-full bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1 h-7","data-testid":"button-fetch-calendar-data",children:"Fetch Range Data"})]})})]})})})})]})})]})]}),Qa==="ranking"&&a.jsx("div",{className:"md:hidden mt-6 space-y-6",children:a.jsxs(xt,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-950 dark:to-yellow-950 border-amber-200 dark:border-amber-800",children:[a.jsx(Bi,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-xl flex items-center justify-center",children:a.jsx(TN,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx(Ro,{className:"text-xl",children:"Trader Rankings"}),a.jsx(sc,{children:"Coming soon: Compare your performance with other traders"})]})]})}),a.jsx(bt,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[a.jsx(TN,{className:"h-16 w-16 mx-auto mb-4 opacity-40"}),a.jsx("p",{className:"text-sm",children:"Ranking feature coming soon..."}),a.jsx("p",{className:"text-xs mt-2",children:"Track your position among top traders"})]})})})]})}),a.jsx("div",{className:`mt-8 space-y-6 ${Qa!=="insight"?"hidden md:block":"block"}`,children:(()=>{const ye=(()=>{const Be=Object.values(Nr).filter(rr=>rr&&rr.tradeHistory&&Array.isArray(rr.tradeHistory)&&rr.tradeHistory.length>0);if(Be.length===0)return{tagAnalysis:[],overallStats:{totalTrades:0,winRate:0,totalPnL:0},topPerformers:[],worstPerformers:[],tradingDayAnalysis:[]};const Ae={},Ue=[];Be.forEach((rr,Er)=>{const ds=rr.tradeHistory||[],Yt=rr.tradingTags||[],Xn=rr.performanceMetrics;Xn&&Ue.push({day:Er+1,trades:Xn.totalTrades||ds.length,winRate:parseFloat(Xn.winRate)||0,netPnL:Xn.netPnL||0,tags:Yt}),Yt.forEach(tn=>{Ae[tn]||(Ae[tn]={tag:tn,tradingDays:0,totalTrades:0,wins:0,losses:0,totalPnL:0,winRate:0,avgPnL:0,bestDay:0,worstDay:0});const At=Ae[tn];At.tradingDays++,Xn&&(At.totalTrades+=Xn.totalTrades||0,At.wins+=Xn.winningTrades||0,At.losses+=Xn.losingTrades||0,At.totalPnL+=Xn.netPnL||0,At.bestDay=Math.max(At.bestDay,Xn.netPnL||0),At.worstDay=Math.min(At.worstDay,Xn.netPnL||0))})}),Object.values(Ae).forEach(rr=>{rr.winRate=rr.totalTrades>0?rr.wins/rr.totalTrades*100:0,rr.avgPnL=rr.tradingDays>0?rr.totalPnL/rr.tradingDays:0});const vt=Object.values(Ae).sort((rr,Er)=>Er.totalPnL-rr.totalPnL),it=vt.reduce((rr,Er)=>rr+Er.totalTrades,0),ot=vt.reduce((rr,Er)=>rr+Er.totalPnL,0),mt=vt.reduce((rr,Er)=>rr+Er.wins,0),xr=it>0?mt/it*100:0,dr={totalTrades:it,winRate:xr,totalPnL:ot},ft=vt.slice(0,5),gn=vt.slice(-3).reverse();return{tagAnalysis:vt,overallStats:dr,topPerformers:ft,worstPerformers:gn,tradingDayAnalysis:Ue}})(),Ce=ye.overallStats.totalPnL||0,De=Ce>=0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[a.jsxs("div",{className:`md:col-span-3 rounded-3xl p-6 md:p-8 text-white shadow-2xl ${De?"bg-gradient-to-br from-emerald-500 to-teal-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(xl,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm opacity-80",children:"Total P&L"}),a.jsxs("div",{className:"text-2xl md:text-3xl font-bold",children:[Ce>=0?"+":"-","",Math.abs(Ce).toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Total Trades"}),a.jsx("span",{className:"font-semibold",children:ye.overallStats.totalTrades})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Success Rate"}),a.jsxs("span",{className:"font-semibold",children:[ye.overallStats.winRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-1000",style:{width:`${Math.min(ye.overallStats.winRate,100)}%`}})})]})]}),a.jsxs("div",{className:"md:col-span-6 bg-white dark:bg-slate-800 rounded-3xl p-4 md:p-8 shadow-lg border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Performance Trend"}),(()=>{const Ue=Object.keys(Nr).reduce((vt,it)=>{var xr;const ot=Nr[it],mt=((xr=ot==null?void 0:ot.performanceMetrics)==null?void 0:xr.netPnL)||0;return vt+mt},0)>0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 ${Ue?"bg-emerald-400":"bg-red-400"} rounded-full`}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:Ue?"Profitable":"Not Profitable"})]})})()]}),ye.tradingDayAnalysis.length>0?a.jsx("div",{className:"h-64 w-full",children:(()=>{const Ae=Object.keys(Nr).sort().map((Ue,vt)=>{var dr,ft;const it=new Date(Ue),ot=ye.tradingDayAnalysis.find(gn=>gn.date===Ue)||Nr[Ue],mt=((dr=ot==null?void 0:ot.performanceMetrics)==null?void 0:dr.netPnL)||(ot==null?void 0:ot.netPnL)||0,xr=((ft=ot==null?void 0:ot.performanceMetrics)==null?void 0:ft.totalTrades)||0;return{day:`${it.getDate()}/${it.getMonth()+1}`,value:mt,pnl:mt,date:Ue,trades:xr,formattedDate:it.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}});return Ae.reduce((Ue,vt)=>vt.value>Ue.value?vt:Ue,Ae[0]||{value:0,day:"",pnl:0}),a.jsx("div",{className:"relative h-full",children:a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(bb,{data:Ae,margin:{top:40,right:30,left:0,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"areaGradientPositive",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"rgb(107, 114, 128)",stopOpacity:.6}),a.jsx("stop",{offset:"100%",stopColor:"rgb(107, 114, 128)",stopOpacity:.1})]})}),a.jsx(yi,{dataKey:"day",axisLine:!1,tickLine:!1,tick:!1,className:"text-slate-500 dark:text-slate-400"}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},tickFormatter:Ue=>`${Ue>=0?"":"-"}${(Math.abs(Ue)/1e3).toFixed(0)}K`,domain:["dataMin - 1000","dataMax + 1000"],className:"text-slate-500 dark:text-slate-400"}),a.jsx(Ha,{contentStyle:{background:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",color:"var(--foreground)",fontSize:"12px",padding:"8px 12px"},formatter:(Ue,vt,it)=>[`${Ue>=0?"":"-"}${Math.abs(Ue).toLocaleString()}`,"Daily P&L"],labelFormatter:(Ue,vt)=>{if(vt&&vt[0]&&vt[0].payload){const it=vt[0].payload;return`${it.formattedDate}  ${it.trades} trades`}return Ue}}),a.jsx(kl,{type:"monotone",dataKey:"value",stroke:"#000000",strokeWidth:3,fill:"url(#areaGradientPositive)",dot:!1,activeDot:{r:6,fill:"#000000",stroke:"white",strokeWidth:2}})]})})})})()}):a.jsx("div",{className:"flex items-center justify-center h-48 text-slate-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ya,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No trend data available"})]})})]}),a.jsxs("div",{className:"md:col-span-3 bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:a.jsx(kN,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Top Tags"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Strategy Performance"})]})]}),ye.topPerformers.length>0?a.jsx("div",{className:"space-y-4",children:ye.topPerformers.slice(0,4).map((Be,Ae)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Be.tag}),a.jsxs("span",{className:`text-sm font-semibold ${Be.totalPnL>=0?"text-emerald-600":"text-red-500"}`,children:[Be.totalPnL>=0?"+":"","",Math.abs(Be.totalPnL).toLocaleString()]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-100 dark:bg-slate-700 rounded-full",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${Be.totalPnL>=0?"bg-gradient-to-r from-emerald-400 to-green-500":"bg-gradient-to-r from-red-400 to-rose-500"}`,style:{width:`${Math.min(Be.winRate,100)}%`}})}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[Be.winRate.toFixed(1),"% success rate"]})]},Be.tag))}):a.jsx("div",{className:"flex items-center justify-center h-32 text-slate-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kN,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No tag data"})]})})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(()=>{const Be=Object.values(Nr).filter(mt=>mt&&mt.performanceMetrics);if(Be.length===0)return null;const Ae=Be.length,Ue=Be.filter(mt=>mt.performanceMetrics.netPnL>0).length,vt=Be.reduce((mt,xr)=>mt+xr.performanceMetrics.netPnL,0)/Ae,it=Math.max(...Be.map(mt=>mt.performanceMetrics.netPnL));return[{label:"Trading Days",value:Ae,icon:oo,color:"from-blue-500 to-indigo-600",textColor:"text-blue-600"},{label:"Best Day",value:`${it.toLocaleString()}`,icon:oa,color:"from-emerald-500 to-green-600",textColor:"text-emerald-600"},{label:"Profitable Days",value:Ue,icon:xl,color:"from-violet-500 to-purple-600",textColor:"text-violet-600"},{label:"Avg Daily P&L",value:`${Math.abs(vt).toLocaleString()}`,icon:ya,color:vt>=0?"from-emerald-500 to-green-600":"from-red-500 to-rose-600",textColor:vt>=0?"text-emerald-600":"text-red-600"}].map(mt=>a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-3 md:p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300",children:a.jsxs("div",{className:"flex md:flex-col items-center md:items-start gap-3 md:gap-0",children:[a.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br ${mt.color} rounded-xl flex items-center justify-center md:mb-4 shadow-lg flex-shrink-0`,children:a.jsx(mt.icon,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),a.jsxs("div",{className:"flex-1 md:space-y-1",children:[a.jsx("div",{className:`text-xl md:text-2xl font-bold ${mt.textColor}`,children:mt.value}),a.jsx("div",{className:"text-xs md:text-sm text-slate-600 dark:text-slate-400",children:mt.label})]})]})},mt.label))})()}),a.jsxs("div",{className:"col-span-12 bg-gradient-to-br from-red-500 to-rose-600 rounded-3xl p-8 text-white shadow-2xl mt-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(iu,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:"Loss Making Analysis"}),a.jsx("p",{className:"opacity-80",children:"Identify and fix problematic patterns"})]})]}),(()=>{const Be=Object.values(Nr).filter(it=>it&&it.tradingTags&&Array.isArray(it.tradingTags)&&it.performanceMetrics);if(Be.length===0)return a.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(CE,{className:"w-8 h-8"})}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No Data Available"}),a.jsx("p",{className:"opacity-80",children:"Start trading and tagging to identify loss patterns!"})]});const Ae={},Ue={emotionalTradingDays:0,impulsiveTrades:0,totalLossingDays:0};Be.forEach(it=>{const ot=it.tradingTags,mt=it.performanceMetrics.netPnL,xr=it.performanceMetrics.totalTrades;if(mt<0){Ue.totalLossingDays++;const dr=["fomo","fear","greedy","revenge","impatient"];ot.some(ft=>dr.includes(ft.toLowerCase()))&&Ue.emotionalTradingDays++,xr>5&&mt<0&&(Ue.impulsiveTrades+=xr)}ot.forEach(dr=>{Ae[dr]||(Ae[dr]={tag:dr,totalPnL:0,lossDays:0,totalDays:0,avgLoss:0,lossFrequency:0});const ft=Ae[dr];ft.totalPnL+=mt,ft.totalDays++,mt<0&&ft.lossDays++})}),Object.values(Ae).forEach(it=>{it.lossFrequency=it.lossDays/it.totalDays*100,it.avgLoss=it.totalPnL/it.totalDays});const vt=Object.values(Ae).filter(it=>it.totalPnL<0).sort((it,ot)=>it.totalPnL-ot.totalPnL).slice(0,4);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:Ue.totalLossingDays}),a.jsx("div",{className:"text-sm opacity-80",children:"Losing Days"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:Ue.emotionalTradingDays}),a.jsx("div",{className:"text-sm opacity-80",children:"Emotional Trading Days"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:Ue.impulsiveTrades}),a.jsx("div",{className:"text-sm opacity-80",children:"Impulsive Trades"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[Be.length>0?(Ue.totalLossingDays/Be.length*100).toFixed(0):0,"%"]}),a.jsx("div",{className:"text-sm opacity-80",children:"Loss Rate"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:" Most Problematic Tags"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:vt.length>0?vt.map((it,ot)=>a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx(CE,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold text-lg",children:it.tag.toUpperCase()}),a.jsxs("div",{className:"text-sm opacity-90 mb-2",children:["Avg Loss: ",Math.abs(it.avgLoss).toFixed(0)," "," ",it.lossFrequency.toFixed(0),"% loss rate"]}),a.jsxs("div",{className:"text-xs bg-red-500/30 rounded-lg p-2",children:["Total Loss: ",Math.abs(it.totalPnL).toLocaleString("en-IN")," ","across ",it.totalDays," days"]})]})]})},ot)):a.jsxs("div",{className:"col-span-2 text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("p",{className:"font-medium",children:"No consistent loss-making patterns detected!"}),a.jsx("p",{className:"text-sm opacity-80",children:"Your trading discipline is on track."})]})})]})]})})()]}),a.jsxs("div",{className:"col-span-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl p-8 text-white shadow-2xl mt-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(fb,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:"Discipline & Risk Management"}),a.jsx("p",{className:"opacity-80",children:"Build consistent, profitable trading habits"})]})]}),(()=>{const Be=Object.values(Nr).filter(Er=>Er&&Er.tradingTags&&Array.isArray(Er.tradingTags)&&Er.performanceMetrics);if(Be.length===0)return a.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("p",{className:"font-medium",children:"Ready for Discipline Analysis"}),a.jsx("p",{className:"opacity-80 text-sm",children:"Start building your trading history!"})]});const Ae={plannedTrades:0,emotionalTrades:0,consistentDays:0,totalDays:Be.length,avgTradesPerDay:0,winStreaks:0,lossStreaks:0},Ue=[];let vt=0,it=0,ot=0,mt=0,xr=0;Be.forEach((Er,ds)=>{const Yt=Er.tradingTags,Xn=Er.performanceMetrics.netPnL,tn=Er.performanceMetrics.totalTrades;vt+=tn,(Yt.includes("planned")||Yt.includes("setup")||Yt.includes("strategy"))&&Ae.plannedTrades++;const At=["fomo","fear","greedy","revenge","impatient","unplanned"];Yt.some(lt=>At.includes(lt.toLowerCase()))&&Ae.emotionalTrades++,Xn>0?(it++,ot=0,mt=Math.max(mt,it)):Xn<0&&(ot++,it=0,xr=Math.max(xr,ot)),tn<=5&&Ae.consistentDays++}),Ae.avgTradesPerDay=vt/Ae.totalDays,Ae.winStreaks=mt,Ae.lossStreaks=xr;const dr=Ae.plannedTrades/Ae.totalDays*100,ft=Ae.emotionalTrades/Ae.totalDays*100,gn=Ae.consistentDays/Ae.totalDays*100;dr>70?Ue.push({type:"success",icon:"",title:"Excellent Planning",message:`${dr.toFixed(0)}% of your trades are well-planned. Keep this discipline!`}):dr<30&&Ue.push({type:"warning",icon:"",title:"Planning Needed",message:`Only ${dr.toFixed(0)}% planned trades. Create setups before trading.`}),ft>40&&Ue.push({type:"danger",icon:"",title:"Emotional Trading Alert",message:`${ft.toFixed(0)}% emotional trades detected. Practice mindfulness.`}),Ae.avgTradesPerDay>8&&Ue.push({type:"warning",icon:"",title:"Overtrading Risk",message:`Avg ${Ae.avgTradesPerDay.toFixed(1)} trades/day. Consider quality over quantity.`}),xr>3&&Ue.push({type:"danger",icon:"",title:"Loss Streak Warning",message:`Max loss streak: ${xr} days. Implement strict stop-loss rules.`}),gn>80&&Ue.push({type:"success",icon:"",title:"Great Consistency",message:`${gn.toFixed(0)}% consistent trading days. Excellent discipline!`});const rr=[{icon:"",title:"Pre-Market Planning",tip:"Plan 3 trades max before market open with clear entry/exit rules"},{icon:"",title:"Risk Management",tip:"Never risk more than 2% of capital per trade"},{icon:"",title:"Trading Hours",tip:"Trade only during high-volume hours (9:30-11:30 AM, 2:00-3:15 PM)"},{icon:"",title:"Position Sizing",tip:"Use consistent position sizes based on account balance"}];return a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-4 md:mb-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 text-center",children:[a.jsxs("div",{className:"text-lg md:text-2xl font-bold",children:[dr.toFixed(0),"%"]}),a.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"Planned Trades"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 text-center",children:[a.jsx("div",{className:"text-lg md:text-2xl font-bold",children:Ae.avgTradesPerDay.toFixed(1)}),a.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"Avg Trades/Day"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 text-center",children:[a.jsx("div",{className:"text-lg md:text-2xl font-bold",children:mt}),a.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"Max Win Streak"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 text-center",children:[a.jsxs("div",{className:"text-lg md:text-2xl font-bold",children:[gn.toFixed(0),"%"]}),a.jsx("div",{className:"text-xs md:text-sm opacity-80",children:"Consistent Days"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:" Performance Insights"}),a.jsx("div",{className:"space-y-3",children:Ue.length>0?Ue.slice(0,4).map((Er,ds)=>a.jsx("div",{className:`p-4 rounded-xl border ${Er.type==="success"?"bg-emerald-500/20 border-emerald-400/30":Er.type==="warning"?"bg-amber-500/20 border-amber-400/30":"bg-red-500/20 border-red-400/30"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-xl",children:Er.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:Er.title}),a.jsx("div",{className:"text-sm opacity-90",children:Er.message})]})]})},ds)):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"opacity-80",children:"Insights will appear as you build trading history"})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:" Professional Tips"}),a.jsx("div",{className:"space-y-3",children:rr.map((Er,ds)=>a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-xl",children:Er.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:Er.title}),a.jsx("div",{className:"text-xs opacity-90 mt-1",children:Er.tip})]})]})},ds))})]})]})]})})()]})]})})()})]}),r==="insights"&&a.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 uppercase tracking-wide",children:"Tools"}),a.jsx("span",{className:"text-sm text-blue-400 cursor-pointer hover:underline",children:"View all"})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center transform rotate-12",children:a.jsx(ya,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Screeners"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Find anything within our universe"})]}),a.jsx("div",{className:"text-blue-400 text-xs",children:""})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center transform rotate-12",children:a.jsx(gl,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Supercharts"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Our terminal to chart everything"})]}),a.jsx("div",{className:"text-blue-400 text-xs",children:""})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center transform rotate-12",children:a.jsx(oo,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Calendars"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Browse all upcoming financial events"})]}),a.jsx("div",{className:"text-blue-400 text-xs",children:""})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center transform rotate-12",children:a.jsx($v,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"News Flow"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Real-time financial news coverage right now"})]}),a.jsx("div",{className:"text-blue-400 text-xs",children:""})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center transform rotate-12",children:a.jsx(oa,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Options"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Build your best options strategy"})]}),a.jsx("div",{className:"text-blue-400 text-xs",children:""})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Crypto Coin Screener"}),a.jsx("span",{className:"text-sm text-blue-400 cursor-pointer hover:underline",children:"View"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Company "}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"TSLA"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"$367"}),a.jsx("div",{className:"text-xs text-red-400",children:"$2943"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"AMD"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"$660"}),a.jsx("div",{className:"text-xs text-green-400",children:"$3605"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"SKYLINE"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"$357"}),a.jsx("div",{className:"text-xs text-green-400",children:"$2943"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"NVDA"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"$357"}),a.jsx("div",{className:"text-xs text-green-400",children:"$2943"})]})]}),a.jsx("div",{className:"flex items-center justify-center pt-2",children:a.jsxs("button",{className:"text-xs text-blue-400 flex items-center gap-1",children:[a.jsx(C3,{className:"w-3 h-3"}),"Refresh"]})})]})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Earning Calculator"}),a.jsx("span",{className:"text-sm text-blue-400 cursor-pointer hover:underline",children:"View"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:"Invested"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Current"}),a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-400",children:"NVDA"})]}),a.jsxs("div",{className:"bg-gray-900 p-3 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-lg font-bold text-green-400",children:"$21.42"}),a.jsx("span",{className:"text-xs text-green-400",children:"+5%"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"Today's Low"}),a.jsx("span",{className:"text-gray-400",children:"Today's High"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"1403.24"}),a.jsx("div",{className:"text-sm font-medium text-white",children:"1454.35"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-gray-400",children:"52W Low"}),a.jsx("span",{className:"text-gray-400",children:"52W High"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-white",children:"1223.24"}),a.jsx("div",{className:"text-sm font-medium text-white",children:"1754.35"})]})]})]}),a.jsx("div",{className:"flex items-center justify-center pt-2",children:a.jsxs("button",{className:"text-xs text-blue-400 flex items-center gap-1",children:[a.jsx(C3,{className:"w-3 h-3"}),"Refresh"]})})]})]})}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Tutorials"}),a.jsx("span",{className:"text-sm text-blue-400 cursor-pointer hover:underline",children:"View all"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:" Ethan R & 3 others"}),a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"The AI Revolution in Fintech: Smarter, Faster, Riskier?"}),a.jsx("div",{className:"text-xs text-blue-400 mb-3",children:"#AI #MachineLearning #FinancialTech"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded-full border border-gray-800 flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold text-white",children:"E"})}),a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full border border-gray-800"}),a.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full border border-gray-800"})]}),a.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-400",children:""})}),a.jsx("div",{className:"flex-1 flex items-center gap-1",children:Array.from({length:8},(J,ye)=>a.jsx("div",{className:`w-1 ${ye<5?"h-3 bg-blue-500":"h-2 bg-gray-600"} rounded-sm`},ye))}),a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"w-4 h-4 text-white"})})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:" Jordan M & 3 others"}),a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"The Dark Side of Fintech: Unmasking Hidden Risks"}),a.jsx("div",{className:"text-xs text-blue-400 mb-3",children:"#Fintech #DigitalBanking #CryptoRegulations"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full border border-gray-800 flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold text-white",children:"J"})}),a.jsx("div",{className:"w-5 h-5 bg-purple-500 rounded-full border border-gray-800"}),a.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded-full border border-gray-800"})]}),a.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-400",children:""})}),a.jsx("div",{className:"flex-1 flex items-center gap-1",children:Array.from({length:8},(J,ye)=>a.jsx("div",{className:`w-1 ${ye<6?"h-4 bg-purple-500":"h-2 bg-gray-600"} rounded-sm`},ye))}),a.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"w-4 h-4 text-white"})})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:" Sophia L & 3 others"}),a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Decoding DeFi: The Future of Decentralized Finance"}),a.jsx("div",{className:"text-xs text-blue-400 mb-3",children:"#DeFi #Crypto #Blockchain"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-1",children:[a.jsx("div",{className:"w-5 h-5 bg-pink-500 rounded-full border border-gray-800 flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold text-white",children:"S"})}),a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full border border-gray-800"}),a.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full border border-gray-800"})]}),a.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-400",children:""})}),a.jsx("div",{className:"flex-1 flex items-center gap-1",children:Array.from({length:8},(J,ye)=>a.jsx("div",{className:`w-1 ${ye<7?"h-3 bg-green-500":"h-2 bg-gray-600"} rounded-sm`},ye))}),a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"w-4 h-4 text-white"})})]})]})]})]})})]}),a.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:"Peer Comparison"}),a.jsx("span",{className:"text-sm text-blue-400 cursor-pointer hover:underline",children:"View"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs text-gray-400",children:[a.jsx("span",{children:"Company"}),a.jsx("span",{children:"52 Week "}),a.jsx("span",{children:"Market Price"}),a.jsx("span",{children:"P/E Ratio"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center text-xs text-white",children:""}),a.jsx("div",{className:"w-4 h-4 bg-blue-700 rounded-full flex items-center justify-center text-xs text-white ml-1",children:""})]}),a.jsx("span",{className:"text-sm text-white",children:"EUR to USD"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"w-3/4 bg-gradient-to-r from-red-500 to-green-500 h-1 rounded-full"})}),a.jsx("span",{className:"text-sm text-white",children:"892.56 (-0.33%)"}),a.jsx("span",{className:"text-sm text-white",children:"12.56"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full flex items-center justify-center text-xs text-white",children:""}),a.jsx("div",{className:"w-4 h-4 bg-blue-700 rounded-full flex items-center justify-center text-xs text-white ml-1",children:""})]}),a.jsx("span",{className:"text-sm text-white",children:"JPY to USD"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"w-2/3 bg-gradient-to-r from-red-500 to-green-500 h-1 rounded-full"})}),a.jsx("span",{className:"text-sm text-white",children:"892.56 (-0.33%)"}),a.jsx("span",{className:"text-sm text-white",children:"12.56"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-800 rounded-full flex items-center justify-center text-xs text-white",children:""}),a.jsx("div",{className:"w-4 h-4 bg-blue-700 rounded-full flex items-center justify-center text-xs text-white ml-1",children:""})]}),a.jsx("span",{className:"text-sm text-white",children:"GBP to USD"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"w-1/2 bg-gradient-to-r from-red-500 to-green-500 h-1 rounded-full"})}),a.jsx("span",{className:"text-sm text-white",children:"892.56 (-0.33%)"}),a.jsx("span",{className:"text-sm text-white",children:"12.56"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-red-700 rounded-full flex items-center justify-center text-xs text-white",children:""}),a.jsx("div",{className:"w-4 h-4 bg-blue-700 rounded-full flex items-center justify-center text-xs text-white ml-1",children:""})]}),a.jsx("span",{className:"text-sm text-white",children:"CHF to USD"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"w-4/5 bg-gradient-to-r from-red-500 to-green-500 h-1 rounded-full"})}),a.jsx("span",{className:"text-sm text-white",children:"892.56 (-0.33%)"}),a.jsx("span",{className:"text-sm text-white",children:"12.56"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full flex items-center justify-center text-xs text-white",children:""}),a.jsx("div",{className:"w-4 h-4 bg-blue-700 rounded-full flex items-center justify-center text-xs text-white ml-1",children:""})]}),a.jsx("span",{className:"text-sm text-white",children:"CNY to USD"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:a.jsx("div",{className:"w-full bg-gradient-to-r from-red-500 to-green-500 h-1 rounded-full"})}),a.jsx("span",{className:"text-sm text-white",children:"892.56 (-0.33%)"}),a.jsx("span",{className:"text-sm text-white",children:"12.56"})]})]})]})]})})]})]})}),a.jsx(ha,{open:Jt,onOpenChange:dt,children:a.jsxs(ca,{className:"max-w-3xl max-h-[90vh] overflow-y-auto custom-thin-scrollbar",children:[a.jsx(ba,{children:a.jsx(wa,{children:"Imported Trade History"})}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg custom-thin-scrollbar",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Time"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Order"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Symbol"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Type"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Qty"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Price"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"P&L"})]})}),a.jsx("tbody",{children:jt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-gray-500",children:"No trade history imported"})}):jt.map((J,ye)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-2 py-2 font-medium",children:J.time}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${J.order==="BUY"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:J.order})}),a.jsx("td",{className:"px-2 py-2 font-medium",children:J.symbol}),a.jsx("td",{className:"px-2 py-2",children:J.type}),a.jsx("td",{className:"px-2 py-2",children:J.qty}),a.jsxs("td",{className:"px-2 py-2",children:["",J.price]}),a.jsx("td",{className:"px-2 py-2 font-medium",children:a.jsx("span",{className:J.pnl==="-"?"text-gray-500":J.pnl&&parseFloat((J.pnl||"").replace(/[,]/g,""))>0?"text-green-600":"text-red-600",children:J.pnl})}),a.jsx("td",{className:"px-2 py-2 text-gray-500",children:J.duration})]},ye))})]})})})]})}),a.jsx(bCe,{open:Y,onOpenChange:Pt,onSuccess:Fl}),a.jsx(ha,{open:Ci,onOpenChange:ve,children:a.jsxs(ca,{className:"max-w-2xl",children:[a.jsx(ba,{children:a.jsx(wa,{children:"Import P&L Data"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Upload CSV File"}),a.jsx(qr,{id:"csv-upload",type:"file",accept:".csv",onChange:si,className:"mt-2","data-testid":"input-csv-upload"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected columns: date,symbol,action,qty,entry,exit,pnl,duration"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),a.jsxs("div",{children:[a.jsx(Hr,{className:"text-sm font-medium",children:"Fetch from Broker"}),a.jsxs(H,{variant:"outline",className:"w-full mt-2 justify-start",onClick:()=>{ve(!1),Pt(!0)},"data-testid":"button-broker-import",children:[a.jsx(GF,{className:"mr-2 h-4 w-4"}),"Connect to Kite, Fyers, or Dhan"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Import trades directly from your broker account"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),a.jsxs("div",{children:[a.jsx(Hr,{htmlFor:"paste-data",className:"text-sm font-medium",children:"Paste P&L Values or CSV Data"}),a.jsx(Du,{id:"paste-data",placeholder:`Paste P&L Values or CSV Data

Use this format:
10:51:21 AM   BUY     SENSEX 10th w JUN 82900 PE BFO  NRML    320     477.96
10:51:39 AM  SELL    SENSEX 10th w JUN 82900 PE BFO  NRML    320     551.26`,value:Oe,onChange:J=>ht(J.target.value),className:"mt-2 min-h-32","data-testid":"textarea-paste-data"})]}),at&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-600",children:at})}),Le.length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 max-h-48 overflow-y-auto custom-thin-scrollbar",children:[a.jsxs("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:[" ",Le.length," line(s) could not be parsed:"]}),a.jsx("div",{className:"space-y-2",children:Le.map((J,ye)=>a.jsxs("div",{className:"bg-white rounded p-2 text-xs border border-yellow-100",children:[a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("span",{className:"font-mono text-yellow-700",children:["Line ",J.line,":"]}),a.jsx("span",{className:"text-red-600 font-medium",children:J.reason})]}),a.jsx("div",{className:"mt-1 text-gray-600 font-mono truncate",children:J.content})]},ye))})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(H,{variant:"outline",onClick:()=>{ve(!1),ht(""),ct(""),tr([])},children:"Cancel"}),a.jsx(H,{onClick:cf,children:"Import Data"})]})]})]})}),a.jsx(ha,{open:re,onOpenChange:pe,children:a.jsxs(ca,{className:"max-w-sm",children:[a.jsx(ba,{children:a.jsx(wa,{className:"text-center",children:"Enter Passcode"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"This section is protected. Please enter the passcode to continue."}),a.jsx("div",{className:"flex justify-center",children:a.jsx(qr,{type:"password",placeholder:"Enter 4-digit passcode",value:ue,onChange:J=>Ie(J.target.value),className:"w-40 text-center text-lg tracking-widest",maxLength:4,onKeyDown:J=>{J.key==="Enter"&&Ar()},autoFocus:!0,"data-testid":"input-passcode"})}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx(H,{variant:"outline",onClick:Ln,"data-testid":"button-cancel-passcode",children:"Cancel"}),a.jsx(H,{onClick:Ar,"data-testid":"button-submit-passcode",children:"Submit"})]})]})]})}),a.jsx(ha,{open:Sn,onOpenChange:oe,children:a.jsx(ca,{className:"max-w-md",children:a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center animate-pulse",children:a.jsx(gl,{className:"h-10 w-10 text-white"})}),a.jsx(ba,{className:"space-y-2",children:a.jsx(wa,{className:"text-center text-2xl bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent font-bold",children:"Advanced Trading Master"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"text-lg font-semibold text-foreground",children:"Coming Soon!"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:"We're working on bringing you advanced trading features and analytics."})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(H,{onClick:()=>oe(!1),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700","data-testid":"button-close-trading-master-coming-soon",children:"Got It"})})]})})}),a.jsx(ha,{open:g,onOpenChange:v,children:a.jsxs(ca,{className:"max-w-4xl h-[80vh] p-0",children:[a.jsx(ba,{className:"p-6 pb-2",children:a.jsxs(wa,{className:"flex items-center gap-3",children:[a.jsx(Zs,{className:"h-6 w-6 text-purple-600"}),a.jsx("span",{children:"BATTU AI Finance Assistant"})]})}),a.jsx("div",{className:"flex-1 h-full px-6 pb-6",children:a.jsx(Use,{})})]})}),a.jsx(ha,{open:j,onOpenChange:w,children:a.jsxs(ca,{className:"max-w-5xl h-[85vh] p-0",children:[a.jsx(ba,{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs(wa,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(Zs,{className:"h-5 w-5 text-white"})}),a.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent font-bold",children:"Trading Journal AI Assistant"})]})}),a.jsx("div",{className:"flex-1 h-full overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 h-full",children:[a.jsx("div",{className:"lg:col-span-2 p-6 overflow-y-auto",children:a.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:b!=null&&b.report?a.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:b.report}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Loading journal analysis..."})]})})}),a.jsx("div",{className:"lg:col-span-1 bg-gray-50 dark:bg-gray-800 p-6 border-l border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Performance Trend"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),a.jsx("span",{children:"Not Profitable"})]})]}),a.jsx("div",{className:"flex-1 min-h-[250px]",children:b!=null&&b.performanceData&&b.performanceData.length>0?a.jsx(hl,{width:"100%",height:"100%",children:a.jsxs(bb,{data:b.performanceData,margin:{top:20,right:20,left:20,bottom:20},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"performanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"rgb(107, 114, 128)",stopOpacity:.4}),a.jsx("stop",{offset:"100%",stopColor:"rgb(107, 114, 128)",stopOpacity:.1})]})}),a.jsx(yi,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"}}),a.jsx(Js,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#6B7280"},tickFormatter:J=>`${J}`}),a.jsx(Ha,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"none",borderRadius:"8px",color:"white",fontSize:"12px"},formatter:(J,ye)=>[`${parseFloat(J).toFixed(2)}`,"P&L"],labelFormatter:J=>`Day: ${J}`}),a.jsx(kl,{type:"monotone",dataKey:"value",stroke:"rgb(107, 114, 128)",strokeWidth:2,fill:"url(#performanceGradient)"})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ya,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),a.jsx("p",{className:"text-sm",children:"No performance data available"})]})})})]})})]})})]})}),r==="journal"&&a.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 pb-4 px-6 pointer-events-none",children:a.jsx("div",{className:"max-w-xs mx-auto bg-white/90 dark:bg-gray-900/90 backdrop-blur-md rounded-full shadow-lg border border-gray-200/50 dark:border-gray-700/50 pointer-events-auto",children:a.jsxs("div",{className:"flex items-center justify-around px-1.5 py-1.5",children:[a.jsx("button",{onClick:()=>ni("home"),className:`flex items-center justify-center flex-1 rounded-full px-4 py-2 transition-all duration-200 ${Qa==="home"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,"data-testid":"mobile-tab-home",children:a.jsx(kb,{className:`h-5 w-5 ${Qa==="home"?"fill-current":""}`})}),a.jsx("button",{onClick:()=>ni("insight"),className:`flex items-center justify-center flex-1 rounded-full px-4 py-2 transition-all duration-200 ${Qa==="insight"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,"data-testid":"mobile-tab-insight",children:a.jsx(oa,{className:`h-5 w-5 ${Qa==="insight"?"stroke-[2.5]":""}`})}),a.jsx("button",{onClick:()=>ni("ranking"),className:`flex items-center justify-center flex-1 rounded-full px-4 py-2 transition-all duration-200 ${Qa==="ranking"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,"data-testid":"mobile-tab-ranking",children:a.jsx(TN,{className:`h-5 w-5 ${Qa==="ranking"?"fill-current":""}`})})]})})})]})]})}function wCe(){const[t,e]=x.useState(!0),[r,n]=x.useState(""),[s,i]=x.useState(""),[o,c]=x.useState(""),[u,f]=x.useState(!1),[h,m]=x.useState(!1),{toast:g}=$s(),v=async()=>{m(!0);const w=new rd;try{const _=(await ece(os,w)).user,T=await _.getIdToken();(await fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}})).ok?(localStorage.setItem("currentUserId",_.uid),localStorage.setItem("currentUserEmail",_.email||""),console.log(" Google sign-in successful, redirecting to app..."),window.location.href="/"):g({title:"Authentication Failed",description:"Could not sign in with Google. Please try again.",variant:"destructive"})}catch(b){b.code==="auth/api-key-not-valid"?console.error("Firebase: Invalid API Key. Please check your Firebase configuration."):b.code==="auth/account-exists-with-different-credential"?g({title:"Account Exists",description:"An account with this email already exists. Please use your original sign-in method or try a different Google account.",variant:"destructive"}):(console.error("Google sign-in error:",b),g({title:"Error",description:"An unexpected error occurred during Google sign-in.",variant:"destructive"}))}finally{m(!1)}},j=async()=>{if(!t&&!o){g({title:"Missing Information",description:"Please enter your name to create an account.",variant:"destructive"});return}if(!r||!s){g({title:"Missing Information",description:"Please enter email and password.",variant:"destructive"});return}f(!0);try{let w;t?w=await Ele(os,r,s):w=await Ple(os,r,s);const b=w.user,_=await b.getIdToken(!0);console.log(" Authentication attempt:",{action:t?"login":"register",userId:b.uid,email:b.email}),localStorage.setItem("currentUserId",b.uid),localStorage.setItem("currentUserEmail",b.email||"");try{const T=await fetch(t?"/api/auth/login":"/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({name:t?void 0:o,email:r}),signal:AbortSignal.timeout(8e3)});if(!T.ok){const E=await T.json();console.warn(" Backend sync failed, but Firebase Auth succeeded:",E.message)}}catch(T){console.warn(" Backend unreachable, but Firebase Auth succeeded. Continuing...",T)}console.log(" Authentication successful, redirecting to app..."),window.location.href="/"}catch(w){console.error(" Authentication error:",w),w.code==="auth/api-key-not-valid"?(console.error("Firebase: Invalid API Key. Please check your Firebase configuration."),g({title:"Configuration Error",description:"Firebase API key is invalid. Please contact support.",variant:"destructive"})):g({title:"Authentication Error",description:w.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{f(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center px-6 py-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h1",{className:"text-7xl md:text-8xl font-bold text-white tracking-tight",children:"PERALA"})}),a.jsxs("div",{className:"max-w-xl w-full space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Get Early Access"}),a.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"Type a prompt, get a trading strategy"}),a.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"instantly."}),a.jsx("p",{className:"text-gray-500 text-sm",children:"AI-powered trading insights."})]}),a.jsxs("div",{className:"w-full max-w-md mx-auto space-y-4",children:[a.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800 rounded-lg",children:[a.jsx(H,{variant:"ghost",className:`flex-1 ${t?"bg-gray-700 text-white":"text-gray-400"}`,onClick:()=>e(!0),"data-testid":"button-toggle-login",children:"Login"}),a.jsx(H,{variant:"ghost",className:`flex-1 ${t?"text-gray-400":"bg-gray-700 text-white"}`,onClick:()=>e(!1),"data-testid":"button-toggle-signup",children:"Sign Up"})]}),a.jsxs("div",{className:"space-y-3",children:[!t&&a.jsx(qr,{type:"text",placeholder:"Name",value:o,onChange:w=>c(w.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder-gray-400 h-12 rounded-lg","data-testid":"input-name"}),a.jsx(qr,{type:"email",placeholder:"Email",value:r,onChange:w=>n(w.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder-gray-400 h-12 rounded-lg","data-testid":"input-email"}),a.jsx(qr,{type:"password",placeholder:"Password",value:s,onChange:w=>i(w.target.value),onKeyPress:w=>w.key==="Enter"&&j(),className:"bg-gray-800 border-gray-700 text-white placeholder-gray-400 h-12 rounded-lg","data-testid":"input-password"}),a.jsxs(H,{onClick:j,disabled:u||h,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium h-12 rounded-lg","data-testid":"button-email-auth",children:[u?"Processing...":t?"Login":"Create Account",!u&&a.jsx(PZ,{className:"ml-2 h-4 w-4"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-gray-700"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-black px-2 text-gray-500",children:"Or continue with"})})]}),a.jsx(H,{onClick:v,disabled:u||h,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-medium h-12 rounded-lg transition-colors duration-200 flex items-center justify-center gap-3","data-testid":"button-google-signin",children:h?"Processing...":a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-3 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{children:"AI Social feed "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{children:"AI-Journal tracking"})]})]})]})]})}function NCe(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(xt,{className:"w-full max-w-md mx-4",children:a.jsxs(bt,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(WC,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function jCe(){const[t,e]=x.useState(""),r=[{name:"Research",icon:Cu,color:"bg-gray-700 hover:bg-gray-600 text-gray-200",description:"Search and analyze"},{name:"Claude Sonnet 4",icon:null,color:"bg-blue-600 hover:bg-blue-700 text-white",description:"AI assistance",badge:"1"},{name:"Code",icon:AZ,color:"bg-gray-700 hover:bg-gray-600 text-gray-200",description:"Programming help"},{name:"Write",icon:KC,color:"bg-green-600 hover:bg-green-700 text-white",description:"Content creation"},{name:"Strategize",icon:xl,color:"bg-purple-600 hover:bg-purple-700 text-white",description:"Plan and organize"},{name:"Learn",icon:Gm,color:"bg-orange-600 hover:bg-orange-700 text-white",description:"Educational content"},{name:"From your apps",icon:MZ,color:"bg-pink-600 hover:bg-pink-700 text-white",description:"App integrations"}];return a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4 sm:p-8",children:a.jsxs("div",{className:"max-w-4xl w-full space-y-8 sm:space-y-12",children:[a.jsx("div",{className:"text-center space-y-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[a.jsx(ro,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-400"}),a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-normal text-gray-100",children:"What's new, Esmondrio?"})]})}),a.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[a.jsx(qr,{placeholder:"How can I help you today?",value:t,onChange:n=>e(n.target.value),className:"w-full h-12 sm:h-14 bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-400 pr-12 text-base sm:text-lg rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a.jsx(H,{size:"sm",className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 text-gray-300",children:a.jsx(dw,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-3 max-w-3xl mx-auto",children:r.map((n,s)=>a.jsx(H,{variant:"secondary",className:`${n.color} border-0 h-10 sm:h-11 px-3 sm:px-4 rounded-full font-medium transition-all duration-200 relative text-sm sm:text-base`,children:a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n.icon&&a.jsx(n.icon,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),a.jsx("span",{className:"whitespace-nowrap",children:n.name}),n.badge&&a.jsx(Dr,{variant:"secondary",className:"bg-white text-blue-600 ml-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs font-bold",children:n.badge})]})},s))})]})})}function zm({children:t}){const[e,r]=aF(),{theme:n,toggleTheme:s}=WB(),[i,o]=x.useState(!1),[c,u]=x.useState(""),[f,h]=x.useState(!1),m=fe.useRef({}),g=fe.useRef({}),v=E=>{const k=window.scrollY||document.documentElement.scrollTop;if(m.current[E]=k,E==="/"&&window.getActiveTab){const C=window.getActiveTab();g.current[E]=C,console.log(" Saved tab state:",C,"for path:",E)}},j=E=>{const k=m.current[E],C=g.current[E];console.log(" Restoring for path:",E,"- savedTab:",C,"savedPosition:",k),k!==void 0&&setTimeout(()=>{window.scrollTo(0,k)},50),E==="/"&&C&&window.setActiveTab&&(console.log(" Restoring tab:",C),setTimeout(()=>{var S;(S=window.setActiveTab)==null||S.call(window,C),console.log(" Tab restored to:",C)},150))},w=()=>{c==="1302"?(h(!0),o(!1),u(""),b("/dashboard")):u("")},b=E=>{v(e),(E==="/app"||E==="/trading")&&(delete g.current[E],console.log(" Cleared tab state for main navigation to:",E),window.setActiveTab&&setTimeout(()=>{var k;(k=window.setActiveTab)==null||k.call(window,"trading-home"),console.log(" Force reset to trading-home tab")},50)),E==="/dashboard"&&(delete g.current[E],console.log(" Cleared tab state for dashboard navigation to:",E),window.setActiveTab&&setTimeout(()=>{var k;(k=window.setActiveTab)==null||k.call(window,"dashboard"),console.log(" Force set to dashboard tab")},50)),r(E),j(E)},_=localStorage.getItem("currentUserEmail"),T=[{name:"Home",href:"/app",icon:kb,current:e==="/app"},{name:"Sign In",href:"#",icon:QF,current:!1,isSignIn:!0},..._==="chiranjeevi.perala99@gmail.com"?[{name:"Dashboard",href:"/dashboard",icon:ro,current:e==="/dashboard"}]:[],{name:"Theme",href:"#",icon:n==="dark"?T3:_3,current:!1,isThemeToggle:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-900",children:[a.jsx("div",{className:"hidden md:flex fixed left-0 top-0 w-20 h-full bg-gray-950 border-r border-gray-800 flex-col items-center py-6 space-y-6 z-50",children:T.map(E=>{const k=E.icon;return a.jsx(H,{variant:"ghost",size:"default",className:Nt("w-12 h-12 p-0 rounded-xl transition-all duration-200",E.current?"bg-indigo-600 text-white hover:bg-indigo-700":"text-gray-400 hover:text-white hover:bg-gray-800"),onClick:()=>{E.isThemeToggle?s():E.isSignIn?b("/login"):E.href==="/dashboard"&&!f?o(!0):b(E.href)},title:E.name,children:a.jsx(k,{className:"h-6 w-6"})},E.name)})}),a.jsx("div",{className:"md:ml-20 min-h-screen",children:t}),a.jsx(ha,{open:i,onOpenChange:o,children:a.jsxs(ca,{className:"sm:max-w-md",children:[a.jsx(ba,{children:a.jsx(wa,{children:"Enter Passcode"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(qr,{type:"password",placeholder:"Enter passcode",value:c,onChange:E=>u(E.target.value),onKeyPress:E=>{E.key==="Enter"&&w()},autoFocus:!0}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(H,{variant:"outline",onClick:()=>{o(!1),u("")},children:"Cancel"}),a.jsx(H,{onClick:w,children:"Submit"})]})]})]})})]})}function SCe(){return a.jsxs(HQ,{children:[a.jsx(Vc,{path:"/login",component:wCe}),a.jsx(Vc,{path:"/",children:a.jsx(zm,{children:a.jsx(F0,{})})}),a.jsx(Vc,{path:"/app",children:a.jsx(zm,{children:a.jsx(F0,{})})}),a.jsx(Vc,{path:"/dashboard",children:a.jsx(zm,{children:a.jsx(F0,{})})}),a.jsx(Vc,{path:"/trading",children:a.jsx(zm,{children:a.jsx(F0,{})})}),a.jsx(Vc,{path:"/trading-master",children:a.jsx(zm,{children:a.jsx(F0,{})})}),a.jsx(Vc,{path:"/voice",children:a.jsx(zm,{children:a.jsx(DK,{})})}),a.jsx(Vc,{path:"/home",component:jCe}),a.jsx(Vc,{component:NCe})]})}function kCe(){return x.useEffect(()=>{const t=Mle(os,async e=>{if(e){localStorage.setItem("currentUserId",e.uid),localStorage.setItem("currentUserEmail",e.email||"");try{const r=await e.getIdToken(),n=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${r}`}});if(n.ok){const s=await n.json();s.success&&s.profile&&(s.profile.username&&localStorage.setItem("currentUsername",s.profile.username),s.profile.displayName&&localStorage.setItem("currentDisplayName",s.profile.displayName))}}catch(r){console.error("Error loading user profile:",r)}}else localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserEmail"),localStorage.removeItem("currentUsername"),localStorage.removeItem("currentDisplayName")});return()=>t()},[]),a.jsx(gJ,{client:Wa,children:a.jsx(xre,{children:a.jsxs(pre,{children:[a.jsx(Aee,{}),a.jsx(SCe,{})]})})})}console.log("Current URL:",window.location.href);SQ.createRoot(document.getElementById("root")).render(a.jsx(kCe,{}));
